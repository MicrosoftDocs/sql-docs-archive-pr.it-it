---
title: Distribuzione di un assembly personalizzato | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services
ms.topic: reference
helpviewer_keywords:
- deploying custom assemblies [Reporting Services]
- custom assemblies [Reporting Services], deploying
- custom assemblies [Reporting Services], updating
- updating custom assemblies
ms.assetid: c6674cd8-0de7-4a5a-9e7c-12ffa49f6fd2
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: 3d88e1db844304b5cbb51f4af52b4715ef7e8c1e
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87725319"
---
# <a name="deploying-a-custom-assembly"></a><span data-ttu-id="ac157-102">Distribuzione di un assembly personalizzato</span><span class="sxs-lookup"><span data-stu-id="ac157-102">Deploying a Custom Assembly</span></span>
  <span data-ttu-id="ac157-103">Per distribuire un assembly personalizzato in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] , inserire l'assembly nelle cartelle dell'applicazione sia di progettazione report che del server di report.</span><span class="sxs-lookup"><span data-stu-id="ac157-103">To deploy a custom assembly in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)], place the assembly in the application folders of both Report Designer and the report server.</span></span> <span data-ttu-id="ac157-104">Per impostazione predefinita, agli assembly personalizzati viene concessa l'autorizzazione `Execution` in [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ac157-104">By default, custom assemblies are granted `Execution` permission in [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)].</span></span> <span data-ttu-id="ac157-105">Per concedere agli assembly personalizzati altri privilegi oltre all'autorizzazione Execution, è necessario modificare il file di configurazione rssrvpolicy.config per il server di report e il file di configurazione rspreviewpolicy.config per la finestra di anteprima di Progettazione report.</span><span class="sxs-lookup"><span data-stu-id="ac157-105">To grant custom assemblies privileges beyond Execute permission, you will need to edit the rssrvpolicy.config configuration file for the report server and the rspreviewpolicy.config configuration file for the Report Designer preview window.</span></span> <span data-ttu-id="ac157-106">In alternativa, è possibile installare l'assembly personalizzato nella Global Assembly Cache (GAC).</span><span class="sxs-lookup"><span data-stu-id="ac157-106">Alternatively, you can install your custom assembly in the global assembly cache (GAC).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="ac157-107">In Progettazione report sono disponibili due modalità di anteprima, ovvero la scheda Anteprima e la finestra di anteprima popup visualizzata quando un progetto report viene avviato in modalità `DebugLocal`.</span><span class="sxs-lookup"><span data-stu-id="ac157-107">There are two preview modes for Report Designer: the Preview tab and the pop-up preview window that is launched when your report project is started in `DebugLocal` mode.</span></span> <span data-ttu-id="ac157-108">Nella scheda Anteprima vengono eseguite tutte le espressioni del report utilizzando il set di autorizzazioni `FullTrust` e non vengono applicate impostazioni dei criteri di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="ac157-108">The Preview tab executes all report expressions using the `FullTrust` permission set and does not apply security policy settings.</span></span> <span data-ttu-id="ac157-109">La finestra di anteprima popup consente di simulare le funzionalità del server di report e pertanto dispone di un file di configurazione dei criteri che l'utente o un amministratore deve modificare per utilizzare gli assembly personalizzati in Progettazione report.</span><span class="sxs-lookup"><span data-stu-id="ac157-109">The pop-up preview window is meant to simulate the report server functionality and therefore has a policy configuration file that you or an administrator must modify to use custom assemblies in Report Designer.</span></span> <span data-ttu-id="ac157-110">In questa anteprima popup l'assembly personalizzato viene inoltre bloccato.</span><span class="sxs-lookup"><span data-stu-id="ac157-110">This pop-up preview also locks the custom assembly.</span></span> <span data-ttu-id="ac157-111">Per modificare o aggiornare il codice dell'assembly personalizzato è pertanto necessario chiudere la finestra di anteprima.</span><span class="sxs-lookup"><span data-stu-id="ac157-111">Therefore, you need to close the preview window in order to modify or update your custom assembly code.</span></span>  
  
###### <a name="to-deploy-a-custom-assembly-in-reporting-services"></a><span data-ttu-id="ac157-112">Per distribuire un assembly personalizzato in Reporting Services</span><span class="sxs-lookup"><span data-stu-id="ac157-112">To deploy a custom assembly in Reporting Services</span></span>  
  
1.  <span data-ttu-id="ac157-113">Copiare l'assembly personalizzato dal percorso di compilazione alla cartella bin del server di report o alla cartella di Progettazione report.</span><span class="sxs-lookup"><span data-stu-id="ac157-113">Copy your custom assembly from your build location to the report server bin folder or the Report Designer folder.</span></span> <span data-ttu-id="ac157-114">Il percorso predefinito della cartella bin del server di report è %Programmi%\Microsoft SQL Server\MSRS10_50.MSSQLSERVER\Reporting Services\ReportServer\bin.</span><span class="sxs-lookup"><span data-stu-id="ac157-114">The default location of the bin folder for the report server is %ProgramFiles%\Microsoft SQL Server\MSRS10_50.MSSQLSERVER\Reporting Services\ReportServer\bin.</span></span> <span data-ttu-id="ac157-115">Il percorso predefinito di Progettazione report è %Programmi%\Microsoft Visual Studio 9.0\Common7\IDE\PrivateAssemblies.</span><span class="sxs-lookup"><span data-stu-id="ac157-115">The default location of the Report Designer is %ProgramFiles%\Microsoft Visual Studio 9.0\Common7\IDE\PrivateAssemblies.</span></span>  
  
     <span data-ttu-id="ac157-116">L'inserimento dell'assembly personalizzato nella cartella bin del server di report consente di pubblicare report che fanno riferimento all'assembly personalizzato, mentre l'inserimento di quest'ultimo nella cartella Progettazione report consente di eseguire i report che fanno riferimento all'assembly personalizzato in Progettazione report ed eseguirne il debug.</span><span class="sxs-lookup"><span data-stu-id="ac157-116">Placing your custom assembly in the report server bin folder enables you to publish reports that reference your custom assembly, and placing it in the Report Designer folder enables you to run and debug reports that reference your custom assembly in Report Designer.</span></span>  
  
     <span data-ttu-id="ac157-117">Se è necessario concedere al codice dell'assembly personalizzato autorizzazioni in aggiunta a quelle di esecuzione predefinite, effettuare le operazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="ac157-117">If you need to grant your custom assembly code permissions beyond the default execute permissions:</span></span>  
  
2.  <span data-ttu-id="ac157-118">Aprire il file di configurazione appropriato.</span><span class="sxs-lookup"><span data-stu-id="ac157-118">Open the appropriate configuration file.</span></span> <span data-ttu-id="ac157-119">Il percorso predefinito del file rssrvpolicy.config è %Programmi%Microsoft SQL Server\MSRS10_50.MSSQLSERVER\Reporting Services\ReportServer.</span><span class="sxs-lookup"><span data-stu-id="ac157-119">The default location of rssrvpolicy.config is %ProgramFiles%\Microsoft SQL Server\MSRS10_50.MSSQLSERVER\Reporting Services\ReportServer.</span></span> <span data-ttu-id="ac157-120">Il percorso predefinito del file rspreviewpolicy.config è %Programmi%\Microsoft Visual Studio 9.0\Common7\IDE\PrivateAssemblies.</span><span class="sxs-lookup"><span data-stu-id="ac157-120">The default location of rspreviewpolicy.config is %ProgramFiles%\Microsoft Visual Studio 9.0\Common7\IDE\PrivateAssemblies.</span></span>  
  
3.  <span data-ttu-id="ac157-121">Aggiungere un gruppo di codice per l'assembly personalizzato.</span><span class="sxs-lookup"><span data-stu-id="ac157-121">Add a code group for your custom assembly.</span></span> <span data-ttu-id="ac157-122">Per altre informazioni vedere [Sviluppo sicuro &#40;Reporting Services&#41;](../extensions/secure-development/secure-development-reporting-services.md).</span><span class="sxs-lookup"><span data-stu-id="ac157-122">For more information, see [Secure Development &#40;Reporting Services&#41;](../extensions/secure-development/secure-development-reporting-services.md).</span></span>  
  
## <a name="updating-custom-assemblies"></a><span data-ttu-id="ac157-123">Aggiornamento di assembly personalizzati</span><span class="sxs-lookup"><span data-stu-id="ac157-123">Updating Custom Assemblies</span></span>  
 <span data-ttu-id="ac157-124">A un certo punto, potrebbe essere necessario aggiornare una versione di un assembly personalizzato al quale fanno attualmente riferimento diversi report pubblicati.</span><span class="sxs-lookup"><span data-stu-id="ac157-124">At some point, you may need to update a version of a custom assembly that is currently being referenced by several published reports.</span></span> <span data-ttu-id="ac157-125">Se tale assembly è già presente nella directory bin del server di report o in Progettazione report e il numero di versione dell'assembly viene incrementato o modificato in altro modo, i report attualmente pubblicati non funzioneranno più correttamente.</span><span class="sxs-lookup"><span data-stu-id="ac157-125">If that assembly already exists in the bin directory of the report server or Report Designer and the version number of the assembly is incremented or changed in some way, the currently published reports will no longer work properly.</span></span> <span data-ttu-id="ac157-126">Sarà necessario aggiornare la versione dell'assembly a cui viene fatto riferimento nell'elemento `CodeModules` della definizione del report e ripubblicare i report.</span><span class="sxs-lookup"><span data-stu-id="ac157-126">You will need to update the version of the assembly that is referenced in the `CodeModules` element of the report definition and republish the reports.</span></span> <span data-ttu-id="ac157-127">Se si sa che un assembly personalizzato verrà aggiornato di frequente e i report attualmente pubblicati devono fare riferimento al nuovo assembly, è possibile prendere in considerazione l'utilizzo dello stesso numero di versione per tutti gli aggiornamenti di un assembly specifico.</span><span class="sxs-lookup"><span data-stu-id="ac157-127">If you know that you will frequently update a custom assembly and your currently published reports need to reference the new assembly, you may want to consider using the same version number across all updates of a particular assembly.</span></span>  
  
 <span data-ttu-id="ac157-128">Se non è necessario che i report attualmente pubblicati facciano riferimento alla nuova versione dell'assembly, è possibile distribuire l'assembly personalizzato nella Global Assembly Cache.</span><span class="sxs-lookup"><span data-stu-id="ac157-128">If you do not need your currently published reports to reference the new version of the assembly, you can deploy your custom assembly to the global assembly cache.</span></span> <span data-ttu-id="ac157-129">La Global Assembly Cache è in grado di gestire più versioni dello stesso assembly, in modo che i report correnti possano fare riferimento alla versione precedente dell'assembly e i nuovi report pubblicati possano fare riferimento all'assembly aggiornato.</span><span class="sxs-lookup"><span data-stu-id="ac157-129">The global assembly cache can maintain multiple versions of the same assembly, so that your current reports can reference the previous version of your assembly and your newly published reports can reference the updated assembly.</span></span> <span data-ttu-id="ac157-130">Un'altra possibilità consiste nell'impostare il reindirizzamento dell'associazione del server di report in modo da forzare un reindirizzamento di tutte le richieste per il vecchio assembly al nuovo assembly.</span><span class="sxs-lookup"><span data-stu-id="ac157-130">Yet another approach would be to set the binding redirect of the report server to force a redirect of all requests for the old assembly to the new assembly.</span></span> <span data-ttu-id="ac157-131">In questo caso, sarebbe necessario modificare il file Web.config e il file ReportService.exe.config del server di report.</span><span class="sxs-lookup"><span data-stu-id="ac157-131">You would need to modify the report server Web.config file and the report server ReportService.exe.config file.</span></span> <span data-ttu-id="ac157-132">Il codice può essere simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="ac157-132">The entry might look like the following:</span></span>  
  
```  
<configuration>  
   <runtime>  
      <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">  
         <dependentAssembly>  
            <assemblyIdentity name="myAssembly"  
                              publicKeyToken="32ab4ba45e0a69a1"  
                              culture="neutral" />  
            <bindingRedirect oldVersion="1.0.0.0"  
                             newVersion="2.0.0.0"/>  
         </dependentAssembly>  
      </assemblyBinding>  
   </runtime>  
</configuration>  
```  
  
## <a name="see-also"></a><span data-ttu-id="ac157-133">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="ac157-133">See Also</span></span>  
 <span data-ttu-id="ac157-134">[Utilizzo di assembly personalizzati con i report](using-custom-assemblies-with-reports.md) </span><span class="sxs-lookup"><span data-stu-id="ac157-134">[Using Custom Assemblies with Reports](using-custom-assemblies-with-reports.md) </span></span>  
 [<span data-ttu-id="ac157-135">Utilizzo di assembly e della Global Assembly Cache</span><span class="sxs-lookup"><span data-stu-id="ac157-135">Working with Assemblies and the Global Assembly Cache</span></span>](https://go.microsoft.com/fwlink/?LinkId=63912)  
  
  
