---
title: Use an External Data Source for Subscriber Data (Data-Driven Subscription) (Usare un'origine dei dati esterna per i dati del Sottoscrittore (sottoscrizione guidata dai dati)) | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services-native
ms.topic: conceptual
helpviewer_keywords:
- subscriber data sources [Reporting Services]
- subscriptions [Reporting Services], external data sources
- query-based subscriptions [Reporting Services]
- external data sources [Reporting Services]
- data-driven subscriptions
- data sources [Reporting Services], subscriptions
ms.assetid: 1cade8ec-729c-4df8-a428-e75c9ad86369
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: e23da709289ffb6ca345bb6211f40388877a1a87
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87723284"
---
# <a name="use-an-external-data-source-for-subscriber-data-data-driven-subscription"></a><span data-ttu-id="9d558-102">Utilizzare un'origine dei dati esterna per i dati del Sottoscrittore (sottoscrizione guidata dai dati)</span><span class="sxs-lookup"><span data-stu-id="9d558-102">Use an External Data Source for Subscriber Data (Data-Driven Subscription)</span></span>
  <span data-ttu-id="9d558-103">In una sottoscrizione guidata dai dati i dati di sottoscrizione dinamici vengono ottenuti tramite una query o un comando che consente di recuperare i dati da un'origine dei dati esterna.</span><span class="sxs-lookup"><span data-stu-id="9d558-103">In a data-driven subscription, dynamic subscription data is provided by a query or command that retrieves data from an external data source.</span></span> <span data-ttu-id="9d558-104">I dati di sottoscrizione possono essere recuperati da qualsiasi origine dei dati supportata che soddisfi i requisiti per l'elaborazione della sottoscrizione guidata dai dati.</span><span class="sxs-lookup"><span data-stu-id="9d558-104">Subscription data can be retrieved from any supported data source that meets the requirements for data-driven subscription processing.</span></span> <span data-ttu-id="9d558-105">La sintassi della query o del comando deve essere valida per un'estensione per l'elaborazione dati installata con il server di report.</span><span class="sxs-lookup"><span data-stu-id="9d558-105">The query or command syntax must be valid for a data processing extension installed with your report server.</span></span>  
  
## <a name="data-processing-requirements"></a><span data-ttu-id="9d558-106">Requisiti per l'elaborazione dati</span><span class="sxs-lookup"><span data-stu-id="9d558-106">Data Processing Requirements</span></span>  
 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] <span data-ttu-id="9d558-107">usa le estensioni per l'elaborazione dei dati per recuperare i dati di sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="9d558-107">uses data processing extensions to retrieve subscription data.</span></span> <span data-ttu-id="9d558-108">I tipi di origine dei dati consigliati sono i seguenti:</span><span class="sxs-lookup"><span data-stu-id="9d558-108">Recommended data source types include the following:</span></span>  
  
-   [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="9d558-109">database relazionali</span><span class="sxs-lookup"><span data-stu-id="9d558-109">relational databases</span></span>  
  
-   <span data-ttu-id="9d558-110">database Oracle</span><span class="sxs-lookup"><span data-stu-id="9d558-110">Oracle databases</span></span>  
  
-   [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] <span data-ttu-id="9d558-111">origini dati di data mining e multidimensionali</span><span class="sxs-lookup"><span data-stu-id="9d558-111">multidimensional and data mining data sources</span></span>  
  
-   <span data-ttu-id="9d558-112">Origini dei dati XML</span><span class="sxs-lookup"><span data-stu-id="9d558-112">XML data sources</span></span>  
  
     <span data-ttu-id="9d558-113">Quando si utilizza l'estensione per l'elaborazione dati XML per i dati del Sottoscrittore, aumentare le impostazioni di timeout per le query nella sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="9d558-113">When using the XML data processing extension for subscriber data, be sure to increase the query timeout settings in the subscription.</span></span> <span data-ttu-id="9d558-114">Per i valori di timeout per le query, nell'estensione per l'elaborazione dati XML vengono utilizzati i millisecondi anziché i secondi.</span><span class="sxs-lookup"><span data-stu-id="9d558-114">The XML data processing extension uses milliseconds rather than seconds for query timeout values.</span></span> <span data-ttu-id="9d558-115">Se non si aumenta il valore di timeout, la sottoscrizione potrebbe non riuscire a causa di tempi di elaborazione non sufficienti.</span><span class="sxs-lookup"><span data-stu-id="9d558-115">If you do not increase the timeout value, the subscription might fail due to insufficient processing time.</span></span>  
  
     <span data-ttu-id="9d558-116">Quando si configura la connessione all'origine dei dati del Sottoscrittore, evitare di usare l'opzione **Credenziali non richieste** .</span><span class="sxs-lookup"><span data-stu-id="9d558-116">Avoid using the **Credentials are not required** option when configuring the connection to the subscriber data source.</span></span> <span data-ttu-id="9d558-117">Quando si utilizza l'estensione per l'elaborazione dati XML per recuperare i dati di sottoscrizione in fase di esecuzione è consigliabile utilizzare le credenziali archiviate.</span><span class="sxs-lookup"><span data-stu-id="9d558-117">Stored credentials are recommended when using the XML data processing extension to retrieve subscription data at run time.</span></span>  
  
 <span data-ttu-id="9d558-118">Potrebbe essere possibile utilizzare altri tipi di origine dei dati supportati, ma il loro funzionamento non è garantito.</span><span class="sxs-lookup"><span data-stu-id="9d558-118">You might be able to use other supported data source types, but not all of them are guaranteed to work.</span></span> <span data-ttu-id="9d558-119">I tipi di origine dei dati seguenti, ad esempio, non possono essere utilizzati per i dati del Sottoscrittore:</span><span class="sxs-lookup"><span data-stu-id="9d558-119">For example, the following data source types cannot be used for subscriber data:</span></span>  
  
-   <span data-ttu-id="9d558-120">Database SAP Netweaver BI</span><span class="sxs-lookup"><span data-stu-id="9d558-120">SAP Netweaver BI databases</span></span>  
  
-   <span data-ttu-id="9d558-121">Modelli di report</span><span class="sxs-lookup"><span data-stu-id="9d558-121">report models</span></span>  
  
 <span data-ttu-id="9d558-122">Se si ha un'estensione per l'elaborazione dati personalizzata che si vuole usare nelle sottoscrizioni guidate dai dati, è necessario che siano implementate le interfacce <xref:Microsoft.ReportingServices.DataProcessing.IDbCommand> e <xref:Microsoft.ReportingServices.DataProcessing.IDataReader> .</span><span class="sxs-lookup"><span data-stu-id="9d558-122">If you have a custom data processing extension that you want to use in data-driven subscriptions, it must implement the <xref:Microsoft.ReportingServices.DataProcessing.IDbCommand> and the <xref:Microsoft.ReportingServices.DataProcessing.IDataReader> interfaces.</span></span> <span data-ttu-id="9d558-123">L'estensione per l'elaborazione dati deve supportare l'esecuzione di query sul solo schema.</span><span class="sxs-lookup"><span data-stu-id="9d558-123">The data processing extension must support a schema-only query execution.</span></span> <span data-ttu-id="9d558-124">Questo tipo di query è utilizzato per recuperare i metadati delle colonne in fase di progettazione, per consentire agli utenti di eseguire il mapping tra le colonne e le opzioni di recapito e i parametri del report nella definizione della sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="9d558-124">This query is used to retrieve column metadata at design-time so that users can map columns to delivery options and report parameters in the subscription definition.</span></span> <span data-ttu-id="9d558-125">L'esecuzione di query sul solo schema avviene in una fase iniziale, durante la definizione della sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="9d558-125">Schema-only query execution occurs at an early stage when the user is defining the subscription.</span></span>  
  
## <a name="query-requirements"></a><span data-ttu-id="9d558-126">Requisiti per le query</span><span class="sxs-lookup"><span data-stu-id="9d558-126">Query Requirements</span></span>  
 <span data-ttu-id="9d558-127">Quando si crea una query per recuperare i dati di sottoscrizione, tenere presente quanto segue:</span><span class="sxs-lookup"><span data-stu-id="9d558-127">When creating query that retrieves subscription data, keep the following points in mind:</span></span>  
  
-   <span data-ttu-id="9d558-128">È possibile creare una sola query per la sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="9d558-128">You can only create one query for the subscription.</span></span>  
  
-   <span data-ttu-id="9d558-129">La query deve restituire tutti i valori che si desidera utilizzare per le opzioni di recapito e per specificare i parametri del report.</span><span class="sxs-lookup"><span data-stu-id="9d558-129">The query must return all of the values that you want to use for delivery options and for specifying report parameters.</span></span>  
  
-   <span data-ttu-id="9d558-130">Tramite il server di report viene creato un recapito di report per ogni riga del set di risultati.</span><span class="sxs-lookup"><span data-stu-id="9d558-130">The report server will create a report delivery for every row in the result set.</span></span> <span data-ttu-id="9d558-131">Se il set di risultati è costituito da trecento righe, tramite il server di report verrà eseguito un tentativo di recapitare trecento report.</span><span class="sxs-lookup"><span data-stu-id="9d558-131">If the result set consists of three hundred rows, the report server will attempt to deliver three hundred reports.</span></span>  
  
## <a name="setting-delivery-options-using-variable-data-from-a-subscriber-database"></a><span data-ttu-id="9d558-132">Impostazione di opzioni di recapito tramite dati di un database del Sottoscrittore</span><span class="sxs-lookup"><span data-stu-id="9d558-132">Setting Delivery Options Using Variable Data from a Subscriber Database</span></span>  
 <span data-ttu-id="9d558-133">È possibile utilizzare i dati del database del Sottoscrittore per personalizzare le opzioni di recapito per ogni destinatario.</span><span class="sxs-lookup"><span data-stu-id="9d558-133">You can use data in the subscriber database to customize delivery options for each recipient.</span></span> <span data-ttu-id="9d558-134">Le opzioni disponibili sono determinate dal tipo di estensione per il recapito in uso.</span><span class="sxs-lookup"><span data-stu-id="9d558-134">The kind of delivery extension you are using determines which options are available.</span></span> <span data-ttu-id="9d558-135">Se si utilizza l'estensione per il recapito tramite posta elettronica del server di report, la query dovrebbe contenere un alias di posta elettronica per ogni sottoscrittore.</span><span class="sxs-lookup"><span data-stu-id="9d558-135">If you are using the report server e-mail delivery extension, the query should contain an e-mail alias for each subscriber.</span></span> <span data-ttu-id="9d558-136">Se si utilizza un recapito alla condivisione file, i dati del Sottoscrittore devono includere valori che possano essere utilizzati per creare file di report specifici del Sottoscrittore o per offrire una destinazione per il recapito.</span><span class="sxs-lookup"><span data-stu-id="9d558-136">If you are using file share delivery, the subscriber data should include values that can be used to create subscriber-specific report files or to provide a destination for the delivery.</span></span> <span data-ttu-id="9d558-137">Per ulteriori informazioni, vedere [recapito tramite condivisione file in Reporting Services](file-share-delivery-in-reporting-services.md) e [recapito tramite posta elettronica in Reporting Services](e-mail-delivery-in-reporting-services.md).</span><span class="sxs-lookup"><span data-stu-id="9d558-137">For more information, see [File Share Delivery in Reporting Services](file-share-delivery-in-reporting-services.md) and [E-Mail Delivery in Reporting Services](e-mail-delivery-in-reporting-services.md).</span></span>  
  
## <a name="passing-parameter-values-from-the-subscriber-database-to-the-report"></a><span data-ttu-id="9d558-138">Passaggio di valori dei parametri dal database del Sottoscrittore al report</span><span class="sxs-lookup"><span data-stu-id="9d558-138">Passing Parameter Values from the Subscriber Database to the Report</span></span>  
 <span data-ttu-id="9d558-139">Se si sta creando una sottoscrizione guidata dai dati per un report con parametri, è possibile fornire valori dei parametri variabili per personalizzare l'output di ogni report.</span><span class="sxs-lookup"><span data-stu-id="9d558-139">If you are creating a data-driven subscription for a parameterized report, you can use variable parameter values to customize the output of each report.</span></span> <span data-ttu-id="9d558-140">Ad esempio, un database del Sottoscrittore potrebbe contenere numeri di identificazione, date di assunzione, titoli professionali e ubicazioni degli uffici dei dipendenti, tutte informazioni utilizzabili per filtrare i dati dei report.</span><span class="sxs-lookup"><span data-stu-id="9d558-140">For example, the subscriber database might contain employee identification numbers, hire dates, job titles, and office location information that can be used to filter report data.</span></span> <span data-ttu-id="9d558-141">Se il report accetta parametri basati su queste o altre colonne di dati disponibili, è possibile eseguire il mapping di ogni parametro alla colonna appropriata.</span><span class="sxs-lookup"><span data-stu-id="9d558-141">If the report accepts parameters that are based on these or other available column data, you can map the parameter to the appropriate column.</span></span>  
  
 <span data-ttu-id="9d558-142">Quando si esegue il mapping dei campi del Sottoscrittore ai parametri del report, verificare che i tipi di dati e la lunghezza delle colonne siano compatibili.</span><span class="sxs-lookup"><span data-stu-id="9d558-142">When mapping subscriber fields to report parameters, make sure that the data types and column lengths are compatible.</span></span> <span data-ttu-id="9d558-143">Nel caso siano presenti tipi di dati non corrispondenti si verificherà un errore durante l'elaborazione della sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="9d558-143">If there is a data type mismatch, an error will occur during subscription processing.</span></span> <span data-ttu-id="9d558-144">Per altre informazioni sull'uso di dati del sottoscrittore in un report con parametri, vedere [Creare una sottoscrizione guidata dai dati &#40;esercitazione su SSRS&#41;](../create-a-data-driven-subscription-ssrs-tutorial.md).</span><span class="sxs-lookup"><span data-stu-id="9d558-144">To learn more about using subscriber data in a parameterized report, see [Create a Data-Driven Subscription &#40;SSRS Tutorial&#41;](../create-a-data-driven-subscription-ssrs-tutorial.md).</span></span>  
  
## <a name="modifying-the-subscriber-data-source"></a><span data-ttu-id="9d558-145">Modifica dell'origine dei dati del sottoscrittore</span><span class="sxs-lookup"><span data-stu-id="9d558-145">Modifying the Subscriber Data Source</span></span>  
 <span data-ttu-id="9d558-146">Le modifiche all'origine dei dati del sottoscrittore descritte di seguito possono impedire l'esecuzione della sottoscrizione:</span><span class="sxs-lookup"><span data-stu-id="9d558-146">The following modifications to the subscriber data source can prevent the subscription from running:</span></span>  
  
-   <span data-ttu-id="9d558-147">Rimozione di colonne cui si fa riferimento nella sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="9d558-147">Removing columns that are referenced in the subscription.</span></span>  
  
-   <span data-ttu-id="9d558-148">Modifica della struttura della tabella dell'origine dei dati.</span><span class="sxs-lookup"><span data-stu-id="9d558-148">Modifying the table structure of the data source.</span></span>  
  
-   <span data-ttu-id="9d558-149">Modifica del tipo di dati e altre proprietà della colonna.</span><span class="sxs-lookup"><span data-stu-id="9d558-149">Changing data type and other column properties.</span></span>  
  
 <span data-ttu-id="9d558-150">Se si apporta una qualsiasi di queste modifiche, sarà necessario aggiornare la sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="9d558-150">If you make any of these changes, you must update the subscription.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="9d558-151">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="9d558-151">See Also</span></span>  
 <span data-ttu-id="9d558-152">[Creazione, modifica ed eliminazione di una sottoscrizione guidata dai dati](data-driven-subscriptions.md) </span><span class="sxs-lookup"><span data-stu-id="9d558-152">[Create, Modify, and Delete a Data-Driven Subscription](data-driven-subscriptions.md) </span></span>  
 <span data-ttu-id="9d558-153">[Data-Driven Subscriptions](data-driven-subscriptions.md) </span><span class="sxs-lookup"><span data-stu-id="9d558-153">[Data-Driven Subscriptions](data-driven-subscriptions.md) </span></span>  
 [<span data-ttu-id="9d558-154">Sottoscrizioni e recapito &#40;Reporting Services&#41;</span><span class="sxs-lookup"><span data-stu-id="9d558-154">Subscriptions and Delivery &#40;Reporting Services&#41;</span></span>](subscriptions-and-delivery-reporting-services.md)  
  
  
