---
title: Configurare un server di report in un cluster per il bilanciamento del carico di rete | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services-native
ms.topic: conceptual
helpviewer_keywords:
- report servers [Reporting Services], network load balancing
ms.assetid: 6bfa5698-de65-43c3-b940-044f41c162d3
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: 5de36ab620db63294d2a5ec98fad6c45af201d26
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87630310"
---
# <a name="configure-a-report-server-on-a-network-load-balancing-cluster"></a><span data-ttu-id="1c3aa-102">Configurare un server di report in un cluster per il bilanciamento del carico di rete</span><span class="sxs-lookup"><span data-stu-id="1c3aa-102">Configure a Report Server on a Network Load Balancing Cluster</span></span>
  <span data-ttu-id="1c3aa-103">Se si intende configurare la scalabilità orizzontale di un server di report per l'esecuzione in un cluster per il bilanciamento del carico di rete (NLB, Network Load Balancing), è necessario effettuare le operazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="1c3aa-103">If you are configuring a report server scale-out to run on a Network Load Balancing (NLB) cluster, you must do the following:</span></span>  
  
-   <span data-ttu-id="1c3aa-104">Verificare che il cluster per il bilanciamento del carico di rete sia accessibile tramite un nome del server virtuale di cui viene eseguito il mapping all'indirizzo IP del server virtuale.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-104">Ensure that the NLB cluster is accessible through a virtual server name that maps to the virtual server IP address.</span></span> <span data-ttu-id="1c3aa-105">Un nome del server virtuale è necessario per poter configurare un singolo punto di ingresso nel cluster per il bilanciamento del carico di rete.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-105">A virtual server name is necessary so that you can configure a single point of entry to the NLB cluster.</span></span> <span data-ttu-id="1c3aa-106">Quando si configura un URL per ogni istanza del server di report, è necessario specificare il nome del server virtuale come host.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-106">When you configure a URL for each report server instance, you will specify the virtual server name as the host.</span></span>  
  
-   <span data-ttu-id="1c3aa-107">Configurare la convalida dello stato di visualizzazione per supportare la visualizzazione di report interattivi.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-107">Configure view state validation to support interactive report viewing.</span></span> <span data-ttu-id="1c3aa-108">Il rendering dei report interattivi viene in genere eseguito diverse volte durante una singola sessione utente per visualizzare dati nuovi o diversi in risposta alle azioni dell'utente.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-108">Interactive reports are typically rendered numerous times during a single user session to visualize new or different data in response to user actions.</span></span> <span data-ttu-id="1c3aa-109">La configurazione della convalida dello stato di visualizzazione consente di mantenere la continuità all'interno della sessione utente, indipendentemente dal server di report che risponde alla richiesta effettiva.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-109">By configuring view state validation, continuity is preserved within the user session regardless of which report server services the actual request.</span></span>  
  
 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] <span data-ttu-id="1c3aa-110">non fornisce la funzionalità per il bilanciamento del carico di una distribuzione con scalabilità orizzontale, né per la definizione di un singolo punto di accesso tramite un URL condiviso.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-110">does not provide functionality for load balancing a scale-out deployment or for defining a single point of access through a shared URL.</span></span> <span data-ttu-id="1c3aa-111">Per supportare una distribuzione con scalabilità orizzontale di [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] , è necessario implementare una soluzione cluster per il bilanciamento del carico di rete software o hardware distinta.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-111">You must implement a separate software or hardware NLB cluster solution to support a [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] scale-out deployment.</span></span>  
  
 <span data-ttu-id="1c3aa-112">È possibile installare [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] in nodi che fanno già parte di un cluster per il bilanciamento del carico di rete oppure configurare innanzitutto una distribuzione con scalabilità orizzontale e quindi installare il software del cluster.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-112">You can install [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] on nodes that are already part of an NLB cluster, or you can configure a scale-out deployment first and then install cluster software.</span></span>  
  
## <a name="steps-for-report-server-deployment-on-an-nlb-cluster"></a><span data-ttu-id="1c3aa-113">Passaggi per la distribuzione del server di report in un cluster per il bilanciamento del carico di rete</span><span class="sxs-lookup"><span data-stu-id="1c3aa-113">Steps for Report Server Deployment on an NLB Cluster</span></span>  
 <span data-ttu-id="1c3aa-114">Per installare e configurare la distribuzione, utilizzare le linee guida seguenti:</span><span class="sxs-lookup"><span data-stu-id="1c3aa-114">Use the following guidelines to install and configure your deployment:</span></span>  
  
|<span data-ttu-id="1c3aa-115">Passaggio</span><span class="sxs-lookup"><span data-stu-id="1c3aa-115">Step</span></span>|<span data-ttu-id="1c3aa-116">Descrizione</span><span class="sxs-lookup"><span data-stu-id="1c3aa-116">Description</span></span>|<span data-ttu-id="1c3aa-117">Ulteriori informazioni</span><span class="sxs-lookup"><span data-stu-id="1c3aa-117">More information</span></span>|  
|----------|-----------------|----------------------|  
|<span data-ttu-id="1c3aa-118">1</span><span class="sxs-lookup"><span data-stu-id="1c3aa-118">1</span></span>|<span data-ttu-id="1c3aa-119">Prima di installare Reporting Services nei nodi del server in un cluster per il bilanciamento del carico di rete, verificare i requisiti per la distribuzione con scalabilità orizzontale.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-119">Before you install Reporting Services on server nodes in an NLB cluster, check the requirements for scale-out deployment.</span></span>|<span data-ttu-id="1c3aa-120">[Configurare una distribuzione con scalabilità orizzontale di un server di report in modalità nativa &#40;Configuration Manager SSRS&#41;](../install-windows/configure-a-native-mode-report-server-scale-out-deployment.md) [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Documentazione online</span><span class="sxs-lookup"><span data-stu-id="1c3aa-120">[Configure a Native Mode Report Server Scale-Out Deployment &#40;SSRS Configuration Manager&#41;](../install-windows/configure-a-native-mode-report-server-scale-out-deployment.md) [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Books Online</span></span>|  
|<span data-ttu-id="1c3aa-121">2</span><span class="sxs-lookup"><span data-stu-id="1c3aa-121">2</span></span>|<span data-ttu-id="1c3aa-122">Configurare il cluster per il bilanciamento del carico di rete e verificarne il corretto funzionamento.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-122">Configure the NLB cluster and verify it is working correctly.</span></span><br /><br /> <span data-ttu-id="1c3aa-123">Assicurarsi di eseguire il mapping di un nome dell'intestazione host all'IP del server virtuale del cluster per il bilanciamento del carico di rete.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-123">Be sure to map a host header name to the virtual server IP of the NLB cluster.</span></span> <span data-ttu-id="1c3aa-124">Il nome dell'intestazione host viene utilizzato nell'URL del server di report ed è più semplice da ricordare e digitare rispetto a un indirizzo IP.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-124">The host header name is used in the report server URL, and is easier to remember and type than an IP address.</span></span>|<span data-ttu-id="1c3aa-125">Per ulteriori informazioni, vedere la documentazione di Windows Server relativa alla versione del sistema operativo Windows utilizzato.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-125">For more information, see the Windows Server product documentation for the version of the Windows operating system that you run.</span></span>|  
|<span data-ttu-id="1c3aa-126">3</span><span class="sxs-lookup"><span data-stu-id="1c3aa-126">3</span></span>|<span data-ttu-id="1c3aa-127">Aggiungere il nome del NetBIOS e il nome di dominio completo (FQDN) per l'intestazione host all'elenco di **BackConnectionHostNames** archiviato nel Registro di sistema di Windows.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-127">Add the NetBIOS and Fully Qualified Domain Name (FQDN) for the host header to the list of **BackConnectionHostNames** stored in the Windows Registry.</span></span> <span data-ttu-id="1c3aa-128">Seguire i passaggi descritti in **Method 2: Specify host names** (Metodo 2: Specificare i nomi host) nell'articolo [KB 896861](https://support.microsoft.com/kb/896861) (https://support.microsoft.com/kb/896861), con la rettifica seguente.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-128">Use the steps in **Method 2: Specify host names** in [KB 896861](https://support.microsoft.com/kb/896861) (https://support.microsoft.com/kb/896861), with the following adjustment.</span></span> <span data-ttu-id="1c3aa-129">In base a quanto specificato nel**passaggio 7** dell'articolo della KB: uscire dall'editor del Registro di sistema e riavviare il servizio IISAdmin.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-129">**Step 7** of the KB article says "Quit Registry Editor, and then restart the IISAdmin service."</span></span> <span data-ttu-id="1c3aa-130">Si consiglia, invece, di riavviare il computer per assicurarsi che le modifiche abbiano effetto.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-130">Instead, reboot the computer to ensure the changes take effect.</span></span><br /><br /> <span data-ttu-id="1c3aa-131">Se, ad esempio, il nome dell'intestazione host \<MyServer> è un nome virtuale per il nome computer Windows "contoso", probabilmente è possibile fare riferimento al modulo FQDN come "contoso.Domain.com".</span><span class="sxs-lookup"><span data-stu-id="1c3aa-131">For example, if the host header name \<MyServer> is a virtual name for the Windows computer name of "contoso", you can probably reference the FQDN form as "contoso.domain.com".</span></span> <span data-ttu-id="1c3aa-132">Sarà necessario aggiungere il nome di intestazione host (MyServer ) e il nome FQDN (contoso.domain.com) all'elenco in **BackConnectionHostNames**.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-132">You will need to add both the hostheader name (MyServer ) and FQDN name (contoso.domain.com) to the list in **BackConnectionHostNames**.</span></span>|<span data-ttu-id="1c3aa-133">Questo passaggio è obbligatorio se l'ambiente server implica l'autenticazione NTLM sul computer locale, creando una connessione loopback.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-133">This step is required if your server environment involves NTLM authentication on the local computer, creating a loop back connection.</span></span><br /><br /> <span data-ttu-id="1c3aa-134">In tal caso, le richieste tra Gestione report e Server di report restituiscono un errore 401 (Unauthorized).</span><span class="sxs-lookup"><span data-stu-id="1c3aa-134">If this is the case, you will experience the requests between Report Manager and Report Server to fail with 401 (Unauthorized).</span></span>|  
|<span data-ttu-id="1c3aa-135">4</span><span class="sxs-lookup"><span data-stu-id="1c3aa-135">4</span></span>|<span data-ttu-id="1c3aa-136">Installare [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] in modalità solo file in nodi che appartengono già a un cluster per il bilanciamento del carico di rete e configurare le istanze del server di report per la distribuzione con scalabilità orizzontale.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-136">Install [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] in files-only mode on nodes that are already part of a NLB cluster, and configure the report server instances for scale-out deployment.</span></span><br /><br /> <span data-ttu-id="1c3aa-137">La scalabilità orizzontale configurata potrebbe non rispondere a richieste indirizzate all'IP del server virtuale.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-137">The scale-out that you configure might not respond to requests that are directed to the virtual server IP.</span></span> <span data-ttu-id="1c3aa-138">La configurazione della scalabilità orizzontale per l'utilizzo dell'IP del server virtuale viene effettuata in un passaggio successivo, dopo la configurazione della convalida dello stato di visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-138">Configuring the scale-out to use the virtual server IP occurs at a later step, after you configure view state validation.</span></span>|[<span data-ttu-id="1c3aa-139">Configurare una distribuzione con scalabilità orizzontale di un server di report in modalità nativa &#40;Gestione configurazione SSRS&#41;</span><span class="sxs-lookup"><span data-stu-id="1c3aa-139">Configure a Native Mode Report Server Scale-Out Deployment &#40;SSRS Configuration Manager&#41;</span></span>](../install-windows/configure-a-native-mode-report-server-scale-out-deployment.md)|  
|<span data-ttu-id="1c3aa-140">5</span><span class="sxs-lookup"><span data-stu-id="1c3aa-140">5</span></span>|<span data-ttu-id="1c3aa-141">Configurare la convalida dello stato di visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-141">Configure view state validation.</span></span><br /><br /> <span data-ttu-id="1c3aa-142">Per ottenere risultati ottimali, eseguire questo passaggio dopo avere configurato la distribuzione con scalabilità orizzontale e prima di configurare le istanze del server di report per l'utilizzo dell'IP del server virtuale.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-142">For best results, perform this step after you configure the scale-out deployment, and before you configure the report server instances to use the virtual server IP.</span></span> <span data-ttu-id="1c3aa-143">Configurando innanzitutto la convalida dello stato di visualizzazione, è possibile evitare eccezioni a causa di errori di convalida dello stato quando gli utenti tentano di accedere a report interattivi.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-143">By configuring view state validation first, you can avoid exceptions about failed state validation when users attempt to access interactive reports.</span></span>|<span data-ttu-id="1c3aa-144">[Come configurare la convalida dello stato di visualizzazione](#ViewState) in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-144">[How to Configure View State Validation](#ViewState) in this topic.</span></span>|  
|<span data-ttu-id="1c3aa-145">6</span><span class="sxs-lookup"><span data-stu-id="1c3aa-145">6</span></span>|<span data-ttu-id="1c3aa-146">Configurare `Hostname` e `UrlRoot` per l'utilizzo dell'IP del server virtuale del cluster per il bilanciamento del carico di rete.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-146">Configure `Hostname` and `UrlRoot` to use the virtual server IP of the NLB cluster.</span></span>|<span data-ttu-id="1c3aa-147">[Come configurare Hostname e UrlRoot](#SpecifyingVirtualServerName) in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-147">[How to Configure Hostname and UrlRoot](#SpecifyingVirtualServerName) in this topic.</span></span>|  
|<span data-ttu-id="1c3aa-148">7</span><span class="sxs-lookup"><span data-stu-id="1c3aa-148">7</span></span>|<span data-ttu-id="1c3aa-149">Verificare che sia possibile accedere ai server tramite il nome host specificato.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-149">Verify the servers are accessible through the host name you specified.</span></span>|<span data-ttu-id="1c3aa-150">[Verificare l'accesso al server di report](#Verify) in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-150">[Verify Report Server Access](#Verify) in this topic.</span></span>|  
  
##  <a name="how-to-configure-view-state-validation"></a><a name="ViewState"></a><span data-ttu-id="1c3aa-151">Come configurare la convalida dello stato di visualizzazione</span><span class="sxs-lookup"><span data-stu-id="1c3aa-151">How to Configure View State Validation</span></span>  
 <span data-ttu-id="1c3aa-152">Per eseguire una distribuzione con scalabilità orizzontale in un cluster per il bilanciamento del carico di rete, è necessario configurare la convalida dello stato di visualizzazione in modo che gli utenti possano visualizzare report HTML interattivi.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-152">To run a scale-out deployment on an NLB cluster, you must configure view state validation so that users can view interactive HTML reports.</span></span> <span data-ttu-id="1c3aa-153">Questa operazione deve essere eseguita sia per il server di report che per Gestione report.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-153">You must do this for the report server and for Report Manager.</span></span>  
  
 <span data-ttu-id="1c3aa-154">La convalida dello stato di visualizzazione è controllata da ASP.NET,</span><span class="sxs-lookup"><span data-stu-id="1c3aa-154">View state validation is controlled by the ASP.NET.</span></span> <span data-ttu-id="1c3aa-155">è abilitata per impostazione predefinita e utilizza l'identità del servizio Web per eseguire la convalida.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-155">By default, view state validation is enabled and uses the identity of the Web service to perform the validation.</span></span> <span data-ttu-id="1c3aa-156">In uno scenario di cluster per il bilanciamento del carico di rete, tuttavia, sono presenti più istanze del servizio e identità del servizio Web eseguite in computer diversi.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-156">However, in an NLB cluster scenario, there are multiple service instances and web service identities that run on different computers.</span></span> <span data-ttu-id="1c3aa-157">Poiché l'identità del servizio varia per ciascun nodo, non è possibile basarsi su una singola identità del processo per eseguire la convalida.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-157">Because the service identity varies for each node, you cannot rely on a single process identity to perform the validation.</span></span>  
  
 <span data-ttu-id="1c3aa-158">Per risolvere questo problema, è possibile generare una chiave di convalida arbitraria per supportare la convalida dello stato di visualizzazione e quindi configurare manualmente ciascun nodo del server di report per l'utilizzo della stessa chiave.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-158">To work around this issue, you can generate an arbitrary validation key to support view state validation, and then manually configure each report server node to use the same key.</span></span> <span data-ttu-id="1c3aa-159">È possibile utilizzare qualsiasi sequenza esadecimale generata casualmente.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-159">You can use any randomly generated hexadecimal sequence.</span></span> <span data-ttu-id="1c3aa-160">L'algoritmo di convalida, ad esempio SHA1, determina la lunghezza della sequenza esadecimale.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-160">The validation algorithm (such as SHA1) determines how long the hexadecimal sequence must be.</span></span>  
  
1.  <span data-ttu-id="1c3aa-161">Generare una chiave di convalida e una chiave di decrittografia mediante la funzionalità di generazione automatica disponibile in [!INCLUDE[dnprdnshort](../../includes/dnprdnshort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="1c3aa-161">Generate a validation key and decryption key by using the autogenerate functionality provided by the [!INCLUDE[dnprdnshort](../../includes/dnprdnshort-md.md)].</span></span> <span data-ttu-id="1c3aa-162">Alla fine, è necessario disporre di una singola <`machineKey`> voce che è possibile incollare nel file Web.config per ogni istanza di gestione report nella distribuzione con scalabilità orizzontale.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-162">In the end, you must have a single <`machineKey`> entry that you can paste into the Web.config file for each Report Manager instance in the scale-out deployment.</span></span>  
  
     <span data-ttu-id="1c3aa-163">Nell'esempio seguente viene illustrato il valore che è necessario ottenere:</span><span class="sxs-lookup"><span data-stu-id="1c3aa-163">The following example provides an illustration of the value you must obtain.</span></span> <span data-ttu-id="1c3aa-164">Non copiare l'esempio nei file di configurazione in uso, in quanto i valori di chiave non sono validi.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-164">Do not copy the example into your configuration files; the key values are not valid.</span></span>  
  
    ```  
    <machineKey validationKey="123455555" decryptionKey="678999999" validation="SHA1" decryption="AES"/>  
    ```  
  
2.  <span data-ttu-id="1c3aa-165">Aprire il file di Web.config per Gestione report e nella `system.web` sezione> <incollare l'elemento <> `machineKey` generato.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-165">Open the Web.config file for Report Manager, and in the <`system.web`> section paste the <`machineKey`> element that you generated.</span></span> <span data-ttu-id="1c3aa-166">Per impostazione predefinita, il file Web.config di Gestione report si trova in \Programmi\Microsoft SQL Server\MSRS10_50.MSSQLSERVER\Reporting Services\ReportManager\Web.config.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-166">By default, the Report Manager Web.config file is located in \Program Files\Microsoft SQL Server\MSRS10_50.MSSQLSERVER\Reporting Services\ReportManager\Web.config.</span></span>  
  
3.  <span data-ttu-id="1c3aa-167">Salvare il file.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-167">Save the file.</span></span>  
  
4.  <span data-ttu-id="1c3aa-168">Ripetere il passaggio precedente per ogni server di report presente nella distribuzione con scalabilità orizzontale.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-168">Repeat the previous step for each report server in the scale-out deployment.</span></span>  
  
5.  <span data-ttu-id="1c3aa-169">Verificare che tutti i file Web.Config nelle cartelle \Reporting Services\Report Manager contengano `machineKey` elementi <> identici nella `system.web` sezione <>.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-169">Verify that all Web.Config files in the \Reporting Services\Report Manager folders contain identical <`machineKey`> elements in the <`system.web`> section.</span></span>  
  
##  <a name="how-to-configure-hostname-and-urlroot"></a><a name="SpecifyingVirtualServerName"></a><span data-ttu-id="1c3aa-170">Come configurare hostname e UrlRoot</span><span class="sxs-lookup"><span data-stu-id="1c3aa-170">How to Configure Hostname and UrlRoot</span></span>  
 <span data-ttu-id="1c3aa-171">Per configurare una distribuzione con scalabilità orizzontale del server di report in un cluster per il bilanciamento del carico di rete, è necessario definire un unico nome del server virtuale che fornisce un singolo punto di accesso al cluster di server.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-171">To configure a report server scale-out deployment on an NLB cluster, you must define a single virtual server name that provides a single point of access to the server cluster.</span></span> <span data-ttu-id="1c3aa-172">Successivamente, registrare il nome del server virtuale con Domain Name Server (DNS) nel proprio ambiente.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-172">Then register this virtual server name with the Domain Name Server (DNS) in your environment.</span></span>  
  
 <span data-ttu-id="1c3aa-173">Dopo avere definito il nome del server virtuale, è possibile configurare le proprietà `Hostname` e `UrlRoot` nel file RSReportServer.config per includere tale nome nell'URL del server di report.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-173">After you define the virtual server name, you can configure the `Hostname` and `UrlRoot` properties in the RSReportServer.config file to include the virtual server name in the report server URL.</span></span>  
  
 <span data-ttu-id="1c3aa-174">Configurare la proprietà `Hostname` quando si utilizzano prenotazioni URL con caratteri jolly nell'ambiente di gestione dei report.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-174">Configure the `Hostname` property when you are using wildcard URL reservations in your reporting environment.</span></span> <span data-ttu-id="1c3aa-175">Quando si specifica la proprietà `Hostname` come nome del server virtuale del server con bilanciamento del carico di rete, il traffico di rete relativo all'ambiente di gestione dei report viene indirizzato a quest'ultimo server,</span><span class="sxs-lookup"><span data-stu-id="1c3aa-175">When you specify the `Hostname` property to be the virtual server name of the NLB server, network traffic for the reporting environment is directed to the NLB server.</span></span> <span data-ttu-id="1c3aa-176">che distribuisce quindi le richieste tra i nodi del server di report.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-176">The NLB then distributes requests among the report server nodes.</span></span>  
  
 <span data-ttu-id="1c3aa-177">Configurare inoltre la proprietà `UrlRoot` in modo che i collegamenti al report funzionino nei report esportati in report statici, ad esempio in formato Excel o PDF, oppure in report generati da sottoscrizioni, ad esempio una sottoscrizione con recapito tramite posta elettronica.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-177">Additionally, configure the `UrlRoot` property so that report links work in reports that have been exported to static reports, such as in an Excel or PDF format, or in reports that are generated by subscriptions, such as e-mail subscriptions.</span></span>  
  
 <span data-ttu-id="1c3aa-178">Se si integra [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] con [!INCLUDE[winSPServ](../../includes/winspserv-md.md)] 3,0 o [!INCLUDE[offSPServ](../../includes/offspserv-md.md)] 2007 oppure si ospitano i report in un'applicazione Web personalizzata, potrebbe essere necessario configurare solo la `UrlRoot` Proprietà.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-178">If you integrate [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] with [!INCLUDE[winSPServ](../../includes/winspserv-md.md)] 3.0 or [!INCLUDE[offSPServ](../../includes/offspserv-md.md)] 2007, or you host your reports in a custom Web application, you might need to configure only the `UrlRoot` property.</span></span> <span data-ttu-id="1c3aa-179">In questo caso, configurare la proprietà `UrlRoot` in modo che rappresenti l'URL del sito di SharePoint o dell'applicazione Web.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-179">In this case, configure the `UrlRoot` property to be the URL of the SharePoint site or Web application.</span></span> <span data-ttu-id="1c3aa-180">In questo modo il traffico di rete relativo all'ambiente di gestione dei report verrà indirizzato all'applicazione che gestisce i report anziché al server di report o al cluster per il bilanciamento del carico di rete.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-180">This will direct network traffic for the reporting environment to the application that handles the reports rather than to the report server or NLB cluster.</span></span>  
  
 <span data-ttu-id="1c3aa-181">Non modificare `ReportServerUrl`</span><span class="sxs-lookup"><span data-stu-id="1c3aa-181">Do not modify `ReportServerUrl`.</span></span> <span data-ttu-id="1c3aa-182">per evitare di introdurre un round trip aggiuntivo attraverso il server virtuale ogni volta che viene gestita una richiesta interna.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-182">If you modify this URL, you will introduce an extra roundtrip through the virtual server each time an internal request is handled.</span></span> <span data-ttu-id="1c3aa-183">Per altre informazioni, vedere [Modificare un file di configurazione di Reporting Services &#40;RSreportserver.config&#41;](../install-windows/urls-in-configuration-files-ssrs-configuration-manager.md).</span><span class="sxs-lookup"><span data-stu-id="1c3aa-183">For more information, see [URLs in Configuration Files  &#40;SSRS Configuration Manager&#41;](../install-windows/urls-in-configuration-files-ssrs-configuration-manager.md).</span></span> <span data-ttu-id="1c3aa-184">Per altre informazioni sulla modifica del file di configurazione, vedere [Modificare un file di configurazione di Reporting Services &#40;RSreportserver.config&#41;](modify-a-reporting-services-configuration-file-rsreportserver-config.md) nella documentazione online di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="1c3aa-184">For more information about editing the configuration file, see [Modify a Reporting Services Configuration File &#40;RSreportserver.config&#41;](modify-a-reporting-services-configuration-file-rsreportserver-config.md) in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Books Online.</span></span>  
  
1.  <span data-ttu-id="1c3aa-185">Aprire RSReportServer.config in un editor di testo.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-185">Open RSReportServer.config in a text editor.</span></span>  
  
2.  <span data-ttu-id="1c3aa-186">Trovare la **\<Service>** sezione e aggiungere le informazioni seguenti al file di configurazione, sostituendo il `Hostname` valore con il nome del server virtuale per il server NLB:</span><span class="sxs-lookup"><span data-stu-id="1c3aa-186">Find the **\<Service>** section, and add the following information to the configuration file, replacing the `Hostname` value with the virtual server name for your NLB server:</span></span>  
  
    ```  
    <Hostname>virtual_server</Hostname>  
    ```  
  
3.  <span data-ttu-id="1c3aa-187">Individuare `UrlRoot`.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-187">Find `UrlRoot`.</span></span> <span data-ttu-id="1c3aa-188">L'elemento non è specificato nel file di configurazione, ma il valore predefinito usato è un URL nel formato seguente: http://o https:// \<*computername*> / \<*reportserver*> , dove \<*reportserver*> è il nome della directory virtuale del servizio Web ReportServer.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-188">The element is unspecified in the configuration file, but the default value used is a URL in this format: http:// or https://\<*computername*>/\<*reportserver*>, where \<*reportserver*> is the virtual directory name of the Report Server Web service.</span></span>  
  
4.  <span data-ttu-id="1c3aa-189">Digitare un valore per `UrlRoot` che includa il nome virtuale del cluster nel formato seguente: http://o https:// \<*virtual_server*> / \<*reportserver*> .</span><span class="sxs-lookup"><span data-stu-id="1c3aa-189">Type a value for `UrlRoot` that includes the virtual name of the cluster in this format: http:// or https://\<*virtual_server*>/\<*reportserver*>.</span></span>  
  
5.  <span data-ttu-id="1c3aa-190">Salvare il file.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-190">Save the file.</span></span>  
  
6.  <span data-ttu-id="1c3aa-191">Ripetere questi passaggi in ciascun file RSReportServer.config per ogni server di report presente nella distribuzione con scalabilità orizzontale.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-191">Repeat these steps in each RSReportServer.config file for each report server in the scale-out deployment.</span></span>  
  
##  <a name="verify-report-server-access"></a><a name="Verify"></a><span data-ttu-id="1c3aa-192">Verificare l'accesso al server di report</span><span class="sxs-lookup"><span data-stu-id="1c3aa-192">Verify Report Server Access</span></span>  
 <span data-ttu-id="1c3aa-193">Verificare che sia possibile accedere alla distribuzione con scalabilità orizzontale tramite il nome del server virtuale, ad esempio https://MyVirtualServerName/reportserver e https://MyVirtualServerName/reports) .</span><span class="sxs-lookup"><span data-stu-id="1c3aa-193">Verify that you can access the scale-out deployment through the virtual server name (for example, https://MyVirtualServerName/reportserver and https://MyVirtualServerName/reports).</span></span>  
  
 <span data-ttu-id="1c3aa-194">È possibile determinare il nodo che elabora effettivamente i report esaminando i file di log del server di report o controllando il log di esecuzione di RS. La tabella del log di esecuzione contiene una colonna denominata **InstanceName** che indica l'istanza che ha elaborato una richiesta specifica.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-194">You can check which node actually processes reports by looking at the report server log files or by checking the RS execution log (the execution log table contains a column called **InstanceName** that shows which instance processed a particular request).</span></span> <span data-ttu-id="1c3aa-195">Per altre informazioni, vedere [File di log e origini di Reporting Services](../report-server/reporting-services-log-files-and-sources.md) nella documentazione online di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="1c3aa-195">For more information, see [Reporting Services Log Files and Sources](../report-server/reporting-services-log-files-and-sources.md) in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Books Online.</span></span>  
  
 <span data-ttu-id="1c3aa-196">Se non è possibile connettersi al server di report, controllare il bilanciamento del carico di rete per verificare che le richieste vengano inviate al server di report e visualizzare il log HTTP del server di report per appurare che il server le stia ricevendo.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-196">If you cannot connect to the report server, check the NLB to ensure that requests are sent to the report server and view the report server HTTP log to ensure that the server is receiving the requests.</span></span>  
  
#### <a name="troubleshooting-failed-requests"></a><span data-ttu-id="1c3aa-197">Risoluzione dei problemi relativi alle richieste non riuscite</span><span class="sxs-lookup"><span data-stu-id="1c3aa-197">Troubleshooting Failed Requests</span></span>  
 <span data-ttu-id="1c3aa-198">Se le richieste non raggiungono le istanze del server di report, controllare il file RSReportServer.config per verificare che il nome del server virtuale sia specificato come nome host per gli URL del server di report:</span><span class="sxs-lookup"><span data-stu-id="1c3aa-198">If requests do not reach the report server instances, check the RSReportServer.config file to verify that the virtual server name is specified as the host name for the report server URLs:</span></span>  
  
1.  <span data-ttu-id="1c3aa-199">Aprire il file RSReportServer.config in un editor di testo.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-199">Open the RSReportServer.config file in a text editor.</span></span>  
  
2.  <span data-ttu-id="1c3aa-200">Trovare <`Hostname`>, <`ReportServerUrl`> e <> `UrlRoot` e verificare il nome host per ogni impostazione.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-200">Find <`Hostname`>, <`ReportServerUrl`>, and <`UrlRoot`>, and check the host name for each settings.</span></span> <span data-ttu-id="1c3aa-201">Se il valore non corrisponde al nome host previsto, sostituirlo con il nome host corretto.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-201">If the value is not the host name you expect, replace it with the correct host name.</span></span>  
  
 <span data-ttu-id="1c3aa-202">Se si avvia lo strumento di configurazione di Reporting Services dopo avere apportato queste modifiche, lo strumento potrebbe modificare le `ReportServerUrl` impostazioni di <> sul valore predefinito.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-202">If you start the Reporting Services Configuration tool after making these changes, the tool might change the <`ReportServerUrl`> settings to the default value.</span></span> <span data-ttu-id="1c3aa-203">Mantenere sempre una copia di backup dei file di configurazione per i casi in cui sia necessario sostituirli con la versione contenente le impostazioni che si desidera utilizzare.</span><span class="sxs-lookup"><span data-stu-id="1c3aa-203">Always keep a backup copy of the configuration files in case you need to replace them with the version that contains the settings you want to use.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="1c3aa-204">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="1c3aa-204">See Also</span></span>  
 <span data-ttu-id="1c3aa-205">[Gestione configurazione Reporting Services &#40;modalità nativa&#41;](../../sql-server/install/reporting-services-configuration-manager-native-mode.md) </span><span class="sxs-lookup"><span data-stu-id="1c3aa-205">[Reporting Services Configuration Manager &#40;Native Mode&#41;](../../sql-server/install/reporting-services-configuration-manager-native-mode.md) </span></span>  
 <span data-ttu-id="1c3aa-206">[Configurare un URL &#40;Configuration Manager SSRS&#41;](../install-windows/configure-a-url-ssrs-configuration-manager.md) </span><span class="sxs-lookup"><span data-stu-id="1c3aa-206">[Configure a URL  &#40;SSRS Configuration Manager&#41;](../install-windows/configure-a-url-ssrs-configuration-manager.md) </span></span>  
 <span data-ttu-id="1c3aa-207">[Configurare una distribuzione con scalabilità orizzontale di un server di report in modalità nativa &#40;Configuration Manager SSRS&#41;](../install-windows/configure-a-native-mode-report-server-scale-out-deployment.md) </span><span class="sxs-lookup"><span data-stu-id="1c3aa-207">[Configure a Native Mode Report Server Scale-Out Deployment &#40;SSRS Configuration Manager&#41;](../install-windows/configure-a-native-mode-report-server-scale-out-deployment.md) </span></span>  
 [<span data-ttu-id="1c3aa-208">Gestire un server di report in modalità nativa di Reporting Services</span><span class="sxs-lookup"><span data-stu-id="1c3aa-208">Manage a Reporting Services Native Mode Report Server</span></span>](manage-a-reporting-services-native-mode-report-server.md)  
  
  
