---
title: Aggiornare un database del server di report | Microsoft Docs
ms.custom: ''
ms.date: 08/10/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
helpviewer_keywords:
- upgrading databases
- report server database
- upgrading Reporting Services
ms.assetid: 4091cf87-9d97-4048-a393-67f1f9207401
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: 28e382de505781f4155204fcc652d1308dacce76
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87637645"
---
# <a name="upgrade-a-report-server-database"></a><span data-ttu-id="26a88-102">Aggiornare un database del server di report</span><span class="sxs-lookup"><span data-stu-id="26a88-102">Upgrade a Report Server Database</span></span>
  <span data-ttu-id="26a88-103">Il database del server di report fornisce archiviazione per una o più istanze del server di report.</span><span class="sxs-lookup"><span data-stu-id="26a88-103">The report server database provides storage for one or more report server instances.</span></span> <span data-ttu-id="26a88-104">Poiché lo schema del database del server di report può essere modificato con ogni nuova versione di [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)], è necessario che la versione del database corrisponda alla versione dell'istanza del server di report in uso.</span><span class="sxs-lookup"><span data-stu-id="26a88-104">Because the report server database schema can change with each new release of [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)], it is required that the database version match the version of the report server instance you are using.</span></span> <span data-ttu-id="26a88-105">Nella maggior parte dei casi, un database del server di report può essere aggiornato automaticamente senza alcun intervento dell'utente.</span><span class="sxs-lookup"><span data-stu-id="26a88-105">In most cases, a report server database can be upgraded automatically with no specific action on your part.</span></span>  
  
 <span data-ttu-id="26a88-106">**Modalità nativa:** In [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] modalità nativa, il database del server di report è costituito in realtà da due database i cui nomi predefiniti sono "ReportServer e ReportServerTempDB".</span><span class="sxs-lookup"><span data-stu-id="26a88-106">**Native Mode:** In [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Native mode, the report server database is actually comprised of two database that have default names of "ReportServer and ReportServerTempDB".</span></span>  
  
 <span data-ttu-id="26a88-107">**Modalità SharePoint:** In [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] modalità SharePoint il database del server di report è in realtà una raccolta di database creata per ogni istanza dell' [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] applicazione di servizio.</span><span class="sxs-lookup"><span data-stu-id="26a88-107">**SharePoint mode:** In [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)][!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] SharePoint mode the report server database is actually a collection of databases that is created for each instance of the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] service application.</span></span>  
  
## <a name="ways-to-upgrade-a-native-mode-report-server-database"></a><span data-ttu-id="26a88-108">Modalità di aggiornamento di un database del server di report in modalità nativa</span><span class="sxs-lookup"><span data-stu-id="26a88-108">Ways to Upgrade a Native Mode Report Server Database</span></span>  
 <span data-ttu-id="26a88-109">Nell'elenco seguente sono incluse le condizioni necessarie per l'aggiornamento di un database del server di report:</span><span class="sxs-lookup"><span data-stu-id="26a88-109">The following list identifies the conditions under which a report server database is upgraded:</span></span>  
  
-   [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="26a88-110">Il programma di installazione aggiorna una singola istanza di un server di report.</span><span class="sxs-lookup"><span data-stu-id="26a88-110">Setup upgrades a single instance of a report server.</span></span> <span data-ttu-id="26a88-111">Lo schema del database del server di report viene quindi aggiornato automaticamente dopo l'avvio del servizio e il server di report determina che la versione dello schema del database non corrisponde alla versione del server.</span><span class="sxs-lookup"><span data-stu-id="26a88-111">The report server database schema is automatically upgraded after service startup and the report server determines that the database schema version does not match the server version.</span></span>  
  
     <span data-ttu-id="26a88-112">All'avvio del servizio, il server di report verifica che la versione dello schema del database corrisponda alla versione del server.</span><span class="sxs-lookup"><span data-stu-id="26a88-112">At service startup, the report server checks the database schema version to verify that it matches the server version.</span></span> <span data-ttu-id="26a88-113">Se la versione dello schema del database è precedente, il database viene aggiornato automaticamente alla versione dello schema richiesta dal server di report.</span><span class="sxs-lookup"><span data-stu-id="26a88-113">If the database schema version is an older version, it is automatically upgraded to the schema version that is required by the report server.</span></span> <span data-ttu-id="26a88-114">La funzionalità di aggiornamento automatico è particolarmente utile se è stato ripristinato o collegato un database del server di report meno recente.</span><span class="sxs-lookup"><span data-stu-id="26a88-114">Automatic upgrade is especially useful if you restored or attached an older report server database.</span></span> <span data-ttu-id="26a88-115">Nel file del log di traccia del server di report viene immesso un messaggio indicante che è stato eseguito l'aggiornamento della versione dello schema del database.</span><span class="sxs-lookup"><span data-stu-id="26a88-115">A message is entered in the report server trace log file indicating that the database schema version was upgraded.</span></span>  
  
-   <span data-ttu-id="26a88-116">Gestione configurazione [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] aggiorna un database del server di report locale o remoto quando si seleziona una versione precedente da usare con un'istanza del server di report più recente.</span><span class="sxs-lookup"><span data-stu-id="26a88-116">The [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Configuration Manager upgrades a local or remote report server database when you select an older version to use with a newer report server instance.</span></span> <span data-ttu-id="26a88-117">In questo caso, è necessario confermare l'azione di aggiornamento prima che si verifichi.</span><span class="sxs-lookup"><span data-stu-id="26a88-117">In this case, you must confirm the upgrade action before it happens.</span></span>  
  
     <span data-ttu-id="26a88-118">In Gestione configurazione [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] non è più disponibile un pulsante Aggiorna separato o uno script di aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="26a88-118">The [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Configuration Manager no longer provides a separate Upgrade button or upgrade script.</span></span> <span data-ttu-id="26a88-119">Queste funzionalità sono obsolete a partire da [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] a causa della funzionalità di aggiornamento automatico del servizio del server di report.</span><span class="sxs-lookup"><span data-stu-id="26a88-119">Those features are obsolete starting with [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] due to the automatic upgrade feature of the Report Server service.</span></span>  
  
 <span data-ttu-id="26a88-120">Al termine dell'aggiornamento dello schema, non sarà possibile eseguire il rollback dell'aggiornamento a una versione precedente.</span><span class="sxs-lookup"><span data-stu-id="26a88-120">After the schema is updated, you cannot rollback the upgrade to an earlier version.</span></span> <span data-ttu-id="26a88-121">Eseguire sempre il backup del database del server di report qualora sia necessario ricreare un'installazione precedente.</span><span class="sxs-lookup"><span data-stu-id="26a88-121">Always backup the report server database in case you need to recreate a previous installation.</span></span>  
  
## <a name="how-the-schema-metadata-and-report-server-content-is-updated"></a><span data-ttu-id="26a88-122">Modalità di aggiornamento di schema, metadati e contenuto del server di report</span><span class="sxs-lookup"><span data-stu-id="26a88-122">How the Schema, Metadata, and Report Server Content is Updated</span></span>  
 <span data-ttu-id="26a88-123">Il database del server di report viene aggiornato in tre fasi:</span><span class="sxs-lookup"><span data-stu-id="26a88-123">The report server database is upgraded in three stages:</span></span>  
  
1.  <span data-ttu-id="26a88-124">Lo schema viene aggiornato automaticamente dopo l'installazione e l'avvio del servizio o quando si seleziona un database del server di report della modalità nativa di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] in Gestione configurazione [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] , che è una versione precedente.</span><span class="sxs-lookup"><span data-stu-id="26a88-124">The schema is upgraded automatically after setup and service startup, or when you select a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Native mode report server database in the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Configuration Manager that is an older version.</span></span> <span data-ttu-id="26a88-125">Il servizio del server di report, inoltre, verifica la versione del database all'avvio.</span><span class="sxs-lookup"><span data-stu-id="26a88-125">In addition, the Report Server service checks the database version at startup.</span></span> <span data-ttu-id="26a88-126">Se il server di report è connesso a un database di una versione precedente, il server di report aggiornerà il database durante l'avvio.</span><span class="sxs-lookup"><span data-stu-id="26a88-126">If the report server is connected to a database that is an earlier version, the report server will update the database during startup.</span></span>  
  
2.  <span data-ttu-id="26a88-127">I descrittori di sicurezza vengono aggiornati al primo utilizzo del database del server di report dopo l'aggiornamento dello schema.</span><span class="sxs-lookup"><span data-stu-id="26a88-127">Security descriptors are upgraded on first use of the report server database after the schema is updated.</span></span>  
  
3.  <span data-ttu-id="26a88-128">I report pubblicati e gli snapshot dei report compilati vengono aggiornati al primo utilizzo.</span><span class="sxs-lookup"><span data-stu-id="26a88-128">Published reports and compiled report snapshots are updated on first use.</span></span> <span data-ttu-id="26a88-129">Per altre informazioni, vedere [Upgrade Reports](upgrade-reports.md).</span><span class="sxs-lookup"><span data-stu-id="26a88-129">For more information, see [Upgrade Reports](upgrade-reports.md).</span></span>  
  
 <span data-ttu-id="26a88-130">Oltre al database del server di report, un server di report utilizza anche un database temporaneo.</span><span class="sxs-lookup"><span data-stu-id="26a88-130">In addition to the report server database, a report server also uses a temporary database.</span></span> <span data-ttu-id="26a88-131">Il database temporaneo viene aggiornato automaticamente durante l'aggiornamento del database del server di report.</span><span class="sxs-lookup"><span data-stu-id="26a88-131">The temporary database is upgraded automatically when you upgrade the report server database.</span></span>  
  
## <a name="permissions-required-to-upgrade-a-report-server-database"></a><span data-ttu-id="26a88-132">Autorizzazioni richieste per aggiornare un database del server di report</span><span class="sxs-lookup"><span data-stu-id="26a88-132">Permissions required to upgrade a Report Server Database</span></span>  
 <span data-ttu-id="26a88-133">Se si sta aggiornando un'installazione di [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] che include un database del server di report, potrebbe essere visualizzato un messaggio di errore se l'aggiornamento del database viene eseguito con autorizzazioni insufficienti.</span><span class="sxs-lookup"><span data-stu-id="26a88-133">If you are upgrading a [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] installation that includes a report server database, you may see an error message if the database upgrade is performed with insufficient permissions.</span></span> <span data-ttu-id="26a88-134">Per impostazione predefinita, nel programma di installazione viene utilizzato il token di sicurezza dell'utente che sta eseguendo il programma di installazione per connettersi all'istanza remota di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] e aggiornare lo schema.</span><span class="sxs-lookup"><span data-stu-id="26a88-134">By default, Setup uses the security token of the user who is running the Setup program to connect to the remote [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance and update the schema.</span></span> <span data-ttu-id="26a88-135">Se si hanno le autorizzazioni [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]sysadmin**di** per il server di database che ospita i database del server di report, l'aggiornamento del database avrà esito positivo.</span><span class="sxs-lookup"><span data-stu-id="26a88-135">If you have [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] **sysadmin** permissions on the database server that hosts the report server databases, the database upgrade will succeed.</span></span> <span data-ttu-id="26a88-136">Allo stesso modo, se si esegue il programma di installazione dal prompt dei comandi e si specificano gli argomenti RSUPGRADEDATABASEACCOUNT e RSUPGRADEPASSWORD per un account che ha l'autorizzazione **sysadmin** per modificare lo schema nel computer remoto, l'aggiornamento del database avrà esito positivo.</span><span class="sxs-lookup"><span data-stu-id="26a88-136">Similarly, if you run Setup from the command prompt and specify the RSUPGRADEDATABASEACCOUNT and RSUPGRADEPASSWORD arguments for an account that has **sysadmin** permission to modify the schema on the remote computer, the database upgrade will succeed.</span></span>  
  
 <span data-ttu-id="26a88-137">Se invece non si ha l'autorizzazione **sysadmin** per il database nel computer remoto, la connessione verrà rifiutata con l'errore seguente:</span><span class="sxs-lookup"><span data-stu-id="26a88-137">However, if you do not have **sysadmin** permission to the database on the remote computer, the connection will be refused with the following error:</span></span>  
  
 `"Setup was not able to upgrade the report server database schema. You must update the database schema manually after setup is finished. To update the schema, run the Reporting Services Configuration Manager, open the Database Setup page, re-select the database, and click Apply. The database will be upgraded automatically."`  
  
 <span data-ttu-id="26a88-138">A questo punto verranno aggiornati i file di programma del server di report, ma il database del server di report manterrà il formato della versione precedente.</span><span class="sxs-lookup"><span data-stu-id="26a88-138">At this point, the report server program files will be upgraded, but the report server database will be in the format of the previous version.</span></span> <span data-ttu-id="26a88-139">Il server di report non sarà disponibile finché non si completa il processo di aggiornamento aggiornando manualmente il database.</span><span class="sxs-lookup"><span data-stu-id="26a88-139">The report server will be unavailable until you finish the upgrade process by upgrading the database manually.</span></span>  
  
#### <a name="to-upgrade-a-native-mode-database-with-scripts"></a><span data-ttu-id="26a88-140">Per aggiornare un database in modalità nativa con gli script</span><span class="sxs-lookup"><span data-stu-id="26a88-140">To upgrade a Native Mode database With Scripts</span></span>  
 <span data-ttu-id="26a88-141">È possibile utilizzare script WMI per aggiornare un database del server di report.</span><span class="sxs-lookup"><span data-stu-id="26a88-141">You can use WMI scripts to upgrade a report server database.</span></span> <span data-ttu-id="26a88-142">Per altre informazioni, vedere [Metodo GenerateDatabaseUpgradeScript &#40;WMI MSReportServer_ConfigurationSetting&#41;](../wmi-provider-library-reference/configurationsetting-method-generatedatabaseupgradescript.md)</span><span class="sxs-lookup"><span data-stu-id="26a88-142">For more information, see [GenerateDatabaseUpgradeScript Method &#40;WMI MSReportServer_ConfigurationSetting&#41;](../wmi-provider-library-reference/configurationsetting-method-generatedatabaseupgradescript.md)</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="26a88-143">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="26a88-143">See Also</span></span>  
 <span data-ttu-id="26a88-144">[Gestione configurazione Reporting Services &#40;modalità nativa&#41;](../../sql-server/install/reporting-services-configuration-manager-native-mode.md) </span><span class="sxs-lookup"><span data-stu-id="26a88-144">[Reporting Services Configuration Manager &#40;Native Mode&#41;](../../sql-server/install/reporting-services-configuration-manager-native-mode.md) </span></span>  
 <span data-ttu-id="26a88-145">[Creazione di un database del server di report &#40;Configuration Manager SSRS&#41;](../../sql-server/install/create-a-report-server-database-ssrs-configuration-manager.md) </span><span class="sxs-lookup"><span data-stu-id="26a88-145">[Create a Report Server Database  &#40;SSRS Configuration Manager&#41;](../../sql-server/install/create-a-report-server-database-ssrs-configuration-manager.md) </span></span>  
 <span data-ttu-id="26a88-146">[Procedura guidata Cambia database &#40;modalità nativa SSRS&#41;](../../sql-server/install/change-database-wizard-ssrs-native-mode.md) </span><span class="sxs-lookup"><span data-stu-id="26a88-146">[Change Database Wizard &#40;SSRS Native Mode&#41;](../../sql-server/install/change-database-wizard-ssrs-native-mode.md) </span></span>  
 <span data-ttu-id="26a88-147">[Eseguire l'aggiornamento e la migrazione di Reporting Services](upgrade-and-migrate-reporting-services.md) </span><span class="sxs-lookup"><span data-stu-id="26a88-147">[Upgrade and Migrate Reporting Services](upgrade-and-migrate-reporting-services.md) </span></span>  
 [<span data-ttu-id="26a88-148">Eseguire la migrazione di un'installazione di Reporting Services &#40;modalità nativa&#41;</span><span class="sxs-lookup"><span data-stu-id="26a88-148">Migrate a Reporting Services Installation &#40;Native Mode&#41;</span></span>](migrate-a-reporting-services-installation-native-mode.md)  
  
  
