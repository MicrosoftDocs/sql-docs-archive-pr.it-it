---
title: Informazioni sui criteri di sicurezza | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services
ms.topic: reference
helpviewer_keywords:
- code groups [Reporting Services]
- code access security [Reporting Services], security policies
- Execution permission set
- custom assemblies [Reporting Services], security
- permission sets [Reporting Services]
- expressions [Reporting Services], security
- evidence [Reporting Services]
- FullTrust permission set
- security policies [Reporting Services]
- named permission sets [Reporting Services]
ms.assetid: a9bf043a-139a-4929-9a58-244815323df0
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: e03f2ca7aae75f692ba2c888d1fb6bd3f60fb4a4
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87637648"
---
# <a name="understanding-security-policies"></a><span data-ttu-id="6cf58-102">Informazioni sui criteri di sicurezza</span><span class="sxs-lookup"><span data-stu-id="6cf58-102">Understanding Security Policies</span></span>
  <span data-ttu-id="6cf58-103">Qualsiasi codice eseguito da un server di report deve far parte di criteri di sicurezza dall'accesso di codice specifici.</span><span class="sxs-lookup"><span data-stu-id="6cf58-103">Any code that is executed by a report server must be part of a specific code access security policy.</span></span> <span data-ttu-id="6cf58-104">Tali criteri di sicurezza sono costituiti da gruppi di codice che eseguono il mapping dell'evidenza a un insieme di set di autorizzazioni denominati.</span><span class="sxs-lookup"><span data-stu-id="6cf58-104">These security policies consist of code groups that map evidence to a set of named permission sets.</span></span> <span data-ttu-id="6cf58-105">I gruppi di codice sono spesso associati a un set di autorizzazioni denominato che specifica le autorizzazioni consentite per il codice appartenente al gruppo specifico.</span><span class="sxs-lookup"><span data-stu-id="6cf58-105">Often, code groups are associated with a named permission set that specifies the allowable permissions for code in that group.</span></span> <span data-ttu-id="6cf58-106">In fase di esecuzione l'evidenza viene usata da un host trusted o dal caricatore per determinare i gruppi di codice cui il codice appartiene e, di conseguenza, le autorizzazioni per concedere il codice.</span><span class="sxs-lookup"><span data-stu-id="6cf58-106">The runtime uses evidence provided by a trusted host or by the loader to determine which code groups the code belongs to and, therefore, which permissions to grant the code.</span></span> [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] <span data-ttu-id="6cf58-107">aderisce a questo tipo di architettura relativa ai criteri di sicurezza come definito da Common Language Runtime (CLR) di [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="6cf58-107">adheres to this security policy architecture as defined by the [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] common language runtime (CLR).</span></span> <span data-ttu-id="6cf58-108">Nelle sezioni seguenti vengono descritti i diversi tipi di codice in [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] e le regole dei criteri associate.</span><span class="sxs-lookup"><span data-stu-id="6cf58-108">The following sections describe the various types of code in [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] and the policy rules associated with them.</span></span>  
  
## <a name="report-server-assemblies"></a><span data-ttu-id="6cf58-109">Assembly del server di report</span><span class="sxs-lookup"><span data-stu-id="6cf58-109">Report Server Assemblies</span></span>  
 <span data-ttu-id="6cf58-110">Gli assembly del server di report contengono codice incluso nel prodotto [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="6cf58-110">Report server assemblies are those that contain code that is part of the [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] product.</span></span> [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] <span data-ttu-id="6cf58-111">viene scritto usando assembly del codice gestito. Tutti questi assembly hanno un nome sicuro, ossia sono firmati digitalmente.</span><span class="sxs-lookup"><span data-stu-id="6cf58-111">is written using managed code assemblies; all of these assemblies are strong-named (that is, digitally signed).</span></span> <span data-ttu-id="6cf58-112">I gruppi di codice per questi assembly vengono definiti usando **StrongNameMembershipCondition**, che offre evidenza basata sulle informazioni relative alla chiave pubblica per il nome sicuro dell'assembly.</span><span class="sxs-lookup"><span data-stu-id="6cf58-112">The code groups for these assemblies are defined using the **StrongNameMembershipCondition**, which provides evidence based on public key information for the assembly's strong name.</span></span> <span data-ttu-id="6cf58-113">Al gruppo di codice viene concesso il set di autorizzazioni **FullTrust**.</span><span class="sxs-lookup"><span data-stu-id="6cf58-113">The code group is granted the **FullTrust** permission set.</span></span>  
  
## <a name="report-server-extensions-rendering-data-delivery-and-security"></a><span data-ttu-id="6cf58-114">Estensioni del server di report (rendering, dati, recapito e sicurezza)</span><span class="sxs-lookup"><span data-stu-id="6cf58-114">Report Server Extensions (Rendering, Data, Delivery, and Security)</span></span>  
 <span data-ttu-id="6cf58-115">Le estensioni del server di report sono estensioni per dati personalizzati, per il recapito, per il rendering e di sicurezza create dall'utente o da terze parti per estendere le funzionalità di [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="6cf58-115">Report server extensions are custom data, delivery, rendering, and security extensions that you or other third-parties create in order to extend the functionality of [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)].</span></span> <span data-ttu-id="6cf58-116">È necessario concedere l'autorizzazione **FullTrust** a queste estensioni o al codice assembly nei file di configurazione dei criteri associati al componente di [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] a cui viene applicata l'estensione.</span><span class="sxs-lookup"><span data-stu-id="6cf58-116">You must grant **FullTrust** to these extensions or assembly code in the policy configuration files associated with the [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] component you are extending.</span></span> <span data-ttu-id="6cf58-117">Le estensioni incluse in [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] sono firmate con la chiave pubblica del server di report e ricevono il set di autorizzazioni **FullTrust**.</span><span class="sxs-lookup"><span data-stu-id="6cf58-117">Extensions shipped as a part of [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] are signed with the report server public key and receive the **FullTrust** permission set.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="6cf58-118">Per concedere l'autorizzazione **FullTrust** alle estensioni di terze parti è necessario modificare i file di configurazione dei criteri di [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="6cf58-118">You must modify the [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] policy configuration files to allow **FullTrust** for any third-party extensions.</span></span> <span data-ttu-id="6cf58-119">Se non si aggiunge un gruppo di codice con autorizzazione **FullTrust** per le estensioni personalizzate, queste non potranno essere usate dal server di report.</span><span class="sxs-lookup"><span data-stu-id="6cf58-119">If you do not add a code group with **FullTrust** for your custom extensions, they cannot be used by the report server.</span></span>  
  
 <span data-ttu-id="6cf58-120">Per altre informazioni sui file di configurazione dei criteri in [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)], vedere [Uso di file di criteri di sicurezza di Reporting Services](using-reporting-services-security-policy-files.md).</span><span class="sxs-lookup"><span data-stu-id="6cf58-120">For more information about the policy configuration files in [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)], see [Using Reporting Services Security Policy Files](using-reporting-services-security-policy-files.md).</span></span>  
  
## <a name="expressions-used-in-reports"></a><span data-ttu-id="6cf58-121">Espressioni usate nei report</span><span class="sxs-lookup"><span data-stu-id="6cf58-121">Expressions Used in Reports</span></span>  
 <span data-ttu-id="6cf58-122">Le espressioni del report sono espressioni di codice inline o metodi definiti dall'utente contenuti nell'elemento **Code** di un file RDL.</span><span class="sxs-lookup"><span data-stu-id="6cf58-122">Report expressions are inline code expressions or user-defined methods contained within the **Code** element of a report definition language file.</span></span> <span data-ttu-id="6cf58-123">Nei file dei criteri è disponibile un gruppo di codice già configurato che concede a queste espressioni il set di autorizzazioni **Execution** per impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="6cf58-123">There is a code group that is already configured in the policy files that grants these expressions the **Execution** permission set by default.</span></span> <span data-ttu-id="6cf58-124">Il gruppo di codice è analogo al seguente:</span><span class="sxs-lookup"><span data-stu-id="6cf58-124">The code group looks like the following:</span></span>  
  
```  
<CodeGroup  
   class="UnionCodeGroup"  
   version="1"  
   PermissionSetName="Execution"  
   Name="Report_Expressions_Default_Permissions"  
   Description="This code group grants default permissions for code in report expressions and Code element. ">  
    <IMembershipCondition  
       class="StrongNameMembershipCondition"  
       version="1"  
       PublicKeyBlob="002400..."  
    />  
</CodeGroup>  
```  
  
 <span data-ttu-id="6cf58-125">L'autorizzazione **Execution** consente l'esecuzione del codice che non può tuttavia usare le risorse protette.</span><span class="sxs-lookup"><span data-stu-id="6cf58-125">**Execution** permission allows code to run (execute), but not to use protected resources.</span></span> <span data-ttu-id="6cf58-126">Tutte le espressioni presenti all'interno di un report vengono compilate in un assembly (denominato assembly "delle espressioni") archiviato come parte del report compilato.</span><span class="sxs-lookup"><span data-stu-id="6cf58-126">All expressions found within a report are compiled into an assembly (called an "expression host" assembly) that is stored as a part of the compiled report.</span></span> <span data-ttu-id="6cf58-127">Quando il report viene eseguito, il server di report carica l'assembly delle espressioni ed effettua chiamate in tale assembly per eseguire le espressioni.</span><span class="sxs-lookup"><span data-stu-id="6cf58-127">When the report is executed, the report server loads the expression host assembly and makes calls into that assembly to execute expressions.</span></span> <span data-ttu-id="6cf58-128">Gli assembly delle espressioni vengono firmati con una chiave specifica usata per definire il gruppo di codice per tutte le espressioni.</span><span class="sxs-lookup"><span data-stu-id="6cf58-128">Expression host assemblies are signed with a specific key that is used to define the code group for all expression hosts.</span></span>  
  
 <span data-ttu-id="6cf58-129">Le espressioni del report fanno riferimento a raccolte di modelli a oggetti del report (campi, parametri e così via) ed eseguono semplici attività, ad esempio operazioni aritmetiche e di stringa.</span><span class="sxs-lookup"><span data-stu-id="6cf58-129">Report expressions reference report object model collections (fields, parameters, etc.) and perform simple tasks like arithmetic and string operations.</span></span> <span data-ttu-id="6cf58-130">Per il codice che esegue queste semplici operazioni è necessaria solo l'autorizzazione **Execution**.</span><span class="sxs-lookup"><span data-stu-id="6cf58-130">Code that performs these simple operations only requires **Execution** permission.</span></span> <span data-ttu-id="6cf58-131">Per impostazione predefinita, ai metodi definiti dall'utente nell'elemento **Code** e agli assembly personalizzati viene concessa l'autorizzazione **Execution** in [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="6cf58-131">By default, user-defined methods in the **Code** element and any custom assemblies are granted **Execution** permission in [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)].</span></span> <span data-ttu-id="6cf58-132">Di conseguenza, per la maggior parte delle espressioni, non è necessario modificare alcun file di criteri di sicurezza per la configurazione corrente.</span><span class="sxs-lookup"><span data-stu-id="6cf58-132">Thus, for most expressions, the current configuration does not require that you modify any security policy files.</span></span> <span data-ttu-id="6cf58-133">Per concedere autorizzazioni aggiuntive agli assembly delle espressioni, è necessario che un amministratore modifichi i file di configurazione dei criteri del server di report e di Progettazione report e il gruppo di codice delle espressioni del report.</span><span class="sxs-lookup"><span data-stu-id="6cf58-133">To grant additional permissions to expression host assemblies, an administrator needs to modify the policy configuration files of the report server and Report Designer, and change the report expressions code group.</span></span> <span data-ttu-id="6cf58-134">Poiché è un'impostazione globale, la modifica di autorizzazioni predefinite per le espressioni influisce su tutti i report.</span><span class="sxs-lookup"><span data-stu-id="6cf58-134">Because it is a global setting, changing default permissions for the expression hosts affects all reports.</span></span> <span data-ttu-id="6cf58-135">Per tale ragione, è consigliabile posizionare tutto il codice per cui è necessario usare sicurezza aggiuntiva in un assembly personalizzato.</span><span class="sxs-lookup"><span data-stu-id="6cf58-135">For this reason, it is highly recommended that you place all code that requires additional security into a custom assembly.</span></span> <span data-ttu-id="6cf58-136">Le autorizzazioni necessarie verranno concesse solo a tale assembly.</span><span class="sxs-lookup"><span data-stu-id="6cf58-136">Only this assembly will be granted the permissions you need.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="6cf58-137">Affinché sia possibile usarlo nei report, il codice che effettua chiamate ad assembly esterni oppure a risorse protette deve essere incorporato in un assembly personalizzato.</span><span class="sxs-lookup"><span data-stu-id="6cf58-137">Code that calls external assemblies or protected resources should be incorporated into a custom assembly for use in reports.</span></span> <span data-ttu-id="6cf58-138">In questo modo è possibile esercitare maggiore controllo sulle autorizzazioni richieste e asserite dal codice.</span><span class="sxs-lookup"><span data-stu-id="6cf58-138">Doing so gives you more control over the permissions requested and asserted by your code.</span></span> <span data-ttu-id="6cf58-139">È consigliabile non effettuare chiamate ai metodi protetti all'interno dell'elemento **Code**.</span><span class="sxs-lookup"><span data-stu-id="6cf58-139">You should not make calls to secure methods within the **Code** element.</span></span> <span data-ttu-id="6cf58-140">Per farlo è infatti necessario concedere l'autorizzazione **FullTrust** all'host delle espressioni del report e a tutto il codice personalizzato verrà concesso l'accesso completo a CLR.</span><span class="sxs-lookup"><span data-stu-id="6cf58-140">Doing so requires you to grant **FullTrust** to the report expression host and grants all custom code full access to the CLR.</span></span>  
  
> [!CAUTION]  
>  <span data-ttu-id="6cf58-141">Non concedere l'autorizzazione **FullTrust** al gruppo di codice per un host delle espressioni del report.</span><span class="sxs-lookup"><span data-stu-id="6cf58-141">Do not grant **FullTrust** to the code group for a report expression host.</span></span> <span data-ttu-id="6cf58-142">In caso contrario, a tutte le espressioni del report viene consentito di effettuare chiamate di sistema protette.</span><span class="sxs-lookup"><span data-stu-id="6cf58-142">If you do, you enable all report expressions to make protected system calls.</span></span>  
  
## <a name="custom-assemblies-referenced-in-reports"></a><span data-ttu-id="6cf58-143">Assembly personalizzati cui si fa riferimento nei report</span><span class="sxs-lookup"><span data-stu-id="6cf58-143">Custom Assemblies Referenced in Reports</span></span>  
 <span data-ttu-id="6cf58-144">Alcune espressioni del report possono chiamare assembly del codice di terze parti, denominati assembly personalizzati in [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="6cf58-144">Some report expressions can call third-party code assemblies, also known in [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] as custom assemblies.</span></span> <span data-ttu-id="6cf58-145">Per essere usati in un server di report, è necessario che a questi assembly sia concessa almeno l'autorizzazione **Execution** nei file di configurazione dei criteri.</span><span class="sxs-lookup"><span data-stu-id="6cf58-145">The report server expects these assemblies to have at least **Execution** permission in the policy configuration files.</span></span> <span data-ttu-id="6cf58-146">Per impostazione predefinita, i file dei criteri inclusi in [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] concedono l'autorizzazione **Execution** a tutti gli assembly avviati dall'area Risorse del computer.</span><span class="sxs-lookup"><span data-stu-id="6cf58-146">By default, policy files that ship with [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] grant **Execution** permission to all assemblies starting from the 'My Computer' zone.</span></span> <span data-ttu-id="6cf58-147">È possibile concedere autorizzazioni aggiuntive agli assembly personalizzati in base alle proprie esigenze.</span><span class="sxs-lookup"><span data-stu-id="6cf58-147">You can grant additional permissions to custom assemblies as needed.</span></span>  
  
 <span data-ttu-id="6cf58-148">In alcuni casi, potrebbe essere necessario eseguire un'operazione che richiede autorizzazioni per il codice specifiche in un'espressione del report.</span><span class="sxs-lookup"><span data-stu-id="6cf58-148">In some cases, you may need to perform an operation that requires specific code permissions in a report expression.</span></span> <span data-ttu-id="6cf58-149">Se si verifica questa situazione, in genere un'espressione del report deve effettuare una chiamata a un metodo della libreria CLR protetto, ad esempio un metodo che esegue l'accesso ai file oppure al Registro di sistema.</span><span class="sxs-lookup"><span data-stu-id="6cf58-149">Typically, this means that a report expression needs to make a call to a secured CLR library method (such as one that accesses files or the system registry).</span></span> <span data-ttu-id="6cf58-150">Nella documentazione di [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] vengono descritte le autorizzazioni per il codice necessarie per effettuare la chiamata protetta. Al codice che esegue quest'ultima operazione è necessario concedere tali autorizzazioni di sicurezza specifiche.</span><span class="sxs-lookup"><span data-stu-id="6cf58-150">The [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] documentation describes the code permissions that are required to make this secure call; to execute the call, the calling code must be granted these specific, secure permissions.</span></span> <span data-ttu-id="6cf58-151">Se si effettua una chiamata da un'espressione del report o dall'elemento **Code** è necessario concedere all'assembly delle espressioni le autorizzazioni appropriate.</span><span class="sxs-lookup"><span data-stu-id="6cf58-151">If you make the call from a report expression or the **Code** element, the expression host assembly must be granted the appropriate permissions.</span></span> <span data-ttu-id="6cf58-152">Una volta concesse alle espressioni, tuttavia, le autorizzazioni specifiche vengono concesse a tutto il codice eseguito in tutte le espressioni di qualsiasi report.</span><span class="sxs-lookup"><span data-stu-id="6cf58-152">However, once you grant the expression host the permissions, all code that runs in any expression in any report is now granted that specific permission.</span></span> <span data-ttu-id="6cf58-153">L'esecuzione della chiamata da un assembly personalizzato cui sono state concesse le autorizzazioni specifiche è molto più sicura a livello di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="6cf58-153">It is much more secure to make the call from a custom assembly and grant that custom assembly the specific permissions.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="6cf58-154">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="6cf58-154">See Also</span></span>  
 <span data-ttu-id="6cf58-155">[Sicurezza dall'accesso di codice in Reporting Services](code-access-security-in-reporting-services.md) </span><span class="sxs-lookup"><span data-stu-id="6cf58-155">[Code Access Security in Reporting Services](code-access-security-in-reporting-services.md) </span></span>  
 [<span data-ttu-id="6cf58-156">Sviluppo sicuro &#40;Reporting Services&#41;</span><span class="sxs-lookup"><span data-stu-id="6cf58-156">Secure Development &#40;Reporting Services&#41;</span></span>](secure-development-reporting-services.md)  
  
  
