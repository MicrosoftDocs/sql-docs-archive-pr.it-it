---
title: Garantire la sicurezza di report e risorse | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services-native
ms.topic: conceptual
helpviewer_keywords:
- security [Reporting Services], reports
- security [Reporting Services], resources
- reports [Reporting Services], security
- confidential reports [Reporting Services]
- resources [Reporting Services], security
ms.assetid: 63cd55c7-fd2a-49e3-a3f8-59eb1a1c6e83
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: 6c8eef86da2fe9c7dcc92488a08516a73aa37e92
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87629179"
---
# <a name="secure-reports-and-resources"></a><span data-ttu-id="0396e-102">Garantire la sicurezza di report e risorse</span><span class="sxs-lookup"><span data-stu-id="0396e-102">Secure Reports and Resources</span></span>
  <span data-ttu-id="0396e-103">È possibile impostare la sicurezza per singoli report e risorse e controllare quindi i livelli di accesso concessi ai vari utenti per questi elementi.</span><span class="sxs-lookup"><span data-stu-id="0396e-103">You can set security for individual reports and resources to control the degree of access that users have to these items.</span></span> <span data-ttu-id="0396e-104">Per impostazione predefinita, solo i membri del gruppo **Administrators** predefinito possono eseguire report, visualizzare risorse, modificare proprietà ed eliminare elementi.</span><span class="sxs-lookup"><span data-stu-id="0396e-104">By default, only users who are members of the **Administrators** built-in group can run reports, view resources, modify properties, and delete the items.</span></span> <span data-ttu-id="0396e-105">Per tutti gli altri utenti è necessario creare assegnazioni di ruolo che consentano l'accesso a un report o a una risorsa.</span><span class="sxs-lookup"><span data-stu-id="0396e-105">All other users must have role assignments created for them that allow access to a report or resource.</span></span>  
  
## <a name="role-based-access-to-reports-and-resources"></a><span data-ttu-id="0396e-106">Accesso basato sui ruoli a report e risorse</span><span class="sxs-lookup"><span data-stu-id="0396e-106">Role-based Access to Reports and Resources</span></span>  
 <span data-ttu-id="0396e-107">Per concedere l'accesso a report e risorse, è possibile consentire agli utenti di ereditare le assegnazioni di ruolo esistenti da una cartella padre oppure creare una nuova assegnazione di ruolo nell'elemento stesso.</span><span class="sxs-lookup"><span data-stu-id="0396e-107">To grant access to reports and resources, you can allow users to inherit existing role assignments from a parent folder or create a new role assignment on the item itself.</span></span>  
  
 <span data-ttu-id="0396e-108">Nella maggior parte dei casi, è probabilmente preferibile utilizzare autorizzazioni ereditate da una cartella padre.</span><span class="sxs-lookup"><span data-stu-id="0396e-108">In most cases, you will probably want to use the permissions that are inherited from a parent folder.</span></span> <span data-ttu-id="0396e-109">L'impostazione della sicurezza per singoli report e risorse è in genere necessaria solo se si desidera nascondere questi elementi agli utenti che non hanno necessità di conoscerne l'esistenza oppure aumentare il livello di accesso all'elemento o al report.</span><span class="sxs-lookup"><span data-stu-id="0396e-109">Setting security on individual reports and resources should only be necessary if you want to hide the report or resource from users who do not need to know that the report or resource exists, or to increase the level of access for a report or item.</span></span> <span data-ttu-id="0396e-110">Queste due finalità non si escludono a vicenda.</span><span class="sxs-lookup"><span data-stu-id="0396e-110">These objectives are not mutually exclusive.</span></span> <span data-ttu-id="0396e-111">È possibile limitare l'accesso a un report a un numero inferiore di utenti e concedere a tutti, o solo ad alcuni, privilegi aggiuntivi per la gestione del report.</span><span class="sxs-lookup"><span data-stu-id="0396e-111">You can restrict access to a report to a smaller set of users, and provide all or some of them with additional privileges to manage the report.</span></span>  
  
 <span data-ttu-id="0396e-112">Per ottenere i risultati desiderati, potrebbe essere necessario creare più assegnazioni di ruolo.</span><span class="sxs-lookup"><span data-stu-id="0396e-112">You may need to create multiple role assignments to achieve your objectives.</span></span> <span data-ttu-id="0396e-113">Si supponga ad esempio che sia necessario rendere accessibile un determinato report agli utenti Ann e Fernando e al gruppo Responsabili risorse umane.</span><span class="sxs-lookup"><span data-stu-id="0396e-113">For example, suppose you have a report that you want to make accessible to two users, Ann and Fernando, and to the Human Resource Managers group.</span></span> <span data-ttu-id="0396e-114">Ann e Fernando devono essere in grado di gestire il report, mentre gli utenti del gruppo Responsabili risorse umane devono solo essere autorizzati a eseguirlo.</span><span class="sxs-lookup"><span data-stu-id="0396e-114">Ann and Fernando must be able to manage the report, but the Human Resource Managers members need only to run it.</span></span> <span data-ttu-id="0396e-115">Per gestire queste diverse tipologie di utenti, è necessario creare tre assegnazioni di ruolo distinte: una per assegnare ad Ann il ruolo Gestione contenuto per il report, un'altra per assegnare a Fernando il ruolo Gestione contenuto per il report e la terza per consentire attività di sola lettura al gruppo Responsabili risorse umane.</span><span class="sxs-lookup"><span data-stu-id="0396e-115">To accommodate all of these users, you would create three separate role assignments: one to make Ann a content manager of the report, one to make Fernando a content manager of the report, and one to support view-only tasks for the Human Resource Managers group.</span></span>  
  
 <span data-ttu-id="0396e-116">Quando si imposta la sicurezza per un report o una risorsa, le impostazioni rimangono associate all'elemento anche se lo si sposta in una nuova posizione.</span><span class="sxs-lookup"><span data-stu-id="0396e-116">Once you set security on a report or resource, those settings stay with the item even if you move the item to a new location.</span></span> <span data-ttu-id="0396e-117">Se, ad esempio, si sposta un report accessibile solo da un numero limitato di utenti, il report rimarrà disponibile solo per tali utenti anche se viene spostato in una cartella con criteri di sicurezza meno restrittivi.</span><span class="sxs-lookup"><span data-stu-id="0396e-117">For example, if you move a report that only a few people are authorized to access, the report continues to be available to just those users even if you move it to a folder that has a relatively open security policy.</span></span>  
  
## <a name="mitigating-html-injection-attacks-in-a-published-report-or-document"></a><span data-ttu-id="0396e-118">Riduzione del rischio di attacchi intrusivi nel codice HTML in un documento o in un report pubblicato</span><span class="sxs-lookup"><span data-stu-id="0396e-118">Mitigating HTML Injection Attacks in a Published Report or Document</span></span>  
 <span data-ttu-id="0396e-119">In [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)]i report e le risorse vengono elaborati con l'identità di sicurezza dell'utente che sta eseguendo il report.</span><span class="sxs-lookup"><span data-stu-id="0396e-119">In [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)], reports and resources are processed under the security identity of the user who is running the report.</span></span> <span data-ttu-id="0396e-120">Se il report contiene espressioni, script, elementi del report personalizzati o assembly personalizzati, il codice viene eseguito con le credenziali dell'utente.</span><span class="sxs-lookup"><span data-stu-id="0396e-120">If the report contains expressions, script, custom report items, or custom assemblies, the code runs under the user's credentials.</span></span> <span data-ttu-id="0396e-121">Se una risorsa è un documento HTML che contiene script, lo script viene eseguito quando l'utente apre il documento nel server di report.</span><span class="sxs-lookup"><span data-stu-id="0396e-121">If a resource is an HTML document that contains script, the script will run when the user opens the document on the report server.</span></span> <span data-ttu-id="0396e-122">La possibilità di eseguire codice o script contenuti in un report è una caratteristica potente che comporta un determinato livello di rischio.</span><span class="sxs-lookup"><span data-stu-id="0396e-122">The ability to run script or code within a report is a powerful feature that comes with a certain level of risk.</span></span> <span data-ttu-id="0396e-123">Se il codice è dannoso, il server di report e l'utente che sta eseguendo il report sono vulnerabili a un attacco.</span><span class="sxs-lookup"><span data-stu-id="0396e-123">If the code is malicious, the report server and the user who is running the report are vulnerable to attack.</span></span>  
  
 <span data-ttu-id="0396e-124">Quando si concede l'accesso a report e risorse elaborati in formato HTML, è importante considerare che i report vengono eseguiti con attendibilità totale e pertanto potrebbero venire inviati al client script potenzialmente dannosi.</span><span class="sxs-lookup"><span data-stu-id="0396e-124">When granting access to reports and to resources that are processed as HTML, it is important to remember that reports are processed in full trust and that potentially malicious script might be sent to the client.</span></span> <span data-ttu-id="0396e-125">In base alle impostazioni del browser, il codice HTML viene eseguito dal client con il livello di attendibilità impostato nel browser.</span><span class="sxs-lookup"><span data-stu-id="0396e-125">Depending on browser settings, the client will execute the HTML at the level of trust that is specified in the browser.</span></span>  
  
 <span data-ttu-id="0396e-126">È possibile ridurre il rischio di esecuzione di script dannosi adottando le precauzioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="0396e-126">You can mitigate the risk of running malicious script by taking the following precautions:</span></span>  
  
-   <span data-ttu-id="0396e-127">Essere selettivi quando si definiscono gli utenti che possono pubblicare contenuti in un server di report.</span><span class="sxs-lookup"><span data-stu-id="0396e-127">Be selective when deciding who can publish content to a report server.</span></span> <span data-ttu-id="0396e-128">Poiché esiste la possibilità di pubblicare contenuti dannosi, è necessario limitare gli utenti che possono pubblicare i contenuti a un numero ristretto di utenti trusted.</span><span class="sxs-lookup"><span data-stu-id="0396e-128">Because the potential for publishing malicious content exists, you should limit users who can publish content to a small number of trusted users.</span></span>  
  
-   <span data-ttu-id="0396e-129">Evitare in tutti i server di pubblicazione la pubblicazione di report e risorse provenienti da origini sconosciute o non attendibili.</span><span class="sxs-lookup"><span data-stu-id="0396e-129">All publishers should avoid publishing reports and resources that come from unknown or untrusted sources.</span></span> <span data-ttu-id="0396e-130">Se necessario, aprire il file in un editor di testo e verificare se sono presenti URL o script sospetti.</span><span class="sxs-lookup"><span data-stu-id="0396e-130">If necessary, open the file in a text editor and look for suspicious script and URLs.</span></span>  
  
## <a name="report-parameters-and-script-injection"></a><span data-ttu-id="0396e-131">Attacchi intrusivi nei parametri e nel codice di script del report</span><span class="sxs-lookup"><span data-stu-id="0396e-131">Report Parameters and Script Injection</span></span>  
 <span data-ttu-id="0396e-132">I parametri del report offrono la flessibilità necessaria per la progettazione e l'esecuzione complessive del report.</span><span class="sxs-lookup"><span data-stu-id="0396e-132">Report Parameters provide flexibility for the overall report design and execution.</span></span> <span data-ttu-id="0396e-133">In alcuni casi, questa stessa flessibilità può tuttavia essere sfruttata da un pirata informatico per compiere attacchi luring.</span><span class="sxs-lookup"><span data-stu-id="0396e-133">However, this same flexibility can, in some cases be used by an attacker in luring attacks.</span></span> <span data-ttu-id="0396e-134">Per ridurre il rischio di esecuzione involontaria di script dannosi, aprire esclusivamente i report visualizzabili provenienti da origini attendibili.</span><span class="sxs-lookup"><span data-stu-id="0396e-134">To mitigate the risk of inadvertently running malicious scripts, only open rendered reports from trusted sources.</span></span> <span data-ttu-id="0396e-135">È consigliabile tenere presente lo scenario seguente che costituisce un potenziale attacco di intrusione nel codice di script del renderer HTML:</span><span class="sxs-lookup"><span data-stu-id="0396e-135">It is recommended you consider the following scenario that is a potential HTML Renderer script injection attack:</span></span>  
  
1.  <span data-ttu-id="0396e-136">Un report contiene una casella di testo in cui l'azione del collegamento ipertestuale è impostata sul valore di un parametro che potrebbe contenere testo dannoso.</span><span class="sxs-lookup"><span data-stu-id="0396e-136">A report contains a text box with the hyperlink action set to the value of a parameter which could contain malicious text.</span></span>  
  
2.  <span data-ttu-id="0396e-137">Il report viene pubblicato in un server di report oppure viene reso disponibile in un modo che potrebbe consentire il controllo del parametro del report dall'URL di una pagina Web.</span><span class="sxs-lookup"><span data-stu-id="0396e-137">The report is published to a report server or otherwise made available in such a way that the report parameter value can be controlled from the URL of a web page.</span></span>  
  
3.  <span data-ttu-id="0396e-138">Un pirata informatico crea un collegamento alla pagina Web o al server di report specificando il valore del parametro nel formato "JavaScript: \<malicious script here> " e invia tale collegamento a un altro utente in un attacco di tipo adesca.</span><span class="sxs-lookup"><span data-stu-id="0396e-138">An attacker creates a link to the web page or report server specifying the value of the parameter in the form "javascript:\<malicious script here>" and sends that link to someone else in a luring attack.</span></span>  
  
## <a name="mitigating-script-injection-attacks-in-a-hyperlink-in-a-published-report-or-document"></a><span data-ttu-id="0396e-139">Riduzione del rischio di attacchi intrusivi nel codice di script in un collegamento ipertestuale all'interno di un report o documento pubblicato</span><span class="sxs-lookup"><span data-stu-id="0396e-139">Mitigating Script Injection Attacks in a Hyperlink in a Published Report or Document</span></span>  
 <span data-ttu-id="0396e-140">I report possono contenere collegamenti ipertestuali incorporati nel valore della proprietà Action all'interno di un elemento del report o di una parte di un elemento del report.</span><span class="sxs-lookup"><span data-stu-id="0396e-140">Reports can contain embedded hyperlinks in the value of the Action property on a report item or part of a report item.</span></span> <span data-ttu-id="0396e-141">Quando il report viene elaborato, i collegamenti ipertestuali possono essere associati ai dati recuperati da un'origine dati esterna.</span><span class="sxs-lookup"><span data-stu-id="0396e-141">Hyperlinks can be bound to data that is retrieved from an external data source when the report is processed.</span></span> <span data-ttu-id="0396e-142">Se un utente malintenzionato modifica i dati sottostanti, il collegamento ipertestuale potrebbe essere a rischio di attacchi al codice di script.</span><span class="sxs-lookup"><span data-stu-id="0396e-142">If a malicious user modifies the underlying data, the hyperlink might be at risk for scripting exploits.</span></span> <span data-ttu-id="0396e-143">Se un utente fa clic sul collegamento nel report pubblicato o esportato, lo script dannoso potrebbe venire eseguito.</span><span class="sxs-lookup"><span data-stu-id="0396e-143">If a user clicks the link in the published or exported report, malicious script could run.</span></span>  
  
 <span data-ttu-id="0396e-144">Per ridurre il rischio di includere in un report collegamenti che eseguono inavvertitamente script dannosi, associare collegamenti ipertestuali solo ai dati provenienti da origini attendibili.</span><span class="sxs-lookup"><span data-stu-id="0396e-144">To mitigate the risk of including links in a report that inadvertently run malicious scripts, only bind hyperlinks to data from trusted sources.</span></span> <span data-ttu-id="0396e-145">Verificare che i dati restituiti da query ed espressioni che determinano l'associazione di dati a collegamenti ipertestuali non creino collegamenti che possano essere sfruttati da utenti malintenzionati.</span><span class="sxs-lookup"><span data-stu-id="0396e-145">Verify that data from the query results and the expressions that bind data to hyperlinks do not create links that can be exploited.</span></span> <span data-ttu-id="0396e-146">Ad esempio, non basare un collegamento ipertestuale su un'espressione che concatena dati da più campi del set di dati.</span><span class="sxs-lookup"><span data-stu-id="0396e-146">For example, do not base a hyperlink on an expression that concatenates data from multiple dataset fields.</span></span> <span data-ttu-id="0396e-147">Se necessario, passare al report e utilizzare "Visualizza origine" per verificare la presenza di script e URL sospetti.</span><span class="sxs-lookup"><span data-stu-id="0396e-147">If necessary, browse to the report and use "View Source" to check for suspicious scripts and URLs.</span></span>  
  
## <a name="mitigating-sql-injection-attacks-in-a-parameterized-report"></a><span data-ttu-id="0396e-148">Riduzione del rischio di attacchi intrusivi nel codice SQL in un report con parametri</span><span class="sxs-lookup"><span data-stu-id="0396e-148">Mitigating SQL Injection Attacks in a Parameterized Report</span></span>  
 <span data-ttu-id="0396e-149">In qualsiasi report che includa un parametro di tipo `String` accertarsi di utilizzare un elenco di valori disponibili, anche detto elenco di valori validi, e assicurarsi che ogni utente che esegue il report disponga solo delle autorizzazioni necessarie per visualizzare i dati del report.</span><span class="sxs-lookup"><span data-stu-id="0396e-149">In any report that includes a parameter of type `String`, be sure to use an available values list (also known as a valid values list) and ensure that any user running the report has only the permissions required to view the data in the report.</span></span> <span data-ttu-id="0396e-150">Quando si definisce un parametro di tipo `String`, viene visualizzata una casella di testo che può accettare qualsiasi valore.</span><span class="sxs-lookup"><span data-stu-id="0396e-150">When you define a parameter of type `String`, the user is presented with a text box that can take any value.</span></span> <span data-ttu-id="0396e-151">Un elenco di valori disponibili consente di limitare i valori che è possibile immettere.</span><span class="sxs-lookup"><span data-stu-id="0396e-151">An available values list limits the values that can be entered.</span></span> <span data-ttu-id="0396e-152">Se un parametro di report è correlato a un parametro di query e non si utilizza un elenco di valori disponibili, un utente potrebbe digitare nella casella di testo sintassi SQL, esponendo il report e il server a un potenziale attacco intrusivo nel codice SQL.</span><span class="sxs-lookup"><span data-stu-id="0396e-152">If the report parameter is tied to a query parameter and you do not use an available values list, it is possible for a report user to type SQL syntax into the text box, potentially opening the report and your server to a SQL injection attack.</span></span> <span data-ttu-id="0396e-153">Se l'utente dispone di autorizzazioni sufficienti per eseguire la nuova istruzione SQL, è possibile che nel server si verifichino risultati non desiderati.</span><span class="sxs-lookup"><span data-stu-id="0396e-153">If the user has sufficient permissions to execute the new SQL statement, it may produce unwanted results on the server.</span></span>  
  
 <span data-ttu-id="0396e-154">Se un parametro di report non è correlato a un parametro di query e i valori del parametro sono inclusi nel report, un utente potrebbe digitare nel valore del parametro un URL o la sintassi di un'espressione ed eseguire il rendering del report in formato Excel o HTML.</span><span class="sxs-lookup"><span data-stu-id="0396e-154">If a report parameter is not tied to a query parameter and the parameter values are included in the report, it is possible for a report user to type expression syntax or a URL into the parameter value and render the report to Excel or HTML.</span></span> <span data-ttu-id="0396e-155">Se il report viene in seguito visualizzato da un altro utente che fa clic sul contenuto dei parametri di cui è stato eseguito il rendering, è possibile che venga inavvertitamente eseguito il collegamento o lo script dannoso.</span><span class="sxs-lookup"><span data-stu-id="0396e-155">If another user then views the report and clicks the rendered parameter contents, the user may inadvertently execute the malicious script or link.</span></span>  
  
 <span data-ttu-id="0396e-156">Per ridurre il rischio di eseguire inavvertitamente script dannosi, aprire i report visualizzabili solo da origini attendibili.</span><span class="sxs-lookup"><span data-stu-id="0396e-156">To mitigate the risk of inadvertently running malicious scripts, open rendered reports only from trusted sources.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="0396e-157">Nelle versioni precedenti della documentazione è incluso un esempio di creazione di una query dinamica come espressione.</span><span class="sxs-lookup"><span data-stu-id="0396e-157">In previous releases of the documentation, an example of creating a dynamic query as an expression was included.</span></span> <span data-ttu-id="0396e-158">Questo tipo di query crea una vulnerabilità agli attacchi intrusivi nel codice SQL e pertanto non è consigliabile.</span><span class="sxs-lookup"><span data-stu-id="0396e-158">This type of query creates a vulnerability to SQL injection attacks and therefore is not recommended.</span></span>  
  
## <a name="securing-confidential-reports"></a><span data-ttu-id="0396e-159">sicurezza di report con contenuto riservato</span><span class="sxs-lookup"><span data-stu-id="0396e-159">Securing Confidential Reports</span></span>  
 <span data-ttu-id="0396e-160">È consigliabile proteggere i report che contengono informazioni riservate in corrispondenza del livello di accesso ai dati, richiedendo agli utenti di specificare le credenziali per l'accesso ai dati riservati.</span><span class="sxs-lookup"><span data-stu-id="0396e-160">Reports that contain confidential information should be secured at the data-access level, by requiring users to provide credentials to access sensitive data.</span></span> <span data-ttu-id="0396e-161">Per altre informazioni, vedere [Specificare le credenziali e le informazioni sulla connessione per le origini dati del report](../report-data/specify-credential-and-connection-information-for-report-data-sources.md).</span><span class="sxs-lookup"><span data-stu-id="0396e-161">For more information, see [Specify Credential and Connection Information for Report Data Sources](../report-data/specify-credential-and-connection-information-for-report-data-sources.md).</span></span> <span data-ttu-id="0396e-162">È inoltre possibile proteggere una cartella in modo da renderla inaccessibile agli utenti non autorizzati.</span><span class="sxs-lookup"><span data-stu-id="0396e-162">You can also secure a folder to make it inaccessible to unauthorized users.</span></span> <span data-ttu-id="0396e-163">Per altre informazioni, vedere [Proteggere le cartelle](secure-folders.md).</span><span class="sxs-lookup"><span data-stu-id="0396e-163">For more information, see [Secure Folders](secure-folders.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="0396e-164">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="0396e-164">See Also</span></span>  
 <span data-ttu-id="0396e-165">(create-and-manage-role-assignments.md)</span><span class="sxs-lookup"><span data-stu-id="0396e-165">(create-and-manage-role-assignments.md)</span></span>   
 <span data-ttu-id="0396e-166">[Configurare l'accesso Generatore report](../report-server/configure-report-builder-access.md) </span><span class="sxs-lookup"><span data-stu-id="0396e-166">[Configure Report Builder Access](../report-server/configure-report-builder-access.md) </span></span>  
 <span data-ttu-id="0396e-167">[Concessione di autorizzazioni in un server di report in modalità nativa](granting-permissions-on-a-native-mode-report-server.md) </span><span class="sxs-lookup"><span data-stu-id="0396e-167">[Granting Permissions on a Native Mode Report Server](granting-permissions-on-a-native-mode-report-server.md) </span></span>  
 <span data-ttu-id="0396e-168">[Proteggere le origini dei dati condivise](secure-shared-data-source-items.md) </span><span class="sxs-lookup"><span data-stu-id="0396e-168">[Secure Shared Data Source Items](secure-shared-data-source-items.md) </span></span>  
 [<span data-ttu-id="0396e-169">Store Credentials in a Reporting Services Data Source</span><span class="sxs-lookup"><span data-stu-id="0396e-169">Store Credentials in a Reporting Services Data Source</span></span>](../report-data/store-credentials-in-a-reporting-services-data-source.md)  
  
  
