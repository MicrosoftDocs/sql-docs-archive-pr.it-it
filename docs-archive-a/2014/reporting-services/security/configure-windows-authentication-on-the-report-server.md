---
title: Configurare l'autenticazione di Windows nel server di report | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services-native
ms.topic: conceptual
helpviewer_keywords:
- Windows authentication [Reporting Services]
- Reporting Services, configuration
ms.assetid: 4de9c3dd-0ee7-49b3-88bb-209465ca9d86
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: 879c036977f9a34528dbf38e42fa080e72617a14
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87715091"
---
# <a name="configure-windows-authentication-on-the-report-server"></a><span data-ttu-id="a66e4-102">Configurare l'autenticazione di Windows nel server di report.</span><span class="sxs-lookup"><span data-stu-id="a66e4-102">Configure Windows Authentication on the Report Server</span></span>
  <span data-ttu-id="a66e4-103">Per impostazione predefinita, [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] accetta richieste che specificano l'autenticazione con negoziazione o NTLM.</span><span class="sxs-lookup"><span data-stu-id="a66e4-103">By default, [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] accepts requests that specify Negotiate or NTLM authentication.</span></span> <span data-ttu-id="a66e4-104">Se nella distribuzione sono incluse applicazioni client e browser che utilizzano tali provider di sicurezza, è possibile utilizzare i valori predefiniti senza alcuna configurazione aggiuntiva.</span><span class="sxs-lookup"><span data-stu-id="a66e4-104">If your deployment includes client applications and browsers that use these security providers, you can use the default values without additional configuration.</span></span> <span data-ttu-id="a66e4-105">Se si desidera utilizzare un provider di sicurezza diverso per la sicurezza integrata di Windows, ad esempio se si desidera utilizzare direttamente l'autenticazione Kerberos, o se i valori predefiniti sono stati modificati e si desidera ripristinare le impostazioni originali, è possibile utilizzare le informazioni contenute in questo argomento per specificare le impostazioni di autenticazione nel server di report.</span><span class="sxs-lookup"><span data-stu-id="a66e4-105">If you want to use a different security provider for Windows integrated security (for example, if you want to use Kerberos directly), or if you modified the default values and want to restore the original settings, you can use the information in this topic to specify authentication settings on the report server.</span></span>  
  
 <span data-ttu-id="a66e4-106">Per utilizzare la sicurezza integrata di Windows, ogni utente che richiede l'accesso a un server di report deve disporre di un account utente di dominio o locale di Windows valido o essere membro di un account di gruppo di dominio o locale di Windows.</span><span class="sxs-lookup"><span data-stu-id="a66e4-106">To use Windows integrated security, each user who requires access to a report server must have a valid Windows local or domain user account or be a member of a Windows local or domain group account.</span></span> <span data-ttu-id="a66e4-107">È possibile includere account di altri domini, purché tali domini siano di tipo trusted.</span><span class="sxs-lookup"><span data-stu-id="a66e4-107">You can include accounts from other domains as long as those domains are trusted.</span></span> <span data-ttu-id="a66e4-108">Per accedere a operazioni specifiche del server di report, gli account devono disporre dell'accesso al computer relativo e devono quindi essere assegnati a ruoli.</span><span class="sxs-lookup"><span data-stu-id="a66e4-108">The accounts must have access to the report server computer, and must be subsequently assigned to roles in order to gain access to specific report server operations.</span></span>  
  
 <span data-ttu-id="a66e4-109">È necessario inoltre che siano soddisfatti i seguenti requisiti aggiuntivi:</span><span class="sxs-lookup"><span data-stu-id="a66e4-109">The following additional requirements must also be met:</span></span>  
  
-   <span data-ttu-id="a66e4-110">Nei file RSeportServer.config `AuthenticationType` deve essere impostato su `RSWindowsNegotiate`, `RSWindowsKerberos` o `RSWindowsNTLM`.</span><span class="sxs-lookup"><span data-stu-id="a66e4-110">The RSeportServer.config files must have `AuthenticationType` set to `RSWindowsNegotiate`, `RSWindowsKerberos`, or `RSWindowsNTLM`.</span></span> <span data-ttu-id="a66e4-111">Per impostazione predefinita, il file RSReportServer.config include l'impostazione `RSWindowsNegotiate` se l'account del servizio del server di report è NetworkService o LocalSystem; in caso contrario, viene utilizzata l'impostazione `RSWindowsNTLM`.</span><span class="sxs-lookup"><span data-stu-id="a66e4-111">By default, the RSReportServer.config file includes the `RSWindowsNegotiate` setting if the Report Server service account is either NetworkService or LocalSystem; otherwise, the `RSWindowsNTLM` setting is used.</span></span> <span data-ttu-id="a66e4-112">Se sono presenti applicazioni che utilizzano solo l'autenticazione Kerberos, è possibile aggiungere `RSWindowsKerberos`.</span><span class="sxs-lookup"><span data-stu-id="a66e4-112">You can add `RSWindowsKerberos` if you have applications that only use Kerberos authentication.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="a66e4-113">L'utilizzo di `RSWindowsNegotiate` comporterà un errore di autenticazione Kerberos se il servizio del server di report è stato configurato per essere eseguito con un account utente di dominio e non è stato registrato un nome SPN per l'account.</span><span class="sxs-lookup"><span data-stu-id="a66e4-113">Using `RSWindowsNegotiate` will result in a Kerberos authentication error if you configured the Report Server service to run under a domain user account and you did not register a Service Principal Name (SPN) for the account.</span></span> <span data-ttu-id="a66e4-114">Per altre informazioni, vedere [Risoluzione di errori di autenticazione Kerberos durante la connessione a un server di report](#proxyfirewallRSWindowsNegotiate) in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="a66e4-114">For more information, see [Resolving Kerberos Authentication Errors When Connecting to a report server](#proxyfirewallRSWindowsNegotiate) in this topic.</span></span>  
  
-   [!INCLUDE[vstecasp](../../includes/vstecasp-md.md)] <span data-ttu-id="a66e4-115">deve essere configurato per usare l'autenticazione di Windows.</span><span class="sxs-lookup"><span data-stu-id="a66e4-115">must be configured for Windows Authentication.</span></span> <span data-ttu-id="a66e4-116">Per impostazione predefinita, i file di Web.config per il servizio Web ReportServer e Gestione report includono l' \<authentication mode="Windows"> impostazione.</span><span class="sxs-lookup"><span data-stu-id="a66e4-116">By default, the Web.config files for the Report Server Web service and Report Manager include the \<authentication mode="Windows"> setting.</span></span> <span data-ttu-id="a66e4-117">Se viene modificato in \<authentication mode="Forms"> , l'autenticazione di Windows per [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] avrà esito negativo.</span><span class="sxs-lookup"><span data-stu-id="a66e4-117">If you change it to \<authentication mode="Forms">, the Windows Authentication for [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] will fail.</span></span>  
  
-   <span data-ttu-id="a66e4-118">I file Web.config per il servizio Web ReportServer e Gestione report devono disporre di \<identity impersonate= "true" /> .</span><span class="sxs-lookup"><span data-stu-id="a66e4-118">The Web.config files for the Report Server Web service and Report Manager must have \<identity impersonate= "true" />.</span></span>  
  
-   <span data-ttu-id="a66e4-119">Nell'applicazione client o nel browser deve essere supportata la sicurezza integrata di Windows.</span><span class="sxs-lookup"><span data-stu-id="a66e4-119">The client application or browser must support Windows integrated security.</span></span>  
  
 <span data-ttu-id="a66e4-120">Per modificare le impostazioni di autenticazione del server di report, modificare gli elementi XML e i valori nel file RSReportServer.config.</span><span class="sxs-lookup"><span data-stu-id="a66e4-120">To change the report server authentication settings, edit the XML elements and values in the RSReportServer.config file.</span></span> <span data-ttu-id="a66e4-121">È possibile copiare e incollare gli esempi disponibili in questo argomento per implementare combinazioni specifiche.</span><span class="sxs-lookup"><span data-stu-id="a66e4-121">You can copy and paste the examples in this topic to implement specific combinations.</span></span>  
  
 <span data-ttu-id="a66e4-122">Le impostazioni predefinite funzionano in modo ottimale se tutti i computer client e server si trovano nello stesso dominio o in un dominio di tipo trusted e se il server di report è distribuito per l'accesso Intranet attraverso un firewall aziendale.</span><span class="sxs-lookup"><span data-stu-id="a66e4-122">The default settings work best if all client and server computers are in the same domain or in a trusted domain and the report server is deployed for intranet access behind a corporate firewall.</span></span> <span data-ttu-id="a66e4-123">I domini singoli e di tipo trusted sono un requisito per il passaggio delle credenziali di Windows.</span><span class="sxs-lookup"><span data-stu-id="a66e4-123">Trusted and single domains are a requirement for passing Windows credentials.</span></span> <span data-ttu-id="a66e4-124">Le credenziali possono essere passate più volte se si abilita il protocollo Kerberos versione 5 per i server.</span><span class="sxs-lookup"><span data-stu-id="a66e4-124">Credentials can be passed more than one time if you enable the Kerberos version 5 protocol for your servers.</span></span> <span data-ttu-id="a66e4-125">In caso contrario, le credenziali possono essere passate solo una volta prima che scadano.</span><span class="sxs-lookup"><span data-stu-id="a66e4-125">Otherwise, credentials can be passed only one time before they expire.</span></span> <span data-ttu-id="a66e4-126">Per altre informazioni sulla configurazione delle credenziali per più connessioni del computer, vedere [Specificare le credenziali e le informazioni sulla connessione per le origini dati del report](../report-data/specify-credential-and-connection-information-for-report-data-sources.md).</span><span class="sxs-lookup"><span data-stu-id="a66e4-126">For more information about configuring credentials for multiple computer connections, see [Specify Credential and Connection Information for Report Data Sources](../report-data/specify-credential-and-connection-information-for-report-data-sources.md).</span></span>  
  
 <span data-ttu-id="a66e4-127">Le istruzioni seguenti sono relative a un server di report in modalità nativa.</span><span class="sxs-lookup"><span data-stu-id="a66e4-127">The following instructions are intended for a native mode report server.</span></span> <span data-ttu-id="a66e4-128">Se il server di report è distribuito in modalità integrata SharePoint, è necessario utilizzare le impostazioni di autenticazione predefinite che specificano la sicurezza integrata di Windows.</span><span class="sxs-lookup"><span data-stu-id="a66e4-128">If the report server is deployed in SharePoint integrated mode, you must use the default authentication settings that specify Windows integrated security.</span></span> <span data-ttu-id="a66e4-129">Per supportare server di report in modalità integrata SharePoint, il server di report utilizza caratteristiche interne nell'estensione di autenticazione di Windows predefinita.</span><span class="sxs-lookup"><span data-stu-id="a66e4-129">The report server uses internal features in the default Windows Authentication extension to support report servers in SharePoint integrated mode.</span></span>  
  
## <a name="extended-protection-for-authentication"></a><span data-ttu-id="a66e4-130">Protezione estesa per l'autenticazione</span><span class="sxs-lookup"><span data-stu-id="a66e4-130">Extended Protection for Authentication</span></span>  
 <span data-ttu-id="a66e4-131">A partire da [!INCLUDE[ssKilimanjaro](../../includes/sskilimanjaro-md.md)], è disponibile il supporto per la protezione estesa per l'autenticazione.</span><span class="sxs-lookup"><span data-stu-id="a66e4-131">Beginning with [!INCLUDE[ssKilimanjaro](../../includes/sskilimanjaro-md.md)], support for Extended Protection for Authentication is available.</span></span> <span data-ttu-id="a66e4-132">La caratteristica di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] supporta l'uso del binding di canale e dell'associazione al servizio per migliorare la protezione dell'autenticazione.</span><span class="sxs-lookup"><span data-stu-id="a66e4-132">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] feature supports the use of channel binding and service binding to enhance protection of authentication.</span></span> <span data-ttu-id="a66e4-133">Le funzionalità di [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] devono essere utilizzate con un sistema operativo che supporti la protezione estesa.</span><span class="sxs-lookup"><span data-stu-id="a66e4-133">The [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] features need to be used with an operating system that supports Extended Protection.</span></span> [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] <span data-ttu-id="a66e4-134">La configurazione per la protezione estesa è determinata dalle impostazioni presenti nel file RSReportServer.config.</span><span class="sxs-lookup"><span data-stu-id="a66e4-134">configuration for extended protection is determined by settings in the RSReportServer.config file.</span></span> <span data-ttu-id="a66e4-135">È possibile aggiornare il file modificandolo o utilizzando le API di WMI.</span><span class="sxs-lookup"><span data-stu-id="a66e4-135">The file can be updated by either editing the file or using WMI APIs.</span></span> <span data-ttu-id="a66e4-136">Per altre informazioni, vedere [Protezione estesa per l'autenticazione con Reporting Services](extended-protection-for-authentication-with-reporting-services.md).</span><span class="sxs-lookup"><span data-stu-id="a66e4-136">For more information, see [Extended Protection for Authentication with Reporting Services](extended-protection-for-authentication-with-reporting-services.md).</span></span>  
  
### <a name="to-configure-a-report-server-to-use-windows-integrated-security"></a><span data-ttu-id="a66e4-137">Per configurare un server di report per l'utilizzo della sicurezza integrata di Windows</span><span class="sxs-lookup"><span data-stu-id="a66e4-137">To configure a report server to use Windows integrated security</span></span>  
  
1.  <span data-ttu-id="a66e4-138">Aprire RSReportServer.config in un editor di testo.</span><span class="sxs-lookup"><span data-stu-id="a66e4-138">Open RSReportServer.config in a text editor.</span></span>  
  
2.  <span data-ttu-id="a66e4-139">Trovare <`Authentication`>.</span><span class="sxs-lookup"><span data-stu-id="a66e4-139">Find <`Authentication`>.</span></span>  
  
3.  <span data-ttu-id="a66e4-140">Tra le strutture XML seguenti, copiare quella che corrisponde meglio alle proprie esigenze.</span><span class="sxs-lookup"><span data-stu-id="a66e4-140">Copy one of the following XML structures that best fits your needs.</span></span> <span data-ttu-id="a66e4-141">È possibile specificare `RSWindowsNegotiate`, `RSWindowsNTLM` e `RSWindowsKerberos` in qualsiasi ordine.</span><span class="sxs-lookup"><span data-stu-id="a66e4-141">You can specify `RSWindowsNegotiate`, `RSWindowsNTLM`, and `RSWindowsKerberos` in any order.</span></span> <span data-ttu-id="a66e4-142">Se si desidera autenticare la connessione anziché ogni singola richiesta, è necessario abilitare la persistenza dell'autenticazione</span><span class="sxs-lookup"><span data-stu-id="a66e4-142">You should enable authentication persistence if you want to authenticate the connection rather than each individual request.</span></span> <span data-ttu-id="a66e4-143">in modo che tutte le richieste per cui è necessaria l'autenticazione verranno consentite per la durata della connessione.</span><span class="sxs-lookup"><span data-stu-id="a66e4-143">Under authentication persistence, all requests that require authentication will be allowed for the duration of the connection.</span></span>  
  
     <span data-ttu-id="a66e4-144">La prima struttura XML è la configurazione predefinita quando l'account del servizio del server di report è NetworkService o LocalSystem:</span><span class="sxs-lookup"><span data-stu-id="a66e4-144">The first XML structure is the default configuration when the Report Server service account is either NetworkService or LocalSystem:</span></span>  
  
    ```  
    <Authentication>  
          <AuthenticationTypes>  
                 <RSWindowsNegotiate />  
          </AuthenticationTypes>  
          <EnableAuthPersistence>true</EnableAuthPersistence>  
    </Authentication>  
    ```  
  
     <span data-ttu-id="a66e4-145">La seconda struttura XML è la configurazione predefinita quando l'account del servizio del server di report non è NetworkService o LocalSystem:</span><span class="sxs-lookup"><span data-stu-id="a66e4-145">The second XML structure is the default configuration when the Report Server service account is not NetworkService or LocalSystem:</span></span>  
  
    ```  
    <Authentication>  
          <AuthenticationTypes>  
                 <RSWindowsNTLM />  
          </AuthenticationTypes>  
          <EnableAuthPersistence>true</EnableAuthPersistence>  
    ```  
  
     \</Authentication>  
  
     <span data-ttu-id="a66e4-146">La terza struttura XML specifica tutti i pacchetti di sicurezza utilizzati nella sicurezza integrata di Windows:</span><span class="sxs-lookup"><span data-stu-id="a66e4-146">The third XML structure specifies all of the security packages that are used in Windows integrated security:</span></span>  
  
    ```  
          <AuthenticationTypes>  
                 <RSWindowsNegotiate />  
                 <RSWindowsKerberos />  
                 <RSWindowsNTLM />  
          </AuthenticationTypes>  
    ```  
  
     <span data-ttu-id="a66e4-147">La quarta struttura XML specifica l'autenticazione NTLM solo per distribuzioni che non supportano l'autenticazione Kerberos o per risolvere errori di autenticazione Kerberos:</span><span class="sxs-lookup"><span data-stu-id="a66e4-147">The fourth XML structure specifies NTLM only for deployments that do not support Kerberos or to work around Kerberos authentication errors:</span></span>  
  
    ```  
          <AuthenticationTypes>  
                 <RSWindowsNTLM />  
          </AuthenticationTypes>  
    ```  
  
4.  <span data-ttu-id="a66e4-148">Incollarlo sulle voci esistenti per <`Authentication`>.</span><span class="sxs-lookup"><span data-stu-id="a66e4-148">Paste it over the existing entries for <`Authentication`>.</span></span>  
  
     <span data-ttu-id="a66e4-149">Tenere presente che non è possibile utilizzare `Custom` con i tipi `RSWindows`.</span><span class="sxs-lookup"><span data-stu-id="a66e4-149">Note that you cannot use `Custom` with the `RSWindows` types.</span></span>  
  
5.  <span data-ttu-id="a66e4-150">Modificare le impostazioni per la protezione estesa nel modo appropriato.</span><span class="sxs-lookup"><span data-stu-id="a66e4-150">Modify as appropriate the settings for extended protection.</span></span> <span data-ttu-id="a66e4-151">La protezione estesa è disabilitata per impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="a66e4-151">Extended protection is disabled by default.</span></span>  <span data-ttu-id="a66e4-152">Se queste voci non sono presenti, è possibile che sul computer corrente non sia in esecuzione una versione di [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] che supporta la protezione estesa.</span><span class="sxs-lookup"><span data-stu-id="a66e4-152">If these entries are not present, the current computer may not be running a version of [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] which supports extended protection.</span></span> <span data-ttu-id="a66e4-153">Per altre informazioni, vedere [Extended Protection for Authentication with Reporting Services](extended-protection-for-authentication-with-reporting-services.md)</span><span class="sxs-lookup"><span data-stu-id="a66e4-153">For more information, see [Extended Protection for Authentication with Reporting Services](extended-protection-for-authentication-with-reporting-services.md)</span></span>  
  
    ```  
          <RSWindowsExtendedProtectionLevel>Allow</RSWindowsExtendedProtectionLevel>  
          <RSWindowsExtendedProtectionScenario>Proxy</RSWindowsExtendedProtectionScenario>  
    ```  
  
6.  <span data-ttu-id="a66e4-154">Salvare il file.</span><span class="sxs-lookup"><span data-stu-id="a66e4-154">Save the file.</span></span>  
  
7.  <span data-ttu-id="a66e4-155">Se è stata configurata una distribuzione con scalabilità orizzontale, ripetere questi passaggi per gli altri server di report presenti nella distribuzione.</span><span class="sxs-lookup"><span data-stu-id="a66e4-155">If you configured a scale-out deployment, repeat these steps for other report servers in the deployment.</span></span>  
  
8.  <span data-ttu-id="a66e4-156">Riavviare il server di report per cancellare qualsiasi sessione attualmente aperta.</span><span class="sxs-lookup"><span data-stu-id="a66e4-156">Restart the report server to clear any sessions that are currently open.</span></span>  
  
##  <a name="resolving-kerberos-authentication-errors-when-connecting-to-a-report-server"></a><a name="proxyfirewallRSWindowsNegotiate"></a><span data-ttu-id="a66e4-157">Risoluzione degli errori di autenticazione Kerberos durante la connessione a un server di report</span><span class="sxs-lookup"><span data-stu-id="a66e4-157">Resolving Kerberos Authentication Errors When Connecting to a Report Server</span></span>  
 <span data-ttu-id="a66e4-158">In un server di report configurato per l'autenticazione con negoziazione o Kerberos, se si verifica un errore di autenticazione Kerberos la connessione client al server di report avrà esito negativo.</span><span class="sxs-lookup"><span data-stu-id="a66e4-158">On a report server that is configured for Negotiate or Kerberos authentication, a client connection to the report server will fail if there is a Kerberos authentication error.</span></span> <span data-ttu-id="a66e4-159">Di seguito vengono riportate le condizioni che indicano la presenza di errori di autenticazione Kerberos:</span><span class="sxs-lookup"><span data-stu-id="a66e4-159">Kerberos authentication errors are known to occur when:</span></span>  
  
-   <span data-ttu-id="a66e4-160">Il servizio del server di report è in esecuzione come account utente di dominio di Windows, ma non è stato registrato un nome SPN per l'account.</span><span class="sxs-lookup"><span data-stu-id="a66e4-160">The Report Server service runs as a Windows domain user account and you did not register a Service Principal Name (SPN) for the account.</span></span>  
  
-   <span data-ttu-id="a66e4-161">Il server di report è configurato con l'impostazione `RSWindowsNegotiate`.</span><span class="sxs-lookup"><span data-stu-id="a66e4-161">The report server is configured with the `RSWindowsNegotiate` setting.</span></span>  
  
-   <span data-ttu-id="a66e4-162">Nell'intestazione dell'autenticazione della richiesta inviata al server di report dal browser viene scelta l'autenticazione Kerberos anziché l'autenticazione NTLM.</span><span class="sxs-lookup"><span data-stu-id="a66e4-162">The browser chooses Kerberos over NTLM in the authentication header in the request it sends to the report server.</span></span>  
  
 <span data-ttu-id="a66e4-163">È possibile rilevare l'errore se è stata abilitata la registrazione Kerberos.</span><span class="sxs-lookup"><span data-stu-id="a66e4-163">You can detect the error if you enabled Kerberos logging.</span></span> <span data-ttu-id="a66e4-164">Un altro sintomo dell'errore consiste in più richieste delle credenziali e successivamente nella visualizzazione di una finestra del browser vuota.</span><span class="sxs-lookup"><span data-stu-id="a66e4-164">Another symptom of the error is that you are prompted for credentials multiple times and then see an empty browser window.</span></span>  
  
 <span data-ttu-id="a66e4-165">È possibile verificare che si verifichi un errore di autenticazione Kerberos rimuovendo < `RSWindowsNegotiate` /> dal file di configurazione e ritentando la connessione.</span><span class="sxs-lookup"><span data-stu-id="a66e4-165">You can confirm that you are encountering a Kerberos authentication error by removing < `RSWindowsNegotiate` /> from your configuration file and reattempting the connection.</span></span>  
  
 <span data-ttu-id="a66e4-166">Dopo avere confermato la presenza del problema, è possibile risolverlo nei modi seguenti:</span><span class="sxs-lookup"><span data-stu-id="a66e4-166">After you confirm the problem, you can address it in the following ways:</span></span>  
  
-   <span data-ttu-id="a66e4-167">Registrare un nome SPN per il servizio del server di report con l'account utente di dominio.</span><span class="sxs-lookup"><span data-stu-id="a66e4-167">Register an SPN for the Report Server service under the domain user account.</span></span> <span data-ttu-id="a66e4-168">Per altre informazioni, vedere [Registrare un nome dell'entità servizio &#40;SPN&#41; per un server di report](../report-server/register-a-service-principal-name-spn-for-a-report-server.md).</span><span class="sxs-lookup"><span data-stu-id="a66e4-168">For more information, see [Register a Service Principal Name &#40;SPN&#41; for a Report Server](../report-server/register-a-service-principal-name-spn-for-a-report-server.md).</span></span>  
  
-   <span data-ttu-id="a66e4-169">Modificare l'account del servizio in modo che venga eseguito con un account predefinito, ad esempio Servizio di rete.</span><span class="sxs-lookup"><span data-stu-id="a66e4-169">Change the service account to run under a built-in account such as Network Service.</span></span> <span data-ttu-id="a66e4-170">Gli account predefiniti eseguono il mapping del nome SPN HTTP al nome SPN dell'host, definito quando un computer viene collegato a una rete.</span><span class="sxs-lookup"><span data-stu-id="a66e4-170">Built-in accounts map HTTP SPN to the Host SPN, which is defined when you join a computer to your network.</span></span> <span data-ttu-id="a66e4-171">Per altre informazioni, vedere [Configurare un account del servizio &#40;Gestione configurazione SSRS&#41;](../../sql-server/install/configure-a-service-account-ssrs-configuration-manager.md).</span><span class="sxs-lookup"><span data-stu-id="a66e4-171">For more information, see [Configure a Service Account &#40;SSRS Configuration Manager&#41;](../../sql-server/install/configure-a-service-account-ssrs-configuration-manager.md).</span></span>  
  
-   <span data-ttu-id="a66e4-172">Utilizzare NTLM,</span><span class="sxs-lookup"><span data-stu-id="a66e4-172">Use NTLM.</span></span> <span data-ttu-id="a66e4-173">che in genere funzionerà nei casi in cui l'autenticazione Kerberos ha esito negativo.</span><span class="sxs-lookup"><span data-stu-id="a66e4-173">NTLM will generally work in cases where Kerberos authentication fails.</span></span> <span data-ttu-id="a66e4-174">Per utilizzare NTLM, rimuovere `RSWindowsNegotiate` dal file RSReportServer.config e verificare che sia specificato solo `RSWindowsNTLM`.</span><span class="sxs-lookup"><span data-stu-id="a66e4-174">To use NTLM, remove `RSWindowsNegotiate` from the RSReportServer.config file and verify that only `RSWindowsNTLM` is specified.</span></span> <span data-ttu-id="a66e4-175">Se si sceglie questo approccio, è possibile continuare a utilizzare un account utente di dominio per il servizio del server di report anche se per tale account non si definisce un nome SPN.</span><span class="sxs-lookup"><span data-stu-id="a66e4-175">If you choose this approach, you can continue to use a domain user account for the Report Server service even if you do not define an SPN for it.</span></span>  
  
#### <a name="logging-information"></a><span data-ttu-id="a66e4-176">Registrazione delle informazioni</span><span class="sxs-lookup"><span data-stu-id="a66e4-176">Logging information</span></span>  
 <span data-ttu-id="a66e4-177">Esistono diverse origini di informazioni di registrazione che possono consentire la risoluzione dei problemi relativi a Kerberos.</span><span class="sxs-lookup"><span data-stu-id="a66e4-177">There are several sources of logging information that can help resolve Kerberos related issues.</span></span>  
  
##### <a name="user-account-control-attribute"></a><span data-ttu-id="a66e4-178">Attributo UserAccountControl</span><span class="sxs-lookup"><span data-stu-id="a66e4-178">User-Account-Control Attribute</span></span>  
 <span data-ttu-id="a66e4-179">Stabilire se l'account di servizio di [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] dispone del set di attributi sufficiente in Active Directory.</span><span class="sxs-lookup"><span data-stu-id="a66e4-179">Determine if the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] service account has the sufficient attribute set in Active Directory.</span></span> <span data-ttu-id="a66e4-180">Esaminare il file di log di traccia del servizio Reporting Services per trovare il valore registrato per l'attributo UserAccountControl.</span><span class="sxs-lookup"><span data-stu-id="a66e4-180">Review the reporting services service trace log file to find the value logged for the UserAccountControl attribute.</span></span> <span data-ttu-id="a66e4-181">Il valore registrato è in formato decimale.</span><span class="sxs-lookup"><span data-stu-id="a66e4-181">The value logged is in decimal form.</span></span> <span data-ttu-id="a66e4-182">È necessario convertire il valore decimale in formato esadecimale e trovare quindi tale valore nell'argomento MSDN in cui viene descritto l'attributo UserAccountControl.</span><span class="sxs-lookup"><span data-stu-id="a66e4-182">You need to convert the decimal value to hexadecimal form and then find that value in the MSDN topic describing User-Account-Control Attribute.</span></span>  
  
-   <span data-ttu-id="a66e4-183">La voce del log di traccia del servizio Reporting Services sarà simile alla seguente:</span><span class="sxs-lookup"><span data-stu-id="a66e4-183">The reporting services service trace log entry will look similar to the following:</span></span>  
  
    ```  
    appdomainmanager!DefaultDomain!8f8!01/14/2010-14:42:28:: i INFO: The UserAccountControl value for the service account is 590336  
    ```  
  
-   <span data-ttu-id="a66e4-184">Un'opzione per la conversione del valore decimale in formato esadecimale è rappresentata dalla Calcolatrice di [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows.</span><span class="sxs-lookup"><span data-stu-id="a66e4-184">One option for converting the value Decimal value to hexadecimal form is to us the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows Calculator.</span></span> <span data-ttu-id="a66e4-185">Tale calcolatrice supporta diverse modalità che includono le opzioni "Dec" ed "Hex".</span><span class="sxs-lookup"><span data-stu-id="a66e4-185">Windows Calculator supports several modes that show the 'Dec' option and 'Hex' options.</span></span> <span data-ttu-id="a66e4-186">Selezionare l'opzione "Dec", incollare o digitare il valore decimale nel file di log, quindi selezionare l'opzione "Hex".</span><span class="sxs-lookup"><span data-stu-id="a66e4-186">Select the 'Dec' option, paste or type in the decimal value you found in the log file and then select the 'Hex' option.</span></span>  
  
-   <span data-ttu-id="a66e4-187">Fare quindi riferimento all'argomento [User-Account-Control Attribute](https://go.microsoft.com/fwlink/?LinkId=183366) (Attributo UserAccountControl) per derivare l'attributo per l'account di servizio.</span><span class="sxs-lookup"><span data-stu-id="a66e4-187">Then refer to the topic [User-Account-Control Attribute](https://go.microsoft.com/fwlink/?LinkId=183366) to derive the attribute for the service account.</span></span>  
  
##### <a name="spns-configured-in-active-directory-for-the-reporting-services-service-account"></a><span data-ttu-id="a66e4-188">Nomi SPN configurati in Active Directory per l'account di servizio di Reporting Services.</span><span class="sxs-lookup"><span data-stu-id="a66e4-188">SPNs Configured in Active Directory for the Reporting Services service account.</span></span>  
 <span data-ttu-id="a66e4-189">Per registrare i nomi SPN nel file di log di traccia del servizio [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] , è possibile abilitare temporaneamente la caratteristica Protezione estesa di [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="a66e4-189">To log the SPNs in the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] service trace log file, you can enable the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Extended Protection feature temporarily.</span></span>  
  
-   <span data-ttu-id="a66e4-190">Modificare il file di configurazione `rsreportserver.config` impostando gli elementi seguenti:</span><span class="sxs-lookup"><span data-stu-id="a66e4-190">Modify the configuration file `rsreportserver.config` by setting the following:</span></span>  
  
    ```  
    <RSWindowsExtendedProtectionLevel>Allow</RSWindowsExtendedProtectionLevel>   
    <RSWindowsExtendedProtectionScenario>Any</RSWindowsExtendedProtectionScenario>  
    ```  
  
-   <span data-ttu-id="a66e4-191">Riavviare il servizio [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="a66e4-191">Restart the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] service.</span></span>

 <span data-ttu-id="a66e4-192">Se non desidera continuare a usare la Protezione estesa, ripristinare le impostazioni predefinite per i valori di configurazione e riavviare l'account di servizio [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="a66e4-192">If you do not want continue using Extended Protection, then set the configuration values back to defaults and restart the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Service account.</span></span>  
  
```  
<RSWindowsExtendedProtectionLevel>Off</RSWindowsExtendedProtectionLevel>  
<RSWindowsExtendedProtectionScenario>Proxy</RSWindowsExtendedProtectionScenario>  
```  
  
 <span data-ttu-id="a66e4-193">Per ulteriori informazioni, vedere [protezione estesa per l'autenticazione con Reporting Services](extended-protection-for-authentication-with-reporting-services.md)</span><span class="sxs-lookup"><span data-stu-id="a66e4-193">For more information see, [Extended Protection for Authentication with Reporting Services](extended-protection-for-authentication-with-reporting-services.md)</span></span>  
  
#### <a name="how-the-browser-chooses-negotiated-kerberos-or-negotiated-ntlm"></a><span data-ttu-id="a66e4-194">Scelta tra l'autenticazione negoziata Kerberos o NTLM da parte del browser</span><span class="sxs-lookup"><span data-stu-id="a66e4-194">How the Browser Chooses Negotiated Kerberos or Negotiated NTLM</span></span>  
 <span data-ttu-id="a66e4-195">Quando si utilizza Internet Explorer per connettersi al server di report, nell'intestazione di autenticazione viene specificata l'autenticazione negoziata Kerberos o NTLM.</span><span class="sxs-lookup"><span data-stu-id="a66e4-195">When you use Internet Explorer to connect to the report server, it specifies either Negotiated Kerberos or NTLM on the authentication header.</span></span> <span data-ttu-id="a66e4-196">Di seguito vengono riportati i casi in cui viene utilizzata l'autenticazione NTLM anziché l'autenticazione Kerberos:</span><span class="sxs-lookup"><span data-stu-id="a66e4-196">NTLM is used instead of Kerberos when:</span></span>  
  
-   <span data-ttu-id="a66e4-197">Invio della richiesta a un server di report locale.</span><span class="sxs-lookup"><span data-stu-id="a66e4-197">The request is sent to a local report server.</span></span>  
  
-   <span data-ttu-id="a66e4-198">Invio della richiesta a un indirizzo IP del computer del server di report anziché a un'intestazione host oppure a un nome del server.</span><span class="sxs-lookup"><span data-stu-id="a66e4-198">The request is sent to an IP address of the report server computer rather than a host header or server name.</span></span>  
  
-   <span data-ttu-id="a66e4-199">Blocco delle porte utilizzate per l'autenticazione Kerberos da parte del software firewall.</span><span class="sxs-lookup"><span data-stu-id="a66e4-199">Firewall software blocks ports used for Kerberos authentication.</span></span>  
  
-   <span data-ttu-id="a66e4-200">Autenticazione Kerberos non abilitata nel sistema operativo di un server specifico.</span><span class="sxs-lookup"><span data-stu-id="a66e4-200">The operating system of a particular server does not have Kerberos enabled.</span></span>  
  
-   <span data-ttu-id="a66e4-201">Presenza nel dominio di versioni precedenti di sistemi operativi client e server Windows che non supportano la caratteristica di autenticazione Kerberos disponibile nelle versioni più recenti del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="a66e4-201">The domain includes older versions of Windows client and server operating systems that do not support the Kerberos authentication feature built into newer versions of the operating system.</span></span>  
  
 <span data-ttu-id="a66e4-202">Internet Explorer potrebbe inoltre scegliere l'autenticazione negoziata Kerberos o NTLM in base alla configurazione delle impostazioni LAN, dell'URL e del proxy.</span><span class="sxs-lookup"><span data-stu-id="a66e4-202">In addition, Internet Explorer might choose either Negotiated Kerberos or NTLM depending on how you configured URL, LAN, and proxy settings.</span></span>  
  
###### <a name="report-server-url"></a><span data-ttu-id="a66e4-203">URL del server di report</span><span class="sxs-lookup"><span data-stu-id="a66e4-203">Report Server URL</span></span>  
 <span data-ttu-id="a66e4-204">Se nell'URL è incluso un nome di dominio completo</span><span class="sxs-lookup"><span data-stu-id="a66e4-204">If the URL includes a fully qualified domain name, Internet Explorer selects NTLM.</span></span> <span data-ttu-id="a66e4-205">o se nell'URL è specificato localhost, Internet Explorer seleziona l'autenticazione NTLM.</span><span class="sxs-lookup"><span data-stu-id="a66e4-205">If the URL specifies localhost, Internet Explorer selects NTLM.</span></span> <span data-ttu-id="a66e4-206">Se nell'URL è specificato il nome di rete del computer, Internet Explorer seleziona l'autenticazione con negoziazione, che avrà esito positivo o negativo in base all'esistenza o meno di un nome SPN per l'account del servizio del server di report.</span><span class="sxs-lookup"><span data-stu-id="a66e4-206">If the URL specifies the network name of the computer, Internet Explorer selects Negotiate, which will succeed or fail depending on whether an SPN exists for the Report Server service account.</span></span>  
  
###### <a name="lan-and-proxy-settings-on-the-client"></a><span data-ttu-id="a66e4-207">Impostazioni LAN e del proxy nel client</span><span class="sxs-lookup"><span data-stu-id="a66e4-207">LAN and Proxy Settings on the Client</span></span>  
 <span data-ttu-id="a66e4-208">Le impostazioni LAN e del proxy specificate in Internet Explorer possono determinare la scelta dell'autenticazione NTLM rispetto all'autenticazione Kerberos.</span><span class="sxs-lookup"><span data-stu-id="a66e4-208">LAN and proxy settings that you set in Internet Explorer can determine whether NTLM is chosen over Kerberos.</span></span> <span data-ttu-id="a66e4-209">Poiché le impostazioni LAN e del proxy variano tra le organizzazioni, non è possibile tuttavia determinare con precisione le impostazioni esatte che contribuiscono agli errori di autenticazione Kerberos.</span><span class="sxs-lookup"><span data-stu-id="a66e4-209">However, because LAN and proxy settings vary across organizations, it is not possible to precisely determine the exact settings that contribute to Kerberos authentication errors.</span></span> <span data-ttu-id="a66e4-210">Un'organizzazione potrebbe ad esempio applicare impostazioni del proxy che trasformano gli URL Intranet in URL con nome di dominio completo che vengono risolti durante le connessioni Internet.</span><span class="sxs-lookup"><span data-stu-id="a66e4-210">For example, your organization might enforce proxy settings that transform URLs from intranet URLs to fully-qualified domain name URLs that resolve over Internet connections.</span></span> <span data-ttu-id="a66e4-211">Se per tipi diversi di URL vengono utilizzati provider di autenticazione differenti, alcune connessioni potrebbero avere esito positivo sebbene sia previsto un esito negativo.</span><span class="sxs-lookup"><span data-stu-id="a66e4-211">If different authentication providers are used for different types of URLs, you might find that some connections succeed when you would have expected them to fail.</span></span>  
  
 <span data-ttu-id="a66e4-212">Se si verificano problemi di connessione che si ritiene siano dovuti a errori di autenticazione, è possibile provare a utilizzare combinazioni diverse di impostazioni LAN e del proxy per isolare il problema.</span><span class="sxs-lookup"><span data-stu-id="a66e4-212">If you encounter connection errors that you think are due to authentication failures, you can try different combinations of LAN and proxy settings to isolate the problem.</span></span> <span data-ttu-id="a66e4-213">In Internet Explorer le impostazioni LAN e del proxy sono presenti nella finestra di dialogo **Impostazioni rete locale (LAN)** . Per aprire tale finestra, fare clic su **Impostazioni LAN** nella scheda **Connessione** in **Opzioni Internet**.</span><span class="sxs-lookup"><span data-stu-id="a66e4-213">In Internet Explorer, LAN and proxy settings are on the **Local Area Network (LAN) Settings** dialog box, which you open by clicking **LAN settings** on the **Connection** tab of **Internet Options**.</span></span>  
  
## <a name="external-resources"></a><span data-ttu-id="a66e4-214">Risorse esterne</span><span class="sxs-lookup"><span data-stu-id="a66e4-214">External resources</span></span>  
  
-   <span data-ttu-id="a66e4-215">Per altre informazioni su server di report e Kerberos, vedere [Deploying a Business Intelligence Solution Using SharePoint, Reporting Services, and PerformancePoint Monitoring Server with Kerberos](https://go.microsoft.com/fwlink/?LinkID=177751)(Distribuzione di una soluzione di Business Intelligence utilizzando SharePoint, Reporting Services e server di monitoraggio di PerformancePoint con Kerberos).</span><span class="sxs-lookup"><span data-stu-id="a66e4-215">For additional information regarding Kerberos and report servers, see [Deploying a Business Intelligence Solution Using SharePoint, Reporting Services, and PerformancePoint Monitoring Server with Kerberos.](https://go.microsoft.com/fwlink/?LinkID=177751)</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="a66e4-216">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="a66e4-216">See Also</span></span>  
 <span data-ttu-id="a66e4-217">[Autenticazione con il server di report](authentication-with-the-report-server.md) </span><span class="sxs-lookup"><span data-stu-id="a66e4-217">[Authentication with the Report Server](authentication-with-the-report-server.md) </span></span>  
 <span data-ttu-id="a66e4-218">[Concessione di autorizzazioni in un server di report in modalità nativa](granting-permissions-on-a-native-mode-report-server.md) </span><span class="sxs-lookup"><span data-stu-id="a66e4-218">[Granting Permissions on a Native Mode Report Server](granting-permissions-on-a-native-mode-report-server.md) </span></span>  
 <span data-ttu-id="a66e4-219">[File di configurazione RSReportServer](../report-server/rsreportserver-config-configuration-file.md) </span><span class="sxs-lookup"><span data-stu-id="a66e4-219">[RSReportServer Configuration File](../report-server/rsreportserver-config-configuration-file.md) </span></span>  
 <span data-ttu-id="a66e4-220">[Configurare l'autenticazione di base nel server di report](configure-basic-authentication-on-the-report-server.md) </span><span class="sxs-lookup"><span data-stu-id="a66e4-220">[Configure Basic Authentication on the Report Server](configure-basic-authentication-on-the-report-server.md) </span></span>  
 <span data-ttu-id="a66e4-221">[Configurare l'autenticazione personalizzata o basata su form nel server di report](configure-custom-or-forms-authentication-on-the-report-server.md) </span><span class="sxs-lookup"><span data-stu-id="a66e4-221">[Configure Custom or Forms Authentication on the Report Server](configure-custom-or-forms-authentication-on-the-report-server.md) </span></span>  
 [<span data-ttu-id="a66e4-222">Protezione estesa per l'autenticazione con Reporting Services</span><span class="sxs-lookup"><span data-stu-id="a66e4-222">Extended Protection for Authentication with Reporting Services</span></span>](extended-protection-for-authentication-with-reporting-services.md)  
  
  
