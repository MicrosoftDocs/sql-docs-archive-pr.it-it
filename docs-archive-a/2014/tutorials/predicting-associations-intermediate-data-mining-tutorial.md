---
title: Associazioni di stima (Esercitazione intermedia sul data mining) | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: 9140c5f2-b340-45a6-9c27-d870d15aafea
author: minewiskan
ms.author: owend
manager: kfile
ms.openlocfilehash: bee5ca4ded1b2fd5cbda0712cb766c825b9d0318
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87623662"
---
# <a name="predicting-associations-intermediate-data-mining-tutorial"></a><span data-ttu-id="bf2de-102">Stima delle associazioni (Esercitazione intermedia sul data mining)</span><span class="sxs-lookup"><span data-stu-id="bf2de-102">Predicting Associations (Intermediate Data Mining Tutorial)</span></span>
  <span data-ttu-id="bf2de-103">Dopo avere elaborato i modelli, è possibile utilizzare le informazioni sulle associazioni archiviate nei modelli per creare stime.</span><span class="sxs-lookup"><span data-stu-id="bf2de-103">After the models have been processed, you can use the information about associations stored in the model to create predictions.</span></span> <span data-ttu-id="bf2de-104">Nell'attività finale di questa lezione verrà illustrato come compilare query di stima rispetto nei modelli di associazione creati.</span><span class="sxs-lookup"><span data-stu-id="bf2de-104">In the final task of this lesson, you learn how to build prediction queries against the association models that you created.</span></span> <span data-ttu-id="bf2de-105">In questa lezione si presuppone che l'utente abbia familiarità con l'utilizzo del generatore delle query di stima e desideri apprendere come compilare query di stima mediante modelli di associazione.</span><span class="sxs-lookup"><span data-stu-id="bf2de-105">This lesson assumes that you are familiar with how to use the Prediction Query Builder and want to learn how to build prediction queries against association models.</span></span> <span data-ttu-id="bf2de-106">Per ulteriori informazioni su come utilizzare Generatore di query di stima, vedere [interfacce di query di data mining](../../2014/analysis-services/data-mining/data-mining-query-tools.md).</span><span class="sxs-lookup"><span data-stu-id="bf2de-106">For more information how to use Prediction Query Builder, see [Data Mining Query Interfaces](../../2014/analysis-services/data-mining/data-mining-query-tools.md).</span></span>  
  
## <a name="creating-a-singleton-prediction-query"></a><span data-ttu-id="bf2de-107">Creazione di una query di stima singleton</span><span class="sxs-lookup"><span data-stu-id="bf2de-107">Creating a Singleton Prediction Query</span></span>  
 <span data-ttu-id="bf2de-108">Le query di stima in un modello di associazione possono essere molto utili per:</span><span class="sxs-lookup"><span data-stu-id="bf2de-108">Prediction queries on an association model can be very useful:</span></span>  
  
-   <span data-ttu-id="bf2de-109">Consigliare articoli a un cliente, in base ad acquisti correlati o precedenti</span><span class="sxs-lookup"><span data-stu-id="bf2de-109">Recommend items to a customer, based on prior or related purchases</span></span>  
  
-   <span data-ttu-id="bf2de-110">Trovare eventi correlati.</span><span class="sxs-lookup"><span data-stu-id="bf2de-110">Find related events.</span></span>  
  
-   <span data-ttu-id="bf2de-111">Identificare relazioni nei set di transazioni.</span><span class="sxs-lookup"><span data-stu-id="bf2de-111">Identify relationships in or across sets of transactions.</span></span>  
  
 <span data-ttu-id="bf2de-112">Per compilare una query di stima, è innanzitutto necessario selezionare il modello di associazione che si desidera utilizzare, quindi specificare i dati di input.</span><span class="sxs-lookup"><span data-stu-id="bf2de-112">To build a prediction query, you first select the association model you want to use, and then you specify the input data.</span></span> <span data-ttu-id="bf2de-113">È possibile recuperare gli input da un'origine dati esterna, ad esempio un elenco di valori, oppure compilare una query singleton e fornire i valori.</span><span class="sxs-lookup"><span data-stu-id="bf2de-113">Inputs can come from an external data source, such as a list of values, or you can build a singleton query and provide values as you go.</span></span>  
  
 <span data-ttu-id="bf2de-114">Per questo scenario verranno dapprima create alcune query di stima singleton, per avere un'idea del funzionamento delle stime.</span><span class="sxs-lookup"><span data-stu-id="bf2de-114">For this scenario, you will first create some singleton prediction queries, to get an idea of how prediction works.</span></span> <span data-ttu-id="bf2de-115">Si creerà quindi una query per le stime batch che è possibile utilizzare per dare consigli a un cliente sulla base dei suoi acquisti correnti.</span><span class="sxs-lookup"><span data-stu-id="bf2de-115">Then you will create a query for batch predictions that you could use for making recommendations based on a customer's current purchases.</span></span>  
  
#### <a name="to-create-a-prediction-query-on-an-association-model"></a><span data-ttu-id="bf2de-116">Per creare una query di stima basata su un modello di associazione</span><span class="sxs-lookup"><span data-stu-id="bf2de-116">To create a prediction query on an association model</span></span>  
  
1.  <span data-ttu-id="bf2de-117">Fare clic sulla scheda **Stima modello** di data mining di progettazione modelli di data mining.</span><span class="sxs-lookup"><span data-stu-id="bf2de-117">Click the **Mining Model Prediction** tab of Data Mining Designer.</span></span>  
  
2.  <span data-ttu-id="bf2de-118">Nel riquadro **modello di data mining** fare clic su **Seleziona modello**.</span><span class="sxs-lookup"><span data-stu-id="bf2de-118">In the **Mining Model** pane, click **Select Model**.</span></span> <span data-ttu-id="bf2de-119">Se è già selezionato il modello corretto, ignorare questo passaggio e quello successivo.</span><span class="sxs-lookup"><span data-stu-id="bf2de-119">(You can skip this step and the next step if the correct model is already selected.)</span></span>  
  
3.  <span data-ttu-id="bf2de-120">Nella finestra di dialogo **Seleziona modello di data mining** espandere il nodo che rappresenta l' **associazione**della struttura di data mining e selezionare l' **associazione**del modello.</span><span class="sxs-lookup"><span data-stu-id="bf2de-120">In the **Select Mining Model** dialog box, expand the node that represents the mining structure **Association**, and select the model **Association**.</span></span> <span data-ttu-id="bf2de-121">Fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="bf2de-121">Click **OK**.</span></span>  
  
     <span data-ttu-id="bf2de-122">Ai fini di questa esercitazione, è possibile ignorare il riquadro di input.</span><span class="sxs-lookup"><span data-stu-id="bf2de-122">For now, you can ignore the input pane.</span></span>  
  
4.  <span data-ttu-id="bf2de-123">Nella griglia fare clic sulla cella vuota sotto **origine** e selezionare **funzione di stima.**</span><span class="sxs-lookup"><span data-stu-id="bf2de-123">In the grid, click the empty cell under **Source** and select **Prediction Function.**</span></span> <span data-ttu-id="bf2de-124">Nella cella sotto **campo**selezionare `PredictAssociation` .</span><span class="sxs-lookup"><span data-stu-id="bf2de-124">In the cell under **Field**, select `PredictAssociation`.</span></span>  
  
     <span data-ttu-id="bf2de-125">È anche possibile usare la funzione **Predict** per stimare le associazioni.</span><span class="sxs-lookup"><span data-stu-id="bf2de-125">You can also use the **Predict** function to predict associations.</span></span> <span data-ttu-id="bf2de-126">In tal caso, assicurarsi di scegliere la versione della funzione **Predict** che accetta una colonna di tabella come argomento.</span><span class="sxs-lookup"><span data-stu-id="bf2de-126">If you do, be sure to choose the version of the **Predict** function that takes a table column as argument.</span></span>  
  
5.  <span data-ttu-id="bf2de-127">Nel riquadro **modello di data mining** selezionare la tabella nidificata `vAssocSeqLineItems` e trascinarla nella griglia alla casella **criteri/argomento** della `PredictAssociation` funzione.</span><span class="sxs-lookup"><span data-stu-id="bf2de-127">In the **Mining Model** pane, select the nested table `vAssocSeqLineItems`, and drag it into the grid, to the **Criteria/Argument** box for the `PredictAssociation` function.</span></span>  
  
     <span data-ttu-id="bf2de-128">Il trascinamento dei nomi di tabella e colonna consente di compilare istruzioni complesse senza errori di sintassi.</span><span class="sxs-lookup"><span data-stu-id="bf2de-128">Dragging and dropping table and column names lets you build complex statements without syntax errors.</span></span> <span data-ttu-id="bf2de-129">Tuttavia, sostituisce il contenuto corrente della cella, che include altri argomenti facoltativi per la `PredictAssociation` funzione.</span><span class="sxs-lookup"><span data-stu-id="bf2de-129">However, it replaces the current contents of the cell, which include other optional arguments for the `PredictAssociation` function.</span></span> <span data-ttu-id="bf2de-130">Per visualizzare gli altri argomenti, è possibile aggiungere temporaneamente una seconda istanza della funzione alla griglia per riferimento.</span><span class="sxs-lookup"><span data-stu-id="bf2de-130">To view the other arguments, you can temporarily add a second instance of the function to the grid for reference.</span></span>  
  
6.  <span data-ttu-id="bf2de-131">Fare clic sulla casella **criteri/argomento** e digitare il testo seguente dopo il nome della tabella:`,3`</span><span class="sxs-lookup"><span data-stu-id="bf2de-131">Click the **Criteria/Argument** box and type the following text after the table name: `,3`</span></span>  
  
     <span data-ttu-id="bf2de-132">Il testo completo nella casella **criteri/argomento** dovrebbe essere il seguente:</span><span class="sxs-lookup"><span data-stu-id="bf2de-132">The complete text in the **Criteria/Argument** box should be as follows:</span></span>  
  
     `[Association].[v Assoc Seq Line Items],3`  
  
7.  <span data-ttu-id="bf2de-133">Fare clic sul pulsante **risultati** nell'angolo superiore del generatore di query di stima.</span><span class="sxs-lookup"><span data-stu-id="bf2de-133">Click the **Results** button in the upper corner of the Prediction Query Builder.</span></span>  
  
 <span data-ttu-id="bf2de-134">I risultati previsti contengono una singola colonna con l' **espressione**di intestazione.</span><span class="sxs-lookup"><span data-stu-id="bf2de-134">The expected results contain a single column with the heading **Expression**.</span></span> <span data-ttu-id="bf2de-135">La colonna **espressione** contiene una tabella nidificata con una singola colonna e le tre righe seguenti.</span><span class="sxs-lookup"><span data-stu-id="bf2de-135">The **Expression** column contains a nested table with a single column and the following three rows.</span></span> <span data-ttu-id="bf2de-136">Poiché non è stato specificato un valore di input, queste stime rappresentano le associazioni di prodotti più probabili per il modello nel suo complesso.</span><span class="sxs-lookup"><span data-stu-id="bf2de-136">Because you did not specify an input value, these predictions represent the most likely product associations for the model as a whole.</span></span>  
  
|<span data-ttu-id="bf2de-137">Modello</span><span class="sxs-lookup"><span data-stu-id="bf2de-137">Model</span></span>|  
|-----------|  
|<span data-ttu-id="bf2de-138">Women's Mountain Shorts</span><span class="sxs-lookup"><span data-stu-id="bf2de-138">Women's Mountain Shorts</span></span>|  
|<span data-ttu-id="bf2de-139">Water Bottle</span><span class="sxs-lookup"><span data-stu-id="bf2de-139">Water Bottle</span></span>|  
|<span data-ttu-id="bf2de-140">Touring-3000</span><span class="sxs-lookup"><span data-stu-id="bf2de-140">Touring-3000</span></span>|  
  
 <span data-ttu-id="bf2de-141">Successivamente, si utilizzerà il riquadro **input query singleton** per specificare un prodotto come input per la query e verranno visualizzati i prodotti più probabilmente associati a tale elemento.</span><span class="sxs-lookup"><span data-stu-id="bf2de-141">Next, you will use the **Singleton Query Input** pane to specify a product as input to the query, and view the products that are most likely associated with that item.</span></span>  
  
#### <a name="to-create-a-singleton-prediction-query-with-nested-table-inputs"></a><span data-ttu-id="bf2de-142">Per creare una query di stima singleton con gli input della tabella nidificata</span><span class="sxs-lookup"><span data-stu-id="bf2de-142">To create a singleton prediction query with nested table inputs</span></span>  
  
1.  <span data-ttu-id="bf2de-143">Fare clic sul pulsante **progettazione** nell'angolo della generatore di query di stima per tornare alla griglia di compilazione della query.</span><span class="sxs-lookup"><span data-stu-id="bf2de-143">Click the **Design** button in the corner of the Prediction Query Builder to switch back to the query building grid.</span></span>  
  
2.  <span data-ttu-id="bf2de-144">Scegliere **query singleton**dal menu **modello di data mining** .</span><span class="sxs-lookup"><span data-stu-id="bf2de-144">On the **Mining Model** menu, select **Singleton Query**.</span></span>  
  
3.  <span data-ttu-id="bf2de-145">Nella finestra di dialogo **modello di data mining** selezionare il modello **Association** .</span><span class="sxs-lookup"><span data-stu-id="bf2de-145">In the **Mining Model** dialog box, select the **Association** model.</span></span>  
  
4.  <span data-ttu-id="bf2de-146">Nella griglia fare clic sulla cella vuota sotto **origine** e selezionare **funzione di stima.**</span><span class="sxs-lookup"><span data-stu-id="bf2de-146">In the grid, click the empty cell under **Source** and select **Prediction Function.**</span></span> <span data-ttu-id="bf2de-147">Nella cella sotto **campo**selezionare `PredictAssociation` .</span><span class="sxs-lookup"><span data-stu-id="bf2de-147">In the cell under **Field**, select `PredictAssociation`.</span></span>  
  
5.  <span data-ttu-id="bf2de-148">Nel riquadro **modello di data mining** selezionare la tabella nidificata `vAssocSeqLineItems` e trascinarla nella griglia alla casella **criteri/argomento** della `PredictAssociation` funzione.</span><span class="sxs-lookup"><span data-stu-id="bf2de-148">In the **Mining Model** pane, select the nested table `vAssocSeqLineItems`, and drag it into the grid, to the **Criteria/Argument** box for the `PredictAssociation` function.</span></span> <span data-ttu-id="bf2de-149">Digitare `,3` dopo il nome della tabella nidificata come nella procedura precedente.</span><span class="sxs-lookup"><span data-stu-id="bf2de-149">Type `,3` after the nested table name just as in the previous procedure.</span></span>  
  
6.  <span data-ttu-id="bf2de-150">Nella finestra di dialogo **input query singleton** fare clic sulla casella **valore** accanto a **vAssoc Seq Line Items**, quindi fare clic sul pulsante **(...)** .</span><span class="sxs-lookup"><span data-stu-id="bf2de-150">In the **Singleton Query Input** dialog box, click the **Value** box next to **vAssoc Seq Line Items**, and then click the **(...)** button.</span></span>  
  
7.  <span data-ttu-id="bf2de-151">Nella finestra di dialogo **input tabella nidificata** selezionare `Touring Tire` nel riquadro **colonna chiave** , quindi fare clic su **Aggiungi**.</span><span class="sxs-lookup"><span data-stu-id="bf2de-151">In the **Nested Table Input** dialog box, select `Touring Tire` in the **Key column** pane, and then click **Add**.</span></span>  
  
8.  <span data-ttu-id="bf2de-152">Fare clic sul pulsante **risultati** .</span><span class="sxs-lookup"><span data-stu-id="bf2de-152">Click the **Results** button.</span></span>  
  
 <span data-ttu-id="bf2de-153">I risultati mostrano ora le stime relative ai prodotti che sono con la massima probabilità associati a Touring Tire.</span><span class="sxs-lookup"><span data-stu-id="bf2de-153">The results now show the predictions for products that are most likely associated with the Touring Tire.</span></span>  
  
|<span data-ttu-id="bf2de-154">Modello</span><span class="sxs-lookup"><span data-stu-id="bf2de-154">Model</span></span>|  
|-----------|  
|<span data-ttu-id="bf2de-155">Touring Tire Tube</span><span class="sxs-lookup"><span data-stu-id="bf2de-155">Touring Tire Tube</span></span>|  
|<span data-ttu-id="bf2de-156">Sport-100</span><span class="sxs-lookup"><span data-stu-id="bf2de-156">Sport-100</span></span>|  
|<span data-ttu-id="bf2de-157">Water Bottle</span><span class="sxs-lookup"><span data-stu-id="bf2de-157">Water Bottle</span></span>|  
  
 <span data-ttu-id="bf2de-158">Dall'esplorazione del modello si è già appreso tuttavia che Touring Tire Tube viene frequentemente acquistato insieme a Touring Tire. Si è tuttavia maggiormente interessati a individuare i prodotti che è possibile consigliare ai clienti che acquistano questi articoli congiuntamente.</span><span class="sxs-lookup"><span data-stu-id="bf2de-158">However, you already know from exploring the model that the Touring Tire Tube is frequently purchased with the Touring Tire; you are more interested in knowing what products you can recommend to customers who purchase these items together.</span></span> <span data-ttu-id="bf2de-159">Si modificherà quindi la query in modo da stimare i prodotti correlati in base ai due articoli inclusi tra gli acquisti,</span><span class="sxs-lookup"><span data-stu-id="bf2de-159">You will change the query so that it predicts related products based on two items in the basket.</span></span> <span data-ttu-id="bf2de-160">aggiungendovi inoltre la probabilità per ogni prodotto stimato.</span><span class="sxs-lookup"><span data-stu-id="bf2de-160">You will also modify the query to add the probability for each predicted product.</span></span>  
  
#### <a name="to-add-inputs-and-probabilities-to-the-singleton-prediction-query"></a><span data-ttu-id="bf2de-161">Per aggiungere input e probabilità alla query di stima singleton</span><span class="sxs-lookup"><span data-stu-id="bf2de-161">To add inputs and probabilities to the singleton prediction query</span></span>  
  
1.  <span data-ttu-id="bf2de-162">Fare clic sul pulsante **progettazione** nell'angolo della generatore di query di stima per tornare alla griglia di compilazione della query.</span><span class="sxs-lookup"><span data-stu-id="bf2de-162">Click the **Design** button in the corner of the Prediction Query Builder to switch back to the query building grid.</span></span>  
  
2.  <span data-ttu-id="bf2de-163">Nella finestra di dialogo **input query singleton** fare clic sulla casella **valore** accanto a **vAssoc Seq Line Items**, quindi fare clic sul pulsante **(...)** .</span><span class="sxs-lookup"><span data-stu-id="bf2de-163">In the **Singleton Query Input** dialog box, click the **Value** box next to **vAssoc Seq Line Items**, and then click the **(...)** button.</span></span>  
  
3.  <span data-ttu-id="bf2de-164">Nel riquadro **colonna chiave** selezionare `Touring Tire` e quindi fare clic su **Aggiungi**.</span><span class="sxs-lookup"><span data-stu-id="bf2de-164">In the **Key column** pane, select `Touring Tire`, and then click **Add**.</span></span>  
  
4.  <span data-ttu-id="bf2de-165">Nella griglia fare clic sulla cella vuota sotto **origine** e selezionare **funzione di stima.**</span><span class="sxs-lookup"><span data-stu-id="bf2de-165">In the grid, click the empty cell under **Source** and select **Prediction Function.**</span></span> <span data-ttu-id="bf2de-166">Nella cella sotto **campo**selezionare `PredictAssociation` .</span><span class="sxs-lookup"><span data-stu-id="bf2de-166">In the cell under **Field**, select `PredictAssociation`.</span></span>  
  
5.  <span data-ttu-id="bf2de-167">Nel riquadro **modello di data mining** selezionare la tabella nidificata `vAssocSeqLineItems` e trascinarla nella griglia alla casella **criteri/argomento** della `PredictAssociation` funzione.</span><span class="sxs-lookup"><span data-stu-id="bf2de-167">In the **Mining Model** pane, select the nested table `vAssocSeqLineItems`, and drag it into the grid, to the **Criteria/Argument** box for the `PredictAssociation` function.</span></span> <span data-ttu-id="bf2de-168">Digitare `,3` dopo il nome della tabella nidificata come nella procedura precedente.</span><span class="sxs-lookup"><span data-stu-id="bf2de-168">Type `,3` after the nested table name just as in the previous procedure.</span></span>  
  
6.  <span data-ttu-id="bf2de-169">Nella finestra di dialogo **input tabella nidificata** selezionare `Touring Tire Tube` nel riquadro **colonna chiave** , quindi fare clic su **Aggiungi**.</span><span class="sxs-lookup"><span data-stu-id="bf2de-169">In the **Nested Table Input** dialog box, select `Touring Tire Tube` in the **Key column** pane, and then click **Add**.</span></span>  
  
7.  <span data-ttu-id="bf2de-170">Nella griglia, nella riga per la `PredictAssociation` funzione, fare clic sulla casella **criteri/argomento** e modificare gli argomenti per aggiungere l'argomento INCLUDE_STATISTICS.</span><span class="sxs-lookup"><span data-stu-id="bf2de-170">In the grid, in the row for the `PredictAssociation` function, click the **Criteria/Argument** box, and change the arguments to add the argument, INCLUDE_STATISTICS.</span></span>  
  
     <span data-ttu-id="bf2de-171">Il testo completo nella casella **criteri/argomento** dovrebbe essere il seguente:</span><span class="sxs-lookup"><span data-stu-id="bf2de-171">The complete text in the **Criteria/Argument** box should be as follows:</span></span>  
  
     `[Association].[v Assoc Seq Line Items], INCLUDE_STATISTICS, 3`  
  
8.  <span data-ttu-id="bf2de-172">Fare clic sul pulsante **risultati** .</span><span class="sxs-lookup"><span data-stu-id="bf2de-172">Click the **Results** button.</span></span>  
  
 <span data-ttu-id="bf2de-173">I risultati nella tabella nidificata mostrano ora le stime, insieme al supporto e alla probabilità.</span><span class="sxs-lookup"><span data-stu-id="bf2de-173">The results in the nested table now change to show the predictions, together with support and probability.</span></span> <span data-ttu-id="bf2de-174">Per ulteriori informazioni su come interpretare questi valori, vedere il [contenuto del modello di data mining per i modelli di associazione &#40;Analysis Services-Data mining&#41;](../../2014/analysis-services/data-mining/mining-model-content-for-association-models-analysis-services-data-mining.md).</span><span class="sxs-lookup"><span data-stu-id="bf2de-174">For more information about how to interpret these values, see [Mining Model Content for Association Models &#40;Analysis Services - Data Mining&#41;](../../2014/analysis-services/data-mining/mining-model-content-for-association-models-analysis-services-data-mining.md).</span></span>  
  
|<span data-ttu-id="bf2de-175">Modello</span><span class="sxs-lookup"><span data-stu-id="bf2de-175">Model</span></span>|<span data-ttu-id="bf2de-176">$SUPPORT</span><span class="sxs-lookup"><span data-stu-id="bf2de-176">$SUPPORT</span></span>|<span data-ttu-id="bf2de-177">$PROBABILITY</span><span class="sxs-lookup"><span data-stu-id="bf2de-177">$PROBABILITY</span></span>|<span data-ttu-id="bf2de-178">$ADJUSTEDPROBABILITY</span><span class="sxs-lookup"><span data-stu-id="bf2de-178">$ADJUSTEDPROBABILITY</span></span>|  
|-----------|--------------|------------------|--------------------------|  
|<span data-ttu-id="bf2de-179">Sport-100</span><span class="sxs-lookup"><span data-stu-id="bf2de-179">Sport-100</span></span>|<span data-ttu-id="bf2de-180">4334</span><span class="sxs-lookup"><span data-stu-id="bf2de-180">4334</span></span>|<span data-ttu-id="bf2de-181">0,291...</span><span class="sxs-lookup"><span data-stu-id="bf2de-181">0.291...</span></span>|<span data-ttu-id="bf2de-182">0,252...</span><span class="sxs-lookup"><span data-stu-id="bf2de-182">0.252...</span></span>|  
|<span data-ttu-id="bf2de-183">Water Bottle</span><span class="sxs-lookup"><span data-stu-id="bf2de-183">Water Bottle</span></span>|<span data-ttu-id="bf2de-184">2866</span><span class="sxs-lookup"><span data-stu-id="bf2de-184">2866</span></span>|<span data-ttu-id="bf2de-185">0,192...</span><span class="sxs-lookup"><span data-stu-id="bf2de-185">0.192...</span></span>|<span data-ttu-id="bf2de-186">0,175...</span><span class="sxs-lookup"><span data-stu-id="bf2de-186">0.175...</span></span>|  
|<span data-ttu-id="bf2de-187">Patch Kit</span><span class="sxs-lookup"><span data-stu-id="bf2de-187">Patch Kit</span></span>|<span data-ttu-id="bf2de-188">2113</span><span class="sxs-lookup"><span data-stu-id="bf2de-188">2113</span></span>|<span data-ttu-id="bf2de-189">0,142...</span><span class="sxs-lookup"><span data-stu-id="bf2de-189">0.142...</span></span>|<span data-ttu-id="bf2de-190">0,132</span><span class="sxs-lookup"><span data-stu-id="bf2de-190">0.132</span></span>|  
  
## <a name="working-with-results"></a><span data-ttu-id="bf2de-191">Utilizzo dei risultati</span><span class="sxs-lookup"><span data-stu-id="bf2de-191">Working with Results</span></span>  
 <span data-ttu-id="bf2de-192">Quando nei risultati sono presenti molte tabelle nidificate, è possibile convertire i risultati in formato flat per semplificarne la visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="bf2de-192">When there are many nested tables in the results, you might want to flatten the results for easier viewing.</span></span> <span data-ttu-id="bf2de-193">A tale scopo, è possibile modificare manualmente la query aggiungendovi la parola chiave `FLATTENED`.</span><span class="sxs-lookup"><span data-stu-id="bf2de-193">To do this, you can manually modify the query and add the `FLATTENED` keyword.</span></span>  
  
#### <a name="to-flatten-nested-rowsets-in-a-prediction-query"></a><span data-ttu-id="bf2de-194">Per convertire in formato flat i set di righe nidificati in una query di stima</span><span class="sxs-lookup"><span data-stu-id="bf2de-194">To flatten nested rowsets in a prediction query</span></span>  
  
1.  <span data-ttu-id="bf2de-195">Fare clic sul pulsante **SQL** nell'angolo del generatore di query di stima.</span><span class="sxs-lookup"><span data-stu-id="bf2de-195">Click the **SQL** button in the corner of the Prediction Query Builder.</span></span>  
  
     <span data-ttu-id="bf2de-196">La griglia viene sostituita da un riquadro aperto in cui è possibile visualizzare e modificare l'istruzione DMX creata dal generatore delle query di stima.</span><span class="sxs-lookup"><span data-stu-id="bf2de-196">The grid changes to an open pane where you can view and modify the DMX statement that was created by the Prediction Query Builder.</span></span>  
  
2.  <span data-ttu-id="bf2de-197">Dopo la parola chiave `SELECT` digitare `FLATTENED`.</span><span class="sxs-lookup"><span data-stu-id="bf2de-197">After the `SELECT` keyword, type `FLATTENED`.</span></span>  
  
     <span data-ttu-id="bf2de-198">Il testo completo della query dovrebbe risultare analogo al seguente:</span><span class="sxs-lookup"><span data-stu-id="bf2de-198">The complete text of the query should be as follows:</span></span>  
  
    ```  
    SELECT FLATTENED  
      PredictAssociation([Association].[v Assoc Seq Line Items],INCLUDE_STATISTICS,3)  
    FROM  
      [Association]  
    NATURAL PREDICTION JOIN  
    (SELECT (SELECT 'Touring Tire' AS [Model]  
      UNION SELECT 'Touring Tire Tube' AS [Model]) AS [v Assoc Seq Line Items]) AS t  
    ```  
  
3.  <span data-ttu-id="bf2de-199">Fare clic sul pulsante **risultati** nell'angolo superiore del generatore di query di stima.</span><span class="sxs-lookup"><span data-stu-id="bf2de-199">Click the **Results** button in the upper corner of the Prediction Query Builder.</span></span>  
  
 <span data-ttu-id="bf2de-200">Si noti che dopo avere modificato manualmente una query, non sarà possibile tornare alla visualizzazione Progettazione senza perdere le modifiche apportate.</span><span class="sxs-lookup"><span data-stu-id="bf2de-200">Note that after you have manually edited a query, you will not be able to switch back to Design view without losing the changes.</span></span> <span data-ttu-id="bf2de-201">Per salvare la query, è possibile copiare in un file di testo l'istruzione DMX creata manualmente.</span><span class="sxs-lookup"><span data-stu-id="bf2de-201">If you wish to save the query, you can copy the DMX statement that you created manually to a text file.</span></span> <span data-ttu-id="bf2de-202">Tornando alla visualizzazione Progettazione, verrà ripristinata l'ultima versione della query valida in tale visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="bf2de-202">When you change back to Design view, the query is reverted to the last version that was valid in Design view.</span></span>  
  
## <a name="creating-multiple-predictions"></a><span data-ttu-id="bf2de-203">Creazione di più stime</span><span class="sxs-lookup"><span data-stu-id="bf2de-203">Creating Multiple Predictions</span></span>  
 <span data-ttu-id="bf2de-204">Si supponga di voler conoscere le stime migliori per i singoli clienti in base agli acquisti passati.</span><span class="sxs-lookup"><span data-stu-id="bf2de-204">Suppose you want to know the best predictions for individual customers, based on past purchases.</span></span> <span data-ttu-id="bf2de-205">È possibile utilizzare dati esterni come input per la query di stima, ad esempio tabelle contenenti l'ID cliente e gli acquisti di prodotti più recenti.</span><span class="sxs-lookup"><span data-stu-id="bf2de-205">You can use external data as input to the prediction query, such as tables containing the customer ID and the most recent product purchases.</span></span> <span data-ttu-id="bf2de-206">I requisiti prevedono che le tabelle di dati siano già definite come una vista origine dati di Analysis Services e che i dati di input contengano tabelle del case e nidificate analoghe a quelle utilizzate nel modello.</span><span class="sxs-lookup"><span data-stu-id="bf2de-206">The requirements are that the data tables be already defined as an Analysis Services data source view; moreover, the input data must contain case and nested tables like those used in the model.</span></span> <span data-ttu-id="bf2de-207">Non è necessario che abbiano gli stessi nomi, ma la struttura deve essere simile.</span><span class="sxs-lookup"><span data-stu-id="bf2de-207">They need not have the same names, but the structure must be similar.</span></span> <span data-ttu-id="bf2de-208">Ai fini di questa esercitazione, verranno utilizzate le tabelle originali sulle quali è stato eseguito il training del modello.</span><span class="sxs-lookup"><span data-stu-id="bf2de-208">For the purpose of this tutorial, you will use the original tables on which the model was trained.</span></span>  
  
#### <a name="to-change-the-input-method-for-the-prediction-query"></a><span data-ttu-id="bf2de-209">Per modificare il metodo di input per la query di stima</span><span class="sxs-lookup"><span data-stu-id="bf2de-209">To change the input method for the prediction query</span></span>  
  
1.  <span data-ttu-id="bf2de-210">Nel menu **modello di data mining** selezionare di nuovo **query singleton** per cancellare il segno di spunta.</span><span class="sxs-lookup"><span data-stu-id="bf2de-210">In the **Mining Model** menu, select **Singleton Query** again, to clear the check mark.</span></span>  
  
2.  <span data-ttu-id="bf2de-211">Verrà visualizzato un messaggio di errore per avvisare che la query singleton andrà persa.</span><span class="sxs-lookup"><span data-stu-id="bf2de-211">An error message appears warning that your singleton query will be lost.</span></span> <span data-ttu-id="bf2de-212">Fare clic su **Sì**.</span><span class="sxs-lookup"><span data-stu-id="bf2de-212">Click **Yes**.</span></span>  
  
     <span data-ttu-id="bf2de-213">Il nome della finestra di dialogo di input viene modificato in **Seleziona tabella**/e di input.</span><span class="sxs-lookup"><span data-stu-id="bf2de-213">The name of the input dialog box changes to **Select Input Table(s)**.</span></span>  
  
 <span data-ttu-id="bf2de-214">Poiché si è interessati alla creazione di una query di stima che fornisca l'ID cliente e un elenco di prodotti come input, si aggiungerà la tabella dei clienti come tabella del case e la tabella degli acquisti come tabella nidificata.</span><span class="sxs-lookup"><span data-stu-id="bf2de-214">Because you are interested in creating a prediction query that provides Customer ID and a list of products as input, you will add the customer table as the case table, and the purchases table as the nested table.</span></span> <span data-ttu-id="bf2de-215">Si aggiungeranno quindi funzioni di stima per creare consigli.</span><span class="sxs-lookup"><span data-stu-id="bf2de-215">Then you will add prediction functions to create recommendations.</span></span>  
  
#### <a name="to-create-a-prediction-query-using-nested-table-inputs"></a><span data-ttu-id="bf2de-216">Per creare una query di stima tramite input di tabelle nidificate</span><span class="sxs-lookup"><span data-stu-id="bf2de-216">To create a prediction query using nested table inputs</span></span>  
  
1.  <span data-ttu-id="bf2de-217">Nel riquadro Modello di data mining selezionare il modello Association Filtered.</span><span class="sxs-lookup"><span data-stu-id="bf2de-217">In the Mining Model pane, select the Association Filtered model.</span></span>  
  
2.  <span data-ttu-id="bf2de-218">Nella finestra di dialogo **Seleziona tabella/** e di input fare clic su **Seleziona tabella del case**.</span><span class="sxs-lookup"><span data-stu-id="bf2de-218">In the **Select Input Table(s)** dialog box, click **Select Case Table**.</span></span>  
  
3.  <span data-ttu-id="bf2de-219">Nella finestra di dialogo **Seleziona tabella** selezionare AdventureWorksDW2008 per **origine dati**.</span><span class="sxs-lookup"><span data-stu-id="bf2de-219">In the **Select Table** dialog box, for **Data Source**, select AdventureWorksDW2008.</span></span> <span data-ttu-id="bf2de-220">Nell'elenco **nome tabella/vista** selezionare vAssocSeqOrders e quindi fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="bf2de-220">In the **Table/View Name** list, select vAssocSeqOrders, and then click **OK**.</span></span>  
  
     <span data-ttu-id="bf2de-221">La tabella vAssocSeqOrders verrà aggiunta al riquadro.</span><span class="sxs-lookup"><span data-stu-id="bf2de-221">The table vAssocSeqOrders is added to the pane.</span></span>  
  
4.  <span data-ttu-id="bf2de-222">Nella finestra di dialogo **Seleziona tabella/** e di input fare clic su **Seleziona tabella nidificata**.</span><span class="sxs-lookup"><span data-stu-id="bf2de-222">In the **Select Input Table(s)** dialog box, click **Select Nested Table**.</span></span>  
  
5.  <span data-ttu-id="bf2de-223">Nella finestra di dialogo **Seleziona tabella** selezionare AdventureWorksDW2008 per **origine dati**.</span><span class="sxs-lookup"><span data-stu-id="bf2de-223">In the **Select Table** dialog box, for **Data Source**, select AdventureWorksDW2008.</span></span> <span data-ttu-id="bf2de-224">Nell'elenco **nome tabella/vista** selezionare vAssocSeqLineItems e quindi fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="bf2de-224">In the **Table/View name** list, select vAssocSeqLineItems, and then click **OK**.</span></span>  
  
     <span data-ttu-id="bf2de-225">La tabella vAssocSeqLineItems verrà aggiunta al riquadro.</span><span class="sxs-lookup"><span data-stu-id="bf2de-225">The table vAssocSeqLineItems is added to the pane.</span></span>  
  
6.  <span data-ttu-id="bf2de-226">Nella finestra di dialogo **Specifica join annidato** trascinare il campo OrderNumber dalla tabella del case e rilasciarlo sul campo OrderNumber nella tabella nidificata.</span><span class="sxs-lookup"><span data-stu-id="bf2de-226">In the **Specify Nested Join** dialog box, drag the OrderNumber field from the case table and drop it onto the OrderNumber field in the nested table.</span></span>  
  
     <span data-ttu-id="bf2de-227">È anche possibile fare clic su **Aggiungi relazione** e creare la relazione selezionando le colonne da un elenco.</span><span class="sxs-lookup"><span data-stu-id="bf2de-227">You can also click **Add Relationship** and create the relationship by selecting columns from a list.</span></span>  
  
7.  <span data-ttu-id="bf2de-228">Nella finestra di dialogo **specifica relazione** verificare che i campi OrderNumber siano mappati correttamente, quindi fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="bf2de-228">In the **Specify Relationship** dialog box, verify that the OrderNumber fields are mapped correctly, and then click **OK**.</span></span>  
  
8.  <span data-ttu-id="bf2de-229">Fare clic su **OK** per chiudere la finestra di dialogo **Specifica join annidato** .</span><span class="sxs-lookup"><span data-stu-id="bf2de-229">Click **OK** to close the **Specify Nested Join** dialog box.</span></span>  
  
     <span data-ttu-id="bf2de-230">La tabella del case e la tabella nidificata verranno aggiornate nel riquadro di progettazione in modo da visualizzare i join che connettono le colonne dati esterne alle colonne del modello.</span><span class="sxs-lookup"><span data-stu-id="bf2de-230">The case and nested tables are updated in the design pane to show the joins connecting the external data columns to the columns in the model.</span></span> <span data-ttu-id="bf2de-231">Se le relazioni sono errate, è possibile fare clic con il pulsante destro del mouse sulla linea di join e scegliere **modifica connessioni** per modificare il mapping delle colonne. in alternativa, è possibile fare clic con il pulsante destro del mouse sulla linea di join e scegliere **Elimina** per rimuovere completamente la relazione.</span><span class="sxs-lookup"><span data-stu-id="bf2de-231">If the relationships are wrong, you can right-click the join line and select **Modify Connections** to edit the column mapping, or you can right-click the join line and select **Delete** to remove the relationship completely.</span></span>  
  
9. <span data-ttu-id="bf2de-232">Aggiungere una nuova riga alla griglia.</span><span class="sxs-lookup"><span data-stu-id="bf2de-232">Add a new row to the grid.</span></span> <span data-ttu-id="bf2de-233">Per **origine**selezionare **tabella vAssocSeqOrders**.</span><span class="sxs-lookup"><span data-stu-id="bf2de-233">For **Source**, select **vAssocSeqOrders table**.</span></span> <span data-ttu-id="bf2de-234">In **campo**selezionare CustomerKey.</span><span class="sxs-lookup"><span data-stu-id="bf2de-234">For **Field**, select CustomerKey.</span></span>  
  
10. <span data-ttu-id="bf2de-235">Aggiungere una nuova riga alla griglia.</span><span class="sxs-lookup"><span data-stu-id="bf2de-235">Add a new row to the grid.</span></span> <span data-ttu-id="bf2de-236">Per **origine**selezionare **tabella vAssocSeqOrders**.</span><span class="sxs-lookup"><span data-stu-id="bf2de-236">For **Source**, select **vAssocSeqOrders table**.</span></span> <span data-ttu-id="bf2de-237">Per **campo**selezionare Region (area).</span><span class="sxs-lookup"><span data-stu-id="bf2de-237">For **Field**, select Region.</span></span>  
  
11. <span data-ttu-id="bf2de-238">Aggiungere una nuova riga alla griglia.</span><span class="sxs-lookup"><span data-stu-id="bf2de-238">Add a new row to the grid.</span></span> <span data-ttu-id="bf2de-239">Per **origine**selezionare **funzione di stima**e in **campo**selezionare `PredictAssociation` .</span><span class="sxs-lookup"><span data-stu-id="bf2de-239">For **Source**, select **Prediction Function**, and for **Field**, select `PredictAssociation`.</span></span>  
  
12. <span data-ttu-id="bf2de-240">Trascinare vAssocSeqLineItems nella casella **criteri/argomento** della `PredictAssociation` riga.</span><span class="sxs-lookup"><span data-stu-id="bf2de-240">Drag vAssocSeqLineItems, into the **Criteria/Argument** box of the `PredictAssociation` row.</span></span> <span data-ttu-id="bf2de-241">Fare clic alla fine della casella **criteri/argomento** , quindi digitare il testo seguente:`INCLUDE_STATISTICS,3`</span><span class="sxs-lookup"><span data-stu-id="bf2de-241">Click at the end of the **Criteria/Argument** box and then type the following text: `INCLUDE_STATISTICS,3`</span></span>  
  
     <span data-ttu-id="bf2de-242">Il testo completo nella casella **criteri/argomento** deve essere:`[Association].[v Assoc Seq Line Items], INCLUDE_STATISTICS, 3`</span><span class="sxs-lookup"><span data-stu-id="bf2de-242">The complete text in the **Criteria/Argument** box should be: `[Association].[v Assoc Seq Line Items], INCLUDE_STATISTICS, 3`</span></span>  
  
13. <span data-ttu-id="bf2de-243">Fare clic sul pulsante **risultato** per visualizzare le stime per ogni cliente.</span><span class="sxs-lookup"><span data-stu-id="bf2de-243">Click the **Result** button to view the predictions for each customer.</span></span>  
  
 <span data-ttu-id="bf2de-244">È possibile provare a creare una query di stima simile in più modelli, per vedere se l'applicazione di filtri modifica i risultati della stima.</span><span class="sxs-lookup"><span data-stu-id="bf2de-244">You might try creating a similar prediction query on the multiple models, to see whether filtering changes the prediction results.</span></span> <span data-ttu-id="bf2de-245">Per ulteriori informazioni sulla creazione di stime e altri tipi di query, vedere [esempi di query sul modello di associazione](../../2014/analysis-services/data-mining/association-model-query-examples.md).</span><span class="sxs-lookup"><span data-stu-id="bf2de-245">For more information about creating predictions and other types of queries, see [Association Model Query Examples](../../2014/analysis-services/data-mining/association-model-query-examples.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="bf2de-246">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="bf2de-246">See Also</span></span>  
 <span data-ttu-id="bf2de-247">[Contenuto del modello di data mining per i modelli di associazione &#40;Analysis Services-Data mining&#41;](../../2014/analysis-services/data-mining/mining-model-content-for-association-models-analysis-services-data-mining.md) </span><span class="sxs-lookup"><span data-stu-id="bf2de-247">[Mining Model Content for Association Models &#40;Analysis Services - Data Mining&#41;](../../2014/analysis-services/data-mining/mining-model-content-for-association-models-analysis-services-data-mining.md) </span></span>  
 <span data-ttu-id="bf2de-248">[PredictAssociation &#40;DMX&#41;](/sql/dmx/predictassociation-dmx) </span><span class="sxs-lookup"><span data-stu-id="bf2de-248">[PredictAssociation &#40;DMX&#41;](/sql/dmx/predictassociation-dmx) </span></span>  
 [<span data-ttu-id="bf2de-249">Creare una query di stima utilizzando Generatore query di stima</span><span class="sxs-lookup"><span data-stu-id="bf2de-249">Create a Prediction Query Using the Prediction Query Builder</span></span>](../../2014/analysis-services/data-mining/create-a-prediction-query-using-the-prediction-query-builder.md)  
  
  
