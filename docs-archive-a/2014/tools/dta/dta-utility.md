---
title: Utilità dta | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: tools-other
ms.topic: conceptual
helpviewer_keywords:
- physical design structures [SQL Server]
- command prompt utilities [SQL Server], dta
- dta utility
- tuning databases [SQL Server], Database Engine Tuning Advisor
- workloads [SQL Server], analyzing
- dta utility, about dta utility
- performance [SQL Server], Database Engine Tuning Advisor
- Database Engine Tuning Advisor [SQL Server], command prompt
- optimizing databases [SQL Server]
ms.assetid: a0b210ce-9b58-4709-80cb-9363b68a1f5a
author: stevestein
ms.author: sstein
ms.openlocfilehash: f9cd5a904993f1044c1cbeff8e1cdfc07332da64
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87724304"
---
# <a name="dta-utility"></a><span data-ttu-id="65bed-102">dta - utilità</span><span class="sxs-lookup"><span data-stu-id="65bed-102">dta Utility</span></span>
  <span data-ttu-id="65bed-103">L'utilità **dta** è la versione per il prompt dei comandi dello strumento Ottimizzazione guidata motore di database.</span><span class="sxs-lookup"><span data-stu-id="65bed-103">The **dta** utility is the command prompt version of Database Engine Tuning Advisor.</span></span> <span data-ttu-id="65bed-104">L'utilità **dta** è stata sviluppata per consentire l'utilizzo della funzionalità Ottimizzazione guidata motore di database in applicazioni e script.</span><span class="sxs-lookup"><span data-stu-id="65bed-104">The **dta** utility is designed to allow you to use Database Engine Tuning Advisor functionality in applications and scripts.</span></span>  
  
 <span data-ttu-id="65bed-105">In modo analogo a Ottimizzazione guidata motore di database, l'utilità **dta** analizza il carico di lavoro e propone strutture di progettazione fisica per ottimizzare le prestazioni a livello di server per il carico di lavoro specifico.</span><span class="sxs-lookup"><span data-stu-id="65bed-105">Like Database Engine Tuning Advisor, the **dta** utility analyzes a workload and recommends physical design structures to improve server performance for that workload.</span></span> <span data-ttu-id="65bed-106">Il carico di lavoro può essere una cache dei piani, un file o una tabella di traccia di [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] o uno script [!INCLUDE[tsql](../../includes/tsql-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="65bed-106">The workload can be a plan cache, a [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] trace file or table, or a [!INCLUDE[tsql](../../includes/tsql-md.md)] script.</span></span> <span data-ttu-id="65bed-107">Le strutture di progettazione fisica includono indici, viste indicizzate e schemi di partizionamento.</span><span class="sxs-lookup"><span data-stu-id="65bed-107">Physical design structures include indexes, indexed views, and partitioning.</span></span> <span data-ttu-id="65bed-108">Dopo aver analizzato un carico di lavoro, l'utilità **dta** visualizza un'indicazione di progettazione fisica dei database e quindi genera lo script necessario per implementare tale indicazione.</span><span class="sxs-lookup"><span data-stu-id="65bed-108">After analyzing a workload, the **dta** utility produces a recommendation for the physical design of databases and can generate the necessary script to implement the recommendation.</span></span> <span data-ttu-id="65bed-109">I carichi di lavoro possono essere specificati dal prompt dei comandi con gli argomenti **-if** o **-it** .</span><span class="sxs-lookup"><span data-stu-id="65bed-109">Workloads can be specified from the command prompt with the **-if** or the **-it** argument.</span></span> <span data-ttu-id="65bed-110">È anche possibile specificare un file di input XML dal prompt dei comandi con l'argomento **-ix** .</span><span class="sxs-lookup"><span data-stu-id="65bed-110">You can also specify an XML input file from the command prompt with the **-ix** argument.</span></span> <span data-ttu-id="65bed-111">In quest'ultimo caso, il carico di lavoro viene specificato nel file di input XML.</span><span class="sxs-lookup"><span data-stu-id="65bed-111">In that case, the workload is specified in the XML input file.</span></span>  
  
## <a name="syntax"></a><span data-ttu-id="65bed-112">Sintassi</span><span class="sxs-lookup"><span data-stu-id="65bed-112">Syntax</span></span>  
  
```  
  
      dta  
[ -? ] |  
[  
      [ -S server_name[ \instance ] ]  
      { { -U login_id [-P password ] } | -E  }  
      { -D database_name [ ,...n ] }  
      [ -ddatabase_name ]   
      [ -Tltable_list | -Tf table_list_file ]  
      { -if workload_file | -it workload_trace_table_name  |   
        -ip | -ipf }  
      { -ssession_name | -IDsession_ID }  
      [ -F ]  
      [ -of output_script_file_name ]  
      [ -oroutput_xml_report_file_name ]  
      [ -ox output_XML_file_name ]  
      [ -rl analysis_report_list [ ,...n ] ]  
      [ -ix input_XML_file_name ]  
      [ -A time_for_tuning_in_minutes ]  
      [ -nnumber_of_events ]  
      [ -m minimum_improvement ]  
      [ -fa physical_design_structures_to_add ]  
      [ -fi ]  
      [ -fppartitioning_strategy ]  
      [ -fk keep_existing_option ]  
      [ -fxdrop_only_mode ]  
      [ -B storage_size ]  
      [ -cmax_key_columns_in_index ]  
      [ -C max_columns_in_index ]  
      [ -e | -e tuning_log_name ]  
      [ -N online_option]  
      [ -q ]  
      [ -u ]  
      [ -x ]  
      [ -a ]  
]  
```  
  
## <a name="arguments"></a><span data-ttu-id="65bed-113">Argomenti</span><span class="sxs-lookup"><span data-stu-id="65bed-113">Arguments</span></span>  
 <span data-ttu-id="65bed-114">**-?**</span><span class="sxs-lookup"><span data-stu-id="65bed-114">**-?**</span></span>  
 <span data-ttu-id="65bed-115">Visualizza le informazioni sull'utilizzo.</span><span class="sxs-lookup"><span data-stu-id="65bed-115">Displays usage information.</span></span>  
  
 <span data-ttu-id="65bed-116">**-A** _time_for_tuning_in_minutes_</span><span class="sxs-lookup"><span data-stu-id="65bed-116">**-A** _time_for_tuning_in_minutes_</span></span>  
 <span data-ttu-id="65bed-117">Specifica il limite di tempo di ottimizzazione espresso in minuti.</span><span class="sxs-lookup"><span data-stu-id="65bed-117">Specifies the tuning time limit in minutes.</span></span> <span data-ttu-id="65bed-118">**dta** utilizza l'intervallo di tempo specificato per ottimizzare il carico di lavoro e generare uno script in base alle indicazioni relative alla modifica della progettazione fisica.</span><span class="sxs-lookup"><span data-stu-id="65bed-118">**dta** uses the specified amount of time to tune the workload and generate a script with the recommended physical design changes.</span></span> <span data-ttu-id="65bed-119">Per impostazione predefinita, **dta** utilizza un tempo di ottimizzazione pari a 8 ore.</span><span class="sxs-lookup"><span data-stu-id="65bed-119">By default **dta** assumes a tuning time of 8 hours.</span></span> <span data-ttu-id="65bed-120">Se si specifica 0, viene impostato un tempo di ottimizzazione illimitato.</span><span class="sxs-lookup"><span data-stu-id="65bed-120">Specifying 0allows unlimited tuning time.</span></span> <span data-ttu-id="65bed-121">È possibile che l'utilità**dta** termini l'ottimizzazione dell'intero carico di lavoro prima che sia trascorso il limite di tempo specificato.</span><span class="sxs-lookup"><span data-stu-id="65bed-121">**dta** might finish tuning the entire workload before the time limit expires.</span></span> <span data-ttu-id="65bed-122">Per garantire l'ottimizzazione dell'intero carico di lavoro, è tuttavia consigliabile specificare un tempo di ottimizzazione illimitato (-A 0).</span><span class="sxs-lookup"><span data-stu-id="65bed-122">However, to make sure that the entire workload is tuned, we recommend that you specify unlimited tuning time (-A 0).</span></span>  
  
 <span data-ttu-id="65bed-123">**-a**</span><span class="sxs-lookup"><span data-stu-id="65bed-123">**-a**</span></span>  
 <span data-ttu-id="65bed-124">Ottimizza il carico di lavoro e applica l'indicazione senza richiedere conferma all'utente.</span><span class="sxs-lookup"><span data-stu-id="65bed-124">Tunes workload and applies the recommendation without prompting you.</span></span>  
  
 <span data-ttu-id="65bed-125">**-B** _storage_size_</span><span class="sxs-lookup"><span data-stu-id="65bed-125">**-B** _storage_size_</span></span>  
 <span data-ttu-id="65bed-126">Specifica lo spazio massimo, espresso in megabyte, che può essere utilizzato dall'indice e dal partizionamento consigliati.</span><span class="sxs-lookup"><span data-stu-id="65bed-126">Specifies the maximum space in megabytes that can be consumed by the recommended index and partitioning.</span></span> <span data-ttu-id="65bed-127">Se si ottimizzano più database, per il calcolo dello spazio vengono considerate le indicazioni per tutti i database.</span><span class="sxs-lookup"><span data-stu-id="65bed-127">When multiple databases are tuned, recommendations for all databases are considered for the space calculation.</span></span> <span data-ttu-id="65bed-128">Per impostazione predefinita, **dta** utilizza il valore più basso delle dimensioni dello spazio di archiviazione riportate di seguito:</span><span class="sxs-lookup"><span data-stu-id="65bed-128">By default, **dta** assumes the smaller of the following storage sizes:</span></span>  
  
-   <span data-ttu-id="65bed-129">Valore triplo della dimensione corrente dei dati non elaborati, incluse le dimensioni totali degli heap e degli indici cluster nelle tabelle del database.</span><span class="sxs-lookup"><span data-stu-id="65bed-129">Three times the current raw data size, which includes the total size of heaps and clustered indexes on tables in the database.</span></span>  
  
-   <span data-ttu-id="65bed-130">Lo spazio disponibile su tutte le unità disco collegate sommato alle dimensioni dei dati non elaborati.</span><span class="sxs-lookup"><span data-stu-id="65bed-130">The free space on all attached disk drives plus the raw data size.</span></span>  
  
 <span data-ttu-id="65bed-131">Le dimensioni dello spazio di archiviazione predefinite non includono gli indici non cluster e le viste indicizzate.</span><span class="sxs-lookup"><span data-stu-id="65bed-131">The default storage size does not include nonclustered indexes and indexed views.</span></span>  
  
 <span data-ttu-id="65bed-132">**-C** _max_columns_in_index_</span><span class="sxs-lookup"><span data-stu-id="65bed-132">**-C** _max_columns_in_index_</span></span>  
 <span data-ttu-id="65bed-133">Specifica il numero massimo di colonne negli indici proposto da **dta** .</span><span class="sxs-lookup"><span data-stu-id="65bed-133">Specifies the maximum number of columns in indexes that **dta** proposes.</span></span> <span data-ttu-id="65bed-134">Il valore massimo è 1024.</span><span class="sxs-lookup"><span data-stu-id="65bed-134">The maximum value  is 1024.</span></span> <span data-ttu-id="65bed-135">Per impostazione predefinita, questo argomento è impostato su 16.</span><span class="sxs-lookup"><span data-stu-id="65bed-135">By default, this argument is set to 16.</span></span>  
  
 <span data-ttu-id="65bed-136">**-c** _max_key_columns_in_index_</span><span class="sxs-lookup"><span data-stu-id="65bed-136">**-c** _max_key_columns_in_index_</span></span>  
 <span data-ttu-id="65bed-137">Specifica il numero massimo di colonne chiave negli indici proposto da **dta** .</span><span class="sxs-lookup"><span data-stu-id="65bed-137">Specifies the maximum number of key columns in indexes that **dta** proposes.</span></span> <span data-ttu-id="65bed-138">Il valore predefinito è 16, ovvero il valore massimo consentito.</span><span class="sxs-lookup"><span data-stu-id="65bed-138">The default value is 16, the maximum value allowed.</span></span> <span data-ttu-id="65bed-139">In**dta** viene inoltre presa in considerazione la creazione di indici con colonne incluse.</span><span class="sxs-lookup"><span data-stu-id="65bed-139">**dta** also considers creating indexes with included columns.</span></span> <span data-ttu-id="65bed-140">Gli indici con colonne incluse indicati dall'utilità potrebbero superare il numero di colonne specificato in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="65bed-140">Indexes recommended with included columns may exceed the number of columns specified in this argument.</span></span>  
  
 <span data-ttu-id="65bed-141">**-D** _database_name_</span><span class="sxs-lookup"><span data-stu-id="65bed-141">**-D** _database_name_</span></span>  
 <span data-ttu-id="65bed-142">Specifica il nome di ogni database da ottimizzare.</span><span class="sxs-lookup"><span data-stu-id="65bed-142">Specifies the name of each database that is to be tuned.</span></span> <span data-ttu-id="65bed-143">Il primo database è il database predefinito.</span><span class="sxs-lookup"><span data-stu-id="65bed-143">The first database is the default database.</span></span> <span data-ttu-id="65bed-144">Per specificare più database, separare i relativi nomi con una virgola, ad esempio:</span><span class="sxs-lookup"><span data-stu-id="65bed-144">You can specify multiple databases by separating the database names with commas, for example:</span></span>  
  
```  
dta -D database_name1, database_name2...  
```  
  
 <span data-ttu-id="65bed-145">In alternativa, è possibile specificare più database usando l'argomento **-D** per ogni nome di database, ad esempio:</span><span class="sxs-lookup"><span data-stu-id="65bed-145">Alternatively, you can specify multiple databases by using the **-D** argument for each database name, for example:</span></span>  
  
```  
dta -D database_name1 -D database_name2... n  
```  
  
 <span data-ttu-id="65bed-146">L'argomento **-D** è obbligatorio.</span><span class="sxs-lookup"><span data-stu-id="65bed-146">The **-D** argument is mandatory.</span></span> <span data-ttu-id="65bed-147">Se si omette l'argomento **-d** , **dta** si connette inizialmente al database specificato nella prima clausola `USE database_name` del carico di lavoro.</span><span class="sxs-lookup"><span data-stu-id="65bed-147">If the **-d** argument has not been specified, **dta** initially connects to the database that is specified with the first `USE database_name` clause in the workload.</span></span> <span data-ttu-id="65bed-148">Se non è presente alcuna clausola `USE database_name` esplicita nel carico di lavoro, è necessario usare l'argomento **-d** .</span><span class="sxs-lookup"><span data-stu-id="65bed-148">If there is not explicit `USE database_name` clause in the workload, you must use the **-d** argument.</span></span>  
  
 <span data-ttu-id="65bed-149">Se, ad esempio, un carico di lavoro non include una clausola `USE database_name` esplicita e si utilizza il comando **dta** seguente, non verrà generata alcuna indicazione.</span><span class="sxs-lookup"><span data-stu-id="65bed-149">For example, if you have a workload that contains no explicit `USE database_name` clause, and you use the following **dta** command, a recommendation will not be generated:</span></span>  
  
```  
dta -D db_name1, db_name2...  
```  
  
 <span data-ttu-id="65bed-150">Se invece si usa lo stesso carico di lavoro e si specifica il comando **dta** seguente con l'argomento **-d** , viene generata un'indicazione:</span><span class="sxs-lookup"><span data-stu-id="65bed-150">But if you use the same workload, and use the following **dta** command that uses the **-d** argument, a recommendation will be generated:</span></span>  
  
```  
dta -D db_name1, db_name2 -d db_name1  
```  
  
 <span data-ttu-id="65bed-151">**-d** _database_name_</span><span class="sxs-lookup"><span data-stu-id="65bed-151">**-d** _database_name_</span></span>  
 <span data-ttu-id="65bed-152">Specifica il primo database al quale si connette **dta** per ottimizzare un carico di lavoro.</span><span class="sxs-lookup"><span data-stu-id="65bed-152">Specifies the first database to which **dta** connects when tuning a workload.</span></span> <span data-ttu-id="65bed-153">Per questo argomento è possibile specificare solo un database.</span><span class="sxs-lookup"><span data-stu-id="65bed-153">Only one database can be specified for this argument.</span></span> <span data-ttu-id="65bed-154">Ad esempio:</span><span class="sxs-lookup"><span data-stu-id="65bed-154">For example:</span></span>  
  
```  
dta -d AdventureWorks2012 ...  
```  
  
 <span data-ttu-id="65bed-155">Se vengono specificati più nomi di database, **dta** restituisce un errore.</span><span class="sxs-lookup"><span data-stu-id="65bed-155">If multiple database names are specified, then **dta** returns an error.</span></span> <span data-ttu-id="65bed-156">L'argomento **-d** è facoltativo.</span><span class="sxs-lookup"><span data-stu-id="65bed-156">The **-d** argument is optional.</span></span>  
  
 <span data-ttu-id="65bed-157">Se si utilizza un file di input XML, è possibile specificare il primo database al quale **DTA** si connette utilizzando l' `DatabaseToConnect` elemento che si trova sotto l' `TuningOptions` elemento.</span><span class="sxs-lookup"><span data-stu-id="65bed-157">If you are using an XML input file, you can specify the first database to which **dta** connects by using the `DatabaseToConnect` element that is located under the `TuningOptions` element.</span></span> <span data-ttu-id="65bed-158">Per altre informazioni, vedere [Database Engine Tuning Advisor](../../relational-databases/performance/database-engine-tuning-advisor.md).</span><span class="sxs-lookup"><span data-stu-id="65bed-158">For more information, see [Database Engine Tuning Advisor](../../relational-databases/performance/database-engine-tuning-advisor.md).</span></span>  
  
 <span data-ttu-id="65bed-159">In caso di ottimizzazione di un solo database, l'argomento **-d** è caratterizzato da una funzionalità simile all'argomento **-d** dell'utilità **sqlcmd** , ma non esegue l'istruzione USE *database_name* .</span><span class="sxs-lookup"><span data-stu-id="65bed-159">If you are tuning only one database, the **-d** argument provides functionality that is similar to the **-d** argument in the **sqlcmd** utility, but it does not execute the USE *database_name* statement.</span></span> <span data-ttu-id="65bed-160">Per altre informazioni, vedere [sqlcmd Utility](../sqlcmd-utility.md).</span><span class="sxs-lookup"><span data-stu-id="65bed-160">For more information, see [sqlcmd Utility](../sqlcmd-utility.md).</span></span>  
  
 <span data-ttu-id="65bed-161">**-E**</span><span class="sxs-lookup"><span data-stu-id="65bed-161">**-E**</span></span>  
 <span data-ttu-id="65bed-162">Utilizza una connessione trusted anziché richiedere una password.</span><span class="sxs-lookup"><span data-stu-id="65bed-162">Uses a trusted connection instead of requesting a password.</span></span> <span data-ttu-id="65bed-163">È necessario usare l'argomento **-E** o **-U** , che specifica un ID di accesso.</span><span class="sxs-lookup"><span data-stu-id="65bed-163">Either the **-E** argument or the **-U** argument, which specifies a login ID, must be used.</span></span>  
  
 <span data-ttu-id="65bed-164">**-e** _tuning_log_name_</span><span class="sxs-lookup"><span data-stu-id="65bed-164">**-e** _tuning_log_name_</span></span>  
 <span data-ttu-id="65bed-165">Specifica il nome della tabella o del file in cui **dta** registra gli eventi che non possono essere ottimizzati.</span><span class="sxs-lookup"><span data-stu-id="65bed-165">Specifies the name of the table or file where **dta** records events that it could not tune.</span></span> <span data-ttu-id="65bed-166">La tabella viene creata nel server in cui viene eseguita l'ottimizzazione.</span><span class="sxs-lookup"><span data-stu-id="65bed-166">The table is created on the server where the tuning is performed.</span></span>  
  
 <span data-ttu-id="65bed-167">Se si usa una tabella, specificarne il nome in formato *[database_name].[owner_name].table_name*.</span><span class="sxs-lookup"><span data-stu-id="65bed-167">If a table is used, specify its name in the format: *[database_name].[owner_name].table_name*.</span></span> <span data-ttu-id="65bed-168">Nella tabella seguente sono riportati i valori predefiniti per ogni parametro.</span><span class="sxs-lookup"><span data-stu-id="65bed-168">The following table shows the default values for each parameter:</span></span>  
  
|<span data-ttu-id="65bed-169">Parametro</span><span class="sxs-lookup"><span data-stu-id="65bed-169">Parameter</span></span>|<span data-ttu-id="65bed-170">Valore predefinito</span><span class="sxs-lookup"><span data-stu-id="65bed-170">Default value</span></span>|  
|---------------|-------------------|  
|<span data-ttu-id="65bed-171">*database_name*</span><span class="sxs-lookup"><span data-stu-id="65bed-171">*database_name*</span></span>|<span data-ttu-id="65bed-172">*database_name* specificato con l'opzione **-D**</span><span class="sxs-lookup"><span data-stu-id="65bed-172">*database_name* specified with the **-D** option</span></span>|  
|<span data-ttu-id="65bed-173">*owner_name*</span><span class="sxs-lookup"><span data-stu-id="65bed-173">*owner_name*</span></span>|<span data-ttu-id="65bed-174">**dbo**</span><span class="sxs-lookup"><span data-stu-id="65bed-174">**dbo**</span></span><br /><br /> <span data-ttu-id="65bed-175">Nota: *owner_name* deve essere **dbo**.</span><span class="sxs-lookup"><span data-stu-id="65bed-175">Note: *owner_name* must be **dbo**.</span></span> <span data-ttu-id="65bed-176">Se si specifica un qualsiasi altro valore, l'esecuzione di **dta** ha esito negativo e viene restituito un errore.</span><span class="sxs-lookup"><span data-stu-id="65bed-176">If any other value is specified, then **dta** execution fails and it returns an error.</span></span>|  
|<span data-ttu-id="65bed-177">*table_name*</span><span class="sxs-lookup"><span data-stu-id="65bed-177">*table_name*</span></span>|<span data-ttu-id="65bed-178">nessuno</span><span class="sxs-lookup"><span data-stu-id="65bed-178">None</span></span>|  
  
 <span data-ttu-id="65bed-179">Se si utilizza un file, specificare l'estensione xml,</span><span class="sxs-lookup"><span data-stu-id="65bed-179">If a file is used, specify .xml as its extension.</span></span> <span data-ttu-id="65bed-180">ad esempio TuningLog.xml.</span><span class="sxs-lookup"><span data-stu-id="65bed-180">For example, TuningLog.xml.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="65bed-181">L'utilità **dta** non elimina il contenuto delle tabelle del log di ottimizzazione specificate dall'utente se la sessione viene eliminata.</span><span class="sxs-lookup"><span data-stu-id="65bed-181">The **dta** utility does not delete the contents of user-specified tuning log tables if the session is deleted.</span></span> <span data-ttu-id="65bed-182">Quando si esegue l'ottimizzazione di carichi di lavoro molto estesi, è consigliabile specificare una tabella per il log di ottimizzazione.</span><span class="sxs-lookup"><span data-stu-id="65bed-182">When tuning very large workloads, we recommend that a table be specified for the tuning log.</span></span> <span data-ttu-id="65bed-183">Poiché l'ottimizzazione di carichi di lavoro estesi può generare log di ottimizzazione estesi, è possibile eliminare le sessioni molto più velocemente in caso di utilizzo di una tabella.</span><span class="sxs-lookup"><span data-stu-id="65bed-183">Since tuning large workloads can result in large tuning logs, the sessions can be deleted much faster when a table is used.</span></span>  
  
 <span data-ttu-id="65bed-184">**-F**</span><span class="sxs-lookup"><span data-stu-id="65bed-184">**-F**</span></span>  
 <span data-ttu-id="65bed-185">Consente a **dta** di sovrascrivere un file di output esistente.</span><span class="sxs-lookup"><span data-stu-id="65bed-185">Permits **dta** to overwrite an existing output file.</span></span> <span data-ttu-id="65bed-186">Se esiste già un file di output con lo stesso nome e si omette **-F** , **dta**restituisce un errore.</span><span class="sxs-lookup"><span data-stu-id="65bed-186">If an output file with the same name already exists and **-F** is not specified, **dta**returns an error.</span></span> <span data-ttu-id="65bed-187">È possibile usare **-F** con **-of**, **-or**oppure **-ox**.</span><span class="sxs-lookup"><span data-stu-id="65bed-187">You can use **-F** with **-of**, **-or**, or **-ox**.</span></span>  
  
 <span data-ttu-id="65bed-188">**-fa** _physical_design_structures_to_add_</span><span class="sxs-lookup"><span data-stu-id="65bed-188">**-fa** _physical_design_structures_to_add_</span></span>  
 <span data-ttu-id="65bed-189">Specifica i tipi di strutture di progettazione fisica che **dta** deve includere nell'indicazione.</span><span class="sxs-lookup"><span data-stu-id="65bed-189">Specifies what types of physical design structures **dta** should include in the recommendation.</span></span> <span data-ttu-id="65bed-190">Nella tabella seguente sono riportati e descritti i valori che è possibile specificare per questo argomento.</span><span class="sxs-lookup"><span data-stu-id="65bed-190">The following table lists and describes the values that can be specified for this argument.</span></span> <span data-ttu-id="65bed-191">Quando non viene specificato alcun valore, **DTA** utilizza la **fa**predefinita `IDX` .</span><span class="sxs-lookup"><span data-stu-id="65bed-191">When no value is specified, **dta** uses the default **-fa**`IDX`.</span></span>  
  
|<span data-ttu-id="65bed-192">Valore</span><span class="sxs-lookup"><span data-stu-id="65bed-192">Value</span></span>|<span data-ttu-id="65bed-193">Descrizione</span><span class="sxs-lookup"><span data-stu-id="65bed-193">Description</span></span>|  
|-----------|-----------------|  
|<span data-ttu-id="65bed-194">IDX_IV</span><span class="sxs-lookup"><span data-stu-id="65bed-194">IDX_IV</span></span>|<span data-ttu-id="65bed-195">Indici e viste indicizzate.</span><span class="sxs-lookup"><span data-stu-id="65bed-195">Indexes and indexed views.</span></span>|  
|<span data-ttu-id="65bed-196">IDX</span><span class="sxs-lookup"><span data-stu-id="65bed-196">IDX</span></span>|<span data-ttu-id="65bed-197">Solo indici.</span><span class="sxs-lookup"><span data-stu-id="65bed-197">Indexes only.</span></span>|  
|<span data-ttu-id="65bed-198">IV</span><span class="sxs-lookup"><span data-stu-id="65bed-198">IV</span></span>|<span data-ttu-id="65bed-199">Solo viste indicizzate.</span><span class="sxs-lookup"><span data-stu-id="65bed-199">Indexed views only.</span></span>|  
|<span data-ttu-id="65bed-200">NCL_IDX</span><span class="sxs-lookup"><span data-stu-id="65bed-200">NCL_IDX</span></span>|<span data-ttu-id="65bed-201">Solo indici non cluster.</span><span class="sxs-lookup"><span data-stu-id="65bed-201">Nonclustered indexes only.</span></span>|  
  
 <span data-ttu-id="65bed-202">**-fi**</span><span class="sxs-lookup"><span data-stu-id="65bed-202">**-fi**</span></span>  
 <span data-ttu-id="65bed-203">Specifica gli indici filtrati da considerare per le nuove indicazioni.</span><span class="sxs-lookup"><span data-stu-id="65bed-203">Specifies that filtered indexes be considered for new recommendations.</span></span> <span data-ttu-id="65bed-204">Per altre informazioni, vedere [Create Filtered Indexes](../../relational-databases/indexes/create-filtered-indexes.md).</span><span class="sxs-lookup"><span data-stu-id="65bed-204">For more information, see [Create Filtered Indexes](../../relational-databases/indexes/create-filtered-indexes.md).</span></span>  
  
 <span data-ttu-id="65bed-205">**-fk** _keep_existing_option_</span><span class="sxs-lookup"><span data-stu-id="65bed-205">**-fk** _keep_existing_option_</span></span>  
 <span data-ttu-id="65bed-206">Specifica le strutture di progettazione fisica esistenti che **dta** deve conservare durante la generazione dell'indicazione.</span><span class="sxs-lookup"><span data-stu-id="65bed-206">Specifies what existing physical design structures **dta** must retain when generating its recommendation.</span></span> <span data-ttu-id="65bed-207">Nella tabella seguente sono riportati e descritti i valori che è possibile specificare per questo argomento.</span><span class="sxs-lookup"><span data-stu-id="65bed-207">The following table lists and describes the values that can be specified for this argument:</span></span>  
  
|<span data-ttu-id="65bed-208">valore</span><span class="sxs-lookup"><span data-stu-id="65bed-208">Value</span></span>|<span data-ttu-id="65bed-209">Descrizione</span><span class="sxs-lookup"><span data-stu-id="65bed-209">Description</span></span>|  
|-----------|-----------------|  
|<span data-ttu-id="65bed-210">NONE</span><span class="sxs-lookup"><span data-stu-id="65bed-210">NONE</span></span>|<span data-ttu-id="65bed-211">Nessuna struttura esistente.</span><span class="sxs-lookup"><span data-stu-id="65bed-211">No existing structures</span></span>|  
|<span data-ttu-id="65bed-212">ALL</span><span class="sxs-lookup"><span data-stu-id="65bed-212">ALL</span></span>|<span data-ttu-id="65bed-213">Tutte le strutture esistenti.</span><span class="sxs-lookup"><span data-stu-id="65bed-213">All existing structures</span></span>|  
|<span data-ttu-id="65bed-214">ALIGNED</span><span class="sxs-lookup"><span data-stu-id="65bed-214">ALIGNED</span></span>|<span data-ttu-id="65bed-215">Tutte le strutture con partizionamento allineato.</span><span class="sxs-lookup"><span data-stu-id="65bed-215">All partition-aligned structures.</span></span>|  
|<span data-ttu-id="65bed-216">CL_IDX</span><span class="sxs-lookup"><span data-stu-id="65bed-216">CL_IDX</span></span>|<span data-ttu-id="65bed-217">Tutti gli indici cluster nelle tabelle.</span><span class="sxs-lookup"><span data-stu-id="65bed-217">All clustered indexes on tables</span></span>|  
|<span data-ttu-id="65bed-218">IDX</span><span class="sxs-lookup"><span data-stu-id="65bed-218">IDX</span></span>|<span data-ttu-id="65bed-219">Tutti gli indici cluster e non cluster nelle tabelle.</span><span class="sxs-lookup"><span data-stu-id="65bed-219">All clustered and nonclustered indexes on tables</span></span>|  
  
 <span data-ttu-id="65bed-220">**-fp** _partitioning_strategy_</span><span class="sxs-lookup"><span data-stu-id="65bed-220">**-fp** _partitioning_strategy_</span></span>  
 <span data-ttu-id="65bed-221">Specifica se le nuove strutture di progettazione fisica, ovvero indici e viste indicizzate, proposte da **dta** devono essere partizionate e definisce la modalità di partizionamento.</span><span class="sxs-lookup"><span data-stu-id="65bed-221">Specifies whether new physical design structures (indexes and indexed views) that **dta** proposes should be partitioned, and how they should be partitioned.</span></span> <span data-ttu-id="65bed-222">Nella tabella seguente sono riportati e descritti i valori che è possibile specificare per questo argomento.</span><span class="sxs-lookup"><span data-stu-id="65bed-222">The following table lists and describes the values that can be specified for this argument:</span></span>  
  
|<span data-ttu-id="65bed-223">valore</span><span class="sxs-lookup"><span data-stu-id="65bed-223">Value</span></span>|<span data-ttu-id="65bed-224">Descrizione</span><span class="sxs-lookup"><span data-stu-id="65bed-224">Description</span></span>|  
|-----------|-----------------|  
|<span data-ttu-id="65bed-225">NONE</span><span class="sxs-lookup"><span data-stu-id="65bed-225">NONE</span></span>|<span data-ttu-id="65bed-226">Nessun partizionamento.</span><span class="sxs-lookup"><span data-stu-id="65bed-226">No partitioning</span></span>|  
|<span data-ttu-id="65bed-227">FULL</span><span class="sxs-lookup"><span data-stu-id="65bed-227">FULL</span></span>|<span data-ttu-id="65bed-228">Partizionamento completo (scegliere questo valore per ottimizzare le prestazioni).</span><span class="sxs-lookup"><span data-stu-id="65bed-228">Full partitioning (choose to enhance performance)</span></span>|  
|<span data-ttu-id="65bed-229">ALIGNED</span><span class="sxs-lookup"><span data-stu-id="65bed-229">ALIGNED</span></span>|<span data-ttu-id="65bed-230">Solo partizionamento allineato (scegliere questo valore per ottimizzare la gestione).</span><span class="sxs-lookup"><span data-stu-id="65bed-230">Aligned partitioning only (choose to enhance manageability)</span></span>|  
  
 <span data-ttu-id="65bed-231">Se si specifica ALIGNED, nell'indicazione generata da **dta** ogni indice proposto viene partizionato esattamente nello stesso modo della tabella sottostante per la quale è stato definito l'indice.</span><span class="sxs-lookup"><span data-stu-id="65bed-231">ALIGNED means that in the recommendation generated by **dta** every proposed index is partitioned in exactly the same way as the underlying table for which the index is defined.</span></span> <span data-ttu-id="65bed-232">Gli indici non cluster in una vista indicizzata sono allineati in base alla vista indicizzata.</span><span class="sxs-lookup"><span data-stu-id="65bed-232">Nonclustered indexes on an indexed view are aligned with the indexed view.</span></span> <span data-ttu-id="65bed-233">Per questo argomento è possibile specificare solo un valore.</span><span class="sxs-lookup"><span data-stu-id="65bed-233">Only one value can be specified for this argument.</span></span> <span data-ttu-id="65bed-234">Il valore predefinito è **-FP** `NONE` .</span><span class="sxs-lookup"><span data-stu-id="65bed-234">The default is **-fp**`NONE`.</span></span>  
  
 <span data-ttu-id="65bed-235">**-fx** _drop_only_mode_</span><span class="sxs-lookup"><span data-stu-id="65bed-235">**-fx** _drop_only_mode_</span></span>  
 <span data-ttu-id="65bed-236">Specifica che **dta** prende in considerazione esclusivamente l'eliminazione delle strutture di progettazione fisica esistenti.</span><span class="sxs-lookup"><span data-stu-id="65bed-236">Specifies that **dta** only considers dropping existing physical design structures.</span></span> <span data-ttu-id="65bed-237">Non verranno considerate le nuove strutture di progettazione fisica.</span><span class="sxs-lookup"><span data-stu-id="65bed-237">No new physical design structures are considered.</span></span> <span data-ttu-id="65bed-238">Se si specifica questa opzione, **dta** valuta l'utilità delle strutture di progettazione fisica esistenti e propone di eliminare le strutture utilizzate meno di frequente.</span><span class="sxs-lookup"><span data-stu-id="65bed-238">When this option is specified, **dta** evaluates the usefulness of existing physical design structures and recommends dropping seldom used structures.</span></span> <span data-ttu-id="65bed-239">Questo argomento non utilizza alcun valore</span><span class="sxs-lookup"><span data-stu-id="65bed-239">This argument takes no values.</span></span> <span data-ttu-id="65bed-240">e non può essere usato in combinazione con gli argomenti **-fa**, **-fp**o **-fk ALL**</span><span class="sxs-lookup"><span data-stu-id="65bed-240">It cannot be used with the **-fa**, **-fp**, or **-fk ALL** arguments</span></span>  
  
 <span data-ttu-id="65bed-241">**-ID** _session_ID_</span><span class="sxs-lookup"><span data-stu-id="65bed-241">**-ID** _session_ID_</span></span>  
 <span data-ttu-id="65bed-242">Specifica l'identificatore numerico per la sessione di ottimizzazione.</span><span class="sxs-lookup"><span data-stu-id="65bed-242">Specifies a numerical identifier for the tuning session.</span></span> <span data-ttu-id="65bed-243">Se omesso, **dta** genera un numero di identificazione.</span><span class="sxs-lookup"><span data-stu-id="65bed-243">If not specified, then **dta** generates an ID number.</span></span> <span data-ttu-id="65bed-244">È possibile utilizzare questo identificatore per visualizzare le informazioni relative alle sessioni di ottimizzazione correnti.</span><span class="sxs-lookup"><span data-stu-id="65bed-244">You can use this identifier to view information for existing tuning sessions.</span></span> <span data-ttu-id="65bed-245">Se per **-ID**non si specifica alcun valore, è necessario specificare un nome di sessione usando **-s**.</span><span class="sxs-lookup"><span data-stu-id="65bed-245">If you do not specify a value for **-ID**, then a session name must be specified with **-s**.</span></span>  
  
 <span data-ttu-id="65bed-246">**-ip**</span><span class="sxs-lookup"><span data-stu-id="65bed-246">**-ip**</span></span>  
 <span data-ttu-id="65bed-247">Specifica che la cache dei piani deve essere utilizzata come carico di lavoro.</span><span class="sxs-lookup"><span data-stu-id="65bed-247">Specifies that the plan cache be used as the workload.</span></span> <span data-ttu-id="65bed-248">Vengono analizzati i primi 1.000 eventi della cache dei piani per i database selezionati in modo esplicito.</span><span class="sxs-lookup"><span data-stu-id="65bed-248">The top 1,000 plan cache events for explicitly selected databases are analyzed.</span></span> <span data-ttu-id="65bed-249">Questo valore può essere modificato tramite l'opzione **-n**.</span><span class="sxs-lookup"><span data-stu-id="65bed-249">This value can be changed using the **-n** option.</span></span>  
  
 <span data-ttu-id="65bed-250">**-ipf**</span><span class="sxs-lookup"><span data-stu-id="65bed-250">**-ipf**</span></span>  
 <span data-ttu-id="65bed-251">Specifica che la cache dei piani deve essere utilizzata come carico di lavoro.</span><span class="sxs-lookup"><span data-stu-id="65bed-251">Specifies that the plan cache be used as the workload.</span></span> <span data-ttu-id="65bed-252">Vengono analizzati i primi 1.000 eventi della cache dei piani per tutti i database.</span><span class="sxs-lookup"><span data-stu-id="65bed-252">The top 1,000 plan cache events for all databases are analyzed.</span></span> <span data-ttu-id="65bed-253">Questo valore può essere modificato tramite l'opzione **-n**.</span><span class="sxs-lookup"><span data-stu-id="65bed-253">This value can be changed using the **-n** option.</span></span>  
  
 <span data-ttu-id="65bed-254">**-if** _workload_file_</span><span class="sxs-lookup"><span data-stu-id="65bed-254">**-if** _workload_file_</span></span>  
 <span data-ttu-id="65bed-255">Specifica il percorso e il nome del file del carico di lavoro da utilizzare come input per l'ottimizzazione.</span><span class="sxs-lookup"><span data-stu-id="65bed-255">Specifies the path and name of the workload file to use as input for tuning.</span></span> <span data-ttu-id="65bed-256">Il file deve essere in formato trc (file di traccia di SQL Server Profiler), sql (file SQL) oppure log (file di traccia di[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ).</span><span class="sxs-lookup"><span data-stu-id="65bed-256">The file must be in one of these formats: .trc (SQL Server Profiler trace file), .sql (SQL file), or .log ([!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] trace file).</span></span> <span data-ttu-id="65bed-257">È inoltre necessario specificare un file o una tabella del carico di lavoro.</span><span class="sxs-lookup"><span data-stu-id="65bed-257">Either one workload file or one workload table must be specified.</span></span>  
  
 <span data-ttu-id="65bed-258">**-it** _workload_trace_table_name_</span><span class="sxs-lookup"><span data-stu-id="65bed-258">**-it** _workload_trace_table_name_</span></span>  
 <span data-ttu-id="65bed-259">Specifica il nome della tabella contenente la traccia del carico di lavoro per l'ottimizzazione.</span><span class="sxs-lookup"><span data-stu-id="65bed-259">Specifies the name of a table containing the workload trace for tuning.</span></span> <span data-ttu-id="65bed-260">Il nome viene specificato in formato [*database_name*] **.** [*owner_name*] **.** _table_name_.</span><span class="sxs-lookup"><span data-stu-id="65bed-260">The name is specified in the format: [*database_name*]**.**[*owner_name*]**.**_table_name_.</span></span>  
  
 <span data-ttu-id="65bed-261">Nella tabella seguente sono riportati i valori predefiniti per ogni parametro.</span><span class="sxs-lookup"><span data-stu-id="65bed-261">The following table shows the default values for each:</span></span>  
  
|<span data-ttu-id="65bed-262">Parametro</span><span class="sxs-lookup"><span data-stu-id="65bed-262">Parameter</span></span>|<span data-ttu-id="65bed-263">Valore predefinito</span><span class="sxs-lookup"><span data-stu-id="65bed-263">Default value</span></span>|  
|---------------|-------------------|  
|<span data-ttu-id="65bed-264">*database_name*</span><span class="sxs-lookup"><span data-stu-id="65bed-264">*database_name*</span></span>|<span data-ttu-id="65bed-265">*database_name* specificato con l'opzione **-D**.</span><span class="sxs-lookup"><span data-stu-id="65bed-265">*database_name* specified with **-D** option.</span></span>|  
|<span data-ttu-id="65bed-266">*owner_name*</span><span class="sxs-lookup"><span data-stu-id="65bed-266">*owner_name*</span></span>|<span data-ttu-id="65bed-267">**dbo**</span><span class="sxs-lookup"><span data-stu-id="65bed-267">**dbo**.</span></span>|  
|<span data-ttu-id="65bed-268">*table_name*</span><span class="sxs-lookup"><span data-stu-id="65bed-268">*table_name*</span></span>|<span data-ttu-id="65bed-269">No.</span><span class="sxs-lookup"><span data-stu-id="65bed-269">None.</span></span>|  
  
> [!NOTE]  
>  <span data-ttu-id="65bed-270">*owner_name* deve essere **dbo**.</span><span class="sxs-lookup"><span data-stu-id="65bed-270">*owner_name* must be **dbo**.</span></span> <span data-ttu-id="65bed-271">Se viene specificato un altro valore, l'esecuzione di **dta** ha esito negativo e viene restituito un errore.</span><span class="sxs-lookup"><span data-stu-id="65bed-271">If any other value is specified, execution of **dta** fails and an error is returned.</span></span> <span data-ttu-id="65bed-272">È inoltre necessario specificare una tabella o un file del carico di lavoro.</span><span class="sxs-lookup"><span data-stu-id="65bed-272">Also note that either one workload table or one workload file must be specified.</span></span>  
  
 <span data-ttu-id="65bed-273">**-ix** _input_XML_file_name_</span><span class="sxs-lookup"><span data-stu-id="65bed-273">**-ix** _input_XML_file_name_</span></span>  
 <span data-ttu-id="65bed-274">Specifica il nome del file XML contenente le informazioni di input di **dta** .</span><span class="sxs-lookup"><span data-stu-id="65bed-274">Specifies the name of the XML file containing **dta** input information.</span></span> <span data-ttu-id="65bed-275">Tale file deve essere un documento XML valido conforme a DTASchema.xsd.</span><span class="sxs-lookup"><span data-stu-id="65bed-275">This must be a valid XML document conforming to DTASchema.xsd.</span></span> <span data-ttu-id="65bed-276">Gli argomenti in conflitto specificati nel prompt dei comandi per le opzioni di ottimizzazione hanno la priorità sul valore corrispondente incluso in questo file XML.</span><span class="sxs-lookup"><span data-stu-id="65bed-276">Conflicting arguments specified from the command prompt for tuning options override the corresponding value in this XML file.</span></span> <span data-ttu-id="65bed-277">L'unica eccezione è rappresentata dal caso in cui una configurazione definita dall'utente venga specificata in modalità di valutazione nel file di input XML.</span><span class="sxs-lookup"><span data-stu-id="65bed-277">The only exception is if a user-specified configuration is entered in the evaluate mode in the XML input file.</span></span> <span data-ttu-id="65bed-278">Se, ad esempio, si specifica una configurazione nell'elemento **Configuration** del file di input XML e si specifica anche l'elemento **EvaluateConfiguration** come una delle opzioni di ottimizzazione, le opzioni di ottimizzazione specificate nel file di input XML avranno la priorità su qualsiasi opzione di ottimizzazione specificata nel prompt dei comandi.</span><span class="sxs-lookup"><span data-stu-id="65bed-278">For example, if a configuration is entered in the **Configuration** element of the XML input file and the **EvaluateConfiguration** element is also specified as one of the tuning options, the tuning options specified in the XML input file will override any tuning options entered from the command prompt.</span></span>  
  
 <span data-ttu-id="65bed-279">**-m** _minimum_improvement_</span><span class="sxs-lookup"><span data-stu-id="65bed-279">**-m** _minimum_improvement_</span></span>  
 <span data-ttu-id="65bed-280">Specifica la percentuale minima di miglioramento che la configurazione consigliata deve soddisfare.</span><span class="sxs-lookup"><span data-stu-id="65bed-280">Specifies the minimum percentage of improvement that the recommended configuration must satisfy.</span></span>  
  
 <span data-ttu-id="65bed-281">**-N** _online_option_</span><span class="sxs-lookup"><span data-stu-id="65bed-281">**-N** _online_option_</span></span>  
 <span data-ttu-id="65bed-282">Specifica se le strutture di progettazione fisica vengono create online.</span><span class="sxs-lookup"><span data-stu-id="65bed-282">Specifies whether physical design structures are created online.</span></span> <span data-ttu-id="65bed-283">Nella tabella seguente sono riportati e descritti i valori che è possibile specificare per questo argomento.</span><span class="sxs-lookup"><span data-stu-id="65bed-283">The following table lists and describes the values you can specify for this argument:</span></span>  
  
|<span data-ttu-id="65bed-284">valore</span><span class="sxs-lookup"><span data-stu-id="65bed-284">Value</span></span>|<span data-ttu-id="65bed-285">Descrizione</span><span class="sxs-lookup"><span data-stu-id="65bed-285">Description</span></span>|  
|-----------|-----------------|  
|<span data-ttu-id="65bed-286">OFF</span><span class="sxs-lookup"><span data-stu-id="65bed-286">OFF</span></span>|<span data-ttu-id="65bed-287">Le strutture di progettazione fisica indicate non possono essere create online.</span><span class="sxs-lookup"><span data-stu-id="65bed-287">No recommended physical design structures can be created online.</span></span>|  
|<span data-ttu-id="65bed-288">ON</span><span class="sxs-lookup"><span data-stu-id="65bed-288">ON</span></span>|<span data-ttu-id="65bed-289">Tutte le strutture di progettazione fisica indicate possono essere create online.</span><span class="sxs-lookup"><span data-stu-id="65bed-289">All recommended physical design structures can be created online.</span></span>|  
|<span data-ttu-id="65bed-290">MIXED</span><span class="sxs-lookup"><span data-stu-id="65bed-290">MIXED</span></span>|<span data-ttu-id="65bed-291">Ottimizzazione guidata motore di database indica le strutture di progettazione fisica che possono essere create online quando possibile.</span><span class="sxs-lookup"><span data-stu-id="65bed-291">Database Engine Tuning Advisor attempts to recommend physical design structures that can be created online when possible.</span></span>|  
  
 <span data-ttu-id="65bed-292">Se gli indici vengono creati online, ONLINE = ON viene aggiunto alla relativa definizione di oggetto.</span><span class="sxs-lookup"><span data-stu-id="65bed-292">If indexes are created online, ONLINE = ON is appended to its object definition.</span></span>  
  
 <span data-ttu-id="65bed-293">**-n** _number_of_events_</span><span class="sxs-lookup"><span data-stu-id="65bed-293">**-n** _number_of_events_</span></span>  
 <span data-ttu-id="65bed-294">Specifica il numero di eventi nel carico di lavoro che **dta** deve ottimizzare.</span><span class="sxs-lookup"><span data-stu-id="65bed-294">Specifies the number of events in the workload that **dta** should tune.</span></span> <span data-ttu-id="65bed-295">Se si specifica questo argomento e il carico di lavoro è un file di traccia contenente informazioni sulla durata, **dta** ottimizza gli eventi in base all'ordine decrescente di durata.</span><span class="sxs-lookup"><span data-stu-id="65bed-295">If this argument is specified and the workload is a trace file that contains duration information, then **dta** tunes events in decreasing order of duration.</span></span> <span data-ttu-id="65bed-296">Questo argomento risulta utile per confrontare due configurazioni di strutture di progettazione fisica.</span><span class="sxs-lookup"><span data-stu-id="65bed-296">This argument is useful to compare two configurations of physical design structures.</span></span> <span data-ttu-id="65bed-297">Per confrontare due configurazioni, per entrambe le configurazioni specificare lo stesso numero di eventi da ottimizzare e quindi un tempo di ottimizzazione illimitato nel modo illustrato di seguito:</span><span class="sxs-lookup"><span data-stu-id="65bed-297">To compare two configurations, specify the same number of events to be tuned for both configurations and then specify an unlimited tuning time for both also as follows:</span></span>  
  
```  
dta -n number_of_events -A 0  
```  
  
 <span data-ttu-id="65bed-298">In questo caso, è importante specificare un tempo di ottimizzazione illimitato (`-A 0`).</span><span class="sxs-lookup"><span data-stu-id="65bed-298">In this case, it is important to specify an unlimited tuning time (`-A 0`).</span></span> <span data-ttu-id="65bed-299">In caso contrario, Ottimizzazione guidata motore di database utilizza il tempo di ottimizzazione predefinito pari a 8 ore.</span><span class="sxs-lookup"><span data-stu-id="65bed-299">Otherwise, Database Engine Tuning Advisor assumes an 8 hour tuning time by default.</span></span>  
  
 <span data-ttu-id="65bed-300">**-of** _output_script_file_name_</span><span class="sxs-lookup"><span data-stu-id="65bed-300">**-of** _output_script_file_name_</span></span>  
 <span data-ttu-id="65bed-301">Specifica che **dta** scrive l'indicazione sotto forma di script [!INCLUDE[tsql](../../includes/tsql-md.md)] nel nome file e nella destinazione specificati.</span><span class="sxs-lookup"><span data-stu-id="65bed-301">Specifies that **dta** writes the recommendation as a [!INCLUDE[tsql](../../includes/tsql-md.md)] script to the file name and destination specified.</span></span>  
  
 <span data-ttu-id="65bed-302">È possibile usare **-F** con questa opzione.</span><span class="sxs-lookup"><span data-stu-id="65bed-302">You can use **-F** with this option.</span></span> <span data-ttu-id="65bed-303">Assicurarsi che il nome file sia univoco, soprattutto se vengono specificate anche le opzioni **-or** e **-ox**.</span><span class="sxs-lookup"><span data-stu-id="65bed-303">Make sure that the file name is unique, especially if you are also using **-or** and **-ox**.</span></span>  
  
 <span data-ttu-id="65bed-304">**-or** _output_xml_report_file_name_</span><span class="sxs-lookup"><span data-stu-id="65bed-304">**-or** _output_xml_report_file_name_</span></span>  
 <span data-ttu-id="65bed-305">Specifica che **dta** scrive l'indicazione in un report di output in formato XML.</span><span class="sxs-lookup"><span data-stu-id="65bed-305">Specifies that **dta** writes the recommendation to an output report in XML.</span></span> <span data-ttu-id="65bed-306">Se si specifica un nome di file, le indicazioni vengono scritte in tale destinazione.</span><span class="sxs-lookup"><span data-stu-id="65bed-306">If a file name is supplied, then the recommendations are written to that destination.</span></span> <span data-ttu-id="65bed-307">In caso contrario, **dta** utilizza il nome di sessione per generare il nome file e lo scrive nella directory corrente.</span><span class="sxs-lookup"><span data-stu-id="65bed-307">Otherwise, **dta** uses the session name to generate the file name and writes it to the current directory.</span></span>  
  
 <span data-ttu-id="65bed-308">È possibile usare **-F** con questa opzione.</span><span class="sxs-lookup"><span data-stu-id="65bed-308">You can use **-F** with this option.</span></span> <span data-ttu-id="65bed-309">Assicurarsi che il nome file sia univoco, soprattutto se vengono specificate anche le opzioni **-of** e **-ox**.</span><span class="sxs-lookup"><span data-stu-id="65bed-309">Make sure that the file name is unique, especially if you are also using **-of** and **-ox**.</span></span>  
  
 <span data-ttu-id="65bed-310">**-ox** _output_XML_file_name_</span><span class="sxs-lookup"><span data-stu-id="65bed-310">**-ox** _output_XML_file_name_</span></span>  
 <span data-ttu-id="65bed-311">Specifica che **dta** scrive l'indicazione sotto forma di file XML nel nome file e nella destinazione specificati.</span><span class="sxs-lookup"><span data-stu-id="65bed-311">Specifies that **dta** writes the recommendation as an XML file to the file name and destination supplied.</span></span> <span data-ttu-id="65bed-312">Assicurarsi che Ottimizzazione guidata motore di database disponga delle autorizzazioni di scrittura adeguate per la directory di destinazione.</span><span class="sxs-lookup"><span data-stu-id="65bed-312">Ensure that Database Engine Tuning Advisor has permissions to write to the destination directory.</span></span>  
  
 <span data-ttu-id="65bed-313">È possibile usare **-F** con questa opzione.</span><span class="sxs-lookup"><span data-stu-id="65bed-313">You can use **-F** with this option.</span></span> <span data-ttu-id="65bed-314">Assicurarsi che il nome file sia univoco, soprattutto se vengono specificate anche le opzioni **-of** e **-or**.</span><span class="sxs-lookup"><span data-stu-id="65bed-314">Make sure that the file name is unique, especially if you are also using **-of** and **-or**.</span></span>  
  
 <span data-ttu-id="65bed-315">**-P** _password_</span><span class="sxs-lookup"><span data-stu-id="65bed-315">**-P** _password_</span></span>  
 <span data-ttu-id="65bed-316">Specifica la password per l'ID di accesso.</span><span class="sxs-lookup"><span data-stu-id="65bed-316">Specifies the password for the login ID.</span></span> <span data-ttu-id="65bed-317">Se si omette questa opzione, **dta** richiede una password.</span><span class="sxs-lookup"><span data-stu-id="65bed-317">If this option is not used, **dta** prompts for a password.</span></span>  
  
 <span data-ttu-id="65bed-318">**-q**</span><span class="sxs-lookup"><span data-stu-id="65bed-318">**-q**</span></span>  
 <span data-ttu-id="65bed-319">Imposta la modalità non interattiva.</span><span class="sxs-lookup"><span data-stu-id="65bed-319">Sets quiet mode.</span></span> <span data-ttu-id="65bed-320">Le informazioni, incluse quelle relative alle intestazioni e allo stato, non vengono scritte nella console.</span><span class="sxs-lookup"><span data-stu-id="65bed-320">No information is written to the console, including progress and header information.</span></span>  
  
 <span data-ttu-id="65bed-321">**-rl** _analysis_report_list_</span><span class="sxs-lookup"><span data-stu-id="65bed-321">**-rl** _analysis_report_list_</span></span>  
 <span data-ttu-id="65bed-322">Specifica l'elenco dei report di analisi da generare.</span><span class="sxs-lookup"><span data-stu-id="65bed-322">Specifies the list of analysis reports to generate.</span></span> <span data-ttu-id="65bed-323">Nella tabella seguente sono riportati i valori che è possibile specificare per questo argomento.</span><span class="sxs-lookup"><span data-stu-id="65bed-323">The following table lists the values that can be specified for this argument:</span></span>  
  
|<span data-ttu-id="65bed-324">valore</span><span class="sxs-lookup"><span data-stu-id="65bed-324">Value</span></span>|<span data-ttu-id="65bed-325">Report</span><span class="sxs-lookup"><span data-stu-id="65bed-325">Report</span></span>|  
|-----------|------------|  
|<span data-ttu-id="65bed-326">ALL</span><span class="sxs-lookup"><span data-stu-id="65bed-326">ALL</span></span>|<span data-ttu-id="65bed-327">Tutti i report di analisi</span><span class="sxs-lookup"><span data-stu-id="65bed-327">All analysis reports</span></span>|  
|<span data-ttu-id="65bed-328">STMT_COST</span><span class="sxs-lookup"><span data-stu-id="65bed-328">STMT_COST</span></span>|<span data-ttu-id="65bed-329">Report costo istruzioni</span><span class="sxs-lookup"><span data-stu-id="65bed-329">Statement cost report</span></span>|  
|<span data-ttu-id="65bed-330">EVT_FREQ</span><span class="sxs-lookup"><span data-stu-id="65bed-330">EVT_FREQ</span></span>|<span data-ttu-id="65bed-331">Report frequenza eventi</span><span class="sxs-lookup"><span data-stu-id="65bed-331">Event frequency report</span></span>|  
|<span data-ttu-id="65bed-332">STMT_DET</span><span class="sxs-lookup"><span data-stu-id="65bed-332">STMT_DET</span></span>|<span data-ttu-id="65bed-333">Report dettagli istruzioni</span><span class="sxs-lookup"><span data-stu-id="65bed-333">Statement detail report</span></span>|  
|<span data-ttu-id="65bed-334">CUR_STMT_IDX</span><span class="sxs-lookup"><span data-stu-id="65bed-334">CUR_STMT_IDX</span></span>|<span data-ttu-id="65bed-335">Report relazioni istruzioni-indici (configurazione corrente)</span><span class="sxs-lookup"><span data-stu-id="65bed-335">Statement-index relations report (current configuration)</span></span>|  
|<span data-ttu-id="65bed-336">REC_STMT_IDX</span><span class="sxs-lookup"><span data-stu-id="65bed-336">REC_STMT_IDX</span></span>|<span data-ttu-id="65bed-337">Report relazioni istruzioni-indici (configurazione consigliata)</span><span class="sxs-lookup"><span data-stu-id="65bed-337">Statement-index relations report (recommended configuration)</span></span>|  
|<span data-ttu-id="65bed-338">STMT_COSTRANGE</span><span class="sxs-lookup"><span data-stu-id="65bed-338">STMT_COSTRANGE</span></span>|<span data-ttu-id="65bed-339">Report intervallo di costi istruzione</span><span class="sxs-lookup"><span data-stu-id="65bed-339">Statement cost range report</span></span>|  
|<span data-ttu-id="65bed-340">CUR_IDX_USAGE</span><span class="sxs-lookup"><span data-stu-id="65bed-340">CUR_IDX_USAGE</span></span>|<span data-ttu-id="65bed-341">Report utilizzo indici (configurazione corrente)</span><span class="sxs-lookup"><span data-stu-id="65bed-341">Index usage report (current configuration)</span></span>|  
|<span data-ttu-id="65bed-342">REC_IDX_USAGE</span><span class="sxs-lookup"><span data-stu-id="65bed-342">REC_IDX_USAGE</span></span>|<span data-ttu-id="65bed-343">Report utilizzo indici (configurazione consigliata)</span><span class="sxs-lookup"><span data-stu-id="65bed-343">Index usage report (recommended configuration)</span></span>|  
|<span data-ttu-id="65bed-344">CUR_IDX_DET</span><span class="sxs-lookup"><span data-stu-id="65bed-344">CUR_IDX_DET</span></span>|<span data-ttu-id="65bed-345">Report dettagli indici (configurazione corrente)</span><span class="sxs-lookup"><span data-stu-id="65bed-345">Index detail report (current configuration)</span></span>|  
|<span data-ttu-id="65bed-346">REC_IDX_DET</span><span class="sxs-lookup"><span data-stu-id="65bed-346">REC_IDX_DET</span></span>|<span data-ttu-id="65bed-347">Report dettagli indici (configurazione consigliata)</span><span class="sxs-lookup"><span data-stu-id="65bed-347">Index detail report (recommended configuration)</span></span>|  
|<span data-ttu-id="65bed-348">VIW_TAB</span><span class="sxs-lookup"><span data-stu-id="65bed-348">VIW_TAB</span></span>|<span data-ttu-id="65bed-349">Report relazioni viste-tabelle</span><span class="sxs-lookup"><span data-stu-id="65bed-349">View-table relations report</span></span>|  
|<span data-ttu-id="65bed-350">WKLD_ANL</span><span class="sxs-lookup"><span data-stu-id="65bed-350">WKLD_ANL</span></span>|<span data-ttu-id="65bed-351">Report analisi carico di lavoro</span><span class="sxs-lookup"><span data-stu-id="65bed-351">Workload analysis report</span></span>|  
|<span data-ttu-id="65bed-352">DB_ACCESS</span><span class="sxs-lookup"><span data-stu-id="65bed-352">DB_ACCESS</span></span>|<span data-ttu-id="65bed-353">Report accessi a database</span><span class="sxs-lookup"><span data-stu-id="65bed-353">Database access report</span></span>|  
|<span data-ttu-id="65bed-354">TAB_ACCESS</span><span class="sxs-lookup"><span data-stu-id="65bed-354">TAB_ACCESS</span></span>|<span data-ttu-id="65bed-355">Report accessi a tabelle</span><span class="sxs-lookup"><span data-stu-id="65bed-355">Table access report</span></span>|  
|<span data-ttu-id="65bed-356">COL_ACCESS</span><span class="sxs-lookup"><span data-stu-id="65bed-356">COL_ACCESS</span></span>|<span data-ttu-id="65bed-357">Report accessi a colonne</span><span class="sxs-lookup"><span data-stu-id="65bed-357">Column access report</span></span>|  
  
 <span data-ttu-id="65bed-358">Per specificare più report, separare i valori utilizzando la virgola, ad esempio:</span><span class="sxs-lookup"><span data-stu-id="65bed-358">Specify multiple reports by separating the values with commas, for example:</span></span>  
  
```  
... -rl EVT_FREQ, VIW_TAB, WKLD_ANL ...  
```  
  
 <span data-ttu-id="65bed-359">**-S** _server_name_[ *\instance*]</span><span class="sxs-lookup"><span data-stu-id="65bed-359">**-S** _server_name_[ *\instance*]</span></span>  
 <span data-ttu-id="65bed-360">Specifica il nome del computer e dell'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] a cui connettersi.</span><span class="sxs-lookup"><span data-stu-id="65bed-360">Specifies the name of the computer and instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to connect to.</span></span> <span data-ttu-id="65bed-361">Se si omette *server_name* , **dta** si connette all'istanza predefinita di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] nel computer locale.</span><span class="sxs-lookup"><span data-stu-id="65bed-361">If no *server_name* is specified, **dta** connects to the default instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] on the local computer.</span></span> <span data-ttu-id="65bed-362">Questa opzione è obbligatoria in caso di connessione a un'istanza denominata oppure quando si esegue **dta** da un computer remoto in rete.</span><span class="sxs-lookup"><span data-stu-id="65bed-362">This option is required when connecting to a named instance or when executing **dta** from a remote computer on the network.</span></span>  
  
 <span data-ttu-id="65bed-363">**-s** _session_name_</span><span class="sxs-lookup"><span data-stu-id="65bed-363">**-s** _session_name_</span></span>  
 <span data-ttu-id="65bed-364">Specifica il nome della sessione di ottimizzazione.</span><span class="sxs-lookup"><span data-stu-id="65bed-364">Specifies the name of the tuning session.</span></span> <span data-ttu-id="65bed-365">Questa opzione è obbligatoria se non si specifica **-ID** .</span><span class="sxs-lookup"><span data-stu-id="65bed-365">This is required if **-ID** is not specified.</span></span>  
  
 <span data-ttu-id="65bed-366">**-Tf** _table_list_file_</span><span class="sxs-lookup"><span data-stu-id="65bed-366">**-Tf** _table_list_file_</span></span>  
 <span data-ttu-id="65bed-367">Specifica il nome del file contenente l'elenco di tabelle da ottimizzare.</span><span class="sxs-lookup"><span data-stu-id="65bed-367">Specifies the name of a file containing a list of tables to be tuned.</span></span> <span data-ttu-id="65bed-368">Ogni tabella inclusa nel file deve iniziare su una nuova riga.</span><span class="sxs-lookup"><span data-stu-id="65bed-368">Each table listed within the file should begin on a new line.</span></span> <span data-ttu-id="65bed-369">Le tabelle devono essere qualificate con nomi di tabella composti da tre parti, ad esempio **AdventureWorks2012.HumanResources.Department**.</span><span class="sxs-lookup"><span data-stu-id="65bed-369">Table names should be qualified with three-part naming, for example, **AdventureWorks2012.HumanResources.Department**.</span></span> <span data-ttu-id="65bed-370">In alternativa, per richiamare la funzionalità di ridimensionamento delle tabelle, il nome di una tabella esistente può essere seguito da un numero che indica il numero previsto di righe nella tabella.</span><span class="sxs-lookup"><span data-stu-id="65bed-370">Optionally, to invoke the table-scaling feature, the name of an existing table can be followed by a number indicating the projected number of rows in the table.</span></span> <span data-ttu-id="65bed-371">Ottimizzazione guidata motore di database utilizza il numero previsto di righe durante l'ottimizzazione o la valutazione delle istruzioni nel carico di lavoro che fanno riferimento a queste tabelle.</span><span class="sxs-lookup"><span data-stu-id="65bed-371">Database Engine Tuning Advisor takes into consideration the projected number of rows while tuning or evaluating statements in the workload that reference these tables.</span></span> <span data-ttu-id="65bed-372">Possono essere presenti uno o più spazi tra il numero di *number_of_rows* e *table_name*.</span><span class="sxs-lookup"><span data-stu-id="65bed-372">Note that there can be one or more spaces between the *number_of_rows* count and the *table_name*.</span></span>  
  
 <span data-ttu-id="65bed-373">Il formato di file per *table_list_file*è:</span><span class="sxs-lookup"><span data-stu-id="65bed-373">This is the file format for *table_list_file*:</span></span>  
  
 <span data-ttu-id="65bed-374">*database_name*.[*schema_name*].*table_name* [*number_of_rows*]</span><span class="sxs-lookup"><span data-stu-id="65bed-374">*database_name*.[*schema_name*].*table_name* [*number_of_rows*]</span></span>  
  
 <span data-ttu-id="65bed-375">*database_name*.[*schema_name*].*table_name* [*number_of_rows*]</span><span class="sxs-lookup"><span data-stu-id="65bed-375">*database_name*.[*schema_name*].*table_name* [*number_of_rows*]</span></span>  
  
 <span data-ttu-id="65bed-376">*database_name*.[*schema_name*].*table_name* [*number_of_rows*]</span><span class="sxs-lookup"><span data-stu-id="65bed-376">*database_name*.[*schema_name*].*table_name* [*number_of_rows*]</span></span>  
  
 <span data-ttu-id="65bed-377">Questo argomento rappresenta un'alternativa all'immissione di un elenco di tabelle al prompt dei comandi ( **-Tl**).</span><span class="sxs-lookup"><span data-stu-id="65bed-377">This argument is an alternative to entering a table list at the command prompt (**-Tl**).</span></span> <span data-ttu-id="65bed-378">Non usare un file contenente un elenco di tabelle ( **-Tf**) se si specifica **-Tl**.</span><span class="sxs-lookup"><span data-stu-id="65bed-378">Do not use a table list file (**-Tf**) if you are using **-Tl**.</span></span> <span data-ttu-id="65bed-379">Se vengono utilizzati entrambi gli argomenti, l'esecuzione di **dta** ha esito negativo e viene restituito un errore.</span><span class="sxs-lookup"><span data-stu-id="65bed-379">If both arguments are used, **dta** fails and returns an error.</span></span>  
  
 <span data-ttu-id="65bed-380">Se si omettono gli argomenti **-Tf** e **-Tl** , tutte le tabelle utente nei database specificati verranno considerate per l'ottimizzazione.</span><span class="sxs-lookup"><span data-stu-id="65bed-380">If the **-Tf** and **-Tl** arguments are omitted, all user tables in the specified databases are considered for tuning.</span></span>  
  
 <span data-ttu-id="65bed-381">**-Tl** _table_list_</span><span class="sxs-lookup"><span data-stu-id="65bed-381">**-Tl** _table_list_</span></span>  
 <span data-ttu-id="65bed-382">Specifica al prompt dei comandi un elenco di tabelle da ottimizzare.</span><span class="sxs-lookup"><span data-stu-id="65bed-382">Specifies at the command prompt a list of tables to be tuned.</span></span> <span data-ttu-id="65bed-383">Per separare i nomi di tabella, utilizzare la virgola.</span><span class="sxs-lookup"><span data-stu-id="65bed-383">Place commas between table names to separate them.</span></span> <span data-ttu-id="65bed-384">Se con l'argomento **-D** viene specificato solo un database, non è necessario che i nomi delle tabelle vengano qualificati con un nome di database.</span><span class="sxs-lookup"><span data-stu-id="65bed-384">If only one database is specified with the **-D** argument, then table names do not need to be qualified with a database name.</span></span> <span data-ttu-id="65bed-385">In caso contrario, per ogni tabella sarà necessario specificare il nome completo nel formato: *database_name.schema_name.table_name* .</span><span class="sxs-lookup"><span data-stu-id="65bed-385">Otherwise, the fully qualified name in the format: *database_name.schema_name.table_name* is required for each table.</span></span>  
  
 <span data-ttu-id="65bed-386">Questo argomento rappresenta un'alternativa all'utilizzo di un file contenente un elenco di tabelle ( **-Tf**).</span><span class="sxs-lookup"><span data-stu-id="65bed-386">This argument is an alternative to using a table list file (**-Tf**).</span></span> <span data-ttu-id="65bed-387">Se vengono usati entrambi gli argomenti **-Tl** e **-Tf** , l'esecuzione di **dta** non riesce e viene restituito un errore.</span><span class="sxs-lookup"><span data-stu-id="65bed-387">If both **-Tl** and **-Tf** are used, **dta** fails and returns an error.</span></span>  
  
 <span data-ttu-id="65bed-388">**-U** _login_id_</span><span class="sxs-lookup"><span data-stu-id="65bed-388">**-U** _login_id_</span></span>  
 <span data-ttu-id="65bed-389">Specifica l'ID di accesso utilizzato per connettersi a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="65bed-389">Specifies the login ID used to connect to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="65bed-390">**-u**</span><span class="sxs-lookup"><span data-stu-id="65bed-390">**-u**</span></span>  
 <span data-ttu-id="65bed-391">Avvia l'interfaccia utente di Ottimizzazione guidata motore di database.</span><span class="sxs-lookup"><span data-stu-id="65bed-391">Launches the Database Engine Tuning Advisor GUI.</span></span> <span data-ttu-id="65bed-392">Tutti i parametri vengono considerati come impostazioni iniziali dell'interfaccia utente.</span><span class="sxs-lookup"><span data-stu-id="65bed-392">All parameters are treated as the initial settings for the user interface.</span></span>  
  
 <span data-ttu-id="65bed-393">**-x**</span><span class="sxs-lookup"><span data-stu-id="65bed-393">**-x**</span></span>  
 <span data-ttu-id="65bed-394">Avvia la sessione di ottimizzazione e chiude l'utilità.</span><span class="sxs-lookup"><span data-stu-id="65bed-394">Starts tuning session and exits.</span></span>  
  
## <a name="remarks"></a><span data-ttu-id="65bed-395">Osservazioni</span><span class="sxs-lookup"><span data-stu-id="65bed-395">Remarks</span></span>  
 <span data-ttu-id="65bed-396">Premere CTRL+C una volta per arrestare la sessione di ottimizzazione e generare le indicazioni in base all'analisi completata da **dta** fino a quel momento.</span><span class="sxs-lookup"><span data-stu-id="65bed-396">Press CTRL+C once to stop the tuning session and generate recommendations based on the analysis **dta** has completed up to this point.</span></span> <span data-ttu-id="65bed-397">Verrà richiesto di decidere se generare le indicazioni o meno.</span><span class="sxs-lookup"><span data-stu-id="65bed-397">You will be prompted to decide whether you want to generate recommendations or not.</span></span> <span data-ttu-id="65bed-398">Premere nuovamente CTRL+C per arrestare la sessione di ottimizzazione senza generare le indicazioni.</span><span class="sxs-lookup"><span data-stu-id="65bed-398">Press CTRL+C again to stop the tuning session without generating recommendations.</span></span>  
  
## <a name="examples"></a><span data-ttu-id="65bed-399">Esempi</span><span class="sxs-lookup"><span data-stu-id="65bed-399">Examples</span></span>  
 <span data-ttu-id="65bed-400">**A. Ottimizzazione di un carico di lavoro che include indici e viste indicizzate nell'indicazione**</span><span class="sxs-lookup"><span data-stu-id="65bed-400">**A. Tune a workload that includes indexes and indexed views in its recommendation**</span></span>  
  
 <span data-ttu-id="65bed-401">Questo esempio usa una connessione sicura (`-E`) per connettersi al database **tpcd1G** in MyServer per analizzare un carico di lavoro e creare indicazioni.</span><span class="sxs-lookup"><span data-stu-id="65bed-401">This example uses a secure connection (`-E`) to connect to the **tpcd1G** database on MyServer to analyze a workload and create recommendations.</span></span> <span data-ttu-id="65bed-402">Scrive l'output in un file di script denominato script.sql.</span><span class="sxs-lookup"><span data-stu-id="65bed-402">It writes the output to a script file named script.sql.</span></span> <span data-ttu-id="65bed-403">Se script.sql esiste già, l'utilità **dta** sovrascriverà il file in quanto è stato specificato l'argomento `-F` .</span><span class="sxs-lookup"><span data-stu-id="65bed-403">If script.sql already exists, then **dta** will overwrite the file because the `-F` argument has been specified.</span></span> <span data-ttu-id="65bed-404">La sessione di ottimizzazione viene eseguita per un periodo illimitato di tempo per garantire l'analisi completa del carico di lavoro (`-A 0`).</span><span class="sxs-lookup"><span data-stu-id="65bed-404">The tuning session runs for an unlimited length of time to ensure a complete analysis of the workload (`-A 0`).</span></span> <span data-ttu-id="65bed-405">L'indicazione deve fornire un miglioramento minimo del 5% (`-m 5`).</span><span class="sxs-lookup"><span data-stu-id="65bed-405">The recommendation must provide a minimum improvement of 5% (`-m 5`).</span></span> <span data-ttu-id="65bed-406">**dta** deve includere indici e viste indicizzate nell'indicazione finale (`-fa IDX_IV`).</span><span class="sxs-lookup"><span data-stu-id="65bed-406">**dta** should include indexes and indexed views in its final recommendation (`-fa IDX_IV`).</span></span>  
  
```  
dta -S MyServer -E -D tpcd1G -if tpcd_22.sql -F -of script.sql -A 0 -m 5 -fa IDX_IV  
```  
  
 <span data-ttu-id="65bed-407">**B. Limitazione dell'utilizzo del disco**</span><span class="sxs-lookup"><span data-stu-id="65bed-407">**B. Limit disk use**</span></span>  
  
 <span data-ttu-id="65bed-408">Nell'esempio seguente viene limitata la dimensione totale del database, che include i dati non elaborati e gli indici aggiuntivi, a 3 GB (`-B 3000`) e l'output viene reindirizzato su d:\result_dir\script1.sql.</span><span class="sxs-lookup"><span data-stu-id="65bed-408">This example limits the total database size, which includes the raw data and the additional indexes, to 3 gigabytes (GB) (`-B 3000`) and directs the output to d:\result_dir\script1.sql.</span></span> <span data-ttu-id="65bed-409">Il tempo di esecuzione non è maggiore di 1 ora (`-A 60`).</span><span class="sxs-lookup"><span data-stu-id="65bed-409">It runs for no more than 1 hour (`-A 60`).</span></span>  
  
```  
dta -D tpcd1G -if tpcd_22.sql -B 3000 -of "d:\result_dir\script1.sql" -A 60  
```  
  
 <span data-ttu-id="65bed-410">**C. Limitazione del numero di query ottimizzate**</span><span class="sxs-lookup"><span data-stu-id="65bed-410">**C. Limit the number of tuned queries**</span></span>  
  
 <span data-ttu-id="65bed-411">Nell'esempio seguente il numero di query lette dal file orders_wkld.sql viene limitato a un massimo di 10 (`-n 10`) oppure il tempo di esecuzione viene limitato a 15 minuti (`-A 15`), a seconda di quale dei due eventi si verifica per primo.</span><span class="sxs-lookup"><span data-stu-id="65bed-411">This example limits the number of queries read from the file orders_wkld.sql to a maximum of 10 (`-n 10`) and runs for 15 minutes (`-A 15`), whichever comes first.</span></span> <span data-ttu-id="65bed-412">Per assicurarsi che tutte e 10 le query vengano ottimizzate, specificare un tempo di ottimizzazione illimitato tramite `-A 0`.</span><span class="sxs-lookup"><span data-stu-id="65bed-412">To make sure that all 10 queries are tuned, specify an unlimited tuning time with `-A 0`.</span></span> <span data-ttu-id="65bed-413">Se il fattore tempo è rilevante, specificare un limite di tempo adeguato impostando il numero di minuti disponibili per l'ottimizzazione con l'argomento `-A` come illustrato nell'esempio seguente.</span><span class="sxs-lookup"><span data-stu-id="65bed-413">If time is important, specify an appropriate time limit by specifying the number of minutes that are available for tuning with the `-A` argument as shown in this example.</span></span>  
  
```  
dta -D orders -if orders_wkld.sql -of script.sql -A 15 -n 10  
```  
  
 <span data-ttu-id="65bed-414">**D. Ottimizzazione di tabelle specifiche elencate in un file**</span><span class="sxs-lookup"><span data-stu-id="65bed-414">**D. Tune specific tables listed in a file**</span></span>  
  
 <span data-ttu-id="65bed-415">Questo esempio mostra l'utilizzo di *table_list_file* , ovvero l'argomento **-Tf** .</span><span class="sxs-lookup"><span data-stu-id="65bed-415">This example demonstrates the use of *table_list_file* (the **-Tf** argument).</span></span> <span data-ttu-id="65bed-416">Il contenuto del file table_list.txt è riportato di seguito.</span><span class="sxs-lookup"><span data-stu-id="65bed-416">The contents of the file table_list.txt are as follows:</span></span>  
  
```  
AdventureWorks2012.Sales.Customer  100000  
AdventureWorks2012.Sales.Store  
AdventureWorks2012.Production.Product  2000000  
```  
  
 <span data-ttu-id="65bed-417">Il contenuto di table_list.txt determina quanto segue:</span><span class="sxs-lookup"><span data-stu-id="65bed-417">The contents of table_list.txt specifies that:</span></span>  
  
-   <span data-ttu-id="65bed-418">Verranno ottimizzate solo le tabelle **Customer**, **Store**e **Product** .</span><span class="sxs-lookup"><span data-stu-id="65bed-418">Only the **Customer**, **Store**, and **Product** tables in the database should be tuned.</span></span>  
  
-   <span data-ttu-id="65bed-419">Si presuppone che il numero di righe delle tabelle **Customer** e **Product** sia rispettivamente 100.000 e 2.000.000.</span><span class="sxs-lookup"><span data-stu-id="65bed-419">The number of rows in the **Customer** and **Product** tables are assumed to be 100,000 and 2,000,000, respectively.</span></span>  
  
-   <span data-ttu-id="65bed-420">Si presuppone inoltre che il numero di righe della tabella **Store** sia il numero corrente di righe di questa tabella.</span><span class="sxs-lookup"><span data-stu-id="65bed-420">The number of rows in **Store** are assumed to be the current number of rows in the table.</span></span>  
  
 <span data-ttu-id="65bed-421">Possono essere presenti uno o più spazi tra il numero totale delle righe e il nome precedente della tabella in *table_list_file*.</span><span class="sxs-lookup"><span data-stu-id="65bed-421">Note that there can be one or more spaces between the number of rows count and the preceding table name in the *table_list_file*.</span></span>  
  
 <span data-ttu-id="65bed-422">La durata dell'ottimizzazione è pari a 2 ore (`-A 120`) e l'output viene scritto in un file XML (`-ox XMLTune.xml`).</span><span class="sxs-lookup"><span data-stu-id="65bed-422">The tuning time is 2 hours (`-A 120`) and the output is written to an XML file (`-ox XMLTune.xml`).</span></span>  
  
```  
dta -D pubs -if pubs_wkld.sql -ox XMLTune.xml -A 120 -Tf table_list.txt  
```  
  
## <a name="see-also"></a><span data-ttu-id="65bed-423">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="65bed-423">See Also</span></span>  
 <span data-ttu-id="65bed-424">[Riferimento all'utilità del prompt dei comandi &#40;motore di database&#41;](../command-prompt-utility-reference-database-engine.md) </span><span class="sxs-lookup"><span data-stu-id="65bed-424">[Command Prompt Utility Reference &#40;Database Engine&#41;](../command-prompt-utility-reference-database-engine.md) </span></span>  
 [<span data-ttu-id="65bed-425">Database Engine Tuning Advisor</span><span class="sxs-lookup"><span data-stu-id="65bed-425">Database Engine Tuning Advisor</span></span>](../../relational-databases/performance/database-engine-tuning-advisor.md)  
  
  
