---
title: Ottimizzazione di un carico di lavoro | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
helpviewer_keywords:
- workloads [SQL Server], tuning
ms.assetid: 6229bf3f-1182-4bc6-8451-cedc37f4b62e
author: stevestein
ms.author: sstein
ms.openlocfilehash: f95aab55d402ac72228dcc4326ad00ea15e7471f
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87719224"
---
# <a name="tuning-a-workload"></a><span data-ttu-id="23730-102">Ottimizzazione di un carico di lavoro</span><span class="sxs-lookup"><span data-stu-id="23730-102">Tuning a Workload</span></span>
  <span data-ttu-id="23730-103">Per individuare la migliore struttura fisica di database per l'esecuzione di query sulle tabelle e i database selezionati per l'ottimizzazione, è possibile utilizzare Ottimizzazione guidata motore di database.</span><span class="sxs-lookup"><span data-stu-id="23730-103">The Database Engine Tuning Advisor can be used to find the best physical database design for query performance on the databases and tables that you select for tuning.</span></span>  
  
 <span data-ttu-id="23730-104">In questa attività viene utilizzato il database di esempio [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="23730-104">This task uses the [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] sample database.</span></span> <span data-ttu-id="23730-105">Per una maggiore sicurezza, i database di esempio non vengono installati per impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="23730-105">To enhance security, the sample databases are not installed by default.</span></span> <span data-ttu-id="23730-106">Per installare i database di esempio, vedere la pagina [Installazione degli esempi e dei database di esempio di SQL Server](http://sqlserversamples.codeplex.com).</span><span class="sxs-lookup"><span data-stu-id="23730-106">To install the sample databases, see [Installing SQL Server Samples and Sample Databases](http://sqlserversamples.codeplex.com).</span></span>  
  
### <a name="tune-a-workload-transact-sql-script-file"></a><span data-ttu-id="23730-107">Per ottimizzare un file script Transact-SQL del carico di lavoro</span><span class="sxs-lookup"><span data-stu-id="23730-107">Tune a workload Transact-SQL script file</span></span>  
  
1.  <span data-ttu-id="23730-108">Copiare una o più istruzioni SELECT di esempio da "A.</span><span class="sxs-lookup"><span data-stu-id="23730-108">Copy a sample SELECT statement or statements from "A.</span></span> <span data-ttu-id="23730-109">Utilizzo dell'istruzione SELECT per il recupero di righe e colonne" in [Esempi di istruzioni SELECT &#40;Transact-SQL&#41;](/sql/t-sql/queries/select-examples-transact-sql) e incollare le istruzioni nell'Editor di query di [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="23730-109">Using SELECT to retrieve rows and columns" in [SELECT Examples &#40;Transact-SQL&#41;](/sql/t-sql/queries/select-examples-transact-sql) and paste the statements into the Query Editor of [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="23730-110">Salvare il file con il nome **MyScript.sql** in una directory in cui sia possibile individuarlo facilmente.</span><span class="sxs-lookup"><span data-stu-id="23730-110">Save the file as **MyScript.sql** in a directory where you can easily find it.</span></span>  
  
2.  <span data-ttu-id="23730-111">Avviare Ottimizzazione guidata motore di database.</span><span class="sxs-lookup"><span data-stu-id="23730-111">Start Database Engine Tuning Advisor.</span></span> <span data-ttu-id="23730-112">Vedere [Avvio dello strumento Ottimizzazione guidata motore di database](../../relational-databases/performance/database-engine-tuning-advisor.md).</span><span class="sxs-lookup"><span data-stu-id="23730-112">See [Launching Database Engine Tuning Advisor](../../relational-databases/performance/database-engine-tuning-advisor.md).</span></span>  
  
3.  <span data-ttu-id="23730-113">Nel riquadro destro della GUI di Ottimizzazione guidata motore di database digitare **MySession** in **Nome sessione**.</span><span class="sxs-lookup"><span data-stu-id="23730-113">In the right pane of the Database Engine Tuning Advisor GUI, type **MySession** in **Session name**.</span></span>  
  
4.  <span data-ttu-id="23730-114">Selezionare **File** per **Carico di lavoro**e fare clic sul pulsante **Consente di cercare un file di carico di lavoro** per trovare il file **MyScript.sql** salvato nel passaggio 1.</span><span class="sxs-lookup"><span data-stu-id="23730-114">Select **File** for your **Workload**, and click the **Browse for a workload file** button to locate the **MyScript.sql** file that you saved in Step 1.</span></span>  
  
5.  <span data-ttu-id="23730-115">Selezionare [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] nell'elenco **Database per l'analisi del carico di lavoro** , selezionare [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] nella griglia **Selezionare i database e le tabelle da ottimizzare** e lasciare selezionata l'opzione **Salva log di ottimizzazione** .</span><span class="sxs-lookup"><span data-stu-id="23730-115">Select [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] in the **Database for workload analysis** list, select [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] in the **Select databases and tables to tune** grid, and leave **Save tuning log** selected.</span></span> <span data-ttu-id="23730-116">**Database per l'analisi del carico di lavoro** specifica il primo database al quale Ottimizzazione guidata motore di database si connette durante l'ottimizzazione di un carico di lavoro.</span><span class="sxs-lookup"><span data-stu-id="23730-116">**Database for workload analysis** specifies the first database to which Database Engine Tuning Advisor connects when tuning a workload.</span></span> <span data-ttu-id="23730-117">Dopo l'inizio dell'ottimizzazione, Ottimizzazione guidata motore di database si connette ai database specificati dalle istruzioni `USE DATABASE` contenute nel carico di lavoro.</span><span class="sxs-lookup"><span data-stu-id="23730-117">After tuning begins, Database Engine Tuning Advisor connects to the databases specified by the `USE DATABASE` statements contained in the workload.</span></span>  
  
6.  <span data-ttu-id="23730-118">Fare clic sulla scheda **Opzioni di ottimizzazione** . Non verranno impostate opzioni di ottimizzazione per questa procedura, ma occorrerà un po' di tempo per rivedere le opzioni di ottimizzazione predefinite.</span><span class="sxs-lookup"><span data-stu-id="23730-118">Click the **Tuning Options** tab. You will not set any tuning options for this practice, but take a moment to review the default tuning options.</span></span> <span data-ttu-id="23730-119">Premere F1 per visualizzare la Guida relativa a questa pagina a schede.</span><span class="sxs-lookup"><span data-stu-id="23730-119">Press F1 to view the Help for this tabbed page.</span></span> <span data-ttu-id="23730-120">Fare clic su **Opzioni avanzate** per visualizzare le opzioni di ottimizzazione aggiuntive.</span><span class="sxs-lookup"><span data-stu-id="23730-120">Click **Advanced Options** to view additional tuning options.</span></span> <span data-ttu-id="23730-121">Fare clic su **?** nella finestra di dialogo **Opzioni di ottimizzazione avanzate** per ottenere informazioni sulle opzioni di ottimizzazione visualizzate.</span><span class="sxs-lookup"><span data-stu-id="23730-121">Click **Help** in the **Advanced Tuning Options** dialog box for information about the tuning options that are displayed there.</span></span> <span data-ttu-id="23730-122">Fare clic su **Annulla** per chiudere la finestra di dialogo **Opzioni di ottimizzazione avanzate** lasciando selezionate le opzioni predefinite.</span><span class="sxs-lookup"><span data-stu-id="23730-122">Click **Cancel** to close the **Advanced Tuning Options** dialog box, leaving the default options selected.</span></span>  
  
7.  <span data-ttu-id="23730-123">Fare clic sul pulsante **Avvia analisi** sulla barra degli strumenti.</span><span class="sxs-lookup"><span data-stu-id="23730-123">Click the **Start Analysis** button on the toolbar.</span></span> <span data-ttu-id="23730-124">Mentre Ottimizzazione guidata motore di database analizza il carico di lavoro, è possibile monitorare lo stato nella scheda **stato** . Al termine dell'ottimizzazione, verrà visualizzata la scheda **indicazioni** .</span><span class="sxs-lookup"><span data-stu-id="23730-124">While Database Engine Tuning Advisor is analyzing the workload, you can monitor the status on the **Progress** tab. When tuning is complete, the **Recommendations** tab is displayed.</span></span>  
  
     <span data-ttu-id="23730-125">Se viene visualizzato un errore relativo alla data e all'ora di arresto dell'ottimizzazione, controllare l'ora di **arresto** nella scheda principale **Opzioni di ottimizzazione** . Assicurarsi che la data e l'ora di **arresto** siano maggiori della data e dell'ora correnti e, se necessario, modificarle.</span><span class="sxs-lookup"><span data-stu-id="23730-125">If you receive an error about the tuning stop date and time, check the **Stop at** time on the main **Tuning Options** tab. Make sure the **Stop at** date and time are greater than the current date and time, and if necessary, change them.</span></span>  
  
8.  <span data-ttu-id="23730-126">Dopo aver completato l'analisi, salvare le indicazioni come script [!INCLUDE[tsql](../../includes/tsql-md.md)] scegliendo **Salva indicazioni** dal menu **Azioni** .</span><span class="sxs-lookup"><span data-stu-id="23730-126">After the analysis completes, save your recommendation as a [!INCLUDE[tsql](../../includes/tsql-md.md)] script by clicking **Save Recommendations** on the **Actions** menu.</span></span> <span data-ttu-id="23730-127">Nella finestra di dialogo **Salva con nome** trovare la directory in cui si vuole salvare lo script delle indicazioni e digitare il nome file **MyRecommendations**.</span><span class="sxs-lookup"><span data-stu-id="23730-127">In the **Save As** dialog box, navigate to the directory where you want to save the recommendations script, and type the file name **MyRecommendations**.</span></span>  
  
## <a name="summary"></a><span data-ttu-id="23730-128">Riepilogo</span><span class="sxs-lookup"><span data-stu-id="23730-128">Summary</span></span>  
 <span data-ttu-id="23730-129">In questo modo è stata completata l'ottimizzazione di un carico di lavoro di un'istruzione SELECT semplice sul database [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="23730-129">You have completed tuning a simple SELECT statement workload on the [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] database.</span></span> <span data-ttu-id="23730-130">Ottimizzazione guidata motore di database accetta inoltre file di traccia e tabelle [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] come carichi di lavoro da ottimizzare.</span><span class="sxs-lookup"><span data-stu-id="23730-130">The Database Engine Tuning Advisor can also take [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] trace files and tables as tuning workloads.</span></span> <span data-ttu-id="23730-131">Nell'attività successiva verranno illustrate le procedure per visualizzare e interpretare le indicazioni scaturite dall'esercitazione sull'ottimizzazione.</span><span class="sxs-lookup"><span data-stu-id="23730-131">The next task shows you how to view and interpret the tuning recommendations that you received as a result of the practice tuning.</span></span>  
  
## <a name="next-task-in-lesson"></a><span data-ttu-id="23730-132">Attività successiva della lezione</span><span class="sxs-lookup"><span data-stu-id="23730-132">Next Task in Lesson</span></span>  
 [<span data-ttu-id="23730-133">Visualizzazione delle indicazioni di ottimizzazione</span><span class="sxs-lookup"><span data-stu-id="23730-133">Viewing Tuning Recommendations</span></span>](lesson-1-2-viewing-tuning-recommendations.md)  
  
  
