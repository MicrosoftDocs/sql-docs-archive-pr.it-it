---
title: Utilità sqlcmd | Microsoft Docs
ms.custom: ''
ms.date: 11/29/2016
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: tools-other
ms.topic: conceptual
helpviewer_keywords:
- statements [SQL Server], command prompt
- QUIT command
- Transact-SQL statements, command prompt
- EXIT command
- sqlcmd commands
- ED command
- sqlcmd utility
- command prompt utilities [SQL Server], sqlcmd
- '!! command'
- stored procedures [SQL Server], command prompt
- system stored procedures [SQL Server], command prompt
- sqlcmd utility, about sqlcmd utility
- scripts [SQL Server], command prompt
- RESET command
- GO command
ms.assetid: e1728707-5215-4c04-8320-e36f161b834a
author: stevestein
ms.author: sstein
ms.openlocfilehash: 9fbe5a3dcefb2218543e015dad71acfe79aea8e3
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87723240"
---
# <a name="sqlcmd-utility"></a><span data-ttu-id="376c7-102">Utilità sqlcmd</span><span class="sxs-lookup"><span data-stu-id="376c7-102">sqlcmd Utility</span></span>
  <span data-ttu-id="376c7-103">L' `sqlcmd` utilità consente di immettere [!INCLUDE[tsql](../includes/tsql-md.md)] istruzioni, procedure di sistema e file script al prompt dei comandi, nell' **editor di query** in modalità sqlcmd, in un file script Windows o in un passaggio di processo del sistema operativo (Cmd.exe) di un [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] processo dell'agente.</span><span class="sxs-lookup"><span data-stu-id="376c7-103">The `sqlcmd` utility lets you enter [!INCLUDE[tsql](../includes/tsql-md.md)] statements, system procedures, and script files at the command prompt, in **Query Editor** in SQLCMD mode, in a Windows script file or in an operating system (Cmd.exe) job step of a [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] Agent job.</span></span> <span data-ttu-id="376c7-104">e utilizza ODBC per eseguire batch [!INCLUDE[tsql](../includes/tsql-md.md)].</span><span class="sxs-lookup"><span data-stu-id="376c7-104">This utility uses ODBC to execute [!INCLUDE[tsql](../includes/tsql-md.md)] batches.</span></span>  
  
> [!IMPORTANT]  
>  [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)]<span data-ttu-id="376c7-105">USA [!INCLUDE[msCoName](../includes/msconame-md.md)] [!INCLUDE[dnprdnshort](../includes/dnprdnshort-md.md)] SqlClient per l'esecuzione in modalità normale e sqlcmd nell' **editor di query**.</span><span class="sxs-lookup"><span data-stu-id="376c7-105">uses the [!INCLUDE[msCoName](../includes/msconame-md.md)][!INCLUDE[dnprdnshort](../includes/dnprdnshort-md.md)]SqlClient for execution in regular and SQLCMD mode in **Query Editor**.</span></span> <span data-ttu-id="376c7-106">Se `sqlcmd` viene eseguita dalla riga di comando, `sqlcmd` utilizza il driver ODBC.</span><span class="sxs-lookup"><span data-stu-id="376c7-106">When `sqlcmd` is run from the command line, `sqlcmd` uses the ODBC driver.</span></span> <span data-ttu-id="376c7-107">Poiché possono essere applicate opzioni predefinite diverse, l'esecuzione della stessa query nella modalità SQLCMD di [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)] e nell'utilità `sqlcmd` potrebbe generare risultati diversi.</span><span class="sxs-lookup"><span data-stu-id="376c7-107">Because different default options may apply, you might see different behavior when you execute the same query in [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)] in SQLCMD Mode and in the `sqlcmd` utility.</span></span>  
  
 <span data-ttu-id="376c7-108">Attualmente in `sqlcmd` non è necessario utilizzare uno spazio tra l'opzione della riga di comando e il valore.</span><span class="sxs-lookup"><span data-stu-id="376c7-108">Currently, `sqlcmd` does not require a space between the command line option and the value.</span></span> <span data-ttu-id="376c7-109">In una versione futura, tuttavia, è possibile che tra l'opzione della riga di comando e il valore sia necessario inserire uno spazio.</span><span class="sxs-lookup"><span data-stu-id="376c7-109">However, in a future release, a space may be required between the command line option and the value.</span></span>  
  
## <a name="syntax"></a><span data-ttu-id="376c7-110">Sintassi</span><span class="sxs-lookup"><span data-stu-id="376c7-110">Syntax</span></span>  
  
```  
  
   sqlcmd  
   -a  
   packet_size  
   -A (dedicated administrator connection)  
-b (terminate batch job if there is an error)  
-cbatch_terminator-C (trust the server certificate)  
-ddb_name-e (echo input)  
-E (use trusted connection)  
-fcodepage | i:codepage[,o:codepage] | o:codepage[,i:codepage]  
-hrows_per_header-Hworkstation_name-iinput_file-I (enable quoted identifiers)  
-k[1 | 2] (remove or replace control characters)  
-Kapplication_intent-llogin_timeout-L[c] (list servers, optional clean output)  
-merror_level-Mmultisubnet_failover-N (encrypt connection)  
-ooutput_file-p[1] (print statistics, optional colon format)  
-Ppassword-q "cmdline query"-Q "cmdline query" (and exit)  
-r[0 | 1] (msgs to stderr)  
-R (use client regional settings)  
-scol_separator-S [protocol:]server[\instance_name][,port]  
-tquery_timeout-u (unicode output file)  
-Ulogin_id-vvar = "value"-Verror_severity_level-wcolumn_width-W (remove trailing spaces)  
-x (disable variable substitution)  
-X[1] (disable commands, startup script, environment variables and optional exit)  
-yvariable_length_type_display_width-Yfixed_length_type_display_width-znew_password -Znew_password (and exit)  
  
-? (usage)  
```  
  
## <a name="command-line-options"></a><span data-ttu-id="376c7-111">Opzioni della riga di comando</span><span class="sxs-lookup"><span data-stu-id="376c7-111">Command-line Options</span></span>  
 <span data-ttu-id="376c7-112">**Opzioni correlate all'account di accesso**</span><span class="sxs-lookup"><span data-stu-id="376c7-112">**Login-Related Options**</span></span>  
  <span data-ttu-id="376c7-113">**-A**</span><span class="sxs-lookup"><span data-stu-id="376c7-113">**-A**</span></span>  
 <span data-ttu-id="376c7-114">Stabilisce la connessione a [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] tramite una connessione amministrativa dedicata (DAC, Dedicated Administrator Connection).</span><span class="sxs-lookup"><span data-stu-id="376c7-114">Logs in to [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] with a Dedicated Administrator Connection (DAC).</span></span> <span data-ttu-id="376c7-115">Questo tipo di connessione viene utilizzato per eseguire la risoluzione dei problemi a livello di server</span><span class="sxs-lookup"><span data-stu-id="376c7-115">This kind of connection is used to troubleshoot a server.</span></span> <span data-ttu-id="376c7-116">e funziona solo in computer server che supportano le connessioni DAC.</span><span class="sxs-lookup"><span data-stu-id="376c7-116">This will only work with server computers that support DAC.</span></span> <span data-ttu-id="376c7-117">Se la connessione DAC non è disponibile, l'utilità `sqlcmd` genera un messaggio di errore e viene chiusa.</span><span class="sxs-lookup"><span data-stu-id="376c7-117">If DAC is not available, `sqlcmd` generates an error message and then exits.</span></span> <span data-ttu-id="376c7-118">Per altre informazioni sulle connessioni DAC, vedere [Connessione di diagnostica per gli amministratori di database](../database-engine/configure-windows/diagnostic-connection-for-database-administrators.md).</span><span class="sxs-lookup"><span data-stu-id="376c7-118">For more information about DAC, see [Diagnostic Connection for Database Administrators](../database-engine/configure-windows/diagnostic-connection-for-database-administrators.md).</span></span>  
  
 <span data-ttu-id="376c7-119">**-C**</span><span class="sxs-lookup"><span data-stu-id="376c7-119">**-C**</span></span>  
 <span data-ttu-id="376c7-120">Questa opzione viene utilizzata dal client per configurare l'attendibilità implicita del certificato del server senza necessità di convalida</span><span class="sxs-lookup"><span data-stu-id="376c7-120">This switch is used by the client to configure it to implicitly trust the server certificate without validation.</span></span> <span data-ttu-id="376c7-121">ed equivale all'opzione ADO.NET `TRUSTSERVERCERTIFICATE = true`.</span><span class="sxs-lookup"><span data-stu-id="376c7-121">This option is equivalent to the ADO.NET option `TRUSTSERVERCERTIFICATE = true`.</span></span>  
  
 <span data-ttu-id="376c7-122">**-d** _db_name_</span><span class="sxs-lookup"><span data-stu-id="376c7-122">**-d** _db_name_</span></span>  
 <span data-ttu-id="376c7-123">Genera un' `USE` istruzione *db_name* quando si avvia `sqlcmd` .</span><span class="sxs-lookup"><span data-stu-id="376c7-123">Issues a `USE` *db_name* statement when you start `sqlcmd`.</span></span> <span data-ttu-id="376c7-124">Questa opzione imposta la variabile di scripting SQLCMDDBNAME di `sqlcmd`</span><span class="sxs-lookup"><span data-stu-id="376c7-124">This option sets the `sqlcmd` scripting variable SQLCMDDBNAME.</span></span> <span data-ttu-id="376c7-125">per specificare il database iniziale.</span><span class="sxs-lookup"><span data-stu-id="376c7-125">This specifies the initial database.</span></span> <span data-ttu-id="376c7-126">Il valore predefinito corrisponde alla proprietà relativa al database predefinito dell'accesso.</span><span class="sxs-lookup"><span data-stu-id="376c7-126">The default is your login's default-database property.</span></span> <span data-ttu-id="376c7-127">Se il database non esiste, viene generato un messaggio di errore e l'utilità `sqlcmd` viene chiusa.</span><span class="sxs-lookup"><span data-stu-id="376c7-127">If the database does not exist, an error message is generated and `sqlcmd` exits.</span></span>  
  
 <span data-ttu-id="376c7-128">**-l** _login_timeout_</span><span class="sxs-lookup"><span data-stu-id="376c7-128">**-l** _login_timeout_</span></span>  
 <span data-ttu-id="376c7-129">Specifica il numero dei secondi che devono trascorrere prima che si verifichi il timeout di un accesso di `sqlcmd` al driver ODBC quando si tenta la connessione a un server.</span><span class="sxs-lookup"><span data-stu-id="376c7-129">Specifies the number of seconds before a `sqlcmd` login to the ODBC driver times out when you try to connect to a server.</span></span> <span data-ttu-id="376c7-130">Questa opzione imposta la variabile di scripting SQLCMDLOGINTIMEOUT di `sqlcmd`.</span><span class="sxs-lookup"><span data-stu-id="376c7-130">This option sets the `sqlcmd` scripting variable SQLCMDLOGINTIMEOUT.</span></span> <span data-ttu-id="376c7-131">Il valore predefinito per il timeout di accesso a `sqlcmd` è otto secondi.</span><span class="sxs-lookup"><span data-stu-id="376c7-131">The default time-out for login to `sqlcmd` is eight seconds.</span></span> <span data-ttu-id="376c7-132">Il valore del timeout deve essere un numero compreso tra 0 e 65.534.</span><span class="sxs-lookup"><span data-stu-id="376c7-132">The login time-out must be a number between 0 and 65534.</span></span> <span data-ttu-id="376c7-133">Se il valore specificato non è numerico o non è compreso in tale intervallo, `sqlcmd` genera un messaggio di errore.</span><span class="sxs-lookup"><span data-stu-id="376c7-133">If the value supplied is not numeric or does not fall into that range, `sqlcmd` generates an error message.</span></span> <span data-ttu-id="376c7-134">Il valore 0 specifica un timeout infinito.</span><span class="sxs-lookup"><span data-stu-id="376c7-134">A value of 0 specifies time-out to be infinite.</span></span>  
  
 <span data-ttu-id="376c7-135">**-E**</span><span class="sxs-lookup"><span data-stu-id="376c7-135">**-E**</span></span>  
 <span data-ttu-id="376c7-136">Utilizza una connessione trusted anziché un nome utente e una password per l'accesso a [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="376c7-136">Uses a trusted connection instead of using a user name and password to log on to [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="376c7-137">In caso di omissione di -E, `sqlcmd` utilizza l'opzione della connessione trusted per impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="376c7-137">By default, without -E specified, `sqlcmd` uses the trusted connection option.</span></span>  
  
 <span data-ttu-id="376c7-138">L'opzione **-E** ignora eventuali impostazioni delle variabili di ambiente relative a nome utente e password, ad esempio SQLCMDPASSWORD.</span><span class="sxs-lookup"><span data-stu-id="376c7-138">The **-E** option ignores possible user name and password environment variable settings such as SQLCMDPASSWORD.</span></span> <span data-ttu-id="376c7-139">Se si usa l'opzione **-E** in combinazione con l'opzione **-U** o con l'opzione **-P** , viene generato un messaggio di errore.</span><span class="sxs-lookup"><span data-stu-id="376c7-139">If the **-E** option is used together with the **-U** option or the **-P** option, an error message is generated.</span></span>  
  
 <span data-ttu-id="376c7-140">**-H** _workstation_name_</span><span class="sxs-lookup"><span data-stu-id="376c7-140">**-H** _workstation_name_</span></span>  
 <span data-ttu-id="376c7-141">Nome di una workstation.</span><span class="sxs-lookup"><span data-stu-id="376c7-141">A workstation name.</span></span> <span data-ttu-id="376c7-142">Questa opzione imposta la variabile di scripting SQLCMDWORKSTATION di `sqlcmd`.</span><span class="sxs-lookup"><span data-stu-id="376c7-142">This option sets the `sqlcmd` scripting variable SQLCMDWORKSTATION.</span></span> <span data-ttu-id="376c7-143">Il nome della workstation è riportato nella colonna **hostname** della vista del catalogo **sys.processes** oppure è possibile ottenerlo tramite la stored procedure **sp_who**.</span><span class="sxs-lookup"><span data-stu-id="376c7-143">The workstation name is listed in the **hostname** column of the **sys.processes** catalog view and can be returned using the stored procedure **sp_who**.</span></span> <span data-ttu-id="376c7-144">Se questa opzione viene omessa, il valore predefinito è costituito dal nome del computer corrente.</span><span class="sxs-lookup"><span data-stu-id="376c7-144">If this option is not specified, the default is the current computer name.</span></span> <span data-ttu-id="376c7-145">È possibile utilizzare questo nome per identificare sessioni di `sqlcmd` diverse.</span><span class="sxs-lookup"><span data-stu-id="376c7-145">This name can be used to identify different `sqlcmd` sessions.</span></span>  
  
 <span data-ttu-id="376c7-146">**-K** _application_intent_</span><span class="sxs-lookup"><span data-stu-id="376c7-146">**-K** _application_intent_</span></span>  
 <span data-ttu-id="376c7-147">Dichiara il tipo di carico di lavoro dell'applicazione in caso di connessione a un server.</span><span class="sxs-lookup"><span data-stu-id="376c7-147">Declares the application workload type when connecting to a server.</span></span> <span data-ttu-id="376c7-148">L'unico valore attualmente supportato è **ReadOnly**.</span><span class="sxs-lookup"><span data-stu-id="376c7-148">The only currently supported value is **ReadOnly**.</span></span> <span data-ttu-id="376c7-149">Se l'opzione **-K** non è specificata, l'utilità sqlcmd non supporta la connettività a una replica secondaria in un gruppo di disponibilità AlwaysOn.</span><span class="sxs-lookup"><span data-stu-id="376c7-149">If **-K** is not specified, the sqlcmd utility will not support connectivity to a secondary replica in an AlwaysOn availability group.</span></span> <span data-ttu-id="376c7-150">Per altre informazioni, vedere [repliche secondarie attive: repliche secondarie leggibili](../database-engine/availability-groups/windows/active-secondaries-readable-secondary-replicas-always-on-availability-groups.md).</span><span class="sxs-lookup"><span data-stu-id="376c7-150">For more information, see [Active Secondaries: Readable Secondary Replicas](../database-engine/availability-groups/windows/active-secondaries-readable-secondary-replicas-always-on-availability-groups.md).</span></span>  
  
 <span data-ttu-id="376c7-151">`-M`*multisubnet_failover*</span><span class="sxs-lookup"><span data-stu-id="376c7-151">`-M` *multisubnet_failover*</span></span>  
 <span data-ttu-id="376c7-152">Specificare sempre `-M` in caso di connessione al listener del gruppo di disponibilità di un gruppo di disponibilità di [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] o a un'istanza del cluster di failover di [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="376c7-152">Always specify `-M` when connecting to the availability group listener of a [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] availability group or a [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] Failover Cluster Instance.</span></span> <span data-ttu-id="376c7-153">Tramite `-M` viene fornito un rilevamento più veloce di una connessione al server attualmente attivo.</span><span class="sxs-lookup"><span data-stu-id="376c7-153">`-M` provides for faster detection of and connection to the (currently) active server.</span></span> <span data-ttu-id="376c7-154">Se `-M` non è specificato, significa che `-M` è disabilitato.</span><span class="sxs-lookup"><span data-stu-id="376c7-154">If `-M` is not specified, `-M` is off.</span></span> <span data-ttu-id="376c7-155">Per altre informazioni su [!INCLUDE[ssHADR](../includes/sshadr-md.md)] , vedere [listener del gruppo di disponibilità, connettività client e failover dell'applicazione &#40;SQL Server&#41;](../database-engine/listeners-client-connectivity-application-failover.md), [creazione e configurazione di gruppi di disponibilità &#40;SQL Server ](../database-engine/availability-groups/windows/creation-and-configuration-of-availability-groups-sql-server.md)&#41;, [clustering di failover e gruppi di disponibilità AlwaysOn ](../database-engine/availability-groups/windows/failover-clustering-and-always-on-availability-groups-sql-server.md)&#40;SQL Server&#41;e [repliche secondarie attive: repliche secondarie leggibili](../database-engine/availability-groups/windows/active-secondaries-readable-secondary-replicas-always-on-availability-groups.md) .</span><span class="sxs-lookup"><span data-stu-id="376c7-155">For more information about [!INCLUDE[ssHADR](../includes/sshadr-md.md)], see [Availability Group Listeners, Client Connectivity, and Application Failover &#40;SQL Server&#41;](../database-engine/listeners-client-connectivity-application-failover.md), [Creation and Configuration of Availability Groups &#40;SQL Server&#41;](../database-engine/availability-groups/windows/creation-and-configuration-of-availability-groups-sql-server.md), [Failover Clustering and AlwaysOn Availability Groups &#40;SQL Server&#41;](../database-engine/availability-groups/windows/failover-clustering-and-always-on-availability-groups-sql-server.md), and [Active Secondaries: Readable Secondary Replicas](../database-engine/availability-groups/windows/active-secondaries-readable-secondary-replicas-always-on-availability-groups.md) .</span></span>  
  
 <span data-ttu-id="376c7-156">**-N**</span><span class="sxs-lookup"><span data-stu-id="376c7-156">**-N**</span></span>  
 <span data-ttu-id="376c7-157">Questa opzione viene utilizzata dal client per richiedere una connessione crittografata.</span><span class="sxs-lookup"><span data-stu-id="376c7-157">This switch is used by the client to request an encrypted connection.</span></span>  
  
 <span data-ttu-id="376c7-158">**-P** _password_</span><span class="sxs-lookup"><span data-stu-id="376c7-158">**-P** _password_</span></span>  
 <span data-ttu-id="376c7-159">Password specificata dall'utente.</span><span class="sxs-lookup"><span data-stu-id="376c7-159">Is a user-specified password.</span></span> <span data-ttu-id="376c7-160">Alle password viene applicata la distinzione tra maiuscole e minuscole.</span><span class="sxs-lookup"><span data-stu-id="376c7-160">Passwords are case sensitive.</span></span> <span data-ttu-id="376c7-161">Se si usa l'opzione-U e non si usa l'opzione **-P** e la variabile di ambiente SQLCMDPASSWORD non è stata impostata, `sqlcmd` chiede all'utente di specificare una password.</span><span class="sxs-lookup"><span data-stu-id="376c7-161">If the -U option is used and the **-P** option is not used, and the SQLCMDPASSWORD environment variable has not been set, `sqlcmd` prompts the user for a password.</span></span> <span data-ttu-id="376c7-162">Se si usa l'opzione **-P** alla fine del prompt dei comandi senza una password, `sqlcmd` Usa la password predefinita (null).</span><span class="sxs-lookup"><span data-stu-id="376c7-162">If the **-P** option is used at the end of the command prompt without a password `sqlcmd` uses the default password (NULL).</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="376c7-163">Non usare una password vuota.</span><span class="sxs-lookup"><span data-stu-id="376c7-163">Do not use a blank password.</span></span> <span data-ttu-id="376c7-164">Usare una password complessa.</span><span class="sxs-lookup"><span data-stu-id="376c7-164">Use a strong password.</span></span> <span data-ttu-id="376c7-165">Per altre informazioni, vedere [Strong Passwords](../relational-databases/security/strong-passwords.md).</span><span class="sxs-lookup"><span data-stu-id="376c7-165">For more information, see [Strong Passwords](../relational-databases/security/strong-passwords.md).</span></span>  
  
 <span data-ttu-id="376c7-166">La richiesta della password viene visualizzata mediante la stampa nella console, come indicato di seguito: `Password:`</span><span class="sxs-lookup"><span data-stu-id="376c7-166">The password prompt is displayed by printing the password prompt to the console, as follows: `Password:`</span></span>  
  
 <span data-ttu-id="376c7-167">L'input dell'utente è nascosto.</span><span class="sxs-lookup"><span data-stu-id="376c7-167">User input is hidden.</span></span> <span data-ttu-id="376c7-168">L'input non viene pertanto visualizzato e il cursore rimane in posizione.</span><span class="sxs-lookup"><span data-stu-id="376c7-168">This means that nothing is displayed and the cursor stays in position.</span></span>  
  
 <span data-ttu-id="376c7-169">La variabile di ambiente SQLCMDPASSWORD consente di impostare una password predefinita per la sessione corrente.</span><span class="sxs-lookup"><span data-stu-id="376c7-169">The SQLCMDPASSWORD environment variable lets you set a default password for the current session.</span></span> <span data-ttu-id="376c7-170">Per tale motivo, non è necessario specificare le password a livello di codice in file batch.</span><span class="sxs-lookup"><span data-stu-id="376c7-170">Therefore, passwords do not have to be hard-coded into batch files.</span></span>  
  
 <span data-ttu-id="376c7-171">Nell'esempio seguente viene innanzitutto impostata la variabile SQLCMDPASSWORD al prompt dei comandi e quindi si accede all'utilità `sqlcmd`.</span><span class="sxs-lookup"><span data-stu-id="376c7-171">The following example first sets the SQLCMDPASSWORD variable at the command prompt and then accesses the `sqlcmd` utility.</span></span> <span data-ttu-id="376c7-172">Al prompt dei comandi digitare:</span><span class="sxs-lookup"><span data-stu-id="376c7-172">At the command prompt, type:</span></span>  
  
 `SET SQLCMDPASSWORD= p@a$$w0rd`  
  
> [!IMPORTANT]  
>  <span data-ttu-id="376c7-173">La password risulterà visibile a chiunque si trovi davanti allo schermo del computer.</span><span class="sxs-lookup"><span data-stu-id="376c7-173">The password will be visible to anyone who can see your computer monitor.</span></span>  
  
 <span data-ttu-id="376c7-174">Al prompt dei comandi successivo digitare:</span><span class="sxs-lookup"><span data-stu-id="376c7-174">At the following command prompt, type:</span></span>  
  
 `sqlcmd`  
  
 <span data-ttu-id="376c7-175">Se la combinazione di nome utente e password non è corretta, viene generato un messaggio di errore.</span><span class="sxs-lookup"><span data-stu-id="376c7-175">If the user name and password combination is incorrect, an error message is generated.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="376c7-176">La variabile di ambiente OSQLPASSWORD è disponibile per motivi di compatibilità con le versioni precedenti.</span><span class="sxs-lookup"><span data-stu-id="376c7-176">The OSQLPASSWORD environment variable has been kept for backward compatibility.</span></span> <span data-ttu-id="376c7-177">La variabile di ambiente SQLCMDPASSWORD ha la precedenza sulla variabile di ambiente OSQLPASSWORD. Ciò significa che `sqlcmd` e **osql** possono essere usati uno accanto all'altro senza interferenze e che gli script precedenti continueranno a funzionare.</span><span class="sxs-lookup"><span data-stu-id="376c7-177">The SQLCMDPASSWORD environment variable takes precedence over the OSQLPASSWORD environment variable; this means that `sqlcmd` and **osql** can be used next to each other without interference and that old scripts will continue to work.</span></span>  
  
 <span data-ttu-id="376c7-178">Se si usa l'opzione **-P** in combinazione con l'opzione **-E** , viene generato un messaggio di errore.</span><span class="sxs-lookup"><span data-stu-id="376c7-178">If the **-P** option is used with the **-E** option, an error message is generated.</span></span>  
  
 <span data-ttu-id="376c7-179">Se l'opzione **-P** è seguita da più di un argomento, viene generato un messaggio di errore e il programma viene chiuso.</span><span class="sxs-lookup"><span data-stu-id="376c7-179">If the **-P** option is followed by more than one argument, an error message is generated and the program exits.</span></span>  
  
 <span data-ttu-id="376c7-180">**-S** [*protocollo*:]*server*[ **\\** _instance_name_] [**,**_porta_]</span><span class="sxs-lookup"><span data-stu-id="376c7-180">**-S** [*protocol*:]*server*[**\\**_instance_name_][**,**_port_]</span></span>  
 <span data-ttu-id="376c7-181">Specifica l'istanza di [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] a cui connettersi.</span><span class="sxs-lookup"><span data-stu-id="376c7-181">Specifies the instance of [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] to which to connect.</span></span> <span data-ttu-id="376c7-182">Imposta la variabile di scripting SQLCMDSERVER di `sqlcmd`.</span><span class="sxs-lookup"><span data-stu-id="376c7-182">It sets the `sqlcmd` scripting variable SQLCMDSERVER.</span></span>  
  
 <span data-ttu-id="376c7-183">Specificare *server_name* per connettersi all'istanza predefinita di [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] nel computer server.</span><span class="sxs-lookup"><span data-stu-id="376c7-183">Specify *server_name* to connect to the default instance of [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] on that server computer.</span></span> <span data-ttu-id="376c7-184">Specificare *server_name* [ **\\** _instance_name_ ] per connettersi a un'istanza denominata di [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] in tale computer server.</span><span class="sxs-lookup"><span data-stu-id="376c7-184">Specify *server_name* [ **\\**_instance_name_ ] to connect to a named instance of [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] on that server computer.</span></span> <span data-ttu-id="376c7-185">Se non si specifica alcun server, `sqlcmd` si connette all'istanza predefinita di [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] del computer locale.</span><span class="sxs-lookup"><span data-stu-id="376c7-185">If no server computer is specified, `sqlcmd` connects to the default instance of [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] on the local computer.</span></span> <span data-ttu-id="376c7-186">Questa opzione è richiesta per l'esecuzione di `sqlcmd` da un computer remoto in rete.</span><span class="sxs-lookup"><span data-stu-id="376c7-186">This option is required when you execute `sqlcmd` from a remote computer on the network.</span></span>  
  
 <span data-ttu-id="376c7-187">il *protocollo* può essere `tcp` (TCP/IP), `lpc` (Shared Memory) o `np` (Named Pipes).</span><span class="sxs-lookup"><span data-stu-id="376c7-187">*protocol* can be `tcp` (TCP/IP), `lpc` (shared memory), or `np` (named pipes).</span></span>  
  
 <span data-ttu-id="376c7-188">Se non si specifica un *server_name* [ **\\** _instance_name_ ] all'avvio `sqlcmd` [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] di, verifica la presenza di e usa la variabile di ambiente SQLCMDSERVER.</span><span class="sxs-lookup"><span data-stu-id="376c7-188">If you do not specify a *server_name* [ **\\**_instance_name_ ] when you start `sqlcmd`, [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] checks for and uses the SQLCMDSERVER environment variable.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="376c7-189">La variabile di ambiente OSQLSERVER è disponibile per motivi di compatibilità con le versioni precedenti.</span><span class="sxs-lookup"><span data-stu-id="376c7-189">The OSQLSERVER environment variable has been kept for backward compatibility.</span></span> <span data-ttu-id="376c7-190">La variabile di ambiente SQLCMDSERVER ha la precedenza sulla variabile di ambiente OSQLSERVER. Ciò significa che `sqlcmd` e **osql** possono essere usati uno accanto all'altro senza interferenze e che gli script precedenti continueranno a funzionare.</span><span class="sxs-lookup"><span data-stu-id="376c7-190">The SQLCMDSERVER environment variable takes precedence over the OSQLSERVER environment variable; this means that `sqlcmd` and **osql** can be used next to each other without interference and that old scripts will continue to work.</span></span>  
  
 <span data-ttu-id="376c7-191">**-U** _login_id_</span><span class="sxs-lookup"><span data-stu-id="376c7-191">**-U** _login_id_</span></span>  
 <span data-ttu-id="376c7-192">ID di accesso dell'utente.</span><span class="sxs-lookup"><span data-stu-id="376c7-192">Is the user login ID.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="376c7-193">La variabile di ambiente OSQLUSER è disponibile per motivi di compatibilità con le versioni precedenti.</span><span class="sxs-lookup"><span data-stu-id="376c7-193">The OSQLUSER environment variable is available for backward compatibility.</span></span> <span data-ttu-id="376c7-194">La variabile di ambiente SQLCMDUSER ha la priorità rispetto alla variabile di ambiente OSQLUSER.</span><span class="sxs-lookup"><span data-stu-id="376c7-194">The SQLCMDUSER environment variable takes precedence over the OSQLUSER environment variable.</span></span> <span data-ttu-id="376c7-195">Ciò significa che `sqlcmd` e **osql** possono essere usati uno accanto all'altro senza interferenze.</span><span class="sxs-lookup"><span data-stu-id="376c7-195">This means that `sqlcmd` and **osql** can be used next to each other without interference.</span></span> <span data-ttu-id="376c7-196">e gli script **osql** esistenti continueranno a funzionare correttamente.</span><span class="sxs-lookup"><span data-stu-id="376c7-196">It also means that existing **osql** scripts will continue to work.</span></span>  
  
 <span data-ttu-id="376c7-197">Se non viene specificata né l'opzione **-U** né l'opzione **-P** , `sqlcmd` tenta di connettersi utilizzando la [!INCLUDE[msCoName](../includes/msconame-md.md)] modalità di autenticazione di Windows.</span><span class="sxs-lookup"><span data-stu-id="376c7-197">If neither the **-U** option nor the **-P** option is specified, `sqlcmd` tries to connect by using [!INCLUDE[msCoName](../includes/msconame-md.md)] Windows Authentication mode.</span></span> <span data-ttu-id="376c7-198">L'autenticazione si basa sull'account di Windows dell'utente che esegue `sqlcmd`.</span><span class="sxs-lookup"><span data-stu-id="376c7-198">Authentication is based on the Windows account of the user who is running `sqlcmd`.</span></span>  
  
 <span data-ttu-id="376c7-199">Se si usa l'opzione **-U** in combinazione con l'opzione **-E** , descritta più avanti in questo argomento, viene generato un messaggio di errore.</span><span class="sxs-lookup"><span data-stu-id="376c7-199">If the **-U** option is used with the **-E** option (described later in this topic), an error message is generated.</span></span> <span data-ttu-id="376c7-200">Se l'opzione **-U** è seguita da più di un argomento, viene generato un messaggio di errore e il programma viene chiuso.</span><span class="sxs-lookup"><span data-stu-id="376c7-200">If the **-U** option is followed by more than one argument, an error message is generated and the program exits.</span></span>  
  
 <span data-ttu-id="376c7-201">**-z** _new_password_</span><span class="sxs-lookup"><span data-stu-id="376c7-201">**-z** _new_password_</span></span>  
 <span data-ttu-id="376c7-202">Modifica la password:</span><span class="sxs-lookup"><span data-stu-id="376c7-202">Change password:</span></span>  
  
 `sqlcmd -U someuser -P s0mep@ssword -z a_new_p@a$$w0rd`  
  
 <span data-ttu-id="376c7-203">**-Z** _new_password_</span><span class="sxs-lookup"><span data-stu-id="376c7-203">**-Z** _new_password_</span></span>  
 <span data-ttu-id="376c7-204">Consente di modificare la password e di chiudere l'utilità:</span><span class="sxs-lookup"><span data-stu-id="376c7-204">Change password and exit:</span></span>  
  
 `sqlcmd -U someuser -P s0mep@ssword -Z a_new_p@a$$w0rd`  
  
 <span data-ttu-id="376c7-205">**Opzioni di input/output**</span><span class="sxs-lookup"><span data-stu-id="376c7-205">**Input/Output Options**</span></span>  
  <span data-ttu-id="376c7-206">**-f** _codepage_ | **i:** _codepage_[ **,o:** _codepage_] | **o:** _codepage_[ **,i:** _codepage_]</span><span class="sxs-lookup"><span data-stu-id="376c7-206">**-f** _codepage_ | **i:**_codepage_[**,o:**_codepage_] | **o:**_codepage_[**,i:**_codepage_]</span></span>  
 <span data-ttu-id="376c7-207">Specifica le tabelle codici di input e output.</span><span class="sxs-lookup"><span data-stu-id="376c7-207">Specifies the input and output code pages.</span></span> <span data-ttu-id="376c7-208">Il numero specificato per codepage è un valore numerico che indica una tabella codici di Windows installata.</span><span class="sxs-lookup"><span data-stu-id="376c7-208">The codepage number is a numeric value that specifies an installed Windows code page.</span></span>  
  
 <span data-ttu-id="376c7-209">Regole di conversione delle tabelle codici</span><span class="sxs-lookup"><span data-stu-id="376c7-209">Code-page conversion rules:</span></span>  
  
-   <span data-ttu-id="376c7-210">Se non viene specificata una tabella codici, `sqlcmd` utilizzerà la tabella codici corrente per i file sia di input che di output, a meno che il file di input non sia un file Unicode per cui non è necessaria alcuna conversione.</span><span class="sxs-lookup"><span data-stu-id="376c7-210">If no code pages are specified, `sqlcmd` will use the current code page for both input and output files, unless the input file is a Unicode file, in which case no conversion is required.</span></span>  
  
-   <span data-ttu-id="376c7-211">`sqlcmd` riconosce automaticamente file di input Unicode sia di tipo big-endian che di tipo little-endian.</span><span class="sxs-lookup"><span data-stu-id="376c7-211">`sqlcmd` automatically recognizes both big-endian and little-endian Unicode input files.</span></span> <span data-ttu-id="376c7-212">Se è stata specificata l'opzione **-u** , l'output sarà sempre in formato Unicode Little-Endian.</span><span class="sxs-lookup"><span data-stu-id="376c7-212">If the **-u** option has been specified, the output will always be little-endian Unicode.</span></span>  
  
-   <span data-ttu-id="376c7-213">Se non viene specificato alcun file di output, la tabella codici di output sarà costituita dalla tabella codici della console.</span><span class="sxs-lookup"><span data-stu-id="376c7-213">If no output file is specified, the output code page will be the console code page.</span></span> <span data-ttu-id="376c7-214">Ciò consente la visualizzazione corretta dell'output nella console.</span><span class="sxs-lookup"><span data-stu-id="376c7-214">This enables the output to be displayed correctly on the console.</span></span>  
  
-   <span data-ttu-id="376c7-215">Se sono disponibili più file di input, vengono considerati appartenenti alla stessa tabella codici.</span><span class="sxs-lookup"><span data-stu-id="376c7-215">Multiple input files are assumed to be of the same code page.</span></span> <span data-ttu-id="376c7-216">È possibile combinare file di input Unicode e non Unicode.</span><span class="sxs-lookup"><span data-stu-id="376c7-216">Unicode and non-Unicode input files can be mixed.</span></span>  
  
 <span data-ttu-id="376c7-217">Immettere `chcp` al prompt dei comandi per verificare la tabella codici di Cmd.exe.</span><span class="sxs-lookup"><span data-stu-id="376c7-217">Enter `chcp` at the command prompt to verify the code page of Cmd.exe.</span></span>  
  
 <span data-ttu-id="376c7-218">**-i** _input_file_[**,**_input_file2_...]</span><span class="sxs-lookup"><span data-stu-id="376c7-218">**-i** _input_file_[**,**_input_file2_...]</span></span>  
 <span data-ttu-id="376c7-219">Identifica il file che include un batch di istruzioni SQL o stored procedure.</span><span class="sxs-lookup"><span data-stu-id="376c7-219">Identifies the file that contains a batch of SQL statements or stored procedures.</span></span> <span data-ttu-id="376c7-220">È possibile specificare più file che verranno letti ed elaborati nell'ordine in cui sono stati indicati.</span><span class="sxs-lookup"><span data-stu-id="376c7-220">Multiple files may be specified that will be read and processed in order.</span></span> <span data-ttu-id="376c7-221">Non utilizzare alcuno spazio tra i nomi di file.</span><span class="sxs-lookup"><span data-stu-id="376c7-221">Do not use any spaces between file names.</span></span> <span data-ttu-id="376c7-222">`sqlcmd` verificherà innanzitutto che tutti i file specificati esistano.</span><span class="sxs-lookup"><span data-stu-id="376c7-222">`sqlcmd` will first check to see whether all the specified files exist.</span></span> <span data-ttu-id="376c7-223">Se uno o più file non esistono, l'utilità `sqlcmd` viene chiusa.</span><span class="sxs-lookup"><span data-stu-id="376c7-223">If one or more files do not exist, `sqlcmd` will exit.</span></span> <span data-ttu-id="376c7-224">Le opzioni -i e -Q/-q si escludono a vicenda.</span><span class="sxs-lookup"><span data-stu-id="376c7-224">The -i and the -Q/-q options are mutually exclusive.</span></span>  
  
 <span data-ttu-id="376c7-225">Percorsi di esempio:</span><span class="sxs-lookup"><span data-stu-id="376c7-225">Path examples:</span></span>  
  
 <span data-ttu-id="376c7-226">**-i** C: \\<nomefile\></span><span class="sxs-lookup"><span data-stu-id="376c7-226">**-i** C:\\<filename\></span></span>  
  
 <span data-ttu-id="376c7-227">**-i** \\ \\<server \> \\<Share $>\\<filename\></span><span class="sxs-lookup"><span data-stu-id="376c7-227">**-i** \\\\<Server\>\\<Share$>\\<filename\></span></span>  
  
 <span data-ttu-id="376c7-228">**-i** "C:\Cartella\\<nomefile\>"</span><span class="sxs-lookup"><span data-stu-id="376c7-228">**-i** "C:\Some Folder\\<file name\>"</span></span>  
  
 <span data-ttu-id="376c7-229">È necessario racchiudere tra virgolette i percorsi dei file contenenti spazi.</span><span class="sxs-lookup"><span data-stu-id="376c7-229">File paths that contain spaces must be enclosed in quotation marks.</span></span>  
  
 <span data-ttu-id="376c7-230">Questa opzione può essere usata più di una volta: **-i**_input_file_ **-** i_input_file._</span><span class="sxs-lookup"><span data-stu-id="376c7-230">This option may be used more than once: **-i**_input_file_ **-I**_I input_file._</span></span>  
  
 <span data-ttu-id="376c7-231">**-o** _output_file_</span><span class="sxs-lookup"><span data-stu-id="376c7-231">**-o** _output_file_</span></span>  
 <span data-ttu-id="376c7-232">Identifica il file che riceve l'output di `sqlcmd`.</span><span class="sxs-lookup"><span data-stu-id="376c7-232">Identifies the file that receives output from `sqlcmd`.</span></span>  
  
 <span data-ttu-id="376c7-233">Se si specifica **-u** , *output_file* viene archiviato in formato Unicode.</span><span class="sxs-lookup"><span data-stu-id="376c7-233">If **-u** is specified, the *output_file* is stored in Unicode format.</span></span> <span data-ttu-id="376c7-234">Se il nome file non è valido, viene generato un messaggio di errore e l'utilità `sqlcmd` viene chiusa.</span><span class="sxs-lookup"><span data-stu-id="376c7-234">If the file name is not valid, an error message is generated, and `sqlcmd` exits.</span></span> <span data-ttu-id="376c7-235">`sqlcmd` non supporta la scrittura simultanea di più processi `sqlcmd` nello stesso file.</span><span class="sxs-lookup"><span data-stu-id="376c7-235">`sqlcmd` does not support concurrent writing of multiple `sqlcmd` processes to the same file.</span></span> <span data-ttu-id="376c7-236">L'output del file risulterà danneggiato o non corretto.</span><span class="sxs-lookup"><span data-stu-id="376c7-236">The file output will be corrupted or incorrect.</span></span> <span data-ttu-id="376c7-237">Per altre informazioni sui formati di file, vedere l'opzione **-f** .</span><span class="sxs-lookup"><span data-stu-id="376c7-237">See the **-f** switch for more information about file formats.</span></span> <span data-ttu-id="376c7-238">Se questo file non esiste, viene creato automaticamente.</span><span class="sxs-lookup"><span data-stu-id="376c7-238">This file will be created if it does not exist.</span></span> <span data-ttu-id="376c7-239">Un file con lo stesso nome di una sessione di `sqlcmd` precedente verrà sovrascritto.</span><span class="sxs-lookup"><span data-stu-id="376c7-239">A file of the same name from a prior `sqlcmd` session will be overwritten.</span></span> <span data-ttu-id="376c7-240">Il file specificato in questa posizione non corrisponde al file **stdout** .</span><span class="sxs-lookup"><span data-stu-id="376c7-240">The file specified here is not the **stdout** file.</span></span> <span data-ttu-id="376c7-241">Se viene specificato un file **stdout** , questo file non verrà usato.</span><span class="sxs-lookup"><span data-stu-id="376c7-241">If a **stdout** file is specified this file will not be used.</span></span>  
  
 <span data-ttu-id="376c7-242">Percorsi di esempio:</span><span class="sxs-lookup"><span data-stu-id="376c7-242">Path examples:</span></span>  
  
 <span data-ttu-id="376c7-243">**-o** C: \\< filename></span><span class="sxs-lookup"><span data-stu-id="376c7-243">**-o** C:\\< filename></span></span>  
  
 <span data-ttu-id="376c7-244">**-o** \\ \\<server \> \\<Share $>\\<filename\></span><span class="sxs-lookup"><span data-stu-id="376c7-244">**-o** \\\\<Server\>\\<Share$>\\<filename\></span></span>  
  
 <span data-ttu-id="376c7-245">**-o "** C:\Cartella\\<nomefile\>"</span><span class="sxs-lookup"><span data-stu-id="376c7-245">**-o "** C:\Some Folder\\<file name\>"</span></span>  
  
 <span data-ttu-id="376c7-246">È necessario racchiudere tra virgolette i percorsi dei file contenenti spazi.</span><span class="sxs-lookup"><span data-stu-id="376c7-246">File paths that contain spaces must be enclosed in quotation marks.</span></span>  
  
 <span data-ttu-id="376c7-247">**-r**[**0** | **1**]</span><span class="sxs-lookup"><span data-stu-id="376c7-247">**-r**[**0** | **1**]</span></span>  
 <span data-ttu-id="376c7-248">Reindirizza l'output dei messaggi di errore sullo schermo (**stderr**).</span><span class="sxs-lookup"><span data-stu-id="376c7-248">Redirects the error message output to the screen (**stderr**).</span></span> <span data-ttu-id="376c7-249">Se il parametro viene omesso o si specifica **0**, vengono reindirizzati solo i messaggi di errore con livello di gravità 11 o superiore.</span><span class="sxs-lookup"><span data-stu-id="376c7-249">If you do not specify a parameter or if you specify **0**, only error messages that have a severity level of 11 or higher are redirected.</span></span> <span data-ttu-id="376c7-250">Se si specifica **1**, viene reindirizzato l'output di tutti i messaggi di errore che includono PRINT.</span><span class="sxs-lookup"><span data-stu-id="376c7-250">If you specify **1**, all error message output including PRINT is redirected.</span></span> <span data-ttu-id="376c7-251">Non ha effetto se si utilizza -o.</span><span class="sxs-lookup"><span data-stu-id="376c7-251">Has no effect if you use -o.</span></span> <span data-ttu-id="376c7-252">Per impostazione predefinita, i messaggi sono inviati a **stdout**.</span><span class="sxs-lookup"><span data-stu-id="376c7-252">By default, messages are sent to **stdout**.</span></span>  
  
 <span data-ttu-id="376c7-253">**-R**</span><span class="sxs-lookup"><span data-stu-id="376c7-253">**-R**</span></span>  
 <span data-ttu-id="376c7-254">Consente `sqlcmd` di localizzare le colonne numeriche, di valuta, di data e di ora recuperate da [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] in base alle impostazioni locali del client.</span><span class="sxs-lookup"><span data-stu-id="376c7-254">Causes `sqlcmd` to localize numeric, currency, date, and time columns retrieved from [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] based on the client's locale.</span></span> <span data-ttu-id="376c7-255">Per impostazione predefinita, tali colonne vengono visualizzate usando le impostazioni internazionali del server.</span><span class="sxs-lookup"><span data-stu-id="376c7-255">By default, these columns are displayed using the server's regional settings.</span></span>  
  
 <span data-ttu-id="376c7-256">**-u**</span><span class="sxs-lookup"><span data-stu-id="376c7-256">**-u**</span></span>  
 <span data-ttu-id="376c7-257">Specifica l'archiviazione di *output_file* in formato Unicode, indipendentemente dal formato di *input_file*.</span><span class="sxs-lookup"><span data-stu-id="376c7-257">Specifies that *output_file* is stored in Unicode format, regardless of the format of *input_file*.</span></span>  
  
 <span data-ttu-id="376c7-258">**Opzioni relative all'esecuzione di query**</span><span class="sxs-lookup"><span data-stu-id="376c7-258">**Query Execution Options**</span></span>  
  <span data-ttu-id="376c7-259">**-e**</span><span class="sxs-lookup"><span data-stu-id="376c7-259">**-e**</span></span>  
 <span data-ttu-id="376c7-260">Scrive gli script di input nel dispositivo di output standard (**stdout**).</span><span class="sxs-lookup"><span data-stu-id="376c7-260">Writes input scripts to the standard output device (**stdout**).</span></span>  
  
 <span data-ttu-id="376c7-261">**-I**</span><span class="sxs-lookup"><span data-stu-id="376c7-261">**-I**</span></span>  
 <span data-ttu-id="376c7-262">Imposta l'opzione di connessione SET QUOTED_IDENTIFIER su ON.</span><span class="sxs-lookup"><span data-stu-id="376c7-262">Sets the SET QUOTED_IDENTIFIER connection option to ON.</span></span> <span data-ttu-id="376c7-263">Per impostazione predefinita, l'opzione è impostata su OFF.</span><span class="sxs-lookup"><span data-stu-id="376c7-263">By default, it is set to OFF.</span></span> <span data-ttu-id="376c7-264">Per altre informazioni, vedere [SET QUOTED_IDENTIFIER &#40;Transact-SQL&#41;](/sql/t-sql/statements/set-quoted-identifier-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="376c7-264">For more information, see [SET QUOTED_IDENTIFIER &#40;Transact-SQL&#41;](/sql/t-sql/statements/set-quoted-identifier-transact-sql).</span></span>  
  
 <span data-ttu-id="376c7-265">**-q"** _cmdline query_ **"**</span><span class="sxs-lookup"><span data-stu-id="376c7-265">**-q"** _cmdline query_ **"**</span></span>  
 <span data-ttu-id="376c7-266">Esegue una query all'avvio di `sqlcmd` senza chiudere `sqlcmd` al termine dell'esecuzione della query.</span><span class="sxs-lookup"><span data-stu-id="376c7-266">Executes a query when `sqlcmd` starts, but does not exit `sqlcmd` when the query has finished running.</span></span> <span data-ttu-id="376c7-267">È possibile eseguire più query delimitandole con punti e virgola.</span><span class="sxs-lookup"><span data-stu-id="376c7-267">Multiple-semicolon-delimited queries can be executed.</span></span> <span data-ttu-id="376c7-268">Racchiudere la query tra virgolette come illustrato nell'esempio seguente.</span><span class="sxs-lookup"><span data-stu-id="376c7-268">Use quotation marks around the query, as shown in the following example.</span></span>  
  
 <span data-ttu-id="376c7-269">Al prompt dei comandi digitare:</span><span class="sxs-lookup"><span data-stu-id="376c7-269">At the command prompt, type:</span></span>  
  
 `sqlcmd -d AdventureWorks2012 -q "SELECT FirstName, LastName FROM Person.Person WHERE LastName LIKE 'Whi%';"`  
  
 `sqlcmd -d AdventureWorks2012 -q "SELECT TOP 5 FirstName FROM Person.Person;SELECT TOP 5 LastName FROM Person.Person;"`  
  
> [!IMPORTANT]  
>  <span data-ttu-id="376c7-270">Non utilizzare il carattere di terminazione GO nella query.</span><span class="sxs-lookup"><span data-stu-id="376c7-270">Do not use the GO terminator in the query.</span></span>  
  
 <span data-ttu-id="376c7-271">Se insieme a questa opzione si specifica `-b`, l'utilità `sqlcmd` viene chiusa in caso di errore.</span><span class="sxs-lookup"><span data-stu-id="376c7-271">If `-b` is specified together with this option, `sqlcmd` exits on error.</span></span> <span data-ttu-id="376c7-272">L'opzione `-b` è descritta di seguito in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="376c7-272">`-b` is described later in this topic.</span></span>  
  
 <span data-ttu-id="376c7-273">**-Q "** _query cmdline_ **"**</span><span class="sxs-lookup"><span data-stu-id="376c7-273">**-Q"** _cmdline query_ **"**</span></span>  
 <span data-ttu-id="376c7-274">Esegue una query all'avvio di `sqlcmd` e quindi chiude immediatamente `sqlcmd`.</span><span class="sxs-lookup"><span data-stu-id="376c7-274">Executes a query when `sqlcmd` starts and then immediately exits `sqlcmd`.</span></span> <span data-ttu-id="376c7-275">È possibile eseguire più query delimitandole con punti e virgola.</span><span class="sxs-lookup"><span data-stu-id="376c7-275">Multiple-semicolon-delimited queries can be executed.</span></span>  
  
 <span data-ttu-id="376c7-276">Racchiudere la query tra virgolette come illustrato nell'esempio seguente.</span><span class="sxs-lookup"><span data-stu-id="376c7-276">Use quotation marks around the query, as shown in the following example.</span></span>  
  
 <span data-ttu-id="376c7-277">Al prompt dei comandi digitare:</span><span class="sxs-lookup"><span data-stu-id="376c7-277">At the command prompt, type:</span></span>  
  
 `sqlcmd -d AdventureWorks2012 -Q "SELECT FirstName, LastName FROM Person.Person WHERE LastName LIKE 'Whi%';"`  
  
 `sqlcmd -d AdventureWorks2012 -Q "SELECT TOP 5 FirstName FROM Person.Person;SELECT TOP 5 LastName FROM Person.Person;"`  
  
> [!IMPORTANT]  
>  <span data-ttu-id="376c7-278">Non utilizzare il carattere di terminazione GO nella query.</span><span class="sxs-lookup"><span data-stu-id="376c7-278">Do not use the GO terminator in the query.</span></span>  
  
 <span data-ttu-id="376c7-279">Se insieme a questa opzione si specifica `-b`, l'utilità `sqlcmd` viene chiusa in caso di errore.</span><span class="sxs-lookup"><span data-stu-id="376c7-279">If `-b` is specified together with this option, `sqlcmd` exits on error.</span></span> <span data-ttu-id="376c7-280">L'opzione `-b` è descritta di seguito in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="376c7-280">`-b` is described later in this topic.</span></span>  
  
 <span data-ttu-id="376c7-281">**-t** _query_timeout_</span><span class="sxs-lookup"><span data-stu-id="376c7-281">**-t** _query_timeout_</span></span>  
 <span data-ttu-id="376c7-282">Specifica il numero di secondi prima del timeout di un comando (o di un'istruzione SQL). Questa opzione imposta la `sqlcmd` variabile di scripting SQLCMDSTATTIMEOUT.</span><span class="sxs-lookup"><span data-stu-id="376c7-282">Specifies the number of seconds before a command (or SQL statement) times out. This option sets the `sqlcmd` scripting variable SQLCMDSTATTIMEOUT.</span></span> <span data-ttu-id="376c7-283">Se per *time_out* non viene specificato un valore, non si verifica il timeout del comando. Il valore di *query\*\*time_out* deve essere un numero compreso tra 1 e 65534.</span><span class="sxs-lookup"><span data-stu-id="376c7-283">If a *time_out* value is not specified, the command does not time out. The *query\*\*time_out* must be a number between 1 and 65534.</span></span> <span data-ttu-id="376c7-284">Se il valore specificato non è numerico o non è compreso in tale intervallo, `sqlcmd` genera un messaggio di errore.</span><span class="sxs-lookup"><span data-stu-id="376c7-284">If the value supplied is not numeric or does not fall into that range, `sqlcmd` generates an error message.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="376c7-285">Il valore di timeout effettivo può variare di diversi secondi rispetto al valore specificato per *time_out* .</span><span class="sxs-lookup"><span data-stu-id="376c7-285">The actual time out value may vary from the specified *time_out* value by several seconds.</span></span>  
  
 <span data-ttu-id="376c7-286">**-vvar =** _valore_[ **var =** _valore_...]</span><span class="sxs-lookup"><span data-stu-id="376c7-286">**-vvar =** _value_[ **var =** _value_...]</span></span>  
 <span data-ttu-id="376c7-287">Crea una `sqlcmd` variabile di scripting che può essere utilizzata in uno `sqlcmd` script.</span><span class="sxs-lookup"><span data-stu-id="376c7-287">Creates a `sqlcmd`scripting variable that can be used in a `sqlcmd` script.</span></span> <span data-ttu-id="376c7-288">Se il valore contiene spazi, racchiuderlo tra virgolette.</span><span class="sxs-lookup"><span data-stu-id="376c7-288">Enclose the value in quotation marks if the value contains spaces.</span></span> <span data-ttu-id="376c7-289">È possibile specificare più valori **_var_** = **" *`values`* "** .</span><span class="sxs-lookup"><span data-stu-id="376c7-289">You can specify multiple **_var_**=**"*`values`*"** values.</span></span> <span data-ttu-id="376c7-290">Se in uno dei valori specificati è incluso un errore, l'utilità `sqlcmd` genera un messaggio di errore e viene chiusa.</span><span class="sxs-lookup"><span data-stu-id="376c7-290">If there are errors in any of the values specified, `sqlcmd` generates an error message and then exits.</span></span>  
  
 `sqlcmd -v MyVar1=something MyVar2="some thing"`  
  
 `sqlcmd -v MyVar1=something -v MyVar2="some thing"`  
  
 <span data-ttu-id="376c7-291">**-x**</span><span class="sxs-lookup"><span data-stu-id="376c7-291">**-x**</span></span>  
 <span data-ttu-id="376c7-292">Indica a `sqlcmd` di ignorare le variabili di scripting.</span><span class="sxs-lookup"><span data-stu-id="376c7-292">Causes `sqlcmd` to ignore scripting variables.</span></span> <span data-ttu-id="376c7-293">Ciò risulta utile quando uno script contiene numerose istruzioni INSERT che possono includere stringhe con lo stesso formato di variabili normali, ad esempio $(*variable_name*).</span><span class="sxs-lookup"><span data-stu-id="376c7-293">This is useful when a script contains many INSERT statements that may contain strings that have the same format as regular variables, such as $(*variable_name*).</span></span>  
  
 <span data-ttu-id="376c7-294">**Opzioni di formattazione**</span><span class="sxs-lookup"><span data-stu-id="376c7-294">**Formatting Options**</span></span>  
  <span data-ttu-id="376c7-295">**-h** _headers_</span><span class="sxs-lookup"><span data-stu-id="376c7-295">**-h** _headers_</span></span>  
 <span data-ttu-id="376c7-296">Specifica il numero di righe da stampare tra le intestazioni delle colonne.</span><span class="sxs-lookup"><span data-stu-id="376c7-296">Specifies the number of rows to print between the column headings.</span></span> <span data-ttu-id="376c7-297">Per impostazione predefinita, le intestazioni vengono stampate una volta per ogni set di risultati delle query.</span><span class="sxs-lookup"><span data-stu-id="376c7-297">The default is to print headings one time for each set of query results.</span></span> <span data-ttu-id="376c7-298">Questa opzione imposta la variabile di scripting SQLCMDHEADERS di `sqlcmd`.</span><span class="sxs-lookup"><span data-stu-id="376c7-298">This option sets the `sqlcmd` scripting variable SQLCMDHEADERS.</span></span> <span data-ttu-id="376c7-299">Usare **-1** per non stampare alcuna intestazione.</span><span class="sxs-lookup"><span data-stu-id="376c7-299">Use **-1** to specify that headers must not be printed.</span></span> <span data-ttu-id="376c7-300">Eventuali valori non validi comportano la generazione di un messaggio di errore e la chiusura di `sqlcmd`.</span><span class="sxs-lookup"><span data-stu-id="376c7-300">Any value that is not valid causes `sqlcmd` to generate an error message and then exit.</span></span>  
  
 <span data-ttu-id="376c7-301">**-k** [**1** | **2**]</span><span class="sxs-lookup"><span data-stu-id="376c7-301">**-k** [**1** | **2**]</span></span>  
 <span data-ttu-id="376c7-302">Rimuove tutti i caratteri di controllo, ad esempio i caratteri di tabulazione e nuova riga, dall'output.</span><span class="sxs-lookup"><span data-stu-id="376c7-302">Removes all control characters, such as tabs and new line characters from the output.</span></span> <span data-ttu-id="376c7-303">In questo modo viene conservata la formattazione di colonna quando vengono restituiti i dati.</span><span class="sxs-lookup"><span data-stu-id="376c7-303">This preserves column formatting when data is returned.</span></span> <span data-ttu-id="376c7-304">Se si specifica 1, i caratteri di controllo vengono sostituiti da un singolo spazio.</span><span class="sxs-lookup"><span data-stu-id="376c7-304">If 1 is specified, the control characters are replaced by a single space.</span></span> <span data-ttu-id="376c7-305">Se si specifica 2, i caratteri di controllo consecutivi vengono sostituiti da uno spazio singolo.</span><span class="sxs-lookup"><span data-stu-id="376c7-305">If 2 is specified, consecutive control characters are replaced by a single space.</span></span> <span data-ttu-id="376c7-306">**-k** corrisponde a **-k1**.</span><span class="sxs-lookup"><span data-stu-id="376c7-306">**-k** is the same as **-k1**.</span></span>  
  
 <span data-ttu-id="376c7-307">**-s** _col_separator_</span><span class="sxs-lookup"><span data-stu-id="376c7-307">**-s** _col_separator_</span></span>  
 <span data-ttu-id="376c7-308">Specifica il carattere separatore di colonna.</span><span class="sxs-lookup"><span data-stu-id="376c7-308">Specifies the column-separator character.</span></span> <span data-ttu-id="376c7-309">L'impostazione predefinita è uno spazio vuoto.</span><span class="sxs-lookup"><span data-stu-id="376c7-309">The default is a blank space.</span></span> <span data-ttu-id="376c7-310">Questa opzione imposta la variabile di scripting SQLCMDCOLSEP di `sqlcmd`.</span><span class="sxs-lookup"><span data-stu-id="376c7-310">This option sets the `sqlcmd` scripting variable SQLCMDCOLSEP.</span></span> <span data-ttu-id="376c7-311">Per utilizzare caratteri con un significato speciale per il sistema operativo, ad esempio il carattere e commerciale (&) o il punto e virgola (;), racchiudere il carattere specifico tra virgolette (").</span><span class="sxs-lookup"><span data-stu-id="376c7-311">To use characters that have special meaning to the operating system such as the ampersand (&), or semicolon (;), enclose the character in quotation marks (").</span></span> <span data-ttu-id="376c7-312">Il separatore di colonna può essere un carattere a 8 bit qualsiasi.</span><span class="sxs-lookup"><span data-stu-id="376c7-312">The column separator can be any 8-bit character.</span></span>  
  
 <span data-ttu-id="376c7-313">**-w** _column_width_</span><span class="sxs-lookup"><span data-stu-id="376c7-313">**-w** _column_width_</span></span>  
 <span data-ttu-id="376c7-314">Specifica la larghezza della schermata per l'output.</span><span class="sxs-lookup"><span data-stu-id="376c7-314">Specifies the screen width for output.</span></span> <span data-ttu-id="376c7-315">Questa opzione imposta la variabile di scripting SQLCMDCOLWIDTH di `sqlcmd`.</span><span class="sxs-lookup"><span data-stu-id="376c7-315">This option sets the `sqlcmd` scripting variable SQLCMDCOLWIDTH.</span></span> <span data-ttu-id="376c7-316">La larghezza della colonna deve essere un numero maggiore di 8 e minore di 65.536.</span><span class="sxs-lookup"><span data-stu-id="376c7-316">The column width must be a number greater than 8 and less than 65536.</span></span> <span data-ttu-id="376c7-317">Se la larghezza della colonna specificata non rientra in tale intervallo, `sqlcmd` genera e messaggio di errore.</span><span class="sxs-lookup"><span data-stu-id="376c7-317">If the specified column width does not fall into that range, `sqlcmd` generates and error message.</span></span> <span data-ttu-id="376c7-318">La lunghezza predefinita è di 80 caratteri.</span><span class="sxs-lookup"><span data-stu-id="376c7-318">The default width is 80 characters.</span></span> <span data-ttu-id="376c7-319">Se una riga di output supera la larghezza di colonna specificata, la riga viene riportata nella riga successiva.</span><span class="sxs-lookup"><span data-stu-id="376c7-319">When an output line exceeds the specified column width, it wraps on to the next line.</span></span>  
  
 <span data-ttu-id="376c7-320">**-W**</span><span class="sxs-lookup"><span data-stu-id="376c7-320">**-W**</span></span>  
 <span data-ttu-id="376c7-321">Questa opzione rimuove gli spazi finali da una colonna.</span><span class="sxs-lookup"><span data-stu-id="376c7-321">This option removes trailing spaces from a column.</span></span> <span data-ttu-id="376c7-322">Usare questa opzione in combinazione con l'opzione **-s** quando si preparano i dati per l'esportazione in un'altra applicazione.</span><span class="sxs-lookup"><span data-stu-id="376c7-322">Use this option together with the **-s** option when preparing data that is to be exported to another application.</span></span> <span data-ttu-id="376c7-323">Non è possibile usare questa opzione con **-y** o **-Y** .</span><span class="sxs-lookup"><span data-stu-id="376c7-323">Cannot be used with the **-y** or **-Y** options.</span></span>  
  
 <span data-ttu-id="376c7-324">**-y** _variable_length_type_display_width_</span><span class="sxs-lookup"><span data-stu-id="376c7-324">**-y** _variable_length_type_display_width_</span></span>  
 <span data-ttu-id="376c7-325">Imposta la variabile di scripting SQLCMDMAXVARTYPEWIDTH di `sqlcmd`.</span><span class="sxs-lookup"><span data-stu-id="376c7-325">Sets the `sqlcmd` scripting variable SQLCMDMAXVARTYPEWIDTH.</span></span> <span data-ttu-id="376c7-326">L'impostazione predefinita è 256.</span><span class="sxs-lookup"><span data-stu-id="376c7-326">The default is 256.</span></span> <span data-ttu-id="376c7-327">Limita il numero di caratteri restituiti per i tipi di dati a lunghezza variabile di grandi dimensioni:</span><span class="sxs-lookup"><span data-stu-id="376c7-327">It limits the number of characters that are returned for the large variable length data types:</span></span>  
  
-   `varchar(max)`  
  
-   `nvarchar(max)`  
  
-   `varbinary(max)`  
  
-   `xml`  
  
-   `UDT (user-defined data types)`  
  
-   `text`  
  
-   `ntext`  
  
-   `image`  
  
> [!NOTE]  
>  <span data-ttu-id="376c7-328">I tipi definiti dall'utente (UDT) possono essere a lunghezza fissa in base all'implementazione.</span><span class="sxs-lookup"><span data-stu-id="376c7-328">UDTs can be of fixed length depending on the implementation.</span></span> <span data-ttu-id="376c7-329">Se la lunghezza di un tipo definito dall'utente (UDT) a lunghezza fissa è inferiore a *display_width*, il valore del tipo definito dall'utente (UDT) restituito non viene alterato.</span><span class="sxs-lookup"><span data-stu-id="376c7-329">If this length of a fixed length UDT is shorter that *display_width*, the value of the UDT returned is not affected.</span></span> <span data-ttu-id="376c7-330">Se invece la lunghezza è superiore a *display_width*, l'output viene troncato.</span><span class="sxs-lookup"><span data-stu-id="376c7-330">However, if the length is longer than *display_width*, the output is truncated.</span></span>  
  
 
> [!IMPORTANT]  
>  <span data-ttu-id="376c7-331">Usare l'opzione **-y 0** con estrema cautela, poiché potrebbe causare gravi problemi a livello di prestazioni del server e della rete, a seconda delle dimensioni dei dati restituiti.</span><span class="sxs-lookup"><span data-stu-id="376c7-331">Use the **-y 0** option with extreme caution because it may cause serious performance issues on both the server and the network, depending on the size of data returned.</span></span>  
  
 <span data-ttu-id="376c7-332">**-Y** _fixed_length_type_display_width_</span><span class="sxs-lookup"><span data-stu-id="376c7-332">**-Y** _fixed_length_type_display_width_</span></span>  
 <span data-ttu-id="376c7-333">Imposta la variabile di scripting SQLCMDMAXFIXEDTYPEWIDTH di `sqlcmd`.</span><span class="sxs-lookup"><span data-stu-id="376c7-333">Sets the `sqlcmd` scripting variable SQLCMDMAXFIXEDTYPEWIDTH.</span></span> <span data-ttu-id="376c7-334">Il valore predefinito è 0 (illimitato).</span><span class="sxs-lookup"><span data-stu-id="376c7-334">The default is 0 (unlimited).</span></span> <span data-ttu-id="376c7-335">Limita il numero di caratteri restituiti per i tipi di dati seguenti:</span><span class="sxs-lookup"><span data-stu-id="376c7-335">Limits the number of characters that are returned for the following data types:</span></span>  
  
-   <span data-ttu-id="376c7-336">`char(`*n* `)` , dove 1<= n<= 8000</span><span class="sxs-lookup"><span data-stu-id="376c7-336">`char(` *n* `)`, where 1<=n<=8000</span></span>  
  
-   <span data-ttu-id="376c7-337">`nchar(n`*n* `)` , dove 1<= n<= 4000</span><span class="sxs-lookup"><span data-stu-id="376c7-337">`nchar(n` *n* `)`, where 1<=n<=4000</span></span>  
  
-   <span data-ttu-id="376c7-338">`varchar(n`*n* `)` , dove 1<= n<= 8000</span><span class="sxs-lookup"><span data-stu-id="376c7-338">`varchar(n` *n* `)`, where 1<=n<=8000</span></span>  
  
-   <span data-ttu-id="376c7-339">`nvarchar(n`*n* `)` , dove 1<= n<= 4000</span><span class="sxs-lookup"><span data-stu-id="376c7-339">`nvarchar(n` *n* `)`, where 1<=n<=4000</span></span>  
  
-   <span data-ttu-id="376c7-340">`varbinary(n`*n* `)` , dove 1<= n<= 4000</span><span class="sxs-lookup"><span data-stu-id="376c7-340">`varbinary(n` *n* `)`, where 1<=n<=4000</span></span>  
  
-   `variant`  
  
 <span data-ttu-id="376c7-341">**Opzioni relative alla segnalazione degli errori**</span><span class="sxs-lookup"><span data-stu-id="376c7-341">**Error Reporting Options**</span></span>  
  `-b`  
 <span data-ttu-id="376c7-342">Specifica che, in caso di errore, `sqlcmd` termini, restituendo un valore DOS ERRORLEVEL.</span><span class="sxs-lookup"><span data-stu-id="376c7-342">Specifies that `sqlcmd` exits and returns a DOS ERRORLEVEL value when an error occurs.</span></span> <span data-ttu-id="376c7-343">Il valore restituito alla variabile DOS ERRORLEVEL è **1** se il messaggio di errore di [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] ha un livello di gravità maggiore di 10. In caso contrario, il valore restituito è **0**.</span><span class="sxs-lookup"><span data-stu-id="376c7-343">The value that is returned to the DOS ERRORLEVEL variable is **1** when the [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] error message has a severity level greater than 10; otherwise, the value returned is **0**.</span></span> <span data-ttu-id="376c7-344">Se è stata impostata l'opzione `-V` in combinazione con `-b`, `sqlcmd` non segnalerà l'errore se il livello di gravità è minore dei valori impostati tramite `-V`.</span><span class="sxs-lookup"><span data-stu-id="376c7-344">If the `-V` option has been set in addition to `-b`, `sqlcmd` will not report an error if the severity level is lower than the values set using `-V`.</span></span> <span data-ttu-id="376c7-345">I file batch del prompt dei comandi consentono di verificare il valore di ERRORLEVEL nonché di gestire correttamente l'errore.</span><span class="sxs-lookup"><span data-stu-id="376c7-345">Command prompt batch files can test the value of ERRORLEVEL and handle the error appropriately.</span></span> <span data-ttu-id="376c7-346">`sqlcmd` non segnala errori per livello di gravità 10 (messaggi informativi).</span><span class="sxs-lookup"><span data-stu-id="376c7-346">`sqlcmd` does not report errors for severity level 10 (informational messages).</span></span>  
  
 <span data-ttu-id="376c7-347">Se lo script `sqlcmd` contiene un commento errato o un errore di sintassi o se una variabile di scripting risulta mancante, il valore di ERRORLEVEL restituito è 1.</span><span class="sxs-lookup"><span data-stu-id="376c7-347">If the `sqlcmd` script contains an incorrect comment, syntax error, or is missing a scripting variable, ERRORLEVEL returned is 1.</span></span>  
  
 <span data-ttu-id="376c7-348">**-m** _error_level_</span><span class="sxs-lookup"><span data-stu-id="376c7-348">**-m** _error_level_</span></span>  
 <span data-ttu-id="376c7-349">Controlla i messaggi di errore inviati a **stdout**.</span><span class="sxs-lookup"><span data-stu-id="376c7-349">Controls which error messages are sent to **stdout**.</span></span> <span data-ttu-id="376c7-350">Vengono inviati i messaggi a cui è associato un livello di gravità maggiore o uguale a questo livello.</span><span class="sxs-lookup"><span data-stu-id="376c7-350">Messages that have a severity level greater than or equal to this level are sent.</span></span> <span data-ttu-id="376c7-351">Quando questo valore è impostato su **-1**, vengono inviati tutti i messaggi, inclusi quelli informativi.</span><span class="sxs-lookup"><span data-stu-id="376c7-351">When this value is set to **-1**, all messages including informational messages, are sent.</span></span> <span data-ttu-id="376c7-352">Non sono consentiti spazi tra **-m** e **-1**.</span><span class="sxs-lookup"><span data-stu-id="376c7-352">Spaces are not allowed between the **-m** and **-1**.</span></span> <span data-ttu-id="376c7-353">Ad esempio, **-m-1** è un formato valido, mentre **-m-1** non lo è.</span><span class="sxs-lookup"><span data-stu-id="376c7-353">For example, **-m-1** is valid, and **-m-1** is not.</span></span>  
  
 <span data-ttu-id="376c7-354">Questa opzione imposta inoltre la variabile di scripting SQLCMDERRORLEVEL di `sqlcmd`.</span><span class="sxs-lookup"><span data-stu-id="376c7-354">This option also sets the `sqlcmd` scripting variable SQLCMDERRORLEVEL.</span></span> <span data-ttu-id="376c7-355">Per impostazione predefinita, il valore di questa variabile è 0.</span><span class="sxs-lookup"><span data-stu-id="376c7-355">This variable has a default of 0.</span></span>  
  
 <span data-ttu-id="376c7-356">`-V`*error_severity_level*</span><span class="sxs-lookup"><span data-stu-id="376c7-356">`-V` *error_severity_level*</span></span>  
 <span data-ttu-id="376c7-357">Controlla il livello di gravità utilizzato per impostare la variabile ERRORLEVEL.</span><span class="sxs-lookup"><span data-stu-id="376c7-357">Controls the severity level that is used to set the ERRORLEVEL variable.</span></span> <span data-ttu-id="376c7-358">Tramite i messaggi di errore a cui sono associati livelli di gravità maggiori o uguali a questo valore viene impostato ERRORLEVEL.</span><span class="sxs-lookup"><span data-stu-id="376c7-358">Error messages that have severity levels greater than or equal to this value set ERRORLEVEL.</span></span> <span data-ttu-id="376c7-359">I valori minori di 0 vengono indicati come 0.</span><span class="sxs-lookup"><span data-stu-id="376c7-359">Values that are less than 0 are reported as 0.</span></span> <span data-ttu-id="376c7-360">È possibile utilizzare file batch e CMD per verificare il valore della variabile ERRORLEVEL.</span><span class="sxs-lookup"><span data-stu-id="376c7-360">Batch and CMD files can be used to test the value of the ERRORLEVEL variable.</span></span>  
  
 <span data-ttu-id="376c7-361">**Opzioni varie**</span><span class="sxs-lookup"><span data-stu-id="376c7-361">**Miscellaneous Options**</span></span>  
  <span data-ttu-id="376c7-362">**-a** _packet_size_</span><span class="sxs-lookup"><span data-stu-id="376c7-362">**-a** _packet_size_</span></span>  
 <span data-ttu-id="376c7-363">Richiede un pacchetto di dimensione diversa.</span><span class="sxs-lookup"><span data-stu-id="376c7-363">Requests a packet of a different size.</span></span> <span data-ttu-id="376c7-364">Questa opzione imposta la variabile di scripting SQLCMDPACKETSIZE di `sqlcmd`.</span><span class="sxs-lookup"><span data-stu-id="376c7-364">This option sets the `sqlcmd` scripting variable SQLCMDPACKETSIZE.</span></span> <span data-ttu-id="376c7-365">Il valore di*packet_size* deve essere compreso tra 512 e 32767.</span><span class="sxs-lookup"><span data-stu-id="376c7-365">*packet_size* must be a value between 512 and 32767.</span></span> <span data-ttu-id="376c7-366">Il valore predefinito è 4096.</span><span class="sxs-lookup"><span data-stu-id="376c7-366">The default = 4096.</span></span> <span data-ttu-id="376c7-367">Dimensioni più estese del pacchetto possono migliorare le prestazioni per l'esecuzione di script che dispongono di molte istruzioni SQL tra comandi GO.</span><span class="sxs-lookup"><span data-stu-id="376c7-367">A larger packet size can enhance performance for execution of scripts that have lots of SQL statements between GO commands.</span></span> <span data-ttu-id="376c7-368">È possibile richiedere dimensioni di pacchetto superiori.</span><span class="sxs-lookup"><span data-stu-id="376c7-368">You can request a larger packet size.</span></span> <span data-ttu-id="376c7-369">Se tale richiesta viene negata, tuttavia, `sqlcmd` utilizza le dimensioni di pacchetto predefinite del server.</span><span class="sxs-lookup"><span data-stu-id="376c7-369">However, if the request is denied, `sqlcmd` uses the server default for packet size.</span></span>  
  
 <span data-ttu-id="376c7-370">**-c** _batch_terminator_</span><span class="sxs-lookup"><span data-stu-id="376c7-370">**-c** _batch_terminator_</span></span>  
 <span data-ttu-id="376c7-371">Specifica il carattere di terminazione di batch.</span><span class="sxs-lookup"><span data-stu-id="376c7-371">Specifies the batch terminator.</span></span> <span data-ttu-id="376c7-372">Per impostazione predefinita, i comandi vengono terminati e inviati a [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] tramite l'immissione della parola "GO" su una riga a sé stante.</span><span class="sxs-lookup"><span data-stu-id="376c7-372">By default, commands are terminated and sent to [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] by typing the word "GO" on a line by itself.</span></span> <span data-ttu-id="376c7-373">Se il carattere di terminazione di batch viene reimpostato, non utilizzare parole chiave riservate [!INCLUDE[tsql](../includes/tsql-md.md)] o caratteri con un significato speciale per il sistema operativo anche se sono preceduti da una barra rovesciata.</span><span class="sxs-lookup"><span data-stu-id="376c7-373">When you reset the batch terminator, do not use [!INCLUDE[tsql](../includes/tsql-md.md)] reserved keywords or characters that have special meaning to the operating system, even if they are preceded by a backslash.</span></span>  
  
 <span data-ttu-id="376c7-374">**-L**[**c**]</span><span class="sxs-lookup"><span data-stu-id="376c7-374">**-L**[**c**]</span></span>  
 <span data-ttu-id="376c7-375">Elenca i computer server configurati localmente e i nomi dei computer server che trasmettono in rete.</span><span class="sxs-lookup"><span data-stu-id="376c7-375">Lists the locally configured server computers, and the names of the server computers that are broadcasting on the network.</span></span> <span data-ttu-id="376c7-376">Questo parametro non può essere utilizzato in combinazione con altri parametri.</span><span class="sxs-lookup"><span data-stu-id="376c7-376">This parameter cannot be used in combination with other parameters.</span></span> <span data-ttu-id="376c7-377">Il numero massimo di computer del server che è possibile specificare è 3000.</span><span class="sxs-lookup"><span data-stu-id="376c7-377">The maximum number of server computers that can be listed is 3000.</span></span> <span data-ttu-id="376c7-378">Se l'elenco server è troncato a causa della dimensione del buffer, verrà visualizzato un messaggio di avviso.</span><span class="sxs-lookup"><span data-stu-id="376c7-378">If the server list is truncated because of the size of the buffer a warning message is displayed.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="376c7-379">A causa della natura delle trasmissioni in rete, è possibile che `sqlcmd` non riceva una risposta tempestiva da tutti i server</span><span class="sxs-lookup"><span data-stu-id="376c7-379">Because of the nature of broadcasting on networks, `sqlcmd` may not receive a timely response from all servers.</span></span> <span data-ttu-id="376c7-380">e pertanto che l'elenco di server restituito sia diverso per ogni chiamata di questa opzione.</span><span class="sxs-lookup"><span data-stu-id="376c7-380">Therefore, the list of servers returned may vary for each invocation of this option.</span></span>  
  
 <span data-ttu-id="376c7-381">Se viene specificato il parametro facoltativo **c** , l'output viene visualizzato senza la riga di intestazione Servers e ogni riga server è elencata senza spazi iniziali.</span><span class="sxs-lookup"><span data-stu-id="376c7-381">If the optional parameter **c** is specified, the output appears without the Servers: header line and each server line is listed without leading spaces.</span></span> <span data-ttu-id="376c7-382">Questo tipo di output viene definito pulito.</span><span class="sxs-lookup"><span data-stu-id="376c7-382">This is referred to as clean output.</span></span> <span data-ttu-id="376c7-383">L'output pulito consente di migliorare le prestazioni di elaborazione dei linguaggi di scripting.</span><span class="sxs-lookup"><span data-stu-id="376c7-383">Clean output improves the processing performance of scripting languages.</span></span>  
  
 <span data-ttu-id="376c7-384">**-p**[**1**]</span><span class="sxs-lookup"><span data-stu-id="376c7-384">**-p**[**1**]</span></span>  
 <span data-ttu-id="376c7-385">Stampa le statistiche delle prestazioni per ogni set di risultati.</span><span class="sxs-lookup"><span data-stu-id="376c7-385">Prints performance statistics for every result set.</span></span> <span data-ttu-id="376c7-386">Di seguito è riportato un esempio del formato delle statistiche delle prestazioni:</span><span class="sxs-lookup"><span data-stu-id="376c7-386">The following is an example of the format for performance statistics:</span></span>  
  
 `Network packet size (bytes): n`  
  
 `x xact[s]:`  
  
 `Clock Time (ms.): total       t1  avg       t2 (t3 xacts per sec.)`  
  
 <span data-ttu-id="376c7-387">Dove:</span><span class="sxs-lookup"><span data-stu-id="376c7-387">Where:</span></span>  
  
 <span data-ttu-id="376c7-388">`x` = numero di transazioni elaborate da [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="376c7-388">`x` = Number of transactions that are processed by [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="376c7-389">`t1` = tempo totale per tutte le transazioni.</span><span class="sxs-lookup"><span data-stu-id="376c7-389">`t1` = Total time for all transactions.</span></span>  
  
 <span data-ttu-id="376c7-390">`t2` = tempo medio per una singola transazione.</span><span class="sxs-lookup"><span data-stu-id="376c7-390">`t2` = Average time for a single transaction.</span></span>  
  
 <span data-ttu-id="376c7-391">`t3` = numero medio di transazioni al secondo.</span><span class="sxs-lookup"><span data-stu-id="376c7-391">`t3` = Average number of transactions per second.</span></span>  
  
 <span data-ttu-id="376c7-392">Tutti i valori relativi al tempo sono espressi in millisecondi.</span><span class="sxs-lookup"><span data-stu-id="376c7-392">All times are in milliseconds.</span></span>  
  
 <span data-ttu-id="376c7-393">Se si specifica il parametro facoltativo **1** , l'output delle statistiche è in formato separato da due punti. Questo formato può essere facilmente importato in un foglio di calcolo o elaborato da uno script.</span><span class="sxs-lookup"><span data-stu-id="376c7-393">If the optional parameter **1** is specified, the output format of the statistics is in colon-separated format that can be imported easily into a spreadsheet or processed by a script.</span></span>  
  
 <span data-ttu-id="376c7-394">Se il parametro facoltativo è un valore qualsiasi diverso da **1**, viene generato un errore e viene `sqlcmd` chiuso.</span><span class="sxs-lookup"><span data-stu-id="376c7-394">If the optional parameter is any value other than **1**, an error is generated and `sqlcmd` exits.</span></span>  
  
 <span data-ttu-id="376c7-395">`-X`[**1**]</span><span class="sxs-lookup"><span data-stu-id="376c7-395">`-X`[**1**]</span></span>  
 <span data-ttu-id="376c7-396">Disabilita i comandi che potrebbero pregiudicare la sicurezza del sistema quando `sqlcmd` viene eseguito da un file batch.</span><span class="sxs-lookup"><span data-stu-id="376c7-396">Disables commands that might compromise system security when `sqlcmd` is executed from a batch file.</span></span> <span data-ttu-id="376c7-397">I comandi disabilitati vengono comunque riconosciuti. `sqlcmd` genera un messaggio di avviso e continua l'esecuzione.</span><span class="sxs-lookup"><span data-stu-id="376c7-397">The disabled commands are still recognized; `sqlcmd` issues a warning message and continues.</span></span> <span data-ttu-id="376c7-398">Se viene specificato il parametro facoltativo **1** , `sqlcmd` genera un messaggio di errore e quindi viene chiuso.</span><span class="sxs-lookup"><span data-stu-id="376c7-398">If the optional parameter **1** is specified, `sqlcmd` generates an error message and then exits.</span></span> <span data-ttu-id="376c7-399">Se si specifica l'opzione `-X`, vengono disabilitati i comandi seguenti:</span><span class="sxs-lookup"><span data-stu-id="376c7-399">The following commands are disabled when the `-X` option is used:</span></span>  
  
-   <span data-ttu-id="376c7-400">**ED**</span><span class="sxs-lookup"><span data-stu-id="376c7-400">**ED**</span></span>  
  
-   <span data-ttu-id="376c7-401">**!!**</span><span class="sxs-lookup"><span data-stu-id="376c7-401">**!!**</span></span> <span data-ttu-id="376c7-402">_command_</span><span class="sxs-lookup"><span data-stu-id="376c7-402">_command_</span></span>  
  
 <span data-ttu-id="376c7-403">Se si specifica l'opzione `-X`, le variabili di ambiente non vengono trasmesse a `sqlcmd`.</span><span class="sxs-lookup"><span data-stu-id="376c7-403">If the `-X` option is specified, it prevents environment variables from being passed on to `sqlcmd`.</span></span> <span data-ttu-id="376c7-404">Questa opzione impedisce inoltre che venga eseguito lo script di avvio specificato utilizzando la variabile di scripting SQLCMDINI.</span><span class="sxs-lookup"><span data-stu-id="376c7-404">It also prevents the startup script specified by using the SQLCMDINI scripting variable from being executed.</span></span> <span data-ttu-id="376c7-405">Per ulteriori informazioni sulle `sqlcmd` variabili di scripting, vedere [utilizzo di sqlcmd con variabili di scripting](../relational-databases/scripting/sqlcmd-use-with-scripting-variables.md).</span><span class="sxs-lookup"><span data-stu-id="376c7-405">For more information about `sqlcmd` scripting variables, see [Use sqlcmd with Scripting Variables](../relational-databases/scripting/sqlcmd-use-with-scripting-variables.md).</span></span>  
  
 <span data-ttu-id="376c7-406">**-?**</span><span class="sxs-lookup"><span data-stu-id="376c7-406">**-?**</span></span>  
 <span data-ttu-id="376c7-407">Visualizza il riepilogo della sintassi delle opzioni di `sqlcmd`.</span><span class="sxs-lookup"><span data-stu-id="376c7-407">Displays the syntax summary of `sqlcmd` options.</span></span>  
  
## <a name="remarks"></a><span data-ttu-id="376c7-408">Osservazioni</span><span class="sxs-lookup"><span data-stu-id="376c7-408">Remarks</span></span>  
 <span data-ttu-id="376c7-409">Le opzioni non devono essere necessariamente utilizzate nell'ordine illustrato nella sezione della sintassi.</span><span class="sxs-lookup"><span data-stu-id="376c7-409">Options do not have to be used in the order shown in the syntax section.</span></span>  
  
 <span data-ttu-id="376c7-410">Se vengono restituiti più risultati, `sqlcmd` stampa una riga vuota tra ogni set di risultati in un batch.</span><span class="sxs-lookup"><span data-stu-id="376c7-410">When multiple results are returned, `sqlcmd` prints a blank line between each result set in a batch.</span></span> <span data-ttu-id="376c7-411">Inoltre, il messaggio " \<x> righe interessate" non viene visualizzato se non si applica all'istruzione eseguita.</span><span class="sxs-lookup"><span data-stu-id="376c7-411">In addition, the "\<x> rows affected" message does not appear when it does not apply to the statement executed.</span></span>  
  
 <span data-ttu-id="376c7-412">Per utilizzare in modo `sqlcmd` interattivo, digitare `sqlcmd` al prompt dei comandi con una o più delle opzioni descritte in precedenza in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="376c7-412">To use `sqlcmd` interactively, type `sqlcmd` at the command prompt with any one or more of the options described earlier in this topic.</span></span> <span data-ttu-id="376c7-413">Per altre informazioni, vedere [Utilizzo dell'utilità sqlcmd](../relational-databases/scripting/sqlcmd-use-the-utility.md)</span><span class="sxs-lookup"><span data-stu-id="376c7-413">For more information, see [Use the sqlcmd Utility](../relational-databases/scripting/sqlcmd-use-the-utility.md)</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="376c7-414">Le opzioni **-L**, **-Q**, **-Z** o **-i** provocano l' `sqlcmd` uscita dopo l'esecuzione.</span><span class="sxs-lookup"><span data-stu-id="376c7-414">The options **-L**, **-Q**, **-Z** or **-i** cause `sqlcmd` to exit after execution.</span></span>  
  
 <span data-ttu-id="376c7-415">La lunghezza totale della riga di comando di `sqlcmd` nell'ambiente di comando (Cmd.exe), inclusi tutti gli argomenti e le variabili espanse, corrisponde alla lunghezza determinata dal sistema operativo per Cmd.exe.</span><span class="sxs-lookup"><span data-stu-id="376c7-415">The total length of the `sqlcmd` command line in the command environment (Cmd.exe), including all arguments and expanded variables, is that which is determined by the operating system for Cmd.exe.</span></span>  
  
## <a name="variable-precedence-low-to-high"></a><span data-ttu-id="376c7-416">Precedenza delle variabili (in ordine crescente)</span><span class="sxs-lookup"><span data-stu-id="376c7-416">Variable Precedence (Low to High)</span></span>  
  
1.  <span data-ttu-id="376c7-417">Variabili di ambiente a livello di sistema.</span><span class="sxs-lookup"><span data-stu-id="376c7-417">System-level environmental variables.</span></span>  
  
2.  <span data-ttu-id="376c7-418">Variabili di ambiente a livello di utente.</span><span class="sxs-lookup"><span data-stu-id="376c7-418">User-level environmental variables</span></span>  
  
3.  <span data-ttu-id="376c7-419">Shell dei comandi (**set** X = Y) impostata al prompt dei comandi prima dell'esecuzione di `sqlcmd` .</span><span class="sxs-lookup"><span data-stu-id="376c7-419">Command shell (**SET** X=Y) set at command prompt before running `sqlcmd`.</span></span>  
  
4.  <span data-ttu-id="376c7-420">**sqlcmd-v** X=Y</span><span class="sxs-lookup"><span data-stu-id="376c7-420">**sqlcmd-v** X=Y</span></span>  
  
5.  <span data-ttu-id="376c7-421">**:Setvar** X Y</span><span class="sxs-lookup"><span data-stu-id="376c7-421">**:Setvar** X Y</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="376c7-422">Per visualizzare le variabili di ambiente, nel **Pannello di controllo**aprire **Sistema**quindi fare clic sulla scheda **Avanzate** .</span><span class="sxs-lookup"><span data-stu-id="376c7-422">To view the environmental variables, in **Control Panel**, open **System**, and then click the **Advanced** tab.</span></span>  
  
## <a name="sqlcmd-scripting-variables"></a><span data-ttu-id="376c7-423">Variabili di scripting di sqlcmd</span><span class="sxs-lookup"><span data-stu-id="376c7-423">sqlcmd Scripting Variables</span></span>  
  
|<span data-ttu-id="376c7-424">Variabile</span><span class="sxs-lookup"><span data-stu-id="376c7-424">Variable</span></span>|<span data-ttu-id="376c7-425">Opzione correlata</span><span class="sxs-lookup"><span data-stu-id="376c7-425">Related switch</span></span>|<span data-ttu-id="376c7-426">L/S</span><span class="sxs-lookup"><span data-stu-id="376c7-426">R/W</span></span>|<span data-ttu-id="376c7-427">Predefinito</span><span class="sxs-lookup"><span data-stu-id="376c7-427">Default</span></span>|  
|--------------|--------------------|----------|-------------|  
|<span data-ttu-id="376c7-428">SQLCMDUSER</span><span class="sxs-lookup"><span data-stu-id="376c7-428">SQLCMDUSER</span></span>|<span data-ttu-id="376c7-429">-U</span><span class="sxs-lookup"><span data-stu-id="376c7-429">-U</span></span>|<span data-ttu-id="376c7-430">R</span><span class="sxs-lookup"><span data-stu-id="376c7-430">R</span></span>|<span data-ttu-id="376c7-431">""</span><span class="sxs-lookup"><span data-stu-id="376c7-431">""</span></span>|  
|<span data-ttu-id="376c7-432">SQLCMDPASSWORD</span><span class="sxs-lookup"><span data-stu-id="376c7-432">SQLCMDPASSWORD</span></span>|<span data-ttu-id="376c7-433">-P</span><span class="sxs-lookup"><span data-stu-id="376c7-433">-P</span></span>|--|<span data-ttu-id="376c7-434">""</span><span class="sxs-lookup"><span data-stu-id="376c7-434">""</span></span>|  
|<span data-ttu-id="376c7-435">SQLCMDSERVER</span><span class="sxs-lookup"><span data-stu-id="376c7-435">SQLCMDSERVER</span></span>|<span data-ttu-id="376c7-436">-S</span><span class="sxs-lookup"><span data-stu-id="376c7-436">-S</span></span>|<span data-ttu-id="376c7-437">R</span><span class="sxs-lookup"><span data-stu-id="376c7-437">R</span></span>|<span data-ttu-id="376c7-438">"DefaultLocalInstance"</span><span class="sxs-lookup"><span data-stu-id="376c7-438">"DefaultLocalInstance"</span></span>|  
|<span data-ttu-id="376c7-439">SQLCMDWORKSTATION</span><span class="sxs-lookup"><span data-stu-id="376c7-439">SQLCMDWORKSTATION</span></span>|<span data-ttu-id="376c7-440">-H</span><span class="sxs-lookup"><span data-stu-id="376c7-440">-H</span></span>|<span data-ttu-id="376c7-441">R</span><span class="sxs-lookup"><span data-stu-id="376c7-441">R</span></span>|<span data-ttu-id="376c7-442">"ComputerName"</span><span class="sxs-lookup"><span data-stu-id="376c7-442">"ComputerName"</span></span>|  
|<span data-ttu-id="376c7-443">SQLCMDDBNAME</span><span class="sxs-lookup"><span data-stu-id="376c7-443">SQLCMDDBNAME</span></span>|<span data-ttu-id="376c7-444">-d</span><span class="sxs-lookup"><span data-stu-id="376c7-444">-d</span></span>|<span data-ttu-id="376c7-445">R</span><span class="sxs-lookup"><span data-stu-id="376c7-445">R</span></span>|<span data-ttu-id="376c7-446">""</span><span class="sxs-lookup"><span data-stu-id="376c7-446">""</span></span>|  
|<span data-ttu-id="376c7-447">SQLCMDLOGINTIMEOUT</span><span class="sxs-lookup"><span data-stu-id="376c7-447">SQLCMDLOGINTIMEOUT</span></span>|<span data-ttu-id="376c7-448">-l</span><span class="sxs-lookup"><span data-stu-id="376c7-448">-l</span></span>|<span data-ttu-id="376c7-449">L/S</span><span class="sxs-lookup"><span data-stu-id="376c7-449">R/W</span></span>|<span data-ttu-id="376c7-450">"8" (secondi)</span><span class="sxs-lookup"><span data-stu-id="376c7-450">"8" (seconds)</span></span>|  
|<span data-ttu-id="376c7-451">SQLCMDSTATTIMEOUT</span><span class="sxs-lookup"><span data-stu-id="376c7-451">SQLCMDSTATTIMEOUT</span></span>|<span data-ttu-id="376c7-452">-T</span><span class="sxs-lookup"><span data-stu-id="376c7-452">-t</span></span>|<span data-ttu-id="376c7-453">L/S</span><span class="sxs-lookup"><span data-stu-id="376c7-453">R/W</span></span>|<span data-ttu-id="376c7-454">"0" = attesa illimitata</span><span class="sxs-lookup"><span data-stu-id="376c7-454">"0" = wait indefinitely</span></span>|  
|<span data-ttu-id="376c7-455">SQLCMDHEADERS</span><span class="sxs-lookup"><span data-stu-id="376c7-455">SQLCMDHEADERS</span></span>|<span data-ttu-id="376c7-456">-H</span><span class="sxs-lookup"><span data-stu-id="376c7-456">-h</span></span>|<span data-ttu-id="376c7-457">L/S</span><span class="sxs-lookup"><span data-stu-id="376c7-457">R/W</span></span>|<span data-ttu-id="376c7-458">"0"</span><span class="sxs-lookup"><span data-stu-id="376c7-458">"0"</span></span>|  
|<span data-ttu-id="376c7-459">SQLCMDCOLSEP</span><span class="sxs-lookup"><span data-stu-id="376c7-459">SQLCMDCOLSEP</span></span>|<span data-ttu-id="376c7-460">-S</span><span class="sxs-lookup"><span data-stu-id="376c7-460">-s</span></span>|<span data-ttu-id="376c7-461">L/S</span><span class="sxs-lookup"><span data-stu-id="376c7-461">R/W</span></span>|<span data-ttu-id="376c7-462">" "</span><span class="sxs-lookup"><span data-stu-id="376c7-462">" "</span></span>|  
|<span data-ttu-id="376c7-463">SQLCMDCOLWIDTH</span><span class="sxs-lookup"><span data-stu-id="376c7-463">SQLCMDCOLWIDTH</span></span>|<span data-ttu-id="376c7-464">-w</span><span class="sxs-lookup"><span data-stu-id="376c7-464">-w</span></span>|<span data-ttu-id="376c7-465">L/S</span><span class="sxs-lookup"><span data-stu-id="376c7-465">R/W</span></span>|<span data-ttu-id="376c7-466">"0"</span><span class="sxs-lookup"><span data-stu-id="376c7-466">"0"</span></span>|  
|<span data-ttu-id="376c7-467">SQLCMDPACKETSIZE</span><span class="sxs-lookup"><span data-stu-id="376c7-467">SQLCMDPACKETSIZE</span></span>|<span data-ttu-id="376c7-468">-a</span><span class="sxs-lookup"><span data-stu-id="376c7-468">-a</span></span>|<span data-ttu-id="376c7-469">R</span><span class="sxs-lookup"><span data-stu-id="376c7-469">R</span></span>|<span data-ttu-id="376c7-470">"4096"</span><span class="sxs-lookup"><span data-stu-id="376c7-470">"4096"</span></span>|  
|<span data-ttu-id="376c7-471">SQLCMDERRORLEVEL</span><span class="sxs-lookup"><span data-stu-id="376c7-471">SQLCMDERRORLEVEL</span></span>|<span data-ttu-id="376c7-472">-M</span><span class="sxs-lookup"><span data-stu-id="376c7-472">-m</span></span>|<span data-ttu-id="376c7-473">L/S</span><span class="sxs-lookup"><span data-stu-id="376c7-473">R/W</span></span>|<span data-ttu-id="376c7-474">0</span><span class="sxs-lookup"><span data-stu-id="376c7-474">0</span></span>|  
|<span data-ttu-id="376c7-475">SQLCMDMAXVARTYPEWIDTH</span><span class="sxs-lookup"><span data-stu-id="376c7-475">SQLCMDMAXVARTYPEWIDTH</span></span>|<span data-ttu-id="376c7-476">-y</span><span class="sxs-lookup"><span data-stu-id="376c7-476">-y</span></span>|<span data-ttu-id="376c7-477">L/S</span><span class="sxs-lookup"><span data-stu-id="376c7-477">R/W</span></span>|<span data-ttu-id="376c7-478">"256"</span><span class="sxs-lookup"><span data-stu-id="376c7-478">"256"</span></span>|  
|<span data-ttu-id="376c7-479">SQLCMDMAXFIXEDTYPEWIDTH</span><span class="sxs-lookup"><span data-stu-id="376c7-479">SQLCMDMAXFIXEDTYPEWIDTH</span></span>|<span data-ttu-id="376c7-480">-y</span><span class="sxs-lookup"><span data-stu-id="376c7-480">-Y</span></span>|<span data-ttu-id="376c7-481">L/S</span><span class="sxs-lookup"><span data-stu-id="376c7-481">R/W</span></span>|<span data-ttu-id="376c7-482">"0" = numero illimitato</span><span class="sxs-lookup"><span data-stu-id="376c7-482">"0" = unlimited</span></span>|  
|<span data-ttu-id="376c7-483">SQLCMDEDITOR</span><span class="sxs-lookup"><span data-stu-id="376c7-483">SQLCMDEDITOR</span></span>||<span data-ttu-id="376c7-484">L/S</span><span class="sxs-lookup"><span data-stu-id="376c7-484">R/W</span></span>|<span data-ttu-id="376c7-485">"edit.com"</span><span class="sxs-lookup"><span data-stu-id="376c7-485">"edit.com"</span></span>|  
|<span data-ttu-id="376c7-486">SQLCMDINI</span><span class="sxs-lookup"><span data-stu-id="376c7-486">SQLCMDINI</span></span>||<span data-ttu-id="376c7-487">R</span><span class="sxs-lookup"><span data-stu-id="376c7-487">R</span></span>|<span data-ttu-id="376c7-488">""</span><span class="sxs-lookup"><span data-stu-id="376c7-488">""</span></span>|  
  
 <span data-ttu-id="376c7-489">Le variabili SQLCMDUSER, SQLCMDPASSWORD e SQLCMDSERVER vengono impostate quando viene utilizzato il comando **:Connect**</span><span class="sxs-lookup"><span data-stu-id="376c7-489">SQLCMDUSER, SQLCMDPASSWORD and SQLCMDSERVER are set when **:Connect**</span></span>  
  
 <span data-ttu-id="376c7-490">.</span><span class="sxs-lookup"><span data-stu-id="376c7-490">is used.</span></span>  
  
 <span data-ttu-id="376c7-491">La lettera L indica che il valore può essere impostato una sola volta durante l'inizializzazione del programma.</span><span class="sxs-lookup"><span data-stu-id="376c7-491">R indicates the value can only be set one time during program initialization.</span></span>  
  
 <span data-ttu-id="376c7-492">L/S indica che è possibile modificare il valore tramite il comando **setvar** e che il nuovo valore influirà sui comandi successivi.</span><span class="sxs-lookup"><span data-stu-id="376c7-492">R/W indicates that the value can be modified by using the **setvar** command and subsequent commands will be influenced by the new value.</span></span>  
  
## <a name="sqlcmd-commands"></a><span data-ttu-id="376c7-493">Comandi sqlcmd</span><span class="sxs-lookup"><span data-stu-id="376c7-493">sqlcmd Commands</span></span>  
 <span data-ttu-id="376c7-494">In aggiunta alle istruzioni [!INCLUDE[tsql](../includes/tsql-md.md)] all'interno di `sqlcmd`, sono inoltre disponibili i comandi seguenti.</span><span class="sxs-lookup"><span data-stu-id="376c7-494">In addition to [!INCLUDE[tsql](../includes/tsql-md.md)] statements within `sqlcmd`, the following commands are also available:</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="376c7-495">**GO** [*count*]</span><span class="sxs-lookup"><span data-stu-id="376c7-495">**GO** [*count*]</span></span>|<span data-ttu-id="376c7-496">**:List**</span><span class="sxs-lookup"><span data-stu-id="376c7-496">**:List**</span></span>|  
|<span data-ttu-id="376c7-497">[ **:** ] **RESET**</span><span class="sxs-lookup"><span data-stu-id="376c7-497">[**:**] **RESET**</span></span>|<span data-ttu-id="376c7-498">**:Error**</span><span class="sxs-lookup"><span data-stu-id="376c7-498">**:Error**</span></span>|  
|<span data-ttu-id="376c7-499">[ **:** ] **ED**</span><span class="sxs-lookup"><span data-stu-id="376c7-499">[**:**] **ED**</span></span>|<span data-ttu-id="376c7-500">**:Out**</span><span class="sxs-lookup"><span data-stu-id="376c7-500">**:Out**</span></span>|  
|<span data-ttu-id="376c7-501">[**:**] **!!**</span><span class="sxs-lookup"><span data-stu-id="376c7-501">[**:**] **!!**</span></span>|<span data-ttu-id="376c7-502">**:Perftrace**</span><span class="sxs-lookup"><span data-stu-id="376c7-502">**:Perftrace**</span></span>|  
|<span data-ttu-id="376c7-503">[ **:** ] **QUIT**</span><span class="sxs-lookup"><span data-stu-id="376c7-503">[**:**] **QUIT**</span></span>|<span data-ttu-id="376c7-504">**:Connect**</span><span class="sxs-lookup"><span data-stu-id="376c7-504">**:Connect**</span></span>|  
|<span data-ttu-id="376c7-505">[ **:** ] **EXIT**</span><span class="sxs-lookup"><span data-stu-id="376c7-505">[**:**] **EXIT**</span></span>|<span data-ttu-id="376c7-506">**:On Error**</span><span class="sxs-lookup"><span data-stu-id="376c7-506">**:On Error**</span></span>|  
|<span data-ttu-id="376c7-507">**:r**</span><span class="sxs-lookup"><span data-stu-id="376c7-507">**:r**</span></span>|<span data-ttu-id="376c7-508">**:Help**</span><span class="sxs-lookup"><span data-stu-id="376c7-508">**:Help**</span></span>|  
|<span data-ttu-id="376c7-509">**:ServerList**</span><span class="sxs-lookup"><span data-stu-id="376c7-509">**:ServerList**</span></span>|<span data-ttu-id="376c7-510">**:XML** [**ON** &#124; **OFF**]</span><span class="sxs-lookup"><span data-stu-id="376c7-510">**:XML** [**ON** &#124; **OFF**]</span></span>|  
|<span data-ttu-id="376c7-511">**:Setvar**</span><span class="sxs-lookup"><span data-stu-id="376c7-511">**:Setvar**</span></span>|<span data-ttu-id="376c7-512">**:Listvar**</span><span class="sxs-lookup"><span data-stu-id="376c7-512">**:Listvar**</span></span>|  
  
 <span data-ttu-id="376c7-513">Quando si utilizzano comandi `sqlcmd`, tenere presente quanto segue:</span><span class="sxs-lookup"><span data-stu-id="376c7-513">Be aware of the following when you use `sqlcmd` commands:</span></span>  
  
-   <span data-ttu-id="376c7-514">Tutti i comandi `sqlcmd`, ad eccezione di GO, devono essere preceduti da due punti (:).</span><span class="sxs-lookup"><span data-stu-id="376c7-514">All `sqlcmd` commands, except GO, must be prefixed by a colon (:).</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="376c7-515">Per garantire la compatibilità con le versioni precedenti per gli script **osql** esistenti, alcuni comandi verranno riconosciuti anche senza i due punti.</span><span class="sxs-lookup"><span data-stu-id="376c7-515">To maintain backward compatibility with existing **osql** scripts, some of the commands will be recognized without the colon.</span></span> <span data-ttu-id="376c7-516">Questa caratteristica è indicata da [**:**].</span><span class="sxs-lookup"><span data-stu-id="376c7-516">This is indicated by the [**:**].</span></span>  
  
-   <span data-ttu-id="376c7-517">I comandi `sqlcmd` vengono riconosciuti solo se si trovano all'inizio di una riga.</span><span class="sxs-lookup"><span data-stu-id="376c7-517">`sqlcmd` commands are recognized only if they appear at the start of a line.</span></span>  
  
-   <span data-ttu-id="376c7-518">Tutti i comandi `sqlcmd` non fanno distinzione tra maiuscole e minuscole.</span><span class="sxs-lookup"><span data-stu-id="376c7-518">All `sqlcmd` commands are case insensitive.</span></span>  
  
-   <span data-ttu-id="376c7-519">Ogni comando deve trovarsi in una riga distinta.</span><span class="sxs-lookup"><span data-stu-id="376c7-519">Each command must be on a separate line.</span></span> <span data-ttu-id="376c7-520">Un comando non può essere seguito da un'istruzione [!INCLUDE[tsql](../includes/tsql-md.md)] o da un altro comando.</span><span class="sxs-lookup"><span data-stu-id="376c7-520">A command cannot be followed by a [!INCLUDE[tsql](../includes/tsql-md.md)] statement or another command.</span></span>  
  
-   <span data-ttu-id="376c7-521">I comandi vengono eseguiti immediatamente</span><span class="sxs-lookup"><span data-stu-id="376c7-521">Commands are executed immediately.</span></span> <span data-ttu-id="376c7-522">e non vengono inseriti nel buffer di esecuzione come le istruzioni [!INCLUDE[tsql](../includes/tsql-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="376c7-522">They are not put in the execution buffer as [!INCLUDE[tsql](../includes/tsql-md.md)] statements are.</span></span>  
  
 <span data-ttu-id="376c7-523">**Comandi di modifica**</span><span class="sxs-lookup"><span data-stu-id="376c7-523">**Editing Commands**</span></span>  
  <span data-ttu-id="376c7-524">[ **:** ] **ED**</span><span class="sxs-lookup"><span data-stu-id="376c7-524">[**:**] **ED**</span></span>  
 <span data-ttu-id="376c7-525">Avvia l'editor di testo.</span><span class="sxs-lookup"><span data-stu-id="376c7-525">Starts the text editor.</span></span> <span data-ttu-id="376c7-526">Questo editor può essere utilizzato per modificare il batch [!INCLUDE[tsql](../includes/tsql-md.md)] corrente o l'ultimo batch eseguito.</span><span class="sxs-lookup"><span data-stu-id="376c7-526">This editor can be used to edit the current [!INCLUDE[tsql](../includes/tsql-md.md)] batch, or the last executed batch.</span></span> <span data-ttu-id="376c7-527">Per modificare l'ultimo batch eseguito, il comando **ED** deve essere specificato subito dopo il completamento dell'esecuzione dell'ultimo batch.</span><span class="sxs-lookup"><span data-stu-id="376c7-527">To edit the last executed batch, the **ED** command must be typed immediately after the last batch has completed execution.</span></span>  
  
 <span data-ttu-id="376c7-528">L'editor di testo viene definito dalla variabile di ambiente SQLCMDEDITOR.</span><span class="sxs-lookup"><span data-stu-id="376c7-528">The text editor is defined by the SQLCMDEDITOR environment variable.</span></span> <span data-ttu-id="376c7-529">L'editor predefinito è "Edit".</span><span class="sxs-lookup"><span data-stu-id="376c7-529">The default editor is 'Edit'.</span></span> <span data-ttu-id="376c7-530">Per modificare l'editor, impostare la variabile di ambiente SQLCMDEDITOR.</span><span class="sxs-lookup"><span data-stu-id="376c7-530">To change the editor, set the SQLCMDEDITOR environment variable.</span></span> <span data-ttu-id="376c7-531">Ad esempio, per impostare l'editor su Blocco note di [!INCLUDE[msCoName](../includes/msconame-md.md)] , al prompt dei comandi digitare:</span><span class="sxs-lookup"><span data-stu-id="376c7-531">For example, to set the editor to [!INCLUDE[msCoName](../includes/msconame-md.md)] Notepad, at the command prompt, type:</span></span>  
  
 `SET SQLCMDEDITOR=notepad`  
  
 <span data-ttu-id="376c7-532">[ **:** ] **RESET**</span><span class="sxs-lookup"><span data-stu-id="376c7-532">[**:**] **RESET**</span></span>  
 <span data-ttu-id="376c7-533">Cancella la cache dell'istruzione.</span><span class="sxs-lookup"><span data-stu-id="376c7-533">Clears the statement cache.</span></span>  
  
 <span data-ttu-id="376c7-534">**:List**</span><span class="sxs-lookup"><span data-stu-id="376c7-534">**:List**</span></span>  
 <span data-ttu-id="376c7-535">Stampa il contenuto della cache dell'istruzione.</span><span class="sxs-lookup"><span data-stu-id="376c7-535">Prints the content of the statement cache.</span></span>  
  
 <span data-ttu-id="376c7-536">**Variabili**</span><span class="sxs-lookup"><span data-stu-id="376c7-536">**Variables**</span></span>  
  <span data-ttu-id="376c7-537">**: Setvar** \<**var**> [ **"*`value`*"** ]</span><span class="sxs-lookup"><span data-stu-id="376c7-537">**:Setvar** \<**var**> [ **"*`value`*"** ]</span></span>  
 <span data-ttu-id="376c7-538">Definisce le variabili di scripting `sqlcmd`.</span><span class="sxs-lookup"><span data-stu-id="376c7-538">Defines `sqlcmd` scripting variables.</span></span> <span data-ttu-id="376c7-539">Il formato delle variabili di scripting è il seguente: `$(VARNAME)`.</span><span class="sxs-lookup"><span data-stu-id="376c7-539">Scripting variables have the following format: `$(VARNAME)`.</span></span>  
  
 <span data-ttu-id="376c7-540">I nomi delle variabili non fanno distinzione tra maiuscole e minuscole.</span><span class="sxs-lookup"><span data-stu-id="376c7-540">Variable names are case insensitive.</span></span>  
  
 <span data-ttu-id="376c7-541">È possibile impostare le variabili di scripting nei modi seguenti:</span><span class="sxs-lookup"><span data-stu-id="376c7-541">Scripting variables can be set in the following ways:</span></span>  
  
-   <span data-ttu-id="376c7-542">In modo implicito utilizzando un'opzione della riga di comando.</span><span class="sxs-lookup"><span data-stu-id="376c7-542">Implicitly using a command-line option.</span></span> <span data-ttu-id="376c7-543">Ad esempio, l'opzione **-l** imposta la `sqlcmd` variabile SQLCMDLOGINTIMEOUT.</span><span class="sxs-lookup"><span data-stu-id="376c7-543">For example, the **-l** option sets the SQLCMDLOGINTIMEOUT `sqlcmd` variable.</span></span>  
  
-   <span data-ttu-id="376c7-544">In modo esplicito utilizzando il comando **:Setvar** .</span><span class="sxs-lookup"><span data-stu-id="376c7-544">Explicitly by using the **:Setvar** command.</span></span>  
  
-   <span data-ttu-id="376c7-545">Mediante la definizione di una variabile di ambiente prima dell'esecuzione di `sqlcmd`.</span><span class="sxs-lookup"><span data-stu-id="376c7-545">By defining an environment variable before you run `sqlcmd`.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="376c7-546">L'opzione `-X` impedisce la trasmissione delle variabili di ambiente a `sqlcmd`.</span><span class="sxs-lookup"><span data-stu-id="376c7-546">The `-X` option prevents environment variables from being passed on to `sqlcmd`.</span></span>  
  
 <span data-ttu-id="376c7-547">Se il nome di una variabile definita mediante il comando **:Setvar** e di una variabile di ambiente è lo stesso, la variabile definita con **:Setvar** ha la precedenza.</span><span class="sxs-lookup"><span data-stu-id="376c7-547">If a variable defined by using **:Setvar** and an environment variable have the same name, the variable defined by using **:Setvar** takes precedence.</span></span>  
  
 <span data-ttu-id="376c7-548">I nomi delle variabili non devono contenere spazi vuoti.</span><span class="sxs-lookup"><span data-stu-id="376c7-548">Variable names must not contain blank space characters.</span></span>  
  
 <span data-ttu-id="376c7-549">I nomi delle variabili non possono disporre dello stesso formato delle espressioni con variabili, ad esempio $(var).</span><span class="sxs-lookup"><span data-stu-id="376c7-549">Variable names cannot have the same form as a variable expression, such as $(var).</span></span>  
  
 <span data-ttu-id="376c7-550">Se il valore stringa della variabile di scripting contiene spazi vuoti, racchiudere il valore tra virgolette.</span><span class="sxs-lookup"><span data-stu-id="376c7-550">If the string value of the scripting variable contains blank spaces, enclose the value in quotation marks.</span></span> <span data-ttu-id="376c7-551">Se per una variabile di scripting non viene specificato alcun valore, la variabile di scripting viene eliminata.</span><span class="sxs-lookup"><span data-stu-id="376c7-551">If a value for a scripting variable is not specified, the scripting variable is dropped.</span></span>  
  
 <span data-ttu-id="376c7-552">**:Listvar**</span><span class="sxs-lookup"><span data-stu-id="376c7-552">**:Listvar**</span></span>  
 <span data-ttu-id="376c7-553">Visualizza l'elenco delle variabili di scripting impostate.</span><span class="sxs-lookup"><span data-stu-id="376c7-553">Displays a list of the scripting variables that are currently set.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="376c7-554">Verranno visualizzate solo le variabili di scripting impostate da `sqlcmd` e quelle impostate usando il comando **: setvar** .</span><span class="sxs-lookup"><span data-stu-id="376c7-554">Only scripting variables that are set by `sqlcmd`, and those that are set using the **:Setvar** command will be displayed.</span></span>  
  
 <span data-ttu-id="376c7-555">**Comandi di output**</span><span class="sxs-lookup"><span data-stu-id="376c7-555">**Output Commands**</span></span>  
  <span data-ttu-id="376c7-556">**:Error** </span><span class="sxs-lookup"><span data-stu-id="376c7-556">**:Error** </span></span>  
 <span data-ttu-id="376c7-557">**_\<_** _filename_  **_>|_ STDERR | STDOUT**</span><span class="sxs-lookup"><span data-stu-id="376c7-557">**_\<_** _filename_  **_>|_ STDERR|STDOUT**</span></span>  
 <span data-ttu-id="376c7-558">Reindirizza tutti gli output degli errori nel file specificato da *filename*, in **stderr** oppure in **stdout**.</span><span class="sxs-lookup"><span data-stu-id="376c7-558">Redirect all error output to the file specified by *file name*, to **stderr** or to **stdout**.</span></span> <span data-ttu-id="376c7-559">Il comando **Error** può essere utilizzato più volte in uno script.</span><span class="sxs-lookup"><span data-stu-id="376c7-559">The **Error** command can appear multiple times in a script.</span></span> <span data-ttu-id="376c7-560">Per impostazione predefinita, l'output degli errori viene inviato in **stderr**.</span><span class="sxs-lookup"><span data-stu-id="376c7-560">By default, error output is sent to **stderr**.</span></span>  
  
 <span data-ttu-id="376c7-561">*file name*</span><span class="sxs-lookup"><span data-stu-id="376c7-561">*file name*</span></span>  
 <span data-ttu-id="376c7-562">Crea e apre un file che riceverà l'output.</span><span class="sxs-lookup"><span data-stu-id="376c7-562">Creates and opens a file that will receive the output.</span></span> <span data-ttu-id="376c7-563">Se il file esiste già, verrà troncato a zero byte.</span><span class="sxs-lookup"><span data-stu-id="376c7-563">If the file already exists, it will be truncated to zero bytes.</span></span> <span data-ttu-id="376c7-564">Se il file non è disponibile a causa delle autorizzazioni o per altri motivi, l'output non verrà trasferito e verrà inviato all'ultima destinazione specificata oppure alla destinazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="376c7-564">If the file is not available because of permissions or other reasons, the output will not be switched and will be sent to the last specified or default destination.</span></span>  
  
 <span data-ttu-id="376c7-565">**STDERR**</span><span class="sxs-lookup"><span data-stu-id="376c7-565">**STDERR**</span></span>  
 <span data-ttu-id="376c7-566">Trasferisce l'output degli errori al flusso **stderr** .</span><span class="sxs-lookup"><span data-stu-id="376c7-566">Switches error output to the **stderr** stream.</span></span> <span data-ttu-id="376c7-567">Se l'output è stato reindirizzato, la destinazione alla quale il flusso è stato reindirizzato riceverà l'output degli errori.</span><span class="sxs-lookup"><span data-stu-id="376c7-567">If this has been redirected, the target to which the stream has been redirected will receive the error output.</span></span>  
  
 <span data-ttu-id="376c7-568">**STDOUT**</span><span class="sxs-lookup"><span data-stu-id="376c7-568">**STDOUT**</span></span>  
 <span data-ttu-id="376c7-569">Trasferisce l'output degli errori al flusso **stdout** .</span><span class="sxs-lookup"><span data-stu-id="376c7-569">Switches error output to the **stdout** stream.</span></span> <span data-ttu-id="376c7-570">Se l'output è stato reindirizzato, la destinazione alla quale il flusso è stato reindirizzato riceverà l'output degli errori.</span><span class="sxs-lookup"><span data-stu-id="376c7-570">If this has been redirected, the target to which the stream has been redirected will receive the error output.</span></span>  
  
 <span data-ttu-id="376c7-571">\*\*: Out \<** _filename_ **> \*\* |  **Stderr** |  **Stdout**</span><span class="sxs-lookup"><span data-stu-id="376c7-571">**:Out \<** _filename_ **>**| **STDERR**| **STDOUT**</span></span>  
 <span data-ttu-id="376c7-572">Crea e reindirizza tutti i risultati delle query nel file specificato da *filename*, in **stderr** oppure in **stdout**.</span><span class="sxs-lookup"><span data-stu-id="376c7-572">Creates and redirects all query results to the file specified by *file name*, to **stderr** or to **stdout**.</span></span> <span data-ttu-id="376c7-573">Per impostazione predefinita, l'output viene inviato in **stdout**.</span><span class="sxs-lookup"><span data-stu-id="376c7-573">By default, output is sent to **stdout**.</span></span> <span data-ttu-id="376c7-574">Se il file esiste già, verrà troncato a zero byte.</span><span class="sxs-lookup"><span data-stu-id="376c7-574">If the file already exists, it will be truncated to zero bytes.</span></span> <span data-ttu-id="376c7-575">Il comando **Out** può essere utilizzato più volte in uno script.</span><span class="sxs-lookup"><span data-stu-id="376c7-575">The **Out** command can appear multiple times in a script.</span></span>  
  
 <span data-ttu-id="376c7-576">\*\*:P erftrace \<** _filename_ **> \*\* |  **Stderr** |  **Stdout**</span><span class="sxs-lookup"><span data-stu-id="376c7-576">**:Perftrace \<** _filename_ **>**| **STDERR**| **STDOUT**</span></span>  
 <span data-ttu-id="376c7-577">Crea e reindirizza tutte le informazioni di traccia delle prestazioni nel file specificato da *filename*, in **stderr** oppure in **stdout**.</span><span class="sxs-lookup"><span data-stu-id="376c7-577">Creates and redirects all performance trace information to the file specified by *file name*, to **stderr** or to **stdout**.</span></span> <span data-ttu-id="376c7-578">Per impostazione predefinita, l'output della traccia delle prestazioni viene inviato in **stdout**.</span><span class="sxs-lookup"><span data-stu-id="376c7-578">By default performance trace output is sent to **stdout**.</span></span> <span data-ttu-id="376c7-579">Se il file esiste già, verrà troncato a zero byte.</span><span class="sxs-lookup"><span data-stu-id="376c7-579">If the file already exists, it will be truncated to zero bytes.</span></span> <span data-ttu-id="376c7-580">Il comando **Perftrace** può essere utilizzato più volte in uno script.</span><span class="sxs-lookup"><span data-stu-id="376c7-580">The **Perftrace** command can appear multiple times in a script.</span></span>  
  
 <span data-ttu-id="376c7-581">**Comandi di controllo dell'esecuzione**</span><span class="sxs-lookup"><span data-stu-id="376c7-581">**Execution Control Commands**</span></span>  
  <span data-ttu-id="376c7-582">**: In errore**[ `exit`  |  `ignore` ]</span><span class="sxs-lookup"><span data-stu-id="376c7-582">**:On Error**[ `exit` | `ignore`]</span></span>  
 <span data-ttu-id="376c7-583">Imposta l'azione da eseguire quando si verifica un errore durante l'esecuzione dello script o del batch.</span><span class="sxs-lookup"><span data-stu-id="376c7-583">Sets the action to be performed when an error occurs during script or batch execution.</span></span>  
  
 <span data-ttu-id="376c7-584">Se si specifica l'opzione `exit`, l'utilità `sqlcmd` viene chiusa con il valore di errore appropriato.</span><span class="sxs-lookup"><span data-stu-id="376c7-584">When the `exit` option is used, `sqlcmd` exits with the appropriate error value.</span></span>  
  
 <span data-ttu-id="376c7-585">Se viene utilizzata l'opzione `ignore`, `sqlcmd` ignora l'errore e continua l'esecuzione del batch o dello script.</span><span class="sxs-lookup"><span data-stu-id="376c7-585">When the `ignore` option is used, `sqlcmd` ignores the error and continues executing the batch or script.</span></span> <span data-ttu-id="376c7-586">Per impostazione predefinita, verrà stampato un messaggio di errore.</span><span class="sxs-lookup"><span data-stu-id="376c7-586">By default, an error message will be printed.</span></span>  
  
 <span data-ttu-id="376c7-587">[ **:** ] **QUIT**</span><span class="sxs-lookup"><span data-stu-id="376c7-587">[**:**] **QUIT**</span></span>  
 <span data-ttu-id="376c7-588">Provoca la chiusura di `sqlcmd`.</span><span class="sxs-lookup"><span data-stu-id="376c7-588">Causes `sqlcmd` to exit.</span></span>  
  
 <span data-ttu-id="376c7-589">[**:**] **Exit**[ **( *`statement`* )** ]</span><span class="sxs-lookup"><span data-stu-id="376c7-589">[**:**] **EXIT**[ **(*`statement`*)** ]</span></span>  
 <span data-ttu-id="376c7-590">Consente di utilizzare il risultato di un'istruzione SELECT come valore restituito da `sqlcmd`.</span><span class="sxs-lookup"><span data-stu-id="376c7-590">Lets you use the result of a SELECT statement as the return value from `sqlcmd`.</span></span> <span data-ttu-id="376c7-591">Se numerica, la prima colonna dell'ultima riga di risultati viene convertita in un valore integer di 4 byte (long).</span><span class="sxs-lookup"><span data-stu-id="376c7-591">If numeric, the first column of the last result row is converted to a 4-byte integer (long).</span></span> <span data-ttu-id="376c7-592">MS-DOS passa il byte di ordine inferiore al processo padre o al livello di errore del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="376c7-592">MS-DOS passes the low byte to the parent process or operating system error level.</span></span> <span data-ttu-id="376c7-593">Windows 200x passa l'intero valore intero di 4 byte.</span><span class="sxs-lookup"><span data-stu-id="376c7-593">Windows 200x passes the whole 4-byte integer.</span></span> <span data-ttu-id="376c7-594">La sintassi è:</span><span class="sxs-lookup"><span data-stu-id="376c7-594">The syntax is:</span></span>  
  
 `:EXIT(query)`  
  
 <span data-ttu-id="376c7-595">Ad esempio:</span><span class="sxs-lookup"><span data-stu-id="376c7-595">For example:</span></span>  
  
 `:EXIT(SELECT @@ROWCOUNT)`  
  
 <span data-ttu-id="376c7-596">È inoltre possibile includere il parametro **EXIT** in un file batch.</span><span class="sxs-lookup"><span data-stu-id="376c7-596">You can also include the **EXIT** parameter as part of a batch file.</span></span> <span data-ttu-id="376c7-597">Al prompt dei comandi, ad esempio, digitare:</span><span class="sxs-lookup"><span data-stu-id="376c7-597">For example, at the command prompt, type:</span></span>  
  
 `sqlcmd -Q "EXIT(SELECT COUNT(*) FROM '%1')"`  
  
 <span data-ttu-id="376c7-598">L' `sqlcmd` utilità invia tutti gli elementi tra le parentesi **()** al server.</span><span class="sxs-lookup"><span data-stu-id="376c7-598">The `sqlcmd` utility sends everything between the parentheses **()** to the server.</span></span> <span data-ttu-id="376c7-599">Se una stored procedure di sistema seleziona un set e restituisce un valore, viene restituita solo la selezione.</span><span class="sxs-lookup"><span data-stu-id="376c7-599">If a system stored procedure selects a set and returns a value, only the selection is returned.</span></span> <span data-ttu-id="376c7-600">Se non si specifica alcun elemento tra le parentesi dell'istruzione EXIT **()** , viene eseguito tutto ciò che la precede nel batch e l'operazione viene quindi terminata senza restituire alcun valore.</span><span class="sxs-lookup"><span data-stu-id="376c7-600">The EXIT **()** statement with nothing between the parentheses executes everything before it in the batch and then exits without a return value.</span></span>  
  
 <span data-ttu-id="376c7-601">Se si specifica una query non corretta, l'utilità `sqlcmd` viene chiusa senza restituire alcun valore.</span><span class="sxs-lookup"><span data-stu-id="376c7-601">When an incorrect query is specified, `sqlcmd` will exit without a return value.</span></span>  
  
 <span data-ttu-id="376c7-602">Di seguito è riportato l'elenco dei formati supportati dall'istruzione EXIT.</span><span class="sxs-lookup"><span data-stu-id="376c7-602">Here is a list of EXIT formats:</span></span>  
  
-   <span data-ttu-id="376c7-603">:EXIT</span><span class="sxs-lookup"><span data-stu-id="376c7-603">:EXIT</span></span>  
  
 <span data-ttu-id="376c7-604">L'utilità non esegue il batch, quindi viene chiusa immediatamente e non restituisce alcun valore.</span><span class="sxs-lookup"><span data-stu-id="376c7-604">Does not execute the batch, and then quits immediately and returns no value.</span></span>  
  
-   <span data-ttu-id="376c7-605">:EXIT( )</span><span class="sxs-lookup"><span data-stu-id="376c7-605">:EXIT( )</span></span>  
  
 <span data-ttu-id="376c7-606">L'utilità esegue il batch, viene chiusa e non restituisce alcun valore.</span><span class="sxs-lookup"><span data-stu-id="376c7-606">Executes the batch, and then quits and returns no value.</span></span>  
  
-   <span data-ttu-id="376c7-607">:EXIT(query)</span><span class="sxs-lookup"><span data-stu-id="376c7-607">:EXIT(query)</span></span>  
  
 <span data-ttu-id="376c7-608">L'utilità esegue il batch in cui è inclusa la query e quindi viene chiusa dopo aver restituito i risultati della query.</span><span class="sxs-lookup"><span data-stu-id="376c7-608">Executes the batch that includes the query, and then quits after it returns the results of the query.</span></span>  
  
 <span data-ttu-id="376c7-609">Se in uno script `sqlcmd` si utilizza RAISERROR e si verifica una condizione con stato 127, l'utilità `sqlcmd` viene chiusa e restituisce al client l'ID di messaggio.</span><span class="sxs-lookup"><span data-stu-id="376c7-609">If RAISERROR is used within a `sqlcmd` script and a state of 127 is raised, `sqlcmd` will quit and return the message ID back to the client.</span></span> <span data-ttu-id="376c7-610">Ad esempio:</span><span class="sxs-lookup"><span data-stu-id="376c7-610">For example:</span></span>  
  
 `RAISERROR(50001, 10, 127)`  
  
 <span data-ttu-id="376c7-611">Questo errore comporta la chiusura di `sqlcmd` e la restituzione dell'ID di messaggio 50001 al client.</span><span class="sxs-lookup"><span data-stu-id="376c7-611">This error will cause the `sqlcmd` script to end and return the message ID 50001 to the client.</span></span>  
  
 <span data-ttu-id="376c7-612">I valori restituiti compresi tra -1 e -99 sono riservati a [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)]. L'utilità `sqlcmd` definisce i valori restituiti aggiuntivi elencati di seguito.</span><span class="sxs-lookup"><span data-stu-id="376c7-612">The return values -1 to -99 are reserved by [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)]; `sqlcmd` defines the following additional return values:</span></span>  
  
|<span data-ttu-id="376c7-613">Valori restituiti</span><span class="sxs-lookup"><span data-stu-id="376c7-613">Return Values</span></span>|<span data-ttu-id="376c7-614">Descrizione</span><span class="sxs-lookup"><span data-stu-id="376c7-614">Description</span></span>|  
|-------------------|-----------------|  
|<span data-ttu-id="376c7-615">-100</span><span class="sxs-lookup"><span data-stu-id="376c7-615">-100</span></span>|<span data-ttu-id="376c7-616">Si è verificato un errore prima di selezionare il valore restituito.</span><span class="sxs-lookup"><span data-stu-id="376c7-616">Error encountered prior to selecting return value.</span></span>|  
|<span data-ttu-id="376c7-617">-101</span><span class="sxs-lookup"><span data-stu-id="376c7-617">-101</span></span>|<span data-ttu-id="376c7-618">Selezionando il valore restituito non si sono trovate righe.</span><span class="sxs-lookup"><span data-stu-id="376c7-618">No rows found when selecting return value.</span></span>|  
|<span data-ttu-id="376c7-619">-102</span><span class="sxs-lookup"><span data-stu-id="376c7-619">-102</span></span>|<span data-ttu-id="376c7-620">Si è verificato un errore di conversione durante la selezione del valore restituito.</span><span class="sxs-lookup"><span data-stu-id="376c7-620">Conversion error occurred when selecting return value.</span></span>|  
  
 <span data-ttu-id="376c7-621">**GO** [*count*]</span><span class="sxs-lookup"><span data-stu-id="376c7-621">**GO** [*count*]</span></span>  
 <span data-ttu-id="376c7-622">GO indica sia la fine di un batch che l'esecuzione di eventuali istruzioni [!INCLUDE[tsql](../includes/tsql-md.md)] memorizzate nella cache.</span><span class="sxs-lookup"><span data-stu-id="376c7-622">GO signals both the end of a batch and the execution of any cached [!INCLUDE[tsql](../includes/tsql-md.md)] statements.</span></span> <span data-ttu-id="376c7-623">Se si specifica un valore per *count*, le istruzioni memorizzate nella cache verranno eseguite come batch singolo il numero di volte specificato da *count* .</span><span class="sxs-lookup"><span data-stu-id="376c7-623">When specifying a value for *count*, the cached statements will be executed *count* times, as a single batch.</span></span>  
  
 <span data-ttu-id="376c7-624">**Comandi vari**</span><span class="sxs-lookup"><span data-stu-id="376c7-624">**Miscellaneous Commands**</span></span>  
  <span data-ttu-id="376c7-625">**: r\<** _filename_ **>**</span><span class="sxs-lookup"><span data-stu-id="376c7-625">**:r \<** _filename_ **>**</span></span>  
 <span data-ttu-id="376c7-626">Analizza le [!INCLUDE[tsql](../includes/tsql-md.md)] istruzioni e i `sqlcmd` comandi aggiuntivi dal file specificato da **<*`filename`*>** nella cache delle istruzioni.</span><span class="sxs-lookup"><span data-stu-id="376c7-626">Parses additional [!INCLUDE[tsql](../includes/tsql-md.md)] statements and `sqlcmd` commands from the file specified by **<*`filename`*>** into the statement cache.</span></span>  
  
 <span data-ttu-id="376c7-627">Se il file contiene istruzioni [!INCLUDE[tsql](../includes/tsql-md.md)] non seguite da **GO**, è necessario immettere **GO** nella riga successiva a **:r**.</span><span class="sxs-lookup"><span data-stu-id="376c7-627">If the file contains [!INCLUDE[tsql](../includes/tsql-md.md)] statements that are not followed by **GO**, you must enter **GO** on the line that follows **:r**.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="376c7-628">**\<** _filename_ **>** viene letto in relazione alla directory di avvio in cui `sqlcmd` è stato eseguito.</span><span class="sxs-lookup"><span data-stu-id="376c7-628">**\<** _filename_ **>** is read relative to the startup directory in which `sqlcmd` was run.</span></span>  
  
 <span data-ttu-id="376c7-629">Il file verrà letto ed eseguito dopo che è stato rilevato un carattere di terminazione di batch.</span><span class="sxs-lookup"><span data-stu-id="376c7-629">The file will be read and executed after a batch terminator is encountered.</span></span> <span data-ttu-id="376c7-630">È possibile eseguire più comandi **:r** .</span><span class="sxs-lookup"><span data-stu-id="376c7-630">You can issue multiple **:r** commands.</span></span> <span data-ttu-id="376c7-631">Il file può contenere qualsiasi comando `sqlcmd`,</span><span class="sxs-lookup"><span data-stu-id="376c7-631">The file may include any `sqlcmd` command.</span></span> <span data-ttu-id="376c7-632">incluso il carattere di terminazione di batch **GO**.</span><span class="sxs-lookup"><span data-stu-id="376c7-632">This includes the batch terminator **GO**.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="376c7-633">Il conteggio delle righe visualizzato in modalità interattiva viene incrementato di 1 per ogni comando **:r** rilevato.</span><span class="sxs-lookup"><span data-stu-id="376c7-633">The line count that is displayed in interactive mode will be increased by one for every **:r** command encountered.</span></span> <span data-ttu-id="376c7-634">Il comando **:r** verrà visualizzato nell'output del comando LIST.</span><span class="sxs-lookup"><span data-stu-id="376c7-634">The **:r** command will appear in the output of the list command.</span></span>  
  
 <span data-ttu-id="376c7-635">**:Serverlist**</span><span class="sxs-lookup"><span data-stu-id="376c7-635">**:Serverlist**</span></span>  
 <span data-ttu-id="376c7-636">Elenca i server configurati localmente e i nomi dei server che trasmettono in rete tramite broadcast.</span><span class="sxs-lookup"><span data-stu-id="376c7-636">Lists the locally configured servers and the names of the servers broadcasting on the network.</span></span>  
  
 <span data-ttu-id="376c7-637">**: Connect** _server_name_[ **\\** _instance_name_] [-l *timeout*] [-U *user_name* [-P *password*]]</span><span class="sxs-lookup"><span data-stu-id="376c7-637">**:Connect** _server_name_[**\\**_instance_name_] [-l *timeout*] [-U *user_name* [-P *password*]]</span></span>  
 <span data-ttu-id="376c7-638">Stabilisce la connessione a un'istanza di [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="376c7-638">Connects to an instance of [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="376c7-639">e inoltre chiude la connessione corrente.</span><span class="sxs-lookup"><span data-stu-id="376c7-639">Also closes the current connection.</span></span>  
  
 <span data-ttu-id="376c7-640">Opzioni di timeout:</span><span class="sxs-lookup"><span data-stu-id="376c7-640">Time-out options:</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="376c7-641">0</span><span class="sxs-lookup"><span data-stu-id="376c7-641">0</span></span>|<span data-ttu-id="376c7-642">attesa infinita</span><span class="sxs-lookup"><span data-stu-id="376c7-642">wait forever</span></span>|  
|<span data-ttu-id="376c7-643">n>0</span><span class="sxs-lookup"><span data-stu-id="376c7-643">n>0</span></span>|<span data-ttu-id="376c7-644">attesa di n secondi</span><span class="sxs-lookup"><span data-stu-id="376c7-644">wait for n seconds</span></span>|  
  
 <span data-ttu-id="376c7-645">La variabile di scripting SQLCMDSERVER si adatterà alla connessione attiva corrente.</span><span class="sxs-lookup"><span data-stu-id="376c7-645">The SQLCMDSERVER scripting variable will reflect the current active connection.</span></span>  
  
 <span data-ttu-id="376c7-646">Se *timeout* viene omesso, il valore predefinito corrisponde al valore della variabile SQLCMDLOGINTIMEOUT.</span><span class="sxs-lookup"><span data-stu-id="376c7-646">If *timeout* is not specified, the value of the SQLCMDLOGINTIMEOUT variable is the default.</span></span>  
  
 <span data-ttu-id="376c7-647">Se si specifica solo *user_name* , come opzione o come variabile di ambiente, all'utente verrà chiesto di immettere una password.</span><span class="sxs-lookup"><span data-stu-id="376c7-647">If only *user_name* is specified (either as an option, or as an environment variable), the user will be prompted to enter a password.</span></span> <span data-ttu-id="376c7-648">Ciò non si verifica se è stata impostata la variabile di ambiente SQLCMDUSER o SQLCMDPASSWORD.</span><span class="sxs-lookup"><span data-stu-id="376c7-648">This is not true if the SQLCMDUSER or SQLCMDPASSWORD environment variables have been set.</span></span> <span data-ttu-id="376c7-649">Se non si specificano opzioni o variabili di ambiente, per la connessione verrà utilizzata la modalità di autenticazione di Windows.</span><span class="sxs-lookup"><span data-stu-id="376c7-649">If neither options nor environment variables are provided, Windows Authentication mode is used to login.</span></span> <span data-ttu-id="376c7-650">Per connettersi all'istanza `instance1`di [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)]`myserver`utilizzando la sicurezza integrata, ad esempio, specificare:</span><span class="sxs-lookup"><span data-stu-id="376c7-650">For example to connect to an instance, `instance1`, of [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)], `myserver`, by using integrated security you would use the following:</span></span>  
  
 `:connect myserver\instance1`  
  
 <span data-ttu-id="376c7-651">Per connettersi all'istanza predefinita di `myserver` utilizzando le variabili di scripting, specificare:</span><span class="sxs-lookup"><span data-stu-id="376c7-651">To connect to the default instance of `myserver` using scripting variables, you would use the following:</span></span>  
  
 `:setvar myusername test`  
  
 `:setvar myservername myserver`  
  
 `:connect $(myservername) $(myusername)`  
  
 <span data-ttu-id="376c7-652">[**:**] **!!**\< *command*></span><span class="sxs-lookup"><span data-stu-id="376c7-652">[**:**] **!!**\< *command*></span></span>  
 <span data-ttu-id="376c7-653">Esegue i comandi del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="376c7-653">Executes operating system commands.</span></span> <span data-ttu-id="376c7-654">Per eseguire un comando del sistema operativo, digitare due punti esclamativi all'inizio della riga ( **!!** ) seguiti dal comando del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="376c7-654">To execute an operating system command, start a line with two exclamation marks (**!!**) followed by the operating system command.</span></span> <span data-ttu-id="376c7-655">Ad esempio:</span><span class="sxs-lookup"><span data-stu-id="376c7-655">For example:</span></span>  
  
 `:!! Dir`  
  
> [!NOTE]  
>  <span data-ttu-id="376c7-656">Il comando viene eseguito nel computer in cui è in esecuzione `sqlcmd`.</span><span class="sxs-lookup"><span data-stu-id="376c7-656">The command is executed on the computer on which `sqlcmd` is running.</span></span>  
  
 <span data-ttu-id="376c7-657">**:XML** [**ON** | **OFF**]</span><span class="sxs-lookup"><span data-stu-id="376c7-657">**:XML** [**ON** | **OFF**]</span></span>  
 <span data-ttu-id="376c7-658">Per ulteriori informazioni, vedere "Formato di output XML" di seguito in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="376c7-658">For more information, see "XML Output Format," later in this topic</span></span>  
  
 <span data-ttu-id="376c7-659">**:Help**</span><span class="sxs-lookup"><span data-stu-id="376c7-659">**:Help**</span></span>  
 <span data-ttu-id="376c7-660">Elenca i comandi `sqlcmd` con una breve descrizione di ogni comando.</span><span class="sxs-lookup"><span data-stu-id="376c7-660">Lists `sqlcmd` commands together with a short description of each command.</span></span>  
  
### <a name="sqlcmd-file-names"></a><span data-ttu-id="376c7-661">Nomi di file per sqlcmd</span><span class="sxs-lookup"><span data-stu-id="376c7-661">sqlcmd File Names</span></span>  
 <span data-ttu-id="376c7-662">`sqlcmd`è possibile specificare i file di input con l'opzione **-i** o il comando **: r** .</span><span class="sxs-lookup"><span data-stu-id="376c7-662">`sqlcmd` input files can be specified with the **-i** option or the **:r** command.</span></span> <span data-ttu-id="376c7-663">I file di output possono essere specificati con l'opzione **-o** oppure con i comandi **:Error**, **:Out** e **:Perftrace** .</span><span class="sxs-lookup"><span data-stu-id="376c7-663">Output files can be specified with the **-o** option or the **:Error**, **:Out** and **:Perftrace** commands.</span></span> <span data-ttu-id="376c7-664">Di seguito vengono illustrate alcune linee guida per l'utilizzo di tali file:</span><span class="sxs-lookup"><span data-stu-id="376c7-664">The following are some guidelines for working with these files:</span></span>  
  
-   <span data-ttu-id="376c7-665">**: Error**, **: out** e **:P erftrace** devono usare il separatore **<*`filename`*>** .</span><span class="sxs-lookup"><span data-stu-id="376c7-665">**:Error**, **:Out** and **:Perftrace** should use separate **<*`filename`*>**.</span></span> <span data-ttu-id="376c7-666">Se si usa lo stesso oggetto **<*`filename`*>** , gli input dei comandi possono essere misti.</span><span class="sxs-lookup"><span data-stu-id="376c7-666">If the same **<*`filename`*>** is used, inputs from the commands may be intermixed.</span></span>  
  
-   <span data-ttu-id="376c7-667">Se un file di input che risiede in un server remoto viene chiamato da `sqlcmd` in un computer locale e contiene un percorso di file con unità come :out c:\OutputFile.txt,</span><span class="sxs-lookup"><span data-stu-id="376c7-667">If an input file that is located on a remote server is called from `sqlcmd` on a local computer and the file contains a drive file path such as :out c:\OutputFile.txt.</span></span> <span data-ttu-id="376c7-668">il file di output verrà creato nel computer locale e non nel server remoto.</span><span class="sxs-lookup"><span data-stu-id="376c7-668">The output file will be created on the local computer and not on the remote server.</span></span>  
  
-   <span data-ttu-id="376c7-669">I percorsi di file validi includono: C: \\ **<*`filename`*>** , \\ \\<server \> \\<Share $>\\ **<*`filename`*>** e "c:\Cartella\ Folder \\ **<*`file name`*>** ".</span><span class="sxs-lookup"><span data-stu-id="376c7-669">Valid file paths include: C:\\**<*`filename`*>**, \\\\<Server\>\\<Share$>\\**<*`filename`*>** and "C:\Some Folder\\**<*`file name`*>**".</span></span> <span data-ttu-id="376c7-670">Se il percorso contiene uno spazio, utilizzare le virgolette.</span><span class="sxs-lookup"><span data-stu-id="376c7-670">If there is a space in the path, use quotation marks.</span></span>  
  
-   <span data-ttu-id="376c7-671">Ogni nuova sessione di `sqlcmd` sovrascriverà i file esistenti con gli stessi nomi.</span><span class="sxs-lookup"><span data-stu-id="376c7-671">Each new `sqlcmd` session will overwrite existing files that have the same names.</span></span>  
  
### <a name="informational-messages"></a><span data-ttu-id="376c7-672">Messaggi informativi</span><span class="sxs-lookup"><span data-stu-id="376c7-672">Informational Messages</span></span>  
 <span data-ttu-id="376c7-673">`sqlcmd` stampa qualsiasi messaggio informativo inviato dal server.</span><span class="sxs-lookup"><span data-stu-id="376c7-673">`sqlcmd` prints any informational message that are sent by the server.</span></span> <span data-ttu-id="376c7-674">Nell'esempio seguente al termine dell'esecuzione delle istruzioni [!INCLUDE[tsql](../includes/tsql-md.md)] viene stampato un messaggio informativo.</span><span class="sxs-lookup"><span data-stu-id="376c7-674">In the following example, after the [!INCLUDE[tsql](../includes/tsql-md.md)] statements are executed, an informational message is printed.</span></span>  
  
 <span data-ttu-id="376c7-675">Al prompt dei comandi digitare quanto segue:</span><span class="sxs-lookup"><span data-stu-id="376c7-675">At the command prompt, type the following:</span></span>  
  
 `sqlcmd`  
  
 `At the sqlcmd prompt type:`  
  
 `USE AdventureWorks2012;`  
  
 `GO`  
  
 <span data-ttu-id="376c7-676">Quando si preme INVIO, viene visualizzato il messaggio informativo seguente: "Il contesto di database è stato sostituito con 'AdventureWorks2012'."</span><span class="sxs-lookup"><span data-stu-id="376c7-676">When you press ENTER, the following informational message is printed: "Changed database context to 'AdventureWorks2012'."</span></span>  
  
### <a name="output-format-from-transact-sql-queries"></a><span data-ttu-id="376c7-677">Formato di output delle query Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="376c7-677">Output Format from Transact-SQL Queries</span></span>  
 <span data-ttu-id="376c7-678">`sqlcmd` stampa innanzitutto un'intestazione di colonna contenente i nomi delle colonne specificati nell'elenco di selezione.</span><span class="sxs-lookup"><span data-stu-id="376c7-678">`sqlcmd` first prints a column header that contains the column names specified in the select list.</span></span> <span data-ttu-id="376c7-679">I nomi di colonna sono delimitati tramite il carattere specificato da SQLCMDCOLSEP.</span><span class="sxs-lookup"><span data-stu-id="376c7-679">The column names are separated by using the SQLCMDCOLSEP character.</span></span> <span data-ttu-id="376c7-680">Per impostazione predefinita, viene utilizzato uno spazio.</span><span class="sxs-lookup"><span data-stu-id="376c7-680">By default, this is a space.</span></span> <span data-ttu-id="376c7-681">Se la lunghezza del nome di colonna è minore della larghezza della colonna, nell'output vengono inseriti caratteri di riempimento fino alla colonna successiva.</span><span class="sxs-lookup"><span data-stu-id="376c7-681">If the column name is shorter than the column width, the output is padded with spaces up to the next column.</span></span>  
  
 <span data-ttu-id="376c7-682">La riga sarà seguita da una riga di separazione costituita da una serie di trattini.</span><span class="sxs-lookup"><span data-stu-id="376c7-682">This line will be followed by a separator line that is a series of dash characters.</span></span> <span data-ttu-id="376c7-683">Di seguito è riportato un esempio di output.</span><span class="sxs-lookup"><span data-stu-id="376c7-683">The following output shows an example.</span></span>  
  
 <span data-ttu-id="376c7-684">Avviare `sqlcmd`.</span><span class="sxs-lookup"><span data-stu-id="376c7-684">Start `sqlcmd`.</span></span> <span data-ttu-id="376c7-685">Al prompt dei comandi `sqlcmd` digitare quanto segue:</span><span class="sxs-lookup"><span data-stu-id="376c7-685">At the `sqlcmd` command prompt, type the following:</span></span>  
  
 `USE AdventureWorks2012;`  
  
 `SELECT TOP (2) BusinessEntityID, FirstName, LastName`  
  
 `FROM Person.Person;`  
  
 `GO`  
  
 <span data-ttu-id="376c7-686">Quando si preme INVIO, viene restituito il set di risultati seguente.</span><span class="sxs-lookup"><span data-stu-id="376c7-686">When you press ENTER, the following result set is returned.</span></span>  
  
 `BusinessEntityID FirstName    LastName`  
  
 `---------------- ------------ ----------`  
  
 `285              Syed         Abbas`  
  
 `293              Catherine    Abel`  
  
 `(2 row(s) affected)`  
  
 <span data-ttu-id="376c7-687">Nonostante la larghezza della colonna `BusinessEntityID` sia soltanto di 4 caratteri, la colonna viene espansa in modo da contenere un nome di colonna più lungo.</span><span class="sxs-lookup"><span data-stu-id="376c7-687">Although the `BusinessEntityID` column is only 4 characters wide, it has been expanded to accommodate the longer column name.</span></span> <span data-ttu-id="376c7-688">Per impostazione predefinita, l'output viene troncato a 80 caratteri.</span><span class="sxs-lookup"><span data-stu-id="376c7-688">By default, output is terminated at 80 characters.</span></span> <span data-ttu-id="376c7-689">Questo valore può essere modificato usando l'opzione **-w** oppure impostando la variabile di scripting SQLCMDCOLWIDTH.</span><span class="sxs-lookup"><span data-stu-id="376c7-689">This can be changed by using the **-w** option, or by setting the SQLCMDCOLWIDTH scripting variable.</span></span>  
  
### <a name="xml-output-format"></a><span data-ttu-id="376c7-690">Formato di output XML</span><span class="sxs-lookup"><span data-stu-id="376c7-690">XML Output Format</span></span>  
 <span data-ttu-id="376c7-691">L'output XML risultante dalla clausola FOR XML viene restituito non formattato in un flusso continuo.</span><span class="sxs-lookup"><span data-stu-id="376c7-691">XML output that is the result of a FOR XML clause is output, unformatted, in a continuous stream.</span></span>  
  
 <span data-ttu-id="376c7-692">Quando è previsto output XML, utilizzare il comando: `:XML ON`.</span><span class="sxs-lookup"><span data-stu-id="376c7-692">When you expect XML output, use the following command: `:XML ON`.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="376c7-693">`sqlcmd` restituisce messaggi di errore nel formato standard.</span><span class="sxs-lookup"><span data-stu-id="376c7-693">`sqlcmd` returns error messages in the usual format.</span></span> <span data-ttu-id="376c7-694">Si noti che anche l'output dei messaggi di errore viene generato nel flusso di testo XML in formato XML.</span><span class="sxs-lookup"><span data-stu-id="376c7-694">Notice that the error messages are also output in the XML text stream in XML format.</span></span> <span data-ttu-id="376c7-695">Utilizzando `:XML ON`, `sqlcmd` non visualizza messaggi informativi.</span><span class="sxs-lookup"><span data-stu-id="376c7-695">By using `:XML ON`, `sqlcmd` does not display informational messages.</span></span>  
  
 <span data-ttu-id="376c7-696">Per disattivare la modalità XML, utilizzare il comando: `:XML OFF`.</span><span class="sxs-lookup"><span data-stu-id="376c7-696">To set the XML mode off, use the following command: `:XML OFF`.</span></span>  
  
 <span data-ttu-id="376c7-697">Il comando GO non deve essere immesso prima dell'esecuzione del comando XML OFF, poiché il comando XML OFF reimposta `sqlcmd` sull'output orientato alle righe.</span><span class="sxs-lookup"><span data-stu-id="376c7-697">The GO command should not appear before the XML OFF command is issued because the XML OFF command switches `sqlcmd` back to row-oriented output.</span></span>  
  
 <span data-ttu-id="376c7-698">Non possono essere contemporaneamente presenti dati XML (di flusso) e dati del set di righe.</span><span class="sxs-lookup"><span data-stu-id="376c7-698">XML (streamed) data and rowset data cannot be mixed.</span></span> <span data-ttu-id="376c7-699">Se il comando XML ON non è stato eseguito prima dell'esecuzione di un'istruzione [!INCLUDE[tsql](../includes/tsql-md.md)] che genera flussi XML, l'output non verrà visualizzato correttamente.</span><span class="sxs-lookup"><span data-stu-id="376c7-699">If the XML ON command has not been issued before a [!INCLUDE[tsql](../includes/tsql-md.md)] statement that outputs XML streams is executed, the output will be garbled.</span></span> <span data-ttu-id="376c7-700">Se il comando XML ON è stato eseguito, non è possibile eseguire istruzioni [!INCLUDE[tsql](../includes/tsql-md.md)] che generano normali set di righe come output.</span><span class="sxs-lookup"><span data-stu-id="376c7-700">If the XML ON command has been issued, you cannot execute [!INCLUDE[tsql](../includes/tsql-md.md)] statements that output regular row sets.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="376c7-701">Il comando **:XML** non supporta l'istruzione SET STATISTICS XML.</span><span class="sxs-lookup"><span data-stu-id="376c7-701">The **:XML** command does not support the SET STATISTICS XML statement.</span></span>  
  
## <a name="sqlcmd-best-practices"></a><span data-ttu-id="376c7-702">Procedure consigliate per sqlcmd</span><span class="sxs-lookup"><span data-stu-id="376c7-702">sqlcmd Best Practices</span></span>  
 <span data-ttu-id="376c7-703">Utilizzare le procedure seguenti per ottimizzare i livelli di sicurezza ed efficienza.</span><span class="sxs-lookup"><span data-stu-id="376c7-703">Use the following practices to help maximize security and efficiency.</span></span>  
  
-   <span data-ttu-id="376c7-704">Utilizzare la sicurezza integrata.</span><span class="sxs-lookup"><span data-stu-id="376c7-704">Use integrated security.</span></span>  
  
-   <span data-ttu-id="376c7-705">Utilizzare `-X` negli ambienti automatizzati.</span><span class="sxs-lookup"><span data-stu-id="376c7-705">Use `-X` in automated environments.</span></span>  
  
-   <span data-ttu-id="376c7-706">Proteggere i file di input e di output utilizzando autorizzazioni del file system NTFS appropriate.</span><span class="sxs-lookup"><span data-stu-id="376c7-706">Secure input and output files by using appropriate NTFS file system permissions.</span></span>  
  
-   <span data-ttu-id="376c7-707">Per incrementare le prestazioni, eseguire il maggior numero di operazioni possibile in un'unica sessione di `sqlcmd`, anziché in una serie di sessioni.</span><span class="sxs-lookup"><span data-stu-id="376c7-707">To increase performance, do as much in one `sqlcmd` session as you can, instead of in a series of sessions.</span></span>  
  
-   <span data-ttu-id="376c7-708">Per l'esecuzione di batch o query, impostare valori di timeout superiori rispetto al tempo che si prevede sarà necessario per eseguire il batch o la query.</span><span class="sxs-lookup"><span data-stu-id="376c7-708">Set time-out values for batch or query execution higher than you expect it will take to execute the batch or query.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="376c7-709">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="376c7-709">See Also</span></span>  
 <span data-ttu-id="376c7-710">[Avvio dell'utilità sqlcmd](../relational-databases/scripting/sqlcmd-start-the-utility.md) </span><span class="sxs-lookup"><span data-stu-id="376c7-710">[Start the sqlcmd Utility](../relational-databases/scripting/sqlcmd-start-the-utility.md) </span></span>  
 <span data-ttu-id="376c7-711">[Esecuzione di file script Transact-SQL mediante sqlcmd](../relational-databases/scripting/sqlcmd-run-transact-sql-script-files.md) </span><span class="sxs-lookup"><span data-stu-id="376c7-711">[Run Transact-SQL Script Files Using sqlcmd](../relational-databases/scripting/sqlcmd-run-transact-sql-script-files.md) </span></span>  
 <span data-ttu-id="376c7-712">[Utilizzo dell'utilità sqlcmd](../relational-databases/scripting/sqlcmd-use-the-utility.md) </span><span class="sxs-lookup"><span data-stu-id="376c7-712">[Use the sqlcmd Utility](../relational-databases/scripting/sqlcmd-use-the-utility.md) </span></span>  
 <span data-ttu-id="376c7-713">[Utilizzo di sqlcmd con variabili di scripting](../relational-databases/scripting/sqlcmd-use-with-scripting-variables.md) </span><span class="sxs-lookup"><span data-stu-id="376c7-713">[Use sqlcmd with Scripting Variables](../relational-databases/scripting/sqlcmd-use-with-scripting-variables.md) </span></span>  
 <span data-ttu-id="376c7-714">[Connessione al Motore di database tramite sqlcmd](../relational-databases/scripting/sqlcmd-connect-to-the-database-engine.md) </span><span class="sxs-lookup"><span data-stu-id="376c7-714">[Connect to the Database Engine With sqlcmd](../relational-databases/scripting/sqlcmd-connect-to-the-database-engine.md) </span></span>  
 <span data-ttu-id="376c7-715">[Modifica di script SQLCMD con l'editor di query](../relational-databases/scripting/edit-sqlcmd-scripts-with-query-editor.md) </span><span class="sxs-lookup"><span data-stu-id="376c7-715">[Edit SQLCMD Scripts with Query Editor](../relational-databases/scripting/edit-sqlcmd-scripts-with-query-editor.md) </span></span>  
 <span data-ttu-id="376c7-716">[Gestire passaggi di processo](../ssms/agent/manage-job-steps.md) </span><span class="sxs-lookup"><span data-stu-id="376c7-716">[Manage Job Steps](../ssms/agent/manage-job-steps.md) </span></span>  
 [<span data-ttu-id="376c7-717">Creare un passaggio di processo CmdExec</span><span class="sxs-lookup"><span data-stu-id="376c7-717">Create a CmdExec Job Step</span></span>](../ssms/agent/create-a-cmdexec-job-step.md)  
  
  
