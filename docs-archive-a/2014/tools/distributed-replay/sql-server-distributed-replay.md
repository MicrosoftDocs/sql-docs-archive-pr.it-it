---
title: Riesecuzione distribuita SQL Server | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: tools-other
ms.topic: conceptual
helpviewer_keywords:
- Distributed Replay
- SQL Server Distributed Replay
ms.assetid: 58ef7016-b105-42c2-90a0-364f411849a4
author: stevestein
ms.author: sstein
ms.openlocfilehash: b832cb8a8d8a38815b13b82a7af8eefc2fb81427
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87711368"
---
# <a name="sql-server-distributed-replay"></a><span data-ttu-id="205cf-102">SQL Server Distributed Replay</span><span class="sxs-lookup"><span data-stu-id="205cf-102">SQL Server Distributed Replay</span></span>
  <span data-ttu-id="205cf-103">La funzionalità Riesecuzione distribuita di [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] consente di valutare l'impatto dei futuri aggiornamenti di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="205cf-103">The [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Distributed Replay feature helps you assess the impact of future [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] upgrades.</span></span> <span data-ttu-id="205cf-104">È possibile usarla anche per valutare l'impatto degli aggiornamenti hardware e del sistema operativo e dell'ottimizzazione di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="205cf-104">You can also use it to help assess the impact of hardware and operating system upgrades, and [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] tuning.</span></span>

## <a name="benefits-of-distributed-replay"></a><span data-ttu-id="205cf-105">Vantaggi di Distributed Replay</span><span class="sxs-lookup"><span data-stu-id="205cf-105">Benefits of Distributed Replay</span></span>
 <span data-ttu-id="205cf-106">Analogamente a [!INCLUDE[ssSqlProfiler](../../../includes/sssqlprofiler-md.md)], è possibile utilizzare Distributed Replay per riprodurre una traccia acquisita su un ambiente di testing aggiornato.</span><span class="sxs-lookup"><span data-stu-id="205cf-106">Similar to [!INCLUDE[ssSqlProfiler](../../../includes/sssqlprofiler-md.md)], you can use Distributed Replay to replay a captured trace against an upgraded test environment.</span></span> <span data-ttu-id="205cf-107">Diversamente da [!INCLUDE[ssSqlProfiler](../../../includes/sssqlprofiler-md.md)], Distributed Replay non si limita alla riproduzione del carico di lavoro da un singolo computer,</span><span class="sxs-lookup"><span data-stu-id="205cf-107">Unlike [!INCLUDE[ssSqlProfiler](../../../includes/sssqlprofiler-md.md)], Distributed Replay is not limited to replaying the workload from a single computer.</span></span>

 <span data-ttu-id="205cf-108">Distributed Replay offre una soluzione più scalabile rispetto a [!INCLUDE[ssSqlProfiler](../../../includes/sssqlprofiler-md.md)].</span><span class="sxs-lookup"><span data-stu-id="205cf-108">Distributed Replay offers a more scalable solution than [!INCLUDE[ssSqlProfiler](../../../includes/sssqlprofiler-md.md)].</span></span> <span data-ttu-id="205cf-109">Con Distributed Replay è possibile riprodurre un carico di lavoro da più computer e simulare in modo migliore un carico di lavoro di importanza critica.</span><span class="sxs-lookup"><span data-stu-id="205cf-109">With Distributed Replay, you can replay a workload from multiple computers and better simulate a mission-critical workload.</span></span>

 <span data-ttu-id="205cf-110">La funzionalità Riesecuzione distribuita di [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] può usare più computer per riprodurre dati di traccia e simulare un carico di lavoro di importanza critica.</span><span class="sxs-lookup"><span data-stu-id="205cf-110">The [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Distributed Replay feature can use multiple computers to replay trace data and simulate a mission-critical workload.</span></span> <span data-ttu-id="205cf-111">Utilizzare Distributed Replay per testare la compatibilità delle applicazioni e le prestazioni o per pianificare la capacità.</span><span class="sxs-lookup"><span data-stu-id="205cf-111">Use Distributed Replay for application compatibility testing, performance testing, or capacity planning.</span></span>

## <a name="when-to-use-distributed-replay"></a><span data-ttu-id="205cf-112">Quando utilizzare Distributed Replay</span><span class="sxs-lookup"><span data-stu-id="205cf-112">When to Use Distributed Replay</span></span>
 [!INCLUDE[ssSqlProfiler](../../../includes/sssqlprofiler-md.md)] <span data-ttu-id="205cf-113">e Riesecuzione distribuita offrono alcune funzionalità sovrapposte.</span><span class="sxs-lookup"><span data-stu-id="205cf-113">and Distributed Replay provide some overlap in functionality.</span></span>

 <span data-ttu-id="205cf-114">È possibile utilizzare [!INCLUDE[ssSqlProfiler](../../../includes/sssqlprofiler-md.md)] per riprodurre una traccia acquisita su un ambiente di testing aggiornato.</span><span class="sxs-lookup"><span data-stu-id="205cf-114">You may use [!INCLUDE[ssSqlProfiler](../../../includes/sssqlprofiler-md.md)] to replay a captured trace against an upgraded test environment.</span></span> <span data-ttu-id="205cf-115">È inoltre possibile analizzare i risultati di riproduzione per cercare possibili incompatibilità funzionali e di prestazioni.</span><span class="sxs-lookup"><span data-stu-id="205cf-115">You can also analyze the replay results to look for potential functional and performance incompatibilities.</span></span> <span data-ttu-id="205cf-116">Tuttavia, [!INCLUDE[ssSqlProfiler](../../../includes/sssqlprofiler-md.md)] può riprodurre solo un carico di lavoro da un singolo computer.</span><span class="sxs-lookup"><span data-stu-id="205cf-116">However, [!INCLUDE[ssSqlProfiler](../../../includes/sssqlprofiler-md.md)] can only replay a workload from a single computer.</span></span> <span data-ttu-id="205cf-117">Quando si riproduce un'applicazione OLTP intensiva che ha molte connessioni simultanee attive o una velocità effettiva elevata, [!INCLUDE[ssSqlProfiler](../../../includes/sssqlprofiler-md.md)] può costituire un collo di bottiglia per le risorse.</span><span class="sxs-lookup"><span data-stu-id="205cf-117">When replaying an intensive OLTP application that has many active concurrent connections or high throughput, [!INCLUDE[ssSqlProfiler](../../../includes/sssqlprofiler-md.md)] can become a resource bottleneck.</span></span>

 <span data-ttu-id="205cf-118">Distributed Replay offre una soluzione più scalabile rispetto a [!INCLUDE[ssSqlProfiler](../../../includes/sssqlprofiler-md.md)].</span><span class="sxs-lookup"><span data-stu-id="205cf-118">Distributed Replay offers a more scalable solution than [!INCLUDE[ssSqlProfiler](../../../includes/sssqlprofiler-md.md)].</span></span> <span data-ttu-id="205cf-119">Utilizzarlo per riprodurre un carico di lavoro da più computer e simulare in modo migliore un carico di lavoro di importanza critica.</span><span class="sxs-lookup"><span data-stu-id="205cf-119">Use Distributed Replay to replay a workload from multiple computers and better simulate a mission-critical workload.</span></span>

 <span data-ttu-id="205cf-120">Nella tabella seguente viene descritto quando utilizzare ciascuno strumento.</span><span class="sxs-lookup"><span data-stu-id="205cf-120">The following table describes when to use each tool.</span></span>

|<span data-ttu-id="205cf-121">Strumento</span><span class="sxs-lookup"><span data-stu-id="205cf-121">Tool</span></span>|<span data-ttu-id="205cf-122">Usare se...</span><span class="sxs-lookup"><span data-stu-id="205cf-122">Use When...</span></span>|
|----------|---------------|
|[!INCLUDE[ssSqlProfiler](../../../includes/sssqlprofiler-md.md)]|<span data-ttu-id="205cf-123">Si desidera utilizzare il meccanismo di riproduzione convenzionale in un singolo computer.</span><span class="sxs-lookup"><span data-stu-id="205cf-123">You want to use the conventional replay mechanism on a single computer.</span></span> <span data-ttu-id="205cf-124">In particolare, sono necessarie funzionalità di debug riga per riga, ad esempio i comandi **Passaggio**, **Esegui fino al cursore**e **Imposta/Rimuovi punto di interruzione** .</span><span class="sxs-lookup"><span data-stu-id="205cf-124">In particular, you need line-by-line debugging capabilities, such as the **Step**, **Run to Cursor**, and **Toggle Breakpoint** commands.</span></span><br /><br /> <span data-ttu-id="205cf-125">Si desidera riprodurre una traccia per [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="205cf-125">You want to replay an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] trace.</span></span>|
|<span data-ttu-id="205cf-126">Distributed Replay</span><span class="sxs-lookup"><span data-stu-id="205cf-126">Distributed Replay</span></span>|<span data-ttu-id="205cf-127">Si desidera valutare la compatibilità delle applicazioni.</span><span class="sxs-lookup"><span data-stu-id="205cf-127">You want to evaluate application compatibility.</span></span> <span data-ttu-id="205cf-128">Si desidera, ad esempio, testare scenari di aggiornamento di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] e del sistema operativo, gli aggiornamenti hardware o l'ottimizzazione degli indici.</span><span class="sxs-lookup"><span data-stu-id="205cf-128">For example, you want to test [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] and operating system upgrade scenarios, hardware upgrades, or index tuning.</span></span><br /><br /> <span data-ttu-id="205cf-129">La concorrenza nella traccia acquisita è talmente elevata che un singolo client di riproduzione non è in grado di simularla in modo appropriato.</span><span class="sxs-lookup"><span data-stu-id="205cf-129">The concurrency in the captured trace is so high that a single replay client cannot sufficiently simulate it.</span></span>|

## <a name="distributed-replay-concepts"></a><span data-ttu-id="205cf-130">Concetti di base di Distributed Replay</span><span class="sxs-lookup"><span data-stu-id="205cf-130">Distributed Replay Concepts</span></span>
 <span data-ttu-id="205cf-131">I componenti seguenti costituiscono l'ambiente di Distributed Replay:</span><span class="sxs-lookup"><span data-stu-id="205cf-131">The following components make up the Distributed Replay environment:</span></span>

-   <span data-ttu-id="205cf-132">**Strumento di amministrazione di riesecuzione distribuita**: un'applicazione console, `DReplay.exe` , utilizzata per comunicare con il controller di riesecuzione distribuita.</span><span class="sxs-lookup"><span data-stu-id="205cf-132">**Distributed Replay administration tool**: A console application, `DReplay.exe`, used to communicate with the distributed replay controller.</span></span> <span data-ttu-id="205cf-133">Utilizzare lo strumento di amministrazione per controllare la riproduzione distribuita.</span><span class="sxs-lookup"><span data-stu-id="205cf-133">Use the administration tool to control the distributed replay.</span></span>

-   <span data-ttu-id="205cf-134">**Controller di Riesecuzione distribuita**: computer che esegue il servizio di Windows denominato controller di Riesecuzione distribuita di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="205cf-134">**Distributed Replay controller**: A computer running the Windows service named [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Distributed Replay controller.</span></span> <span data-ttu-id="205cf-135">Con il controller di Riesecuzione distribuita è possibile orchestrare le azioni dei client Riesecuzione distribuita.</span><span class="sxs-lookup"><span data-stu-id="205cf-135">The Distributed Replay controller orchestrates the actions of the distributed replay clients.</span></span> <span data-ttu-id="205cf-136">In ogni ambiente di Riesecuzione distribuita può essere presente una sola istanza del controller.</span><span class="sxs-lookup"><span data-stu-id="205cf-136">There can only be one controller instance in each Distributed Replay environment.</span></span>

-   <span data-ttu-id="205cf-137">**Client Riesecuzione distribuita**: uno o più computer (fisici o virtuali) che eseguono il servizio di Windows denominati client Riesecuzione distribuita di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="205cf-137">**Distributed Replay clients**: One or more computers (physical or virtual) running the Windows service named [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Distributed Replay client.</span></span> <span data-ttu-id="205cf-138">I client Riesecuzione distribuita vengono usati insieme per simulare carichi di lavoro in un'istanza di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="205cf-138">The Distributed Replay clients work together to simulate workloads against an instance of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="205cf-139">In ogni ambiente di Riesecuzione distribuita possono essere presenti uno o più client.</span><span class="sxs-lookup"><span data-stu-id="205cf-139">There can be one or more clients in each Distributed Replay environment.</span></span>

-   <span data-ttu-id="205cf-140">**Server di destinazione**: istanza di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] che i client Riesecuzione distribuita possono usare per riprodurre i dati di traccia.</span><span class="sxs-lookup"><span data-stu-id="205cf-140">**Target server**: An instance of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] that the Distributed Replay clients can use to replay trace data.</span></span> <span data-ttu-id="205cf-141">È consigliabile posizionare il server di destinazione in un ambiente di testing.</span><span class="sxs-lookup"><span data-stu-id="205cf-141">We recommend that the target server be located in a test environment.</span></span>

 <span data-ttu-id="205cf-142">Distributed Replay Administration Tool, Controller e Client possono essere installati in computer diversi o sullo stesso computer.</span><span class="sxs-lookup"><span data-stu-id="205cf-142">The Distributed Replay administration tool, controller, and client can be installed on different computers or the same computer.</span></span> <span data-ttu-id="205cf-143">Sullo stesso computer può essere in esecuzione una sola istanza del servizio Distributed Replay Controller o Client.</span><span class="sxs-lookup"><span data-stu-id="205cf-143">There can be only one instance of the Distributed Replay controller or client service that is running on the same computer.</span></span>

 <span data-ttu-id="205cf-144">Nella figura seguente viene mostrata l'architettura fisica di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Distributed Replay:</span><span class="sxs-lookup"><span data-stu-id="205cf-144">The following figure shows the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Distributed Replay physical architecture:</span></span>

 <span data-ttu-id="205cf-145">![Architettura di Riesecuzione distribuita](../../database-engine/media/distributedreplayarch.gif "Architettura di Riesecuzione distribuita")</span><span class="sxs-lookup"><span data-stu-id="205cf-145">![Distributed Replay Architecture](../../database-engine/media/distributedreplayarch.gif "Distributed Replay Architecture")</span></span>

## <a name="distributed-replay-tasks"></a><span data-ttu-id="205cf-146">Attività Distributed Replay</span><span class="sxs-lookup"><span data-stu-id="205cf-146">Distributed Replay Tasks</span></span>

|<span data-ttu-id="205cf-147">Descrizione dell'attività</span><span class="sxs-lookup"><span data-stu-id="205cf-147">Task Description</span></span>|<span data-ttu-id="205cf-148">Argomento</span><span class="sxs-lookup"><span data-stu-id="205cf-148">Topic</span></span>|
|----------------------|-----------|
|<span data-ttu-id="205cf-149">Viene descritto come configurare Distributed Replay.</span><span class="sxs-lookup"><span data-stu-id="205cf-149">Describes how to configure Distributed Replay.</span></span>|[<span data-ttu-id="205cf-150">Configurare Riesecuzione distribuita</span><span class="sxs-lookup"><span data-stu-id="205cf-150">Configure Distributed Replay</span></span>](configure-distributed-replay.md)|
|<span data-ttu-id="205cf-151">Viene descritto come preparare i dati di traccia di input.</span><span class="sxs-lookup"><span data-stu-id="205cf-151">Describes how to prepare the input trace data.</span></span>|[<span data-ttu-id="205cf-152">Preparare i dati di traccia di input</span><span class="sxs-lookup"><span data-stu-id="205cf-152">Prepare the Input Trace Data</span></span>](prepare-the-input-trace-data.md)|
|<span data-ttu-id="205cf-153">Viene descritto come riprodurre i dati di traccia.</span><span class="sxs-lookup"><span data-stu-id="205cf-153">Describes how to replay trace data.</span></span>|[<span data-ttu-id="205cf-154">Rieseguire i dati di traccia</span><span class="sxs-lookup"><span data-stu-id="205cf-154">Replay Trace Data</span></span>](replay-trace-data.md)|
|<span data-ttu-id="205cf-155">Viene descritto come rivedere i risultati dei dati di traccia di Distributed Replay.</span><span class="sxs-lookup"><span data-stu-id="205cf-155">Describes how to review the Distributed Replay trace data results.</span></span>|[<span data-ttu-id="205cf-156">Esaminare i risultati della riesecuzione</span><span class="sxs-lookup"><span data-stu-id="205cf-156">Review the Replay Results</span></span>](review-the-replay-results.md)|
|<span data-ttu-id="205cf-157">Viene descritto come usare lo strumento di amministrazione per avviare, monitorare e annullare operazioni nel controller.</span><span class="sxs-lookup"><span data-stu-id="205cf-157">Describes how to use the administration tool to initiate, monitor, and cancel operations on the controller.</span></span>|[<span data-ttu-id="205cf-158">Opzioni della riga di comando dello strumento di amministrazione &#40;Utilità Riesecuzione distribuita&#41;</span><span class="sxs-lookup"><span data-stu-id="205cf-158">Administration Tool Command-line Options &#40;Distributed Replay Utility&#41;</span></span>](administration-tool-command-line-options-distributed-replay-utility.md)|

## <a name="see-also"></a><span data-ttu-id="205cf-159">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="205cf-159">See Also</span></span>
 <span data-ttu-id="205cf-160">[SQL Server Forum riesecuzione distribuita](https://social.technet.microsoft.com/Forums/sl/sqldru/) [utilizzando riesecuzione distribuita per eseguire il test di carico del SQL Server-parte 2](https://docs.microsoft.com/archive/blogs/msdn/mspfe/using-distributed-replay-to-load-test-your-sql-serverpart-2) [utilizzando riesecuzione distribuita per eseguire il test di carico del SQL Server-parte 1](https://docs.microsoft.com/archive/blogs/batuhanyildiz/using-distributed-replay-to-load-test-your-sql-serverpart-1)</span><span class="sxs-lookup"><span data-stu-id="205cf-160">[SQL Server Distributed Replay Forum](https://social.technet.microsoft.com/Forums/sl/sqldru/) [Using Distributed Replay to Load Test Your SQL Server - Part 2](https://docs.microsoft.com/archive/blogs/msdn/mspfe/using-distributed-replay-to-load-test-your-sql-serverpart-2) [Using Distributed Replay to Load Test Your SQL Server - Part 1](https://docs.microsoft.com/archive/blogs/batuhanyildiz/using-distributed-replay-to-load-test-your-sql-serverpart-1)</span></span>


