---
title: 'Lezione 5: creare relazioni | Microsoft Docs'
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: abac1a00-f827-4c3e-a473-6db5c8a3a66f
author: minewiskan
ms.author: owend
ms.openlocfilehash: f622f88d4d400fedf24e99059eda94882b1bcc3f
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87718863"
---
# <a name="lesson-5-create-relationships"></a><span data-ttu-id="2e0b4-102">Lezione 5: Crea relazioni</span><span class="sxs-lookup"><span data-stu-id="2e0b4-102">Lesson 5: Create Relationships</span></span>
  <span data-ttu-id="2e0b4-103">In questa lezione verranno verificate le relazioni create automaticamente al momento dell'importazione dei dati e verranno aggiunte nuove relazioni tra tabelle diverse.</span><span class="sxs-lookup"><span data-stu-id="2e0b4-103">In this lesson, you will verify the relationships that were created automatically when you imported data and add new relationships between different tables.</span></span> <span data-ttu-id="2e0b4-104">Una relazione è una connessione tra due tabelle che stabilisce in che modo devono essere correlati i dati nelle due tabelle.</span><span class="sxs-lookup"><span data-stu-id="2e0b4-104">A relationship is a connection between two tables that establishes how the data in those tables should be correlated.</span></span> <span data-ttu-id="2e0b4-105">Tra la tabella Product e la tabella Product Subcategory vi è ad esempio una relazione basata sul fatto che ogni prodotto appartiene a una sottocategoria.</span><span class="sxs-lookup"><span data-stu-id="2e0b4-105">For example, the Product table and the Product Subcategory table have a relationship based on the fact that each product belongs to a subcategory.</span></span> <span data-ttu-id="2e0b4-106">Per altre informazioni, vedere [Relazioni &#40;SSAS tabulare&#41;](tabular-models/relationships-ssas-tabular.md).</span><span class="sxs-lookup"><span data-stu-id="2e0b4-106">To learn more, see [Relationships &#40;SSAS Tabular&#41;](tabular-models/relationships-ssas-tabular.md).</span></span>  
  
 <span data-ttu-id="2e0b4-107">Tempo previsto per il completamento della lezione: **10 minuti**</span><span class="sxs-lookup"><span data-stu-id="2e0b4-107">Estimated time to complete this lesson: **10 minutes**</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="2e0b4-108">Prerequisiti</span><span class="sxs-lookup"><span data-stu-id="2e0b4-108">Prerequisites</span></span>  
 <span data-ttu-id="2e0b4-109">Questo argomento fa parte di un'esercitazione sulla creazione di modelli tabulari, con lezioni che è consigliabile completare nell'ordine indicato.</span><span class="sxs-lookup"><span data-stu-id="2e0b4-109">This topic is part of a tabular modeling tutorial, which should be completed in order.</span></span> <span data-ttu-id="2e0b4-110">Prima di eseguire le attività in questa lezione è necessario aver completato la lezione precedente: [Lezione 3: Rinominare colonne](rename-columns.md).</span><span class="sxs-lookup"><span data-stu-id="2e0b4-110">Before performing the tasks in this lesson, you should have completed the previous lesson: [Lesson 3: Rename Columns](rename-columns.md).</span></span>  
  
## <a name="review-existing-relationships-and-add-new-relationships"></a><span data-ttu-id="2e0b4-111">Esaminare le relazioni esistenti e aggiungere nuove relazioni</span><span class="sxs-lookup"><span data-stu-id="2e0b4-111">Review Existing Relationships and Add New Relationships</span></span>  
 <span data-ttu-id="2e0b4-112">Quando sono stati importati i dati utilizzando l'Importazione guidata tabella, sono state importate sette tabelle del database AdventureWorksDW.</span><span class="sxs-lookup"><span data-stu-id="2e0b4-112">When you imported data by using the Table Import Wizard, you imported seven tables from the AdventureWorksDW database.</span></span> <span data-ttu-id="2e0b4-113">In genere, se si importano dati da un'origine relazionale, le relazioni esistenti vengono importate automaticamente insieme ai dati.</span><span class="sxs-lookup"><span data-stu-id="2e0b4-113">Generally, if you import data from a relational source, existing relationships are automatically imported together with the data.</span></span> <span data-ttu-id="2e0b4-114">Tuttavia, prima di procedere alla creazione del modello è necessario verificare che le relazioni create tra le tabelle siano appropriate.</span><span class="sxs-lookup"><span data-stu-id="2e0b4-114">However, before you proceed with authoring your model you should verify those relationships between tables were created properly.</span></span> <span data-ttu-id="2e0b4-115">Per questa esercitazione, verranno inoltre aggiunte tre nuove relazioni.</span><span class="sxs-lookup"><span data-stu-id="2e0b4-115">For this tutorial, you will also add three new relationships.</span></span>  
  
#### <a name="to-review-existing-relationships"></a><span data-ttu-id="2e0b4-116">Per esaminare le relazioni esistenti</span><span class="sxs-lookup"><span data-stu-id="2e0b4-116">To review existing relationships</span></span>  
  
1.  <span data-ttu-id="2e0b4-117">In [!INCLUDE[ssBIDevStudio](../includes/ssbidevstudio-md.md)]scegliere **Vista modelli** dal menu **Modello**, quindi fare clic su **Vista diagramma**.</span><span class="sxs-lookup"><span data-stu-id="2e0b4-117">In [!INCLUDE[ssBIDevStudio](../includes/ssbidevstudio-md.md)], click on the **Model** menu, then point to **Model View**, and then click **Diagram View**.</span></span>  
  
     <span data-ttu-id="2e0b4-118">La finestra Progettazione modelli viene ora visualizzata nella vista diagramma, un formato grafico in cui sono visualizzate tutte le tabelle importate, con linee tra di esse.</span><span class="sxs-lookup"><span data-stu-id="2e0b4-118">The model designer now appears in Diagram View, a graphical format displaying all of the tables you imported with lines between them.</span></span> <span data-ttu-id="2e0b4-119">Le linee tra le tabelle indicano le relazioni create automaticamente quando sono stati importati i dati.</span><span class="sxs-lookup"><span data-stu-id="2e0b4-119">The lines between tables indicate the relationships that were automatically created when you imported the data.</span></span>  
  
     <span data-ttu-id="2e0b4-120">Utilizzare i controlli della mini mappa nell'angolo superiore destro di Progettazione modelli per regolare la vista in modo da includere il maggior numero di tabelle possibile.</span><span class="sxs-lookup"><span data-stu-id="2e0b4-120">Use the minimap controls in the upper-right corner of the model designer to adjust the view to include as many of the tables as possible.</span></span> <span data-ttu-id="2e0b4-121">È anche possibile fare clic sulle tabelle e trascinarle in posizioni diverse, avvicinandole o disponendole in un ordine particolare.</span><span class="sxs-lookup"><span data-stu-id="2e0b4-121">You can also click and drag tables to different locations, bringing tables closer together, or putting them in a particular order.</span></span> <span data-ttu-id="2e0b4-122">Lo spostamento delle tabelle non influisce sulle relazioni già presenti tra le tabelle.</span><span class="sxs-lookup"><span data-stu-id="2e0b4-122">Moving tables does not affect the relationships already between the tables.</span></span> <span data-ttu-id="2e0b4-123">Per visualizzare tutte le colonne di una tabella specifica, fare clic su un bordo della tabella e trascinare per espanderla o renderla più piccola.</span><span class="sxs-lookup"><span data-stu-id="2e0b4-123">To view all of the columns in a particular table, click and drag on a table edge to expand or make it smaller.</span></span>  
  
2.  <span data-ttu-id="2e0b4-124">Fare clic sulla linea continua tra la tabella **Customer** e la tabella **Geography** .</span><span class="sxs-lookup"><span data-stu-id="2e0b4-124">Click on the solid line between the **Customer** table and the **Geography** table.</span></span> <span data-ttu-id="2e0b4-125">La linea continua tra queste due tabelle indica che questa relazione è attiva, ovvero viene utilizzata per impostazione predefinita nel calcolo delle formule DAX.</span><span class="sxs-lookup"><span data-stu-id="2e0b4-125">The solid line between these two tables show this relationship is active, that is, it is used by default when calculating DAX formulas.</span></span>  
  
     <span data-ttu-id="2e0b4-126">Si noti che la colonna **Geography Id** nella tabella **Customer** e la colonna **Geography Id** nella tabella **Geography** appaiono ora entrambe all'interno di una casella.</span><span class="sxs-lookup"><span data-stu-id="2e0b4-126">Notice the **Geography Id** column in the **Customer** table and the **Geography Id** column in the **Geography** table now both each appear within a box.</span></span> <span data-ttu-id="2e0b4-127">Ciò indica che queste sono le colonne usate nella relazione.</span><span class="sxs-lookup"><span data-stu-id="2e0b4-127">This shows these are the columns used in the relationship.</span></span> <span data-ttu-id="2e0b4-128">Le proprietà della relazione sono ora visualizzate anche nella finestra **Proprietà** .</span><span class="sxs-lookup"><span data-stu-id="2e0b4-128">The relationship's properties now also appear in the **Properties** window.</span></span>  
  
    > [!TIP]  
    >  <span data-ttu-id="2e0b4-129">Oltre a utilizzare Progettazione modelli nella vista diagramma, è inoltre possibile utilizzare la finestra di dialogo **Gestisci relazioni** per visualizzare le relazioni tra tutte le tabelle in un formato tabella.</span><span class="sxs-lookup"><span data-stu-id="2e0b4-129">In addition to using the model designer in diagram view, you can also use the **Manage Relationships** dialog box to show the relationships between all tables in a table format.</span></span> <span data-ttu-id="2e0b4-130">Fare clic sul menu **Tabella** e quindi su **Gestisci relazioni**.</span><span class="sxs-lookup"><span data-stu-id="2e0b4-130">Click on the **Table** menu, and then click **Manage Relationships**.</span></span> <span data-ttu-id="2e0b4-131">Nella finestra di dialogo **Gestisci relazioni** sono visualizzate le relazioni create automaticamente quando sono stati importati i dati.</span><span class="sxs-lookup"><span data-stu-id="2e0b4-131">The **Manage Relationships** dialog box shows the relationships that were automatically created when you imported data.</span></span>  
  
3.  <span data-ttu-id="2e0b4-132">Usare Progettazione modelli nella vista diagramma oppure la finestra di dialogo **Gestisci relazioni** per verificare che le relazioni seguenti siano state create quando ognuna delle tabelle è stata importata dal database AdventureWorksDW:</span><span class="sxs-lookup"><span data-stu-id="2e0b4-132">Use the model designer in diagram view, or the **Manage Relationships** dialog box, to verify the following relationships were created when each of the tables were imported from the AdventureWorksDW database:</span></span>  
  
    |<span data-ttu-id="2e0b4-133">Attivo</span><span class="sxs-lookup"><span data-stu-id="2e0b4-133">Active</span></span>|<span data-ttu-id="2e0b4-134">Tabella</span><span class="sxs-lookup"><span data-stu-id="2e0b4-134">Table</span></span>|<span data-ttu-id="2e0b4-135">Tabella di ricerca correlata</span><span class="sxs-lookup"><span data-stu-id="2e0b4-135">Related Lookup Table</span></span>|  
    |------------|-----------|--------------------------|  
    |<span data-ttu-id="2e0b4-136">Sì</span><span class="sxs-lookup"><span data-stu-id="2e0b4-136">Yes</span></span>|<span data-ttu-id="2e0b4-137">**Customer [Geography Id]**</span><span class="sxs-lookup"><span data-stu-id="2e0b4-137">**Customer [Geography Id]**</span></span>|<span data-ttu-id="2e0b4-138">**Geography [Geography Id]**</span><span class="sxs-lookup"><span data-stu-id="2e0b4-138">**Geography [Geography Id]**</span></span>|  
    |<span data-ttu-id="2e0b4-139">Sì</span><span class="sxs-lookup"><span data-stu-id="2e0b4-139">Yes</span></span>|<span data-ttu-id="2e0b4-140">**Product [Product Subcategory Id]**</span><span class="sxs-lookup"><span data-stu-id="2e0b4-140">**Product [Product Subcategory Id]**</span></span>|<span data-ttu-id="2e0b4-141">**Product Subcategory [Product Subcategory Id]**</span><span class="sxs-lookup"><span data-stu-id="2e0b4-141">**Product Subcategory [Product Subcategory Id]**</span></span>|  
    |<span data-ttu-id="2e0b4-142">Sì</span><span class="sxs-lookup"><span data-stu-id="2e0b4-142">Yes</span></span>|<span data-ttu-id="2e0b4-143">**Product Subcategory [Product Category Id]**</span><span class="sxs-lookup"><span data-stu-id="2e0b4-143">**Product Subcategory [Product Category Id]**</span></span>|<span data-ttu-id="2e0b4-144">**Product Category [Product Category Id]**</span><span class="sxs-lookup"><span data-stu-id="2e0b4-144">**Product Category [Product Category Id]**</span></span>|  
    |<span data-ttu-id="2e0b4-145">Sì</span><span class="sxs-lookup"><span data-stu-id="2e0b4-145">Yes</span></span>|<span data-ttu-id="2e0b4-146">**Internet Sales [Customer Id]**</span><span class="sxs-lookup"><span data-stu-id="2e0b4-146">**Internet Sales [Customer Id]**</span></span>|<span data-ttu-id="2e0b4-147">**Customer [Customer Id]**</span><span class="sxs-lookup"><span data-stu-id="2e0b4-147">**Customer [Customer Id]**</span></span>|  
    |<span data-ttu-id="2e0b4-148">Sì</span><span class="sxs-lookup"><span data-stu-id="2e0b4-148">Yes</span></span>|<span data-ttu-id="2e0b4-149">**Internet Sales [Product Id]**</span><span class="sxs-lookup"><span data-stu-id="2e0b4-149">**Internet Sales [Product Id]**</span></span>|<span data-ttu-id="2e0b4-150">**Product [Product Id]**</span><span class="sxs-lookup"><span data-stu-id="2e0b4-150">**Product [Product Id]**</span></span>|  
  
 <span data-ttu-id="2e0b4-151">Se qualsiasi relazione indicata nella tabella precedente non è presente, verificare che il modello includa le tabelle seguenti: Customer, Date, Geography, Product, Product Category, Product Subcategory e Internet Sales.</span><span class="sxs-lookup"><span data-stu-id="2e0b4-151">If any of the relationships in the table above are missing, verify that your model includes the following tables: Customer, Date, Geography, Product, Product Category, Product Subcategory, and Internet Sales.</span></span> <span data-ttu-id="2e0b4-152">Se si importano tabelle dalla stessa connessione origine dati in momenti distinti, tutte le relazioni tra tali tabelle non verranno create e devono essere create manualmente.</span><span class="sxs-lookup"><span data-stu-id="2e0b4-152">If tables from the same data source connection are imported at separate times, any relationships between those tables will not be created and must be created manually.</span></span>  
  
 <span data-ttu-id="2e0b4-153">In alcuni casi, potrebbe essere necessario creare relazioni aggiuntive tra le tabelle nel modello per supportare una determinata logica di business.</span><span class="sxs-lookup"><span data-stu-id="2e0b4-153">In some cases, you may need to create additional relationships between tables in your model to support certain business logic.</span></span> <span data-ttu-id="2e0b4-154">Per questa esercitazione, è necessario creare tre relazioni aggiuntive tra la tabella Internet Sales e la tabella Date.</span><span class="sxs-lookup"><span data-stu-id="2e0b4-154">For this tutorial, you need to create three additional relationships between the Internet Sales table and the Date table.</span></span>  
  
#### <a name="to-add-new-relationships-between-tables"></a><span data-ttu-id="2e0b4-155">Per aggiungere nuove relazioni tra tabelle</span><span class="sxs-lookup"><span data-stu-id="2e0b4-155">To add new relationships between tables</span></span>  
  
1.  <span data-ttu-id="2e0b4-156">In Progettazione modelli, nella tabella **Internet Sales** fare clic e tenere premuto il pulsante del mouse sulla colonna **Order Date** , quindi trascinare il cursore nella colonna **Date** della tabella **Date** e infine rilasciare.</span><span class="sxs-lookup"><span data-stu-id="2e0b4-156">In the model designer, in the **Internet Sales** table, click and hold on the **Order Date** column, then drag the cursor to the **Date** column in the **Date** table, and then release.</span></span>  
  
     <span data-ttu-id="2e0b4-157">Viene visualizzata una linea continua per indicare che è stata creata una relazione attiva tra la colonna **Order Date** nella tabella **Internet Sales** e la colonna **Date** nella tabella **Date** .</span><span class="sxs-lookup"><span data-stu-id="2e0b4-157">A solid line appears showing you have created an active relationship between the **Order Date** column in the **Internet Sales** table and the **Date** column in the **Date** table.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="2e0b4-158">Quando si creano relazioni, l'ordine tra la tabella primaria e la tabella di ricerca correlata viene definito automaticamente in modo corretto.</span><span class="sxs-lookup"><span data-stu-id="2e0b4-158">When creating relationships, the order between the primary table and the related lookup table is automatically put in the correct order.</span></span>  
  
2.  <span data-ttu-id="2e0b4-159">Nella tabella **Internet Sales** fare clic e tenere premuto il pulsante del mouse sulla colonna **Due Date** , quindi trascinare il cursore nella colonna **Date** della tabella **Date** e infine rilasciare.</span><span class="sxs-lookup"><span data-stu-id="2e0b4-159">In the **Internet Sales** table, click and hold on the **Due Date** column, then drag the cursor to the **Date** column in the **Date** table, and then release.</span></span>  
  
     <span data-ttu-id="2e0b4-160">Viene visualizzata una linea punteggiata per indicare che è stata creata una relazione non attiva tra la colonna **Due Date** nella tabella **Internet Sales** e la colonna **Date** nella tabella **Date** .</span><span class="sxs-lookup"><span data-stu-id="2e0b4-160">A dotted line appears showing you have created an inactive relationship between the **Due Date** column in the **Internet Sales** table and the **Date** column in the **Date** table.</span></span> <span data-ttu-id="2e0b4-161">È possibile creare più relazioni tra le tabelle, ma può essere attiva una sola relazione alla volta.</span><span class="sxs-lookup"><span data-stu-id="2e0b4-161">You can have multiple relationships between tables, but only one relationship can be active at a time.</span></span>  
  
3.  <span data-ttu-id="2e0b4-162">Creare infine un'ulteriore relazione. In Progettazione modelli, nella tabella **Internet Sales** fare clic e tenere premuto il pulsante del mouse sulla colonna **Ship Date** , quindi trascinare il cursore nella colonna **Date** della tabella **Date** e infine rilasciare.</span><span class="sxs-lookup"><span data-stu-id="2e0b4-162">Finally, create one more relationship; in the **Internet Sales** table, click and hold on the **Ship Date** column, then drag the cursor to the **Date** column in the **Date** table, and then release.</span></span>  
  
     <span data-ttu-id="2e0b4-163">Viene visualizzata una linea punteggiata per indicare che è stata creata una relazione non attiva tra la colonna **Ship Date** nella tabella **Internet Sales** e la colonna **Date** nella tabella **Date** .</span><span class="sxs-lookup"><span data-stu-id="2e0b4-163">A dotted line appears showing you have created an inactive relationship between the **Ship Date** column in the **Internet Sales** table and the **Date** column in the **Date** table.</span></span>  
  
## <a name="next-step"></a><span data-ttu-id="2e0b4-164">passaggio successivo</span><span class="sxs-lookup"><span data-stu-id="2e0b4-164">Next Step</span></span>  
 <span data-ttu-id="2e0b4-165">Per continuare questa esercitazione, passare alla lezione successiva: [Lezione 6: Creare colonne calcolate](lesson-5-create-calculated-columns.md).</span><span class="sxs-lookup"><span data-stu-id="2e0b4-165">To continue this lesson, go to the next lesson: [Lesson 6: Create Calculated Columns](lesson-5-create-calculated-columns.md).</span></span>  
  
  
