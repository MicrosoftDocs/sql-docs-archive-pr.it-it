---
title: Unire partizioni in Analysis Services (SSAS-multidimensionale) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- partitions [Analysis Services], merging
- merging partitions [Analysis Services]
ms.assetid: b3857b9b-de43-4911-989d-d14da0196f89
author: minewiskan
ms.author: owend
ms.openlocfilehash: 42820a202c4da58e21dfd55756b7bb03522ea879
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87724275"
---
# <a name="merge-partitions-in-analysis-services-ssas---multidimensional"></a><span data-ttu-id="f1f89-102">Unire partizioni in Analysis Services (SSAS - Multidimensionale)</span><span class="sxs-lookup"><span data-stu-id="f1f89-102">Merge Partitions in Analysis Services (SSAS - Multidimensional)</span></span>
  <span data-ttu-id="f1f89-103">È possibile unire partizioni in un database [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] esistente per consolidare i dati delle tabelle dei fatti da più partizioni dello stesso gruppo di misure.</span><span class="sxs-lookup"><span data-stu-id="f1f89-103">You can merge partitions in an existing [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database to consolidate fact data from multiple partitions of the same measure group.</span></span>  
  
 [<span data-ttu-id="f1f89-104">Scenari comuni</span><span class="sxs-lookup"><span data-stu-id="f1f89-104">Common scenarios</span></span>](#bkmk_Scenario)  
  
 [<span data-ttu-id="f1f89-105">Requisiti</span><span class="sxs-lookup"><span data-stu-id="f1f89-105">Requirements</span></span>](#bkmk_prereq)  
  
 [<span data-ttu-id="f1f89-106">Aggiornare l'origine partizione in seguito all'unione delle partizioni</span><span class="sxs-lookup"><span data-stu-id="f1f89-106">Update the Partition Source after merging partitions</span></span>](#bkmk_Where)  
  
 [<span data-ttu-id="f1f89-107">Considerazioni speciali per le partizioni segmentate dalla tabella dei fatti o dalla query denominata</span><span class="sxs-lookup"><span data-stu-id="f1f89-107">Special considerations for partitions segmented by fact table or named query</span></span>](#bkmk_fact)  
  
 [<span data-ttu-id="f1f89-108">Come unire partizioni mediante SSMS</span><span class="sxs-lookup"><span data-stu-id="f1f89-108">How to merge partitions using SSMS</span></span>](#bkmk_partitionSSMS)  
  
 [<span data-ttu-id="f1f89-109">Come unire partizioni mediante XMLA</span><span class="sxs-lookup"><span data-stu-id="f1f89-109">How to merge partitions using XMLA</span></span>](#bkmk_partitionsXMLA)  
  
##  <a name="common-scenarios"></a><a name="bkmk_Scenario"></a><span data-ttu-id="f1f89-110">Scenari comuni</span><span class="sxs-lookup"><span data-stu-id="f1f89-110">Common scenarios</span></span>  
 <span data-ttu-id="f1f89-111">La configurazione più comune adottata per l'utilizzo di partizioni consiste nel separare i dati in base a una dimensione temporale.</span><span class="sxs-lookup"><span data-stu-id="f1f89-111">The single most common configuration for partition use involves the separation of data across the dimension of time.</span></span> <span data-ttu-id="f1f89-112">La granularità del tempo associata a ciascuna partizione dipende dalle esigenze commerciali relative al progetto.</span><span class="sxs-lookup"><span data-stu-id="f1f89-112">The granularity of time associated with each partition varies depending on the business requirements specific to the project.</span></span> <span data-ttu-id="f1f89-113">È ad esempio possibile eseguire la segmentazione per anni, con l'anno più recente diviso per mesi, oltre a una partizione separata per il mese in corso.</span><span class="sxs-lookup"><span data-stu-id="f1f89-113">For example, segmentation might be by years, with the most recent year divided by months, plus a separate partition for the active month.</span></span> <span data-ttu-id="f1f89-114">La partizione mensile attiva assume regolarmente nuovi dati.</span><span class="sxs-lookup"><span data-stu-id="f1f89-114">The active month partition regularly takes on new data.</span></span>  
  
 <span data-ttu-id="f1f89-115">Quando il mese corrente è completato, la partizione corrispondente viene unita alla partizione dei mesi dell'anno in corso e il processo continua.</span><span class="sxs-lookup"><span data-stu-id="f1f89-115">When the active month is completed, that partition is merged back into the months in the year-to-date partition and the process continues.</span></span> <span data-ttu-id="f1f89-116">Alla fine dell'anno, sarà stata creata una nuova partizione dell'anno completa.</span><span class="sxs-lookup"><span data-stu-id="f1f89-116">At the end of the year, a whole new year partition has been formed.</span></span>  
  
 <span data-ttu-id="f1f89-117">Come illustrato in questo scenario, l'unione di partizioni può diventare un'attività di routine eseguita regolarmente, fornendo un approccio progressivo per il consolidamento e l'organizzazione di dati cronologici.</span><span class="sxs-lookup"><span data-stu-id="f1f89-117">As this scenario demonstrates, merging partitions can become a routine task performed on a regular basis, providing a progressive approach for consolidating and organizing historical data.</span></span>  
  
##  <a name="requirements"></a><a name="bkmk_prereq"></a> <span data-ttu-id="f1f89-118">Requisiti</span><span class="sxs-lookup"><span data-stu-id="f1f89-118">Requirements</span></span>  
 <span data-ttu-id="f1f89-119">Le partizioni possono essere unite solo se soddisfano tutti i criteri seguenti:</span><span class="sxs-lookup"><span data-stu-id="f1f89-119">Partitions can be merged only if they meet all of the following criteria:</span></span>  
  
-   <span data-ttu-id="f1f89-120">Dispongono dello stesso gruppo di misure.</span><span class="sxs-lookup"><span data-stu-id="f1f89-120">They have the same measure group.</span></span>  
  
-   <span data-ttu-id="f1f89-121">Hanno la stessa struttura.</span><span class="sxs-lookup"><span data-stu-id="f1f89-121">They have the same structure.</span></span>  
  
-   <span data-ttu-id="f1f89-122">Sono in uno stato elaborato.</span><span class="sxs-lookup"><span data-stu-id="f1f89-122">They must be in a processed state.</span></span>  
  
-   <span data-ttu-id="f1f89-123">Supportano le stesse modalità di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f1f89-123">They have the same storage modes.</span></span>  
  
-   <span data-ttu-id="f1f89-124">Includono progettazioni di aggregazione identiche.</span><span class="sxs-lookup"><span data-stu-id="f1f89-124">They contain identical aggregation designs.</span></span>  
  
-   <span data-ttu-id="f1f89-125">Condividono lo stesso livello di compatibilità (si applica solo a gruppi di misure totale valori distinti partizionati) dell'archivio di stringhe.</span><span class="sxs-lookup"><span data-stu-id="f1f89-125">They share the same string store compatibility level (applies to partitioned distinct count measure groups only).</span></span>  
  
 <span data-ttu-id="f1f89-126">Se la partizione di destinazione è vuota (ovvero include una progettazione di aggregazione, ma non aggregazioni), l'unione eliminerà le aggregazioni per le partizioni di origine.</span><span class="sxs-lookup"><span data-stu-id="f1f89-126">If the target partition is empty (that is, it has an aggregation design but no aggregations), merge will drop the aggregations for the source partitions.</span></span> <span data-ttu-id="f1f89-127">È necessario eseguire Elaborazione indice, Elaborazione completa o Elaborazione predefinita nella partizione per creare le aggregazioni.</span><span class="sxs-lookup"><span data-stu-id="f1f89-127">You must run Process Index, Process Full, or Process Default on the partition to build the aggregations.</span></span>  
  
 <span data-ttu-id="f1f89-128">Le partizioni remote possono essere unite solo ad altre partizioni remote definite con la stessa istanza remota di [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f1f89-128">Remote partitions can be merged only with other remote partitions that are defined with the same remote instance of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="f1f89-129">Se si utilizza una combinazione di partizioni remote e locali, un approccio alternativo consiste nel creare nuove partizioni contenenti dati combinati, eliminando quelle non più in uso.</span><span class="sxs-lookup"><span data-stu-id="f1f89-129">If you are using a combination of local and remote partitions, an alternative approach is to create new partitions that include the combined data, deleting the partitions you no longer use.</span></span>  
  
 <span data-ttu-id="f1f89-130">Per creare una partizione che possa in seguito essere unita, in Creazione guidata partizione è possibile scegliere di copiare la progettazione delle aggregazioni da un'altra partizione del cubo.</span><span class="sxs-lookup"><span data-stu-id="f1f89-130">To create a partition that is a candidate for future merging, when you create the partition in the Partition Wizard, you can choose to copy the aggregation design from another of the cube's partitions.</span></span> <span data-ttu-id="f1f89-131">In tal modo le due partizioni avranno la stessa progettazione di aggregazione.</span><span class="sxs-lookup"><span data-stu-id="f1f89-131">This ensures that these partitions have the same aggregation design.</span></span> <span data-ttu-id="f1f89-132">Durante l'operazione di unione le aggregazioni della partizione di origine vengono unite alle aggregazioni della partizione di destinazione.</span><span class="sxs-lookup"><span data-stu-id="f1f89-132">When they are merged, the aggregations of the source partition are combined with the aggregations in the target partition.</span></span>  
  
##  <a name="update-the-partition-source-after-merging-partitions"></a><a name="bkmk_Where"></a><span data-ttu-id="f1f89-133">Aggiornare l'origine della partizione dopo l'Unione delle partizioni</span><span class="sxs-lookup"><span data-stu-id="f1f89-133">Update the Partition Source after merging partitions</span></span>  
 <span data-ttu-id="f1f89-134">Le partizioni vengono segmentate per query, ad esempio la clausola WHERE di una query SQL utilizzata per elaborare i dati, o per una tabella o query denominata che fornisce dati alla partizione.</span><span class="sxs-lookup"><span data-stu-id="f1f89-134">Partitions are segmented by query, such as the WHERE clause of a SQL query used to process the data, or by a table or named query that provides data to the partition.</span></span> <span data-ttu-id="f1f89-135">La proprietà `Source` nella partizione indica se la partizione è associata a una query o una tabella.</span><span class="sxs-lookup"><span data-stu-id="f1f89-135">The `Source` property on the partition indicates whether the partition is bound to a query or a table.</span></span>  
  
 <span data-ttu-id="f1f89-136">Quando si uniscono partizioni, il contenuto delle partizioni viene consolidato, ma la proprietà `Source` non viene aggiornata per riflettere l'ambito aggiuntivo della partizione.</span><span class="sxs-lookup"><span data-stu-id="f1f89-136">When you merge partitions, the contents of the partitions are consolidated, but the `Source` property is not updated to reflect the additional scope of the partition.</span></span> <span data-ttu-id="f1f89-137">In questo caso, se successivamente si rielaborerà una partizione che mantiene l'elemento `Source`originale, si otterranno dati errati dalla partizione.</span><span class="sxs-lookup"><span data-stu-id="f1f89-137">This means if you subsequently reprocess a partition that retains its original `Source`, you will get incorrect data from that partition.</span></span> <span data-ttu-id="f1f89-138">La partizione aggregherà dati in modo errato al livello padre.</span><span class="sxs-lookup"><span data-stu-id="f1f89-138">The partition will erroneously aggregate data at the parent level.</span></span> <span data-ttu-id="f1f89-139">Nell'esempio seguente viene illustrato questo comportamento.</span><span class="sxs-lookup"><span data-stu-id="f1f89-139">The following example illustrates this behavior.</span></span>  
  
 <span data-ttu-id="f1f89-140">**Il problema**</span><span class="sxs-lookup"><span data-stu-id="f1f89-140">**The Problem**</span></span>  
  
 <span data-ttu-id="f1f89-141">Si supponga di disporre di un cubo contenente informazioni su tre bibite analcoliche.</span><span class="sxs-lookup"><span data-stu-id="f1f89-141">Suppose you have a cube containing information about three soft drink products.</span></span> <span data-ttu-id="f1f89-142">Il cubo include tre partizioni che utilizzano la stessa tabella dei fatti.</span><span class="sxs-lookup"><span data-stu-id="f1f89-142">It has three partitions that use the same fact table.</span></span> <span data-ttu-id="f1f89-143">Queste partizioni sono segmentate per prodotto.</span><span class="sxs-lookup"><span data-stu-id="f1f89-143">These partitions are segmented by product.</span></span> <span data-ttu-id="f1f89-144">La partizione 1 contiene dati relativi a [ColaFull], la partizione 2 dati relativi a [ColaDecaf] e la partizione 3 dati relativi a [ColaDiet].</span><span class="sxs-lookup"><span data-stu-id="f1f89-144">Partition 1 contains data about [ColaFull], Partition 2 contains data about [ColaDecaf], and Partition 3 contains data about [ColaDiet].</span></span> <span data-ttu-id="f1f89-145">Se la partizione 3 viene unita alla partizione 2, i dati della partizione risultante (la partizione 2) saranno corretti e i dati del cubo saranno accurati.</span><span class="sxs-lookup"><span data-stu-id="f1f89-145">If Partition 3 is merged into Partition 2, the data in the resulting partition (Partition 2) is correct and the cube data is accurate.</span></span> <span data-ttu-id="f1f89-146">Tuttavia, quando viene elaborata la partizione 2, il relativo contenuto potrebbe essere determinato dal padre dei membri al livello del prodotto.</span><span class="sxs-lookup"><span data-stu-id="f1f89-146">However, when Partition 2 is processed, its content may be determined by the parent of the members at the product level.</span></span> <span data-ttu-id="f1f89-147">Questo elemento padre [SoftDrinks] include [ColaFull], il prodotto incluso in Partition 1.</span><span class="sxs-lookup"><span data-stu-id="f1f89-147">This parent, [SoftDrinks], also includes [ColaFull], the product in Partition 1.</span></span> <span data-ttu-id="f1f89-148">L'elaborazione di Partition 2 consente di caricare i dati per tutte le bibite, incluso il prodotto [ColaFull], nella partizione.</span><span class="sxs-lookup"><span data-stu-id="f1f89-148">Processing Partition 2 loads the partition with data for all soft drinks, including [ColaFull].</span></span> <span data-ttu-id="f1f89-149">Il cubo conterrà pertanto dati duplicati per [ColaFull] e restituirà dati non corretti agli utenti finali.</span><span class="sxs-lookup"><span data-stu-id="f1f89-149">The cube then contains duplicate data for [ColaFull] and returns incorrect data to end users.</span></span>  
  
 <span data-ttu-id="f1f89-150">**La soluzione**</span><span class="sxs-lookup"><span data-stu-id="f1f89-150">**The Solution**</span></span>  
  
 <span data-ttu-id="f1f89-151">La soluzione consiste nell'aggiornare la proprietà `Source`, regolando la clausola WHERE o la query denominata oppure unendo manualmente i dati dalle tabelle dei fatti sottostanti, per garantire che l'elaborazione successiva sia accurata per via dell'ambito esteso della partizione.</span><span class="sxs-lookup"><span data-stu-id="f1f89-151">The solution is to update the `Source` property, adjusting either the WHERE clause or named query, or manually merging data from the underlying fact tables, to ensure that subsequent processing is accurate given the expanded scope of the partition.</span></span>  
  
 <span data-ttu-id="f1f89-152">In questo esempio, dopo aver unito la partizione 3 alla partizione 2, è possibile applicare il filtro ("Product" = 'ColaDecaf' OR "Product" = 'ColaDiet') nella partizione 2 risultante per specificare che devono essere estratti dalla tabella dei fatti solo i dati relativi a [ColaDecaf] e a [ColaDiet] e che devono essere esclusi i dati relativi a [ColaFull].</span><span class="sxs-lookup"><span data-stu-id="f1f89-152">In this example, after merging Partition 3 into Partition 2, you can provide a filter such as ("Product" = 'ColaDecaf' OR "Product" = 'ColaDiet') in the resulting Partition 2 to specify that only data about [ColaDecaf] and [ColaDiet] be extracted from the fact table, and the data pertaining to [ColaFull] be excluded.</span></span> <span data-ttu-id="f1f89-153">In alternativa, è possibile specificare i filtri per la partizione 2 e la partizione 3 in fase di creazione, in modo che vengano combinati durante il processo di unione.</span><span class="sxs-lookup"><span data-stu-id="f1f89-153">Alternatively, you can specify filters for Partition 2 and Partition 3 when they are created, and these filters will be combined during the merger process.</span></span> <span data-ttu-id="f1f89-154">In entrambi i casi, il cubo non conterrà dati duplicati dopo l'elaborazione della partizione.</span><span class="sxs-lookup"><span data-stu-id="f1f89-154">In either case, after the partition is processed the cube does not contain duplicate data.</span></span>  
  
 <span data-ttu-id="f1f89-155">**Conclusione**</span><span class="sxs-lookup"><span data-stu-id="f1f89-155">**The Conclusion**</span></span>  
  
 <span data-ttu-id="f1f89-156">Dopo aver unito le partizioni, controllare sempre l'elemento `Source` per verificare che per i dati uniti il filtro sia corretto.</span><span class="sxs-lookup"><span data-stu-id="f1f89-156">After you merge partitions, always check the `Source` to verify the filter is correct for the merged data.</span></span> <span data-ttu-id="f1f89-157">Se si inizia con una partizione che include dati cronologici per Q1, Q2 e Q3 e si unisce quindi Q4, è necessario modificare il filtro affinché includa Q4.</span><span class="sxs-lookup"><span data-stu-id="f1f89-157">If you started with a partition that included historical data for Q1, Q2, and Q3, and you now merge Q4, you must adjust the filter to include Q4.</span></span> <span data-ttu-id="f1f89-158">In caso contrario, la successiva elaborazione della partizione genererà risultati errati.</span><span class="sxs-lookup"><span data-stu-id="f1f89-158">Otherwise, subsequent processing of the partition will yield erroneous results.</span></span> <span data-ttu-id="f1f89-159">Non sarà corretta per Q4.</span><span class="sxs-lookup"><span data-stu-id="f1f89-159">It will not be correct for Q4.</span></span>  
  
##  <a name="special-considerations-for-partitions-segmented-by-fact-table-or-named-query"></a><a name="bkmk_fact"></a><span data-ttu-id="f1f89-160">Considerazioni speciali per le partizioni segmentate dalla tabella dei fatti o dalla query denominata</span><span class="sxs-lookup"><span data-stu-id="f1f89-160">Special considerations for partitions segmented by fact table or named query</span></span>  
 <span data-ttu-id="f1f89-161">Oltre alle query, le partizioni possono essere segmentate anche per tabella o query denominata.</span><span class="sxs-lookup"><span data-stu-id="f1f89-161">In addition to queries, partitions can also be segmented by table or named query.</span></span> <span data-ttu-id="f1f89-162">Se la partizione di origine e la partizione di destinazione utilizzano la stessa tabella dei fatti in un'origine dati o in una vista origine dati, la proprietà `Source` sarà valida in seguito all'unione delle partizioni.</span><span class="sxs-lookup"><span data-stu-id="f1f89-162">If the source partition and target partition use the same fact table in a data source or data source view, the `Source` property is valid after merging partitions.</span></span> <span data-ttu-id="f1f89-163">Specifica i dati della tabella dei fatti appropriati alla partizione risultante.</span><span class="sxs-lookup"><span data-stu-id="f1f89-163">It specifies the fact table data that is appropriate to the resulting partition.</span></span> <span data-ttu-id="f1f89-164">Poiché i fatti necessari per la partizione risultante sono contenuti nella tabella dei fatti, non è necessaria alcuna modifica alla proprietà `Source`.</span><span class="sxs-lookup"><span data-stu-id="f1f89-164">Because the facts that are required for the resulting partition are present in the fact table, no modification to the `Source` property is necessary.</span></span>  
  
 <span data-ttu-id="f1f89-165">Le partizioni che utilizzano dati di più tabelle dei fatti o più query denominate richiedono ulteriori attività.</span><span class="sxs-lookup"><span data-stu-id="f1f89-165">Partitions using data from multiple fact tables or named queries require additional work.</span></span> <span data-ttu-id="f1f89-166">In questo caso è necessario unire in modo manuale i dati della tabella dei fatti della partizione di origine alla tabella dei fatti della partizione di destinazione.</span><span class="sxs-lookup"><span data-stu-id="f1f89-166">You must manually merge the facts from the fact table of the source partition into the fact table of the target partition.</span></span>  
  
 <span data-ttu-id="f1f89-167">In alternativa, è possibile sostituire l'origine della partizione unita con una query denominata che restituisce il contenuto di due tabelle dei fatti distinte.</span><span class="sxs-lookup"><span data-stu-id="f1f89-167">Alternatively, you can change the source for the merged partition to a named query that returns the contents of two separate fact tables.</span></span> <span data-ttu-id="f1f89-168">Se non si esegue questo passaggio manuale, le informazioni contenute nella partizione non saranno complete.</span><span class="sxs-lookup"><span data-stu-id="f1f89-168">If this manual step is not performed, the fact table does not contain complete information.</span></span>  
  
 <span data-ttu-id="f1f89-169">Per lo stesso motivo, anche le partizioni che ottengono dati segmentati da query denominate richiedono aggiornamenti.</span><span class="sxs-lookup"><span data-stu-id="f1f89-169">For the same reason, partitions obtaining segmented data from named queries also require updating.</span></span> <span data-ttu-id="f1f89-170">La partizione combinata deve disporre ora di una query denominata che restituisce il set di risultati combinati precedentemente ottenuto dalle query denominate distinte.</span><span class="sxs-lookup"><span data-stu-id="f1f89-170">The combined partition must now have a named query that returns the combined result set that was previously obtained from the separate named queries.</span></span>  
  
## <a name="partition-storage-considerations-molap"></a><span data-ttu-id="f1f89-171">Considerazioni sull'archiviazione di partizioni: MOLAP</span><span class="sxs-lookup"><span data-stu-id="f1f89-171">Partition storage considerations: MOLAP</span></span>  
 <span data-ttu-id="f1f89-172">Quando si uniscono partizioni MOLAP, vengono uniti anche i fatti archiviati nelle strutture multidimensionali delle partizioni.</span><span class="sxs-lookup"><span data-stu-id="f1f89-172">When MOLAP partitions are merged, the facts stored in the multidimensional structures of the partitions are also merged.</span></span> <span data-ttu-id="f1f89-173">Internamente viene pertanto creata una partizione consistente e completa.</span><span class="sxs-lookup"><span data-stu-id="f1f89-173">This results in an internally complete and consistent partition.</span></span> <span data-ttu-id="f1f89-174">I fatti archiviati nelle partizioni MOLAP, tuttavia, sono copie dei fatti presenti nella tabella dei fatti.</span><span class="sxs-lookup"><span data-stu-id="f1f89-174">However, the facts stored in MOLAP partitions are copies of facts in the fact table.</span></span> <span data-ttu-id="f1f89-175">Durante la successiva elaborazione della partizione, i fatti della struttura multidimensionale vengono eliminati (solo per l'elaborazione completa e di aggiornamento) e i dati vengono copiati dalla tabella dei fatti in base all'origine dei dati e al filtro per la partizione.</span><span class="sxs-lookup"><span data-stu-id="f1f89-175">When the partition is subsequently processed, the facts in the multidimensional structure are deleted (only for full and refresh) and data is copied from the fact table as specified by the data source and filter for the partition.</span></span> <span data-ttu-id="f1f89-176">Se la partizione di origine utilizza una tabella dei fatti diversa da quella della partizione di destinazione, le tabelle dei fatti delle due partizioni devono essere unite manualmente per garantire la disponibilità di un set di dati completo durante l'elaborazione della partizione risultante.</span><span class="sxs-lookup"><span data-stu-id="f1f89-176">If the source partition uses a different fact table from the target partition, the fact table of the source partition must be manually merged with the fact table of the target partition to ensure that a complete set of data is available when the resulting partition is processed.</span></span> <span data-ttu-id="f1f89-177">Ciò vale anche se le due partizioni sono basate su query denominate diverse.</span><span class="sxs-lookup"><span data-stu-id="f1f89-177">This applies as well if the two partitions were based on different named queries.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="f1f89-178">Una partizione MOLAP unita contenente una tabella dei fatti incompleta include una copia unita internamente dei dati delle tabelle dei fatti e funziona in modo corretto fino a quando non viene elaborata.</span><span class="sxs-lookup"><span data-stu-id="f1f89-178">A merged MOLAP partition with an incomplete fact table contains an internally merged copy of fact table data and operates correctly until it is processed.</span></span>  
  
## <a name="partition-storage-considerations-holap-and-rolap-partitions"></a><span data-ttu-id="f1f89-179">Considerazioni sull'archiviazione di partizioni: partizioni ROLAP e HOLAP</span><span class="sxs-lookup"><span data-stu-id="f1f89-179">Partition storage considerations: HOLAP and ROLAP Partitions</span></span>  
 <span data-ttu-id="f1f89-180">Quando si uniscono partizioni HOLAP o ROLAP a cui sono associate tabelle dei fatti diverse, le tabelle dei fatti non vengono unite automaticamente.</span><span class="sxs-lookup"><span data-stu-id="f1f89-180">When HOLAP or ROLAP partitions that have different fact tables are merged, the fact tables are not automatically merged.</span></span> <span data-ttu-id="f1f89-181">Se queste tabelle non vengono unite in modo manuale, nella partizione risultante sarà disponibile solo la tabella dei fatti della partizione di destinazione.</span><span class="sxs-lookup"><span data-stu-id="f1f89-181">Unless the fact tables are manually merged, only the fact table associated with the target partition is available to the resulting partition.</span></span> <span data-ttu-id="f1f89-182">I fatti associati alla partizione di origine non sono disponibili per il drill-down nella partizione risultante e in fase di elaborazione della partizione le aggregazioni non riepilogheranno i dati della tabella non disponibile.</span><span class="sxs-lookup"><span data-stu-id="f1f89-182">Facts associated with the source partition are not available for drilldown in the resulting partition, and when the partition is processed, aggregations do not summarize data from the unavailable table.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="f1f89-183">Una partizione HOLAP o ROLAP unita contenente una tabella dei fatti incompleta include aggregazioni corrette, ma fatti incompleti.</span><span class="sxs-lookup"><span data-stu-id="f1f89-183">A merged HOLAP or ROLAP partition with an incomplete fact table contains accurate aggregations, but incomplete facts.</span></span> <span data-ttu-id="f1f89-184">Le query che fanno riferimento a fatti mancanti restituiscono dati non corretti.</span><span class="sxs-lookup"><span data-stu-id="f1f89-184">Queries that refer to missing facts return incorrect data.</span></span> <span data-ttu-id="f1f89-185">In fase di elaborazione della partizione, le aggregazioni vengono calcolate solo in base ai fatti disponibili.</span><span class="sxs-lookup"><span data-stu-id="f1f89-185">When the partition is processed, aggregations are computed only from available facts.</span></span>  
  
 <span data-ttu-id="f1f89-186">L'assenza di fatti non disponibili potrebbe passare inosservata, a meno che un utente non tenti di eseguire il drill-down di un fatto della tabella non disponibile o esegua una query che richiede un fatto della tabella non disponibile.</span><span class="sxs-lookup"><span data-stu-id="f1f89-186">The absence of unavailable facts might not be noticed unless a user attempts to drill down to a fact in the unavailable table or executes a query that requires a fact from the unavailable table.</span></span> <span data-ttu-id="f1f89-187">Poiché le aggregazioni vengono combinate durante il processo di unione, le query i cui risultati si basano esclusivamente su aggregazioni restituiscono dati corretti. Gli altri tipi di query potrebbero invece restituire dati non corretti.</span><span class="sxs-lookup"><span data-stu-id="f1f89-187">Because aggregations are combined during the merge process, queries whose results are based only on aggregations return accurate data, whereas other queries may return inaccurate data.</span></span> <span data-ttu-id="f1f89-188">Anche dopo l'elaborazione della partizione risultante, la mancanza dei dati della tabella dei fatti non disponibile potrebbe passare inosservata, soprattutto se i dati mancanti rappresentano solo una piccola parte dei dati combinati.</span><span class="sxs-lookup"><span data-stu-id="f1f89-188">Even after the resulting partition is processed, the missing data from the unavailable fact table may not be noticed, especially if it represents only a small portion of the combined data.</span></span>  
  
 <span data-ttu-id="f1f89-189">Le tabelle dei fatti possono essere unite prima o dopo l'unione delle partizioni.</span><span class="sxs-lookup"><span data-stu-id="f1f89-189">Fact tables can be merged before or after merging the partitions.</span></span> <span data-ttu-id="f1f89-190">Le aggregazioni, tuttavia, rappresentano i fatti sottostanti in modo accurato solo dopo il completamento di entrambe le operazioni.</span><span class="sxs-lookup"><span data-stu-id="f1f89-190">However, the aggregations will not accurately represent the underlying facts until both operations have been completed.</span></span> <span data-ttu-id="f1f89-191">È consigliabile unire le partizioni HOLAP o ROLAP che accedono a tabelle dei fatti diverse quando gli utenti non sono connessi al cubo contenente tali partizioni.</span><span class="sxs-lookup"><span data-stu-id="f1f89-191">It is recommended that you merge HOLAP or ROLAP partitions that access different fact tables when users are not connected to the cube that contains these partitions.</span></span>  
  
##  <a name="how-to-merge-partitions-using-ssms"></a><a name="bkmk_partitionSSMS"></a><span data-ttu-id="f1f89-192">Come unire le partizioni con SSMS</span><span class="sxs-lookup"><span data-stu-id="f1f89-192">How to merge partitions using SSMS</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="f1f89-193">Prima di unire le partizioni, copiare le informazioni relative al filtro dei dati (spesso si tratta della clausola WHERE per filtri basati su query SQL).</span><span class="sxs-lookup"><span data-stu-id="f1f89-193">Before merging partitions, first copy the data filter information (often, the WHERE clause for filters based on SQL queries).</span></span> <span data-ttu-id="f1f89-194">In seguito, al termine dell'unione, sarà opportuno aggiornare la proprietà di origine della partizione che contiene i dati delle tabelle dei fatti accumulati.</span><span class="sxs-lookup"><span data-stu-id="f1f89-194">Later, after the merge is completed, you should update the Partition Source property of the partition containing the accumulated fact data.</span></span>  
  
1.  <span data-ttu-id="f1f89-195">In Esplora oggetti espandere il nodo **Gruppi di misure** del cubo contenente le partizioni che si desidera unire, quindi espandere **Partizioni**e fare clic con il pulsante destro del mouse sulla partizione di destinazione dell'operazione di unione.</span><span class="sxs-lookup"><span data-stu-id="f1f89-195">In Object Explorer, expand the **Measure Groups** node of the cube containing the partitions that you want to merge, expand **Partitions**, right-click the partition that is the target or destination of the merge operation.</span></span> <span data-ttu-id="f1f89-196">Se ad esempio si spostano dati delle tabelle dei fatti trimestrali in una partizione in cui sono archiviati dati delle tabelle dei fatti annuali, selezionare la partizione che contiene i dati delle tabelle dei fatti annuali.</span><span class="sxs-lookup"><span data-stu-id="f1f89-196">For example, if you are moving quarterly fact data to a partition that stores annual fact data, select the partition that contains the annual fact data.</span></span>  
  
2.  <span data-ttu-id="f1f89-197">Fare clic su **Unisci partizioni** per aprire la finestra di dialogo \*\*Unisci partizione \<partition name> \*\* .</span><span class="sxs-lookup"><span data-stu-id="f1f89-197">Click **Merge Partitions** to open the **Merge Partition \<partition name>** dialog box.</span></span>  
  
3.  <span data-ttu-id="f1f89-198">In **Partizioni di origine**selezionare la casella di controllo accanto a ogni partizione di origine che si desidera unire alla partizione di destinazione, quindi fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="f1f89-198">Under **Source Partitions**, select the check box next to each source partition that you want to merge with the target partition, and click **OK**.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="f1f89-199">Le partizioni di origine verranno immediatamente eliminate in seguito all'unione con le partizioni di destinazione.</span><span class="sxs-lookup"><span data-stu-id="f1f89-199">Source partitions are immediately deleted after the source is merged into the target partition.</span></span> <span data-ttu-id="f1f89-200">Aggiornare la cartella Partizioni per aggiornarne i contenuto in seguito all'unione.</span><span class="sxs-lookup"><span data-stu-id="f1f89-200">Refresh the Partitions folder to update its contents after the merge is completed.</span></span>  
  
4.  <span data-ttu-id="f1f89-201">Fare clic con il pulsante destro del mouse sulla partizione che contiene i dati accumulati e scegliere **Proprietà**.</span><span class="sxs-lookup"><span data-stu-id="f1f89-201">Right-click the partition containing the accumulated data and select **Properties**.</span></span>  
  
5.  <span data-ttu-id="f1f89-202">Aprire la `Source` proprietà e modificare la clausola WHERE in modo che includa i dati della partizione appena Uniti.</span><span class="sxs-lookup"><span data-stu-id="f1f89-202">Open the `Source` property and modify the WHERE clause so that it includes the partition data you just merged.</span></span> <span data-ttu-id="f1f89-203">Ricordare che la `Source` proprietà non viene aggiornata automaticamente.</span><span class="sxs-lookup"><span data-stu-id="f1f89-203">Recall that the `Source` property is not updated automatically.</span></span> <span data-ttu-id="f1f89-204">Se si esegue la rielaborazione senza prima aggiornare `Source` , è possibile che non si ottengano tutti i dati previsti.</span><span class="sxs-lookup"><span data-stu-id="f1f89-204">If you reprocess without first updating the `Source`, you might not get all of the expected data.</span></span>  
  
##  <a name="how-to-merge-partitions-using-xmla"></a><a name="bkmk_partitionsXMLA"></a> <span data-ttu-id="f1f89-205">Come unire partizioni mediante XMLA</span><span class="sxs-lookup"><span data-stu-id="f1f89-205">How to merge partitions using XMLA</span></span>  
 <span data-ttu-id="f1f89-206">Per informazioni, vedere l'argomento [Unione di partizioni &#40;XMLA&#41;](../multidimensional-models-scripting-language-assl-xmla/merging-partitions-xmla.md).</span><span class="sxs-lookup"><span data-stu-id="f1f89-206">See this topic for information, [Merging Partitions &#40;XMLA&#41;](../multidimensional-models-scripting-language-assl-xmla/merging-partitions-xmla.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f1f89-207">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="f1f89-207">See Also</span></span>  
 <span data-ttu-id="f1f89-208">[Elaborazione di oggetti Analysis Services](processing-analysis-services-objects.md) </span><span class="sxs-lookup"><span data-stu-id="f1f89-208">[Processing Analysis Services Objects](processing-analysis-services-objects.md) </span></span>  
 <span data-ttu-id="f1f89-209">[Partizioni &#40;Analysis Services Dati multidimensionali&#41;](../multidimensional-models-olap-logical-cube-objects/partitions-analysis-services-multidimensional-data.md) </span><span class="sxs-lookup"><span data-stu-id="f1f89-209">[Partitions &#40;Analysis Services - Multidimensional Data&#41;](../multidimensional-models-olap-logical-cube-objects/partitions-analysis-services-multidimensional-data.md) </span></span>  
 <span data-ttu-id="f1f89-210">[Creare e gestire una partizione locale &#40;Analysis Services&#41;](create-and-manage-a-local-partition-analysis-services.md) </span><span class="sxs-lookup"><span data-stu-id="f1f89-210">[Create and Manage a Local Partition &#40;Analysis Services&#41;](create-and-manage-a-local-partition-analysis-services.md) </span></span>  
 <span data-ttu-id="f1f89-211">[Creare e gestire una partizione remota &#40;Analysis Services&#41;](create-and-manage-a-remote-partition-analysis-services.md) </span><span class="sxs-lookup"><span data-stu-id="f1f89-211">[Create and Manage a Remote Partition &#40;Analysis Services&#41;](create-and-manage-a-remote-partition-analysis-services.md) </span></span>  
 <span data-ttu-id="f1f89-212">[Imposta writeback partizione](set-partition-writeback.md) </span><span class="sxs-lookup"><span data-stu-id="f1f89-212">[Set Partition Writeback](set-partition-writeback.md) </span></span>  
 <span data-ttu-id="f1f89-213">[Partizioni abilitate per la scrittura](../multidimensional-models-olap-logical-cube-objects/partitions-write-enabled-partitions.md) </span><span class="sxs-lookup"><span data-stu-id="f1f89-213">[Write-Enabled Partitions](../multidimensional-models-olap-logical-cube-objects/partitions-write-enabled-partitions.md) </span></span>  
 [<span data-ttu-id="f1f89-214">Configurare l'archivio di stringhe per dimensioni e partizioni</span><span class="sxs-lookup"><span data-stu-id="f1f89-214">Configure String Storage for Dimensions and Partitions</span></span>](configure-string-storage-for-dimensions-and-partitions.md)  
  
  
