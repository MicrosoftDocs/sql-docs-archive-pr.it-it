---
title: Matrice di classificazione (componenti aggiuntivi Data mining SQL Server) | Microsoft Docs
ms.custom: ''
ms.date: 12/29/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- mining models, validating
- classification matrix
- confusion table
- mining models, testing
ms.assetid: d6f620f4-39af-4714-9628-28ce3c361fca
author: minewiskan
ms.author: owend
ms.openlocfilehash: a930f2628ac41fc5886cf41d7ec0ad274b42bf2f
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87625778"
---
# <a name="classification-matrix-sql-server-data-mining-add-ins"></a><span data-ttu-id="7f025-102">Matrice di classificazione (componenti aggiuntivi Data mining di SQL Server)</span><span class="sxs-lookup"><span data-stu-id="7f025-102">Classification Matrix (SQL Server Data Mining Add-ins)</span></span>
  <span data-ttu-id="7f025-103">![Pulsante Matrice di classificazione, barra multifunzione Data mining](media/dmc-cmatrix.gif "Pulsante Matrice di classificazione, barra multifunzione Data mining")</span><span class="sxs-lookup"><span data-stu-id="7f025-103">![Classification Matrix button, Data Mining ribbon](media/dmc-cmatrix.gif "Classification Matrix button, Data Mining ribbon")</span></span>  
  
 <span data-ttu-id="7f025-104">È possibile utilizzare la matrice di classificazione per valutare l'accuratezza di un modello per la stima.</span><span class="sxs-lookup"><span data-stu-id="7f025-104">You can use the classification matrix to assess the accuracy of a model for prediction.</span></span> <span data-ttu-id="7f025-105">Per generare una matrice di classificazione, è necessario eseguire un set di dati di testing tramite il modello; inoltre mediante lo strumento della matrice di classificazione vengono confrontati i valori effettivi del set di testing con le stime eseguite dal modello.</span><span class="sxs-lookup"><span data-stu-id="7f025-105">To generate a classification matrix, you run a set of testing data through the model, and the classification matrix tool compares the actual values from the testing set against the predictions made by the model.</span></span> <span data-ttu-id="7f025-106">Osservando la matrice, è possibile determinare immediatamente la frequenza con cui il modello è corretto e quella con cui vengono eseguite stime in modo errato.</span><span class="sxs-lookup"><span data-stu-id="7f025-106">By looking at the matrix, you can tell at a glance how often the model is correct, and how often it predicts wrongly.</span></span>  
  
 <span data-ttu-id="7f025-107">In questi componenti aggiuntivi utilizzare la procedura guidata **matrice di classificazione** per selezionare un modello, specificare i dati di test e quindi generare una matrice di risultati.</span><span class="sxs-lookup"><span data-stu-id="7f025-107">In these add-ins, use the **Classification Matrix** wizard to select a model, specify the testing data, and then generate a results matrix.</span></span>  
  
## <a name="how-to-read-a-classification-matrix"></a><span data-ttu-id="7f025-108">Modalità di lettura di una matrice di classificazione</span><span class="sxs-lookup"><span data-stu-id="7f025-108">How to Read a Classification Matrix</span></span>  
 <span data-ttu-id="7f025-109">Si supponga che l'obiettivo sia quello di progettare un programma di fedeltà dei clienti e quindi assegnare i clienti alle categorie appropriate, in modo che sia possibile fornire il livello appropriato di incentivi.</span><span class="sxs-lookup"><span data-stu-id="7f025-109">Let's assume your objective is to design a customer loyalty program and then assign customers to appropriate categories, so that you can provide them with the appropriate level of incentives.</span></span> <span data-ttu-id="7f025-110">Sono stati implementati tre livelli per il programma Reward, ovvero bronzo, argento e oro, che sono stati forniti ai clienti in una fase di valutazione.</span><span class="sxs-lookup"><span data-stu-id="7f025-110">You have implemented three levels for the reward program -- bronze, silver, and gold - and given these out to customers in a trial phase.</span></span> <span data-ttu-id="7f025-111">È stato inoltre progettato un modello tramite cui vengono analizzati i clienti e stimate le categorie corrette.</span><span class="sxs-lookup"><span data-stu-id="7f025-111">You have also designed a model that analyzes customers and predicts the correct categories.</span></span> <span data-ttu-id="7f025-112">A questo punto si utilizzerà la matrice di classificazione nei dati di prova per determinare l'efficacia del modello relativamente alla stima dell'offerta corretta per tutti i clienti.</span><span class="sxs-lookup"><span data-stu-id="7f025-112">Now you will use the classification matrix on the trial data to determine how good the model was at predicting the correct offer for all customers.</span></span>  
  
 <span data-ttu-id="7f025-113">Tramite la tabella della matrice di classificazione viene indicato il numero di clienti che verranno assegnati a ogni categoria in base al modello e il risultato ottenuto verrà confrontato con il numero di clienti effettivamente iscritti a ogni livello di ricompensa.</span><span class="sxs-lookup"><span data-stu-id="7f025-113">The table from the classification matrix tells you how many customers would be assigned to each category based on the model, and compares that result to the number of customers who actually signed up for each reward level.</span></span>  
  
||<span data-ttu-id="7f025-114">Bronzo (valore effettivo)</span><span class="sxs-lookup"><span data-stu-id="7f025-114">Bronze (Actual)</span></span>|<span data-ttu-id="7f025-115">Oro (valore effettivo)</span><span class="sxs-lookup"><span data-stu-id="7f025-115">Gold (Actual)</span></span>|<span data-ttu-id="7f025-116">Argento (valore effettivo)</span><span class="sxs-lookup"><span data-stu-id="7f025-116">Silver (Actual)</span></span>|  
|-|-----------------------|---------------------|-----------------------|  
|<span data-ttu-id="7f025-117">Bronzo</span><span class="sxs-lookup"><span data-stu-id="7f025-117">Bronze</span></span>|<span data-ttu-id="7f025-118">**94,45%**</span><span class="sxs-lookup"><span data-stu-id="7f025-118">**94.45%**</span></span>|<span data-ttu-id="7f025-119">15,18%</span><span class="sxs-lookup"><span data-stu-id="7f025-119">15.18%</span></span>|<span data-ttu-id="7f025-120">1,70%</span><span class="sxs-lookup"><span data-stu-id="7f025-120">1.70%</span></span>|  
|<span data-ttu-id="7f025-121">Oro</span><span class="sxs-lookup"><span data-stu-id="7f025-121">Gold</span></span>|<span data-ttu-id="7f025-122">2,72%</span><span class="sxs-lookup"><span data-stu-id="7f025-122">2.72%</span></span>|<span data-ttu-id="7f025-123">**84,82%**</span><span class="sxs-lookup"><span data-stu-id="7f025-123">**84.82%**</span></span>|<span data-ttu-id="7f025-124">0,00%</span><span class="sxs-lookup"><span data-stu-id="7f025-124">0.00%</span></span>|  
|<span data-ttu-id="7f025-125">Argento</span><span class="sxs-lookup"><span data-stu-id="7f025-125">Silver</span></span>|<span data-ttu-id="7f025-126">1,84%</span><span class="sxs-lookup"><span data-stu-id="7f025-126">1.84%</span></span>|<span data-ttu-id="7f025-127">0,00%</span><span class="sxs-lookup"><span data-stu-id="7f025-127">0.00%</span></span>|<span data-ttu-id="7f025-128">**93,80%**</span><span class="sxs-lookup"><span data-stu-id="7f025-128">**93.80%**</span></span>|  
|<span data-ttu-id="7f025-129">*Corretto*</span><span class="sxs-lookup"><span data-stu-id="7f025-129">*Correct*</span></span>|<span data-ttu-id="7f025-130">*95,45%*</span><span class="sxs-lookup"><span data-stu-id="7f025-130">*95.45%*</span></span>|<span data-ttu-id="7f025-131">*84,82%*</span><span class="sxs-lookup"><span data-stu-id="7f025-131">*84.82%*</span></span>|<span data-ttu-id="7f025-132">*98,30%*</span><span class="sxs-lookup"><span data-stu-id="7f025-132">*98.30%*</span></span>|  
|<span data-ttu-id="7f025-133">*Classificazioni non corrette*</span><span class="sxs-lookup"><span data-stu-id="7f025-133">*Misclassified*</span></span>|<span data-ttu-id="7f025-134">*4,55%*</span><span class="sxs-lookup"><span data-stu-id="7f025-134">*4.55%*</span></span>|<span data-ttu-id="7f025-135">*15,18%*</span><span class="sxs-lookup"><span data-stu-id="7f025-135">*15.18%*</span></span>|<span data-ttu-id="7f025-136">*1,70%*</span><span class="sxs-lookup"><span data-stu-id="7f025-136">*1.70%*</span></span>|  
  
-   <span data-ttu-id="7f025-137">In ogni colonna vengono visualizzati i valori effettivi del set di dati di testing.</span><span class="sxs-lookup"><span data-stu-id="7f025-137">Each column shows the actual values in the testing dataset.</span></span>  
  
-   <span data-ttu-id="7f025-138">In ogni riga vengono visualizzati i valori stimati.</span><span class="sxs-lookup"><span data-stu-id="7f025-138">Each row shows the predicted values.</span></span>  
  
-   <span data-ttu-id="7f025-139">I valori in grassetto, rappresentati in diagonale dall'angolo superiore sinistro all'angolo inferiore destro della matrice, forniscono il quadro di ciò che è appropriato nel modello.</span><span class="sxs-lookup"><span data-stu-id="7f025-139">The values in boldface, which run diagonally from the upper-left corner to the lower-right corner of the matrix, give you the picture of what the model got right.</span></span>  
  
-   <span data-ttu-id="7f025-140">Tutti gli altri valori all'esterno della diagonale rappresentano errori.</span><span class="sxs-lookup"><span data-stu-id="7f025-140">All other values outside the diagonal represent errors.</span></span> <span data-ttu-id="7f025-141">Alcuni sono falsi positivi, vale a dire che con la stima eseguita dal modello il cliente è stato associato al programma oro ma non era corretto.</span><span class="sxs-lookup"><span data-stu-id="7f025-141">Some errors are false positives, meaning the model predicted the customer would join the gold program but was wrong.</span></span>  <span data-ttu-id="7f025-142">A seconda del dominio, i falsi positivi possono essere molto costosi.</span><span class="sxs-lookup"><span data-stu-id="7f025-142">Depending on your domain, false positives can be very costly.</span></span>  
  
     <span data-ttu-id="7f025-143">Altri sono falsi negativi, vale a dire che con la stima eseguita dal modello il cliente non era interessato anche se è stato associato al programma.</span><span class="sxs-lookup"><span data-stu-id="7f025-143">Others are false negatives, meaning the model predicted the customer would not be interested though he or she did join the program.</span></span> <span data-ttu-id="7f025-144">Anche in questo caso, a seconda del dominio del problema, il costo dell'opportunità persa potrebbe essere significativo.</span><span class="sxs-lookup"><span data-stu-id="7f025-144">Again, depending on the problem domain, this lost opportunity cost might be significant.</span></span>  
  
## <a name="using-the-classification-matrix-wizard"></a><span data-ttu-id="7f025-145">Utilizzo della procedura guidata Matrice di classificazione</span><span class="sxs-lookup"><span data-stu-id="7f025-145">Using the Classification Matrix Wizard</span></span>  
  
1.  <span data-ttu-id="7f025-146">Selezionare il modello di data mining sul quale si desidera basare le stime.</span><span class="sxs-lookup"><span data-stu-id="7f025-146">Select the mining model on which to base predictions.</span></span>  
  
2.  <span data-ttu-id="7f025-147">Selezionare un'origine dei nuovi dati di test oppure utilizzare i dati di testing salvati con la struttura.</span><span class="sxs-lookup"><span data-stu-id="7f025-147">Select a source of new test data, or use testing data that was saved with the structure.</span></span>  
  
3.  <span data-ttu-id="7f025-148">Selezionare la colonna di cui si desidera valutare l'accuratezza.</span><span class="sxs-lookup"><span data-stu-id="7f025-148">Select the column for which you want to assess accuracy.</span></span> <span data-ttu-id="7f025-149">È possibile selezionare solo una colonna quando si crea una matrice, ma la colonna può disporre di più valori.</span><span class="sxs-lookup"><span data-stu-id="7f025-149">You can choose only one column when creating a matrix, but the column can have multiple values.</span></span>  
  
     <span data-ttu-id="7f025-150">Suggerimento: può essere difficile interpretare una matrice di classificazione se nella colonna stimabile vi sono numerose colonne da confrontare.</span><span class="sxs-lookup"><span data-stu-id="7f025-150">Tip: It can be difficult to interpret a classification matrix if your predictable column has many columns to compare.</span></span>  
  
     <span data-ttu-id="7f025-151">Nella pagina **Seleziona colonne da stimare** è inoltre possibile specificare se si desidera visualizzare il numero di valori non corretti e non corretti oppure visualizzare una percentuale.</span><span class="sxs-lookup"><span data-stu-id="7f025-151">In the **Select Columns to Predict** page, you can also specify whether you want to display the count of incorrect and incorrect values, or display a percentage.</span></span>  
  
4.  <span data-ttu-id="7f025-152">Nella pagina Selezione dati di origine indicare se si utilizzano i dati di test esterni o i dati di test salvati con il modello.</span><span class="sxs-lookup"><span data-stu-id="7f025-152">On the Select Source Data page, indicate whether you are using external testing data, or the test data saved with the model.</span></span>  
  
5.  <span data-ttu-id="7f025-153">Se si utilizzano dati di test esterni, è necessario eseguire il mapping del modello alle colonne di input nella pagina **impostazione relazione** della procedura guidata.</span><span class="sxs-lookup"><span data-stu-id="7f025-153">If you use external testing data, you need to map the model to the input columns on the **Specify Relationship** page of the wizard.</span></span>  
  
     <span data-ttu-id="7f025-154">Se si utilizza il set di dati di test predefinito, il mapping viene eseguito automaticamente.</span><span class="sxs-lookup"><span data-stu-id="7f025-154">If you use the embedded test data set, the mapping is done for you</span></span>  
  
6.  <span data-ttu-id="7f025-155">Fare clic su **fine** per eseguire stime sul modello e generare la matrice di classificazione.</span><span class="sxs-lookup"><span data-stu-id="7f025-155">Click **Finish** to run predictions against the model and generate the classification matrix.</span></span>  
  
     <span data-ttu-id="7f025-156">La procedura guidata crea un report che contiene la matrice di classificazione e altri dettagli sull'analisi.</span><span class="sxs-lookup"><span data-stu-id="7f025-156">The wizard creates a report that contains the classification matrix and other details about the analysis.</span></span> <span data-ttu-id="7f025-157">Il report viene salvato come tabella in Excel, con un riepilogo nella parte superiore in cui vengono indicati il numero di case stimati correttamente e il numero di stime errate.</span><span class="sxs-lookup"><span data-stu-id="7f025-157">This report is saved as a table in Excel, with a summary above the report that indicates how many cases were correctly predicted and how many predictions were wrong.</span></span>  
  
### <a name="requirements"></a><span data-ttu-id="7f025-158">Requisiti</span><span class="sxs-lookup"><span data-stu-id="7f025-158">Requirements</span></span>  
  
-   <span data-ttu-id="7f025-159">Per creare una matrice di classificazione, è necessario avere accesso a un modello di data mining esistente che supporta la misura dell'accuratezza.</span><span class="sxs-lookup"><span data-stu-id="7f025-159">To create a classification matrix, you must have access to an existing mining model that supports accuracy measurement.</span></span> <span data-ttu-id="7f025-160">I modelli di previsione e quelli di associazione non possono essere misurati con questo strumento.</span><span class="sxs-lookup"><span data-stu-id="7f025-160">Forecasting models and association models cannot be measured using this tool.</span></span>  
  
-   <span data-ttu-id="7f025-161">Per il modello di misura è necessario stimare un valore che sia discreto o che sia già stato discretizzato.</span><span class="sxs-lookup"><span data-stu-id="7f025-161">The model that you are measuring needs to predict a value that is either discrete or that has already been discretized.</span></span>  
  
-   <span data-ttu-id="7f025-162">Se non è stata usata l'opzione per salvare un set di testing insieme alla struttura o al modello, è necessario ottenere un set di dati di input con essenzialmente lo stesso numero di colonne, con i tipi di dati corrispondenti, come quelli usati nel modello.</span><span class="sxs-lookup"><span data-stu-id="7f025-162">If you didn't use the option to save a testing set along with your structure or model, you need to obtain an input data set that has essentially the same number of columns, with matching data types, as those used in the model.</span></span>  
  
-   <span data-ttu-id="7f025-163">Sia il modello di data mining che i nuovi dati utilizzati per il testing devono contenere almeno una colonna stimabile e le colonne devono includere lo stesso tipo di dati.</span><span class="sxs-lookup"><span data-stu-id="7f025-163">Both the data mining model and the new data that you are using for testing must contain at least one column that can be predicted, and the columns must contain the same kind of data.</span></span>  
  
### <a name="known-issues"></a><span data-ttu-id="7f025-164">Problemi noti</span><span class="sxs-lookup"><span data-stu-id="7f025-164">Known Issues</span></span>  
 <span data-ttu-id="7f025-165">In SQL Server 2012 e SQL Server 2014, la possibilità di eseguire il mapping del set di dati di test interno al modello non funziona nello strumento **matrice di classificazione** .</span><span class="sxs-lookup"><span data-stu-id="7f025-165">In SQL Server 2012 and SQL Server 2014, the ability to map the internal test data set to the model is not working in the **Classification Matrix** tool.</span></span> <span data-ttu-id="7f025-166">Tuttavia, è possibile specificare un set di dati esterno e selezionare il set di training come input per determinare l'errore nel set di dati originale.</span><span class="sxs-lookup"><span data-stu-id="7f025-166">However, you can specify an external data set, and then select the training set as the input to determine error on the original data set.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="7f025-167">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="7f025-167">See Also</span></span>  
 <span data-ttu-id="7f025-168">[Convalida di modelli e utilizzo di modelli per la stima &#40;componenti aggiuntivi Data mining per Excel&#41;](validating-models-and-using-models-for-prediction-data-mining-add-ins-for-excel.md) </span><span class="sxs-lookup"><span data-stu-id="7f025-168">[Validating Models and Using Models for Prediction &#40;Data Mining Add-ins for Excel&#41;](validating-models-and-using-models-for-prediction-data-mining-add-ins-for-excel.md) </span></span>  
 <span data-ttu-id="7f025-169">[Esplorare &#40;dati SQL Server componenti aggiuntivi Data mining&#41;](explore-data-sql-server-data-mining-add-ins.md) </span><span class="sxs-lookup"><span data-stu-id="7f025-169">[Explore Data &#40;SQL Server Data Mining Add-ins&#41;](explore-data-sql-server-data-mining-add-ins.md) </span></span>  
 [<span data-ttu-id="7f025-170">Rilevare le categorie &#40;strumenti di analisi tabelle per Excel&#41;</span><span class="sxs-lookup"><span data-stu-id="7f025-170">Detect Categories &#40;Table Analysis Tools for Excel&#41;</span></span>](detect-categories-table-analysis-tools-for-excel.md)  
  
  
