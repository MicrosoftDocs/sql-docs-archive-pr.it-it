---
title: Partizioni e modalità DirectQuery (SSAS tabulare) | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: 5f179ba9-6efb-46ae-90e5-945bbfddb719
author: minewiskan
ms.author: owend
ms.openlocfilehash: 5957ed919f15a5c7f39c3c78133786ae6687a2d2
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87635732"
---
# <a name="partitions-and-directquery-mode-ssas-tabular"></a><span data-ttu-id="cd75a-102">Partizioni e modalità DirectQuery (SSAS tabulare)</span><span class="sxs-lookup"><span data-stu-id="cd75a-102">Partitions and DirectQuery Mode (SSAS Tabular)</span></span>
  <span data-ttu-id="cd75a-103">In questa sezione viene illustrato come utilizzare le partizioni nei modelli DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="cd75a-103">This section explains how partitions are used in DirectQuery models.</span></span> <span data-ttu-id="cd75a-104">Per informazioni più generali sulle partizioni nei modelli tabulari, vedere [Partizioni &#40;SSAS tabulare&#41;](partitions-ssas-tabular.md).</span><span class="sxs-lookup"><span data-stu-id="cd75a-104">For more general information about partitions in tabular models, see [Partitions &#40;SSAS Tabular&#41;](partitions-ssas-tabular.md).</span></span>  
  
 <span data-ttu-id="cd75a-105">Per istruzioni su come modificare la partizione usata o visualizzare informazioni sulla partizione, vedere [modificare la partizione DirectQuery &#40;SSAS tabulare&#41;](../change-the-directquery-partition-ssas-tabular.md).</span><span class="sxs-lookup"><span data-stu-id="cd75a-105">For instructions on how to change the partition that is used, or view information about the partition, see [Change the DirectQuery Partition &#40;SSAS Tabular&#41;](../change-the-directquery-partition-ssas-tabular.md).</span></span>  
  
## <a name="using-partitions-in-directquery-mode"></a><span data-ttu-id="cd75a-106">Utilizzo di partizioni in modalità DirectQuery</span><span class="sxs-lookup"><span data-stu-id="cd75a-106">Using Partitions in DirectQuery Mode</span></span>  
 <span data-ttu-id="cd75a-107">Per ogni tabella, è necessario specificare una sola partizione da utilizzare come origine dati DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="cd75a-107">For each table, you must specify a single partition to use as the DirectQuery data source.</span></span>  <span data-ttu-id="cd75a-108">In presenza di più partizioni, quando si abilita la modalità DirectQuery per il modello, per impostazione predefinita la prima partizione creata nella tabella viene contrassegnata come partizione DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="cd75a-108">If there are multiple partitions, when you switch the model to enable DirectQuery mode, by default the first partition that was created in the table is flagged as the DirectQuery partition.</span></span> <span data-ttu-id="cd75a-109">Questa impostazione potrà essere modificata in seguito tramite Gestione partizioni in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="cd75a-109">You can change this later by using the Partition Manager in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span></span>  
  
 <span data-ttu-id="cd75a-110">Perché consentire una sola partizione nella modalità DirectQuery?</span><span class="sxs-lookup"><span data-stu-id="cd75a-110">Why allow only a single partition in DirectQuery mode?</span></span>  
  
 <span data-ttu-id="cd75a-111">Nei modelli tabulari, come nei modelli OLAP, le partizioni di una tabella sono definite tramite query SQL.</span><span class="sxs-lookup"><span data-stu-id="cd75a-111">In tabular models (as in OLAP models), the partitions of a table are defined by SQL queries.</span></span> <span data-ttu-id="cd75a-112">È responsabilità dello sviluppatore che crea la definizione della partizione assicurarsi che le partizioni non si sovrappongano.</span><span class="sxs-lookup"><span data-stu-id="cd75a-112">The developer who creates the partition definition is responsible for ensuring that partitions do not overlap.</span></span> <span data-ttu-id="cd75a-113">In Analysis Services non viene controllato se i record fanno parte di una o più partizioni.</span><span class="sxs-lookup"><span data-stu-id="cd75a-113">Analysis Services does not check whether records belong in one or multiple partitions.</span></span>  
  
 <span data-ttu-id="cd75a-114">Le partizioni in un modello tabulare memorizzato nella cache si comportano allo stesso modo.</span><span class="sxs-lookup"><span data-stu-id="cd75a-114">Partitions in a cached tabular model behave the same way.</span></span> <span data-ttu-id="cd75a-115">Se si utilizza un modello in memoria, durante l'accesso alla cache, le formule DAX vengono valutate per ogni partizione e i risultati vengono combinati.</span><span class="sxs-lookup"><span data-stu-id="cd75a-115">If you are using an in-memory model, while the cache is being accessed, DAX formulas are evaluated for each partition, and the results are combined.</span></span> <span data-ttu-id="cd75a-116">Tuttavia, quando un modello tabulare utilizza la modalità DirectQuery, sarebbe impossibile valutare più partizioni, combinare i risultati e convertirli in un'istruzione SQL per l'invio all'archivio dati relazionale.</span><span class="sxs-lookup"><span data-stu-id="cd75a-116">However, when a tabular model uses DirectQuery mode, it would be impossible to evaluate multiple partitions, combine the results, and convert that into a SQL statement for sending to the relational data store.</span></span> <span data-ttu-id="cd75a-117">Questa operazione potrebbe causare una calo inaccettabile delle prestazioni, nonché imprecisioni potenziali durante l'aggregazione dei dati.</span><span class="sxs-lookup"><span data-stu-id="cd75a-117">Doing so could lead to unacceptable loss of performance, as well as potential inaccuracies as the results are aggregated.</span></span>  
  
 <span data-ttu-id="cd75a-118">Quindi, per query risposte in modalità DirectQuery, il server usa una sola partizione contrassegnata come partizione primaria per l'accesso DirectQuery, denominata *partizione DirectQuery*.</span><span class="sxs-lookup"><span data-stu-id="cd75a-118">Therefore, for queries answered in DirectQuery mode, the server uses a single partition that has been marked as the primary partition for DirectQuery access, called the *DirectQuery partition*.</span></span>  <span data-ttu-id="cd75a-119">La query SQL specificata nella definizione di questa partizione definisce il set completo di dati che possono essere usati per rispondere alle query in modalità DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="cd75a-119">The SQL query specified in the definition of this partition defines the complete set of data that can be used to answer queries in DirectQuery mode.</span></span>  
  
 <span data-ttu-id="cd75a-120">Se non si definisce in modo esplicito una partizione, il motore emette una query SQL sull'intera origine dati relazionale, esegue eventuali operazioni basate su set imposte dalla formula DAX e restituisce i risultati della query.</span><span class="sxs-lookup"><span data-stu-id="cd75a-120">If you do not explicitly define a partition, the engine simply issues a SQL query to the entire relational data source, performs any set-based operations dictated by the DAX formula, and returns the query results.</span></span>  
  
 <span data-ttu-id="cd75a-121">Se sono state create più partizioni in una tabella e si seleziona una partizione come DirectQuery, per impostazione predefinita tutte le altre partizioni vengono contrassegnate automaticamente per il solo utilizzo in memoria.</span><span class="sxs-lookup"><span data-stu-id="cd75a-121">If you have multiple partitions in a table, and select one partition as the DirectQuery partition, by default all other partitions are marked as being for in-memory use only.</span></span>  
  
## <a name="partitions-in-cached-models-and-in-directquery-models"></a><span data-ttu-id="cd75a-122">Partizioni nei modelli memorizzati nella cache e nei modelli DirectQuery</span><span class="sxs-lookup"><span data-stu-id="cd75a-122">Partitions in Cached Models and in DirectQuery Models</span></span>  
 <span data-ttu-id="cd75a-123">Quando si configura una partizione DirectQuery, è necessario specificare le opzioni di elaborazione per la partizione.</span><span class="sxs-lookup"><span data-stu-id="cd75a-123">When you configure a DirectQuery partition, you must specify processing options for the partition.</span></span>  
  
 <span data-ttu-id="cd75a-124">Sono disponibili due opzioni di elaborazione per la partizione DirectQuery:</span><span class="sxs-lookup"><span data-stu-id="cd75a-124">There are two processing options for the DirectQuery partition.</span></span> <span data-ttu-id="cd75a-125">Per impostare questa proprietà, utilizzare **Gestore partizioni** in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)]o [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]e selezionare la proprietà **Opzione di elaborazione** .</span><span class="sxs-lookup"><span data-stu-id="cd75a-125">To set this property, use the **Partition Manager** in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], or [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], and select the **Processing Option** property.</span></span> <span data-ttu-id="cd75a-126">Nella tabella seguente vengono elencati i valori di questa proprietà e vengono illustrati gli effetti di ciascun valore combinato alla proprietà DirectQueryUsage nella stringa di connessione:</span><span class="sxs-lookup"><span data-stu-id="cd75a-126">The following table lists the values of this property, and describes the effects of each value when combined with the DirectQueryUsage property on the connection string:</span></span>  
  
|<span data-ttu-id="cd75a-127">Proprietà **DirectQueryUsage**</span><span class="sxs-lookup"><span data-stu-id="cd75a-127">**DirectQueryUsage** property</span></span>|<span data-ttu-id="cd75a-128">Proprietà**Opzione di elaborazione**</span><span class="sxs-lookup"><span data-stu-id="cd75a-128">**Processing Option** property</span></span>|<span data-ttu-id="cd75a-129">Note</span><span class="sxs-lookup"><span data-stu-id="cd75a-129">Notes</span></span>|  
|-----------------------------------|------------------------------------|-----------|  
|<span data-ttu-id="cd75a-130">DirectQuery</span><span class="sxs-lookup"><span data-stu-id="cd75a-130">DirectQuery</span></span>|<span data-ttu-id="cd75a-131">Non elaborare mai questa partizione</span><span class="sxs-lookup"><span data-stu-id="cd75a-131">Never process this partition</span></span>|<span data-ttu-id="cd75a-132">Se il modello utilizza solo DirectQuery, l'elaborazione non è mai necessaria.</span><span class="sxs-lookup"><span data-stu-id="cd75a-132">When the model is using DirectQuery only, processing is never necessary.</span></span><br /><br /> <span data-ttu-id="cd75a-133">Nei modelli ibridi è possibile configurare la partizione DirectQuery in modo che non venga mai elaborata.</span><span class="sxs-lookup"><span data-stu-id="cd75a-133">In hybrid models, you can configure the DirectQuery partition to never be processed.</span></span> <span data-ttu-id="cd75a-134">Ad esempio, se si lavora su un set di dati di grandi dimensioni e non si desidera che i risultati completi vengano aggiunti alla cache, è possibile specificare che la partizione DirectQuery includa l'unione dei risultati di tutte le altre partizioni nella tabella e quindi non elaborare mai l'unione.</span><span class="sxs-lookup"><span data-stu-id="cd75a-134">For example, if you are operating over a very large data set and do not want the full results added to the cache, you can specify that the DirectQuery partition include the union of results for all other partitions in the table, and then never process the union.</span></span> <span data-ttu-id="cd75a-135">Le query dirette all'origine relazionale non saranno interessate, mentre le query sui dati memorizzati nella cache combineranno i dati delle altre partizioni.</span><span class="sxs-lookup"><span data-stu-id="cd75a-135">Queries that go to the relational source will not be affected, and queries against cached data will combine data from the other partitions</span></span>|  
|<span data-ttu-id="cd75a-136">In-Memory con DirectQuery</span><span class="sxs-lookup"><span data-stu-id="cd75a-136">InMemory With DirectQuery</span></span>|<span data-ttu-id="cd75a-137">Consenti l'elaborazione della partizione</span><span class="sxs-lookup"><span data-stu-id="cd75a-137">Allow partition to be processed</span></span>|<span data-ttu-id="cd75a-138">Se il modello utilizza la modalità ibrida, è necessario utilizzare la stessa partizione per le query su In-Memory e sull'origine dati DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="cd75a-138">If the model is using hybrid mode, you should use the same partition for queries against the in-memory and queries against the DirectQuery data source.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="cd75a-139">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="cd75a-139">See Also</span></span>  
 [<span data-ttu-id="cd75a-140">Partizioni &#40;SSAS tabulare&#41;</span><span class="sxs-lookup"><span data-stu-id="cd75a-140">Partitions &#40;SSAS Tabular&#41;</span></span>](partitions-ssas-tabular.md)  
  
  
