---
title: Scegliere ed eseguire il mapping dei dati di input per una query di stima | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- tables [Analysis Services], prediction queries
- Mining Model Prediction [Analysis Services], input tables
ms.assetid: 00d330a0-879d-4da0-9f29-53c288116f4d
author: minewiskan
ms.author: owend
ms.openlocfilehash: 54e11752d6278e01e50a379bf7bb57521ff9bb29
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87627555"
---
# <a name="choose-and-map-input-data-for-a-prediction-query"></a><span data-ttu-id="eb9af-102">Scegliere ed eseguire il mapping di dati di input per una query di stima</span><span class="sxs-lookup"><span data-stu-id="eb9af-102">Choose and Map Input Data for a Prediction Query</span></span>
  <span data-ttu-id="eb9af-103">Quando si creano stime da un modello di data mining, generalmente si procede inserendo nuovi dati nel modello.</span><span class="sxs-lookup"><span data-stu-id="eb9af-103">When you create predictions from a mining model, you generally do this by feeding new data into the model.</span></span> <span data-ttu-id="eb9af-104">(L'eccezione è rappresentata dai modelli Time Series che eseguono stime unicamente in base ai dati cronologici.) Per fornire al modello nuovi dati, è necessario assicurarsi che i dati siano disponibili in una vista origine dati.</span><span class="sxs-lookup"><span data-stu-id="eb9af-104">(The exception is time series models, which can make predictions based on historical data only.) To provide the model with new data, you must make sure that the data is available as part of a data source view.</span></span> <span data-ttu-id="eb9af-105">Se si sa in anticipo quali dati si utilizzeranno per la stima, è possibile includerli nella vista origine dati utilizzata per la creazione del modello.</span><span class="sxs-lookup"><span data-stu-id="eb9af-105">If you know in advance which data you will use for prediction, you can include it in the data source view that you used to create the model.</span></span> <span data-ttu-id="eb9af-106">In caso contrario, potrebbe essere necessario creare una nuova vista origine dati.</span><span class="sxs-lookup"><span data-stu-id="eb9af-106">Otherwise, you might have to create a new data source view.</span></span> <span data-ttu-id="eb9af-107">Per altre informazioni, vedere [Viste origine dati in modelli multidimensionali](../multidimensional-models/data-source-views-in-multidimensional-models.md).</span><span class="sxs-lookup"><span data-stu-id="eb9af-107">For more information, see [Data Source Views in Multidimensional Models](../multidimensional-models/data-source-views-in-multidimensional-models.md).</span></span>  
  
 <span data-ttu-id="eb9af-108">È talvolta possibile che i dati necessari siano contenuti in più di una tabella in un join uno-a-molti.</span><span class="sxs-lookup"><span data-stu-id="eb9af-108">Sometimes the data that you need might be contained within more than one table in a one-to-many join.</span></span> <span data-ttu-id="eb9af-109">È il caso dei dati utilizzati per i modelli di associazione o Sequence Clustering che utilizzano una tabella del case collegata a una tabella nidificata che contiene i dettagli sul prodotto o la transazione.</span><span class="sxs-lookup"><span data-stu-id="eb9af-109">This is the case with data used for association models or sequence clustering models, which use a case table linked to a nested table that contains product or transaction details.</span></span> <span data-ttu-id="eb9af-110">Se il modello utilizza una struttura di tabelle del case nidificate, i dati utilizzati per la stima devono anch'essi presentare una struttura di tabelle del case nidificate.</span><span class="sxs-lookup"><span data-stu-id="eb9af-110">If your model uses a case-nested table structure, the data that you use for prediction must also have a case-nested table structure.</span></span>  
  
> [!WARNING]  
>  <span data-ttu-id="eb9af-111">Non è possibile aggiungere nuove colonne né eseguire il mapping di colonne che si trovano in una vista origine dati diversa.</span><span class="sxs-lookup"><span data-stu-id="eb9af-111">You cannot add new columns or map columns that are in a different data source view.</span></span> <span data-ttu-id="eb9af-112">La vista origine dati selezionata deve contenere tutte le colonne necessarie per la query di stima.</span><span class="sxs-lookup"><span data-stu-id="eb9af-112">The data source view that you select must contain all the columns that you need for the prediction query.</span></span>  
  
 <span data-ttu-id="eb9af-113">Dopo avere identificato le tabelle che contengono i dati che si utilizzeranno per le stime, è necessario eseguire il mapping delle colonne nei dati esterni alle colonne nel modello di data mining.</span><span class="sxs-lookup"><span data-stu-id="eb9af-113">After you have identified the tables that contain the data you will use for predictions, you must map the columns in the external data to the columns in the mining model.</span></span> <span data-ttu-id="eb9af-114">Ad esempio, se il modello elabora una stima del comportamento di acquisto del cliente in base ai dati demografici e alle risposte ai sondaggi, i dati di input devono contiene informazioni che generalmente corrispondono al contenuto del modello.</span><span class="sxs-lookup"><span data-stu-id="eb9af-114">For example, if your model predicts customer purchasing behavior based on demographics and survey responses, your input data should contains information that generally corresponds to what is in the model.</span></span> <span data-ttu-id="eb9af-115">Non è necessario disporre di dati corrispondenti per ogni singola colonna, ovviamente maggiore sarà il numero di colonne corrispondenti, migliore sarà il risultato.</span><span class="sxs-lookup"><span data-stu-id="eb9af-115">You do not need to have matching data for every single column, but the more columns you can match, the better.</span></span> <span data-ttu-id="eb9af-116">Se si tenta di eseguire il mapping di colonne con tipi di dati diversi, è possibile che si verifichi un errore.</span><span class="sxs-lookup"><span data-stu-id="eb9af-116">If you try to map columns that have different data types, you might get an error.</span></span> <span data-ttu-id="eb9af-117">In quel caso, è possibile definire un calcolo denominato nella vista origine dati per eseguire il cast o la conversione dei nuovi dati della colonna al tipo di dati richiesto dal modello.</span><span class="sxs-lookup"><span data-stu-id="eb9af-117">In that case, you could define a named calculation in the data source view to cast or convert the new column data to the data type required by the model.</span></span> <span data-ttu-id="eb9af-118">Per ulteriori informazioni, vedere [definire calcoli denominati in una vista origine dati &#40;Analysis Services&#41;](../multidimensional-models/define-named-calculations-in-a-data-source-view-analysis-services.md).</span><span class="sxs-lookup"><span data-stu-id="eb9af-118">For more information, see [Define Named Calculations in a Data Source View &#40;Analysis Services&#41;](../multidimensional-models/define-named-calculations-in-a-data-source-view-analysis-services.md).</span></span>  
  
 <span data-ttu-id="eb9af-119">Quando si scelgono i dati da utilizzare per la stima, è possibile che venga eseguito il mapping automatico delle colonne dell'origine dati selezionata alle colonne del modello di data mining, in base alla somiglianza del nome e al tipo di dati corrispondente.</span><span class="sxs-lookup"><span data-stu-id="eb9af-119">When you choose the data to use for prediction, some columns in the selected data source might be automatically mapped to the mining model columns, based on name similarity and matching data type.</span></span> <span data-ttu-id="eb9af-120">È possibile utilizzare la finestra di dialogo **Modifica mapping** in **Stima modello di data mining** per cambiare le colonne di cui è stato eseguito il mapping, eliminare i mapping non appropriati o creare nuovi mapping per le colonne esistenti.</span><span class="sxs-lookup"><span data-stu-id="eb9af-120">You can use the **Modify Mapping** dialog box in the **Mining Model Prediction** to change the columns that are mapped, delete inappropriate mappings, or create new mappings for existing columns.</span></span> <span data-ttu-id="eb9af-121">L'area di progettazione **Stima modello di data mining** supporta anche il trascinamento delle connessioni selezionate.</span><span class="sxs-lookup"><span data-stu-id="eb9af-121">The **Mining Model Prediction** design surface also supports drag-and-drop editing of connections.</span></span>  
  
-   <span data-ttu-id="eb9af-122">Per creare una nuova connessione, selezionare una colonna nella tabella **Modello di data mining** e trascinarla nella colonna corrispondente della tabella **Seleziona tabelle di input** .</span><span class="sxs-lookup"><span data-stu-id="eb9af-122">To create a new connection, just select a column in the **Mining Model** table and drag it to the corresponding column in the **SelectInput Table(s)** table.</span></span>  
  
-   <span data-ttu-id="eb9af-123">Per rimuovere una connessione, selezionare la linea di connessione e premere CANC.</span><span class="sxs-lookup"><span data-stu-id="eb9af-123">To remove a connection, select the connection line and press the DELETE key.</span></span>  
  
 <span data-ttu-id="eb9af-124">Nella procedura seguente viene illustrata la modifica dei join creati tra la tabella del case e una tabella nidificata utilizzate come input di una query di stima utilizzando la finestra di dialogo **Specifica join nidificato** .</span><span class="sxs-lookup"><span data-stu-id="eb9af-124">The following procedure describes how you can modify the joins that have been created between the case table and a nested table used as inputs to a prediction query, using the **Specify Nested Join** dialog box.</span></span>  
  
### <a name="select-an-input-table"></a><span data-ttu-id="eb9af-125">Selezionare una tabella di input</span><span class="sxs-lookup"><span data-stu-id="eb9af-125">Select an input table</span></span>  
  
1.  <span data-ttu-id="eb9af-126">Nella tabella **Seleziona tabelle di input** della scheda **Grafico accuratezza modello di data mining** di Progettazione modelli di data mining in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)]fare clic su **Seleziona tabella del case**.</span><span class="sxs-lookup"><span data-stu-id="eb9af-126">On the **Select Input Table(s)** table of the **Mining Accuracy Chart** tab in Data Mining Designer in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], click **Select Case Table**.</span></span>  
  
     <span data-ttu-id="eb9af-127">Verrà visualizzata la finestra di dialogo **Seleziona tabella** , in cui è possibile selezionare la tabella contenente i dati su cui basare le query.</span><span class="sxs-lookup"><span data-stu-id="eb9af-127">The **Select Table** dialog box opens, in which you can select the table that contains the data on which to base your queries.</span></span>  
  
2.  <span data-ttu-id="eb9af-128">Nella finestra di dialogo **Seleziona tabella** selezionare un'origine dati nell'elenco **Origine dati** .</span><span class="sxs-lookup"><span data-stu-id="eb9af-128">In the **Select Table** dialog box, select a data source from the **Data Source** list.</span></span>  
  
3.  <span data-ttu-id="eb9af-129">In **Nome tabella/vista**selezionare la tabella contenente i dati che si vogliono usare per testare i modelli.</span><span class="sxs-lookup"><span data-stu-id="eb9af-129">Under **Table/View Name**, select the table that contains the data you want to use to test the models.</span></span>  
  
4.  <span data-ttu-id="eb9af-130">Fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="eb9af-130">Click **OK**.</span></span>  
  
     <span data-ttu-id="eb9af-131">Verrà automaticamente eseguito il mapping tra le colonne della struttura di data mining e le colonne con lo stesso nome contenute nella tabella di input.</span><span class="sxs-lookup"><span data-stu-id="eb9af-131">The columns in the mining structure are automatically mapped to the columns that have the same name in the input table.</span></span>  
  
### <a name="change-the-way-that-input-data-is-mapped-to-the-model"></a><span data-ttu-id="eb9af-132">Modificare la modalità di mapping dei dati di input al modello</span><span class="sxs-lookup"><span data-stu-id="eb9af-132">Change the way that input data is mapped to the model</span></span>  
  
1.  <span data-ttu-id="eb9af-133">In Progettazione modelli di data mining in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)]selezionare la scheda **Stima modello di data mining** .</span><span class="sxs-lookup"><span data-stu-id="eb9af-133">In Data Mining Designer in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], select the **Mining Model Prediction** tab.</span></span>  
  
2.  <span data-ttu-id="eb9af-134">Scegliere **Modifica connessioni** dal menu **Modello di data mining**.</span><span class="sxs-lookup"><span data-stu-id="eb9af-134">On the **Mining Model** menu, select **Modify Connections**.</span></span>  
  
     <span data-ttu-id="eb9af-135">Verrà visualizzata la finestra di dialogo **Modifica mapping** .</span><span class="sxs-lookup"><span data-stu-id="eb9af-135">The **Modify Mapping** dialog box opens.</span></span> <span data-ttu-id="eb9af-136">In questa finestra di dialogo la colonna **Colonna modello di data mining** riporta le colonne della struttura di data mining selezionata.</span><span class="sxs-lookup"><span data-stu-id="eb9af-136">In this dialog box, the column **Mining Model Column** lists the columns in the selected mining structure.</span></span> <span data-ttu-id="eb9af-137">La colonna **Colonna tabella** riporta le colonne nell'origine dati esterna scelta nella finestra di dialogo **Seleziona tabelle di input** .</span><span class="sxs-lookup"><span data-stu-id="eb9af-137">The column **Table Column** lists the columns in the external data source that you chose in the **SelectInput Table(s)** dialog box.</span></span> <span data-ttu-id="eb9af-138">Sulle colonne dell'origine dati esterna viene eseguito il mapping a quelle del modello di data mining.</span><span class="sxs-lookup"><span data-stu-id="eb9af-138">The columns in the external data source are mapped to columns in the mining model.</span></span>  
  
3.  <span data-ttu-id="eb9af-139">In **Colonna tabella**selezionare la riga che corrisponde alla colonna del modello di data mining a cui si desidera effettuare il mapping.</span><span class="sxs-lookup"><span data-stu-id="eb9af-139">Under **Table Column**, select the row that corresponds to the mining model column that you want to map to.</span></span>  
  
4.  <span data-ttu-id="eb9af-140">Selezionare una nuova colonna dall'elenco di colonne disponibili nell'origine dati esterna.</span><span class="sxs-lookup"><span data-stu-id="eb9af-140">Select a new column from the list of available columns in the external data source.</span></span> <span data-ttu-id="eb9af-141">Selezionare la voce vuota dell'elenco per eliminare il mapping delle colonne.</span><span class="sxs-lookup"><span data-stu-id="eb9af-141">Select the blank item in the list to delete the column mapping.</span></span>  
  
5.  <span data-ttu-id="eb9af-142">Fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="eb9af-142">Click **OK**.</span></span>  
  
     <span data-ttu-id="eb9af-143">I nuovi mapping delle colonne verranno visualizzati nella finestra di progettazione.</span><span class="sxs-lookup"><span data-stu-id="eb9af-143">The new column mappings are displayed in the designer.</span></span>  
  
### <a name="remove-a-relationship-between-input-tables"></a><span data-ttu-id="eb9af-144">Rimuovere una relazione tra tabelle di input</span><span class="sxs-lookup"><span data-stu-id="eb9af-144">Remove a relationship between input tables</span></span>  
  
1.  <span data-ttu-id="eb9af-145">Nella tabella **Seleziona tabelle di input** della scheda **Stima modello di data mining** in Progettazione modelli di data mining di [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)]fare clic su **Modifica join**.</span><span class="sxs-lookup"><span data-stu-id="eb9af-145">On the **Select Input Table(s)** table of the **Mining Model Prediction** tab in Data Mining Designer in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], click **Modify Join**.</span></span>  
  
     <span data-ttu-id="eb9af-146">Verrà visualizzata la finestra di dialogo **Specifica join nidificato** .</span><span class="sxs-lookup"><span data-stu-id="eb9af-146">The **Specify Nested Join** dialog box opens.</span></span>  
  
2.  <span data-ttu-id="eb9af-147">Selezionare una relazione.</span><span class="sxs-lookup"><span data-stu-id="eb9af-147">Select a relationship.</span></span>  
  
3.  <span data-ttu-id="eb9af-148">Fare clic su **Rimuovi relazione**.</span><span class="sxs-lookup"><span data-stu-id="eb9af-148">Click **Remove Relationship**.</span></span>  
  
4.  <span data-ttu-id="eb9af-149">Fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="eb9af-149">Click **OK**.</span></span>  
  
     <span data-ttu-id="eb9af-150">Verrà rimossa la relazione tra la tabella del case e la tabella nidificata.</span><span class="sxs-lookup"><span data-stu-id="eb9af-150">The relationship between the case table and the nested table has been removed.</span></span>  
  
### <a name="create-a-new-relationship-between-input-tables"></a><span data-ttu-id="eb9af-151">Creare una nuova relazione tra tabelle di input</span><span class="sxs-lookup"><span data-stu-id="eb9af-151">Create a new relationship between input tables</span></span>  
  
1.  <span data-ttu-id="eb9af-152">Nella tabella **Seleziona tabelle di input** della scheda **Stima modello di data mining** in Progettazione modelli di data mining fare clic su **Modifica join**.</span><span class="sxs-lookup"><span data-stu-id="eb9af-152">On the **Select Input Table(s)** table of the **Mining Model Prediction** tab in Data Mining Designer, click **Modify Join**.</span></span>  
  
     <span data-ttu-id="eb9af-153">Verrà visualizzata la finestra di dialogo **Specifica join nidificato** .</span><span class="sxs-lookup"><span data-stu-id="eb9af-153">The **Specify Nested Join** dialog box opens.</span></span>  
  
2.  <span data-ttu-id="eb9af-154">Fare clic su **Aggiungi relazione**.</span><span class="sxs-lookup"><span data-stu-id="eb9af-154">Click **Add Relationship**.</span></span>  
  
     <span data-ttu-id="eb9af-155">Verrà visualizzata la finestra di dialogo **Crea relazione** .</span><span class="sxs-lookup"><span data-stu-id="eb9af-155">The **Create Relationship** dialog box opens.</span></span>  
  
3.  <span data-ttu-id="eb9af-156">Selezionare la colonna chiave della tabella nidificata in **Colonne di origine**.</span><span class="sxs-lookup"><span data-stu-id="eb9af-156">Select the key of the nested table in **Source Columns**.</span></span>  
  
4.  <span data-ttu-id="eb9af-157">Selezionare la colonna chiave della tabella del case in **Colonne di destinazione**.</span><span class="sxs-lookup"><span data-stu-id="eb9af-157">Select the key of the case table in **Destination Columns**.</span></span>  
  
5.  <span data-ttu-id="eb9af-158">Fare clic su **OK** nella finestra di dialogo **Crea relazione** .</span><span class="sxs-lookup"><span data-stu-id="eb9af-158">Click **OK** in the **Create Relationship** dialog box.</span></span>  
  
6.  <span data-ttu-id="eb9af-159">Fare clic su **OK** nella finestra di dialogo **Specifica join nidificato** .</span><span class="sxs-lookup"><span data-stu-id="eb9af-159">Click **OK** in the **Specify Nested Join** dialog box.</span></span>  
  
     <span data-ttu-id="eb9af-160">È stata creata una nuova relazione tra la tabella del case e la tabella nidificata.</span><span class="sxs-lookup"><span data-stu-id="eb9af-160">A new relationship has been created between the case table and the nested table.</span></span>  
  
### <a name="add-a-nested-table-to-the-input-tables-of-a-prediction-query"></a><span data-ttu-id="eb9af-161">Aggiungere una tabella nidificata alle tabelle di input di una query di stima</span><span class="sxs-lookup"><span data-stu-id="eb9af-161">Add a nested table to the input tables of a prediction query</span></span>  
  
1.  <span data-ttu-id="eb9af-162">Nella scheda **Stima modello di data mining** in Progettazione modelli di data mining fare clic su **Seleziona tabella del case** per aprire la finestra di dialogo **Seleziona tabella** .</span><span class="sxs-lookup"><span data-stu-id="eb9af-162">On the **Mining Model Prediction** tab in Data Mining Designer, click **Select Case Table** to open the **Select Table** dialog box.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="eb9af-163">Non è possibile aggiungere una tabella nidificata agli input a meno che non sia stata specificata una tabella del case.</span><span class="sxs-lookup"><span data-stu-id="eb9af-163">You cannot add a nested table to the inputs unless you have specified a case table.</span></span> <span data-ttu-id="eb9af-164">Per utilizzare una tabella è necessario che il modello di data mining utilizzato per la stima utilizzi anch'esso una tabella nidificata.</span><span class="sxs-lookup"><span data-stu-id="eb9af-164">Use of a nested table requires that the mining model you are using for prediction also uses a nested table.</span></span>  
  
2.  <span data-ttu-id="eb9af-165">Nella finestra di dialogo **Seleziona tabella** selezionare un'origine dati dall'elenco **Origine dati** , quindi selezionare la tabella nella vista origine dati in cui sono contenuti i dati del case.</span><span class="sxs-lookup"><span data-stu-id="eb9af-165">In the **Select Table** dialog box, select a data source from the **Data Source** list, and select the table in the data source view that contains the case data.</span></span> [!INCLUDE[clickOK](../../includes/clickok-md.md)]  
  
3.  <span data-ttu-id="eb9af-166">Fare clic su **Seleziona tabella nidificata** per aprire la finestra di dialogo **Seleziona tabella** .</span><span class="sxs-lookup"><span data-stu-id="eb9af-166">Click **Select Nested Table** to open the **Select Table** dialog box.</span></span>  
  
4.  <span data-ttu-id="eb9af-167">Nella finestra di dialogo **Seleziona tabella** selezionare un'origine dati dall'elenco **Origine dati** , quindi selezionare la tabella nella vista origine dati in cui sono contenuti i dati nidificati.</span><span class="sxs-lookup"><span data-stu-id="eb9af-167">In the **Select Table** dialog box, select a data source from the **Data Source** list, and select the table in the data source view that contains the nested data.</span></span> [!INCLUDE[clickOK](../../includes/clickok-md.md)]  
  
     <span data-ttu-id="eb9af-168">Se esiste già una relazione, viene eseguito il mapping automatico tra le colonne del modello di data mining e le colonne con lo stesso nome della tabella di input.</span><span class="sxs-lookup"><span data-stu-id="eb9af-168">If a relationship already exists, the columns in the mining model are automatically mapped to the columns that have the same name in the input table.</span></span> <span data-ttu-id="eb9af-169">È possibile modificare la relazione tra la tabella nidificata e la tabella del case facendo clic su **Modifica join**, che consente di aprire la finestra di dialogo **Crea relazione** .</span><span class="sxs-lookup"><span data-stu-id="eb9af-169">You can modify the relationship between the nested table and the case table by clicking **Modify Join**, which opens the **Create Relationship** dialog box.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="eb9af-170">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="eb9af-170">See Also</span></span>  
 [<span data-ttu-id="eb9af-171">Query di stima &#40;Data Mining&#41;</span><span class="sxs-lookup"><span data-stu-id="eb9af-171">Prediction Queries &#40;Data Mining&#41;</span></span>](prediction-queries-data-mining.md)  
  
  
