---
title: Esempi di query sul modello di clustering | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- clustering [Data Mining]
- content queries [DMX]
- clustering algorithms [Analysis Services]
ms.assetid: bf2ba332-9bc6-411a-a3af-b919c52432c8
author: minewiskan
ms.author: owend
ms.openlocfilehash: fe12b82ce2d237acd060b1e387e7a6dfbf958851
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87638185"
---
# <a name="clustering-model-query-examples"></a><span data-ttu-id="ea6a3-102">Esempi di query sul modello di clustering</span><span class="sxs-lookup"><span data-stu-id="ea6a3-102">Clustering Model Query Examples</span></span>
  <span data-ttu-id="ea6a3-103">Quando si crea una query su un modello di data mining, è possibile recuperare i metadati sul modello oppure creare una query contenuto che fornisca dettagli sui modelli individuati nell'analisi.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-103">When you create a query against a data mining model, you can retrieve metadata about the model, or create a content query that provides details about the patterns discovered in analysis.</span></span> <span data-ttu-id="ea6a3-104">In alternativa, è possibile creare una query di stima che utilizza i modelli nel modello per eseguire stime per i nuovi dati.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-104">Alternatively, you can create a prediction query, which uses the patterns in the model to make predictions for new data.</span></span> <span data-ttu-id="ea6a3-105">Ogni tipo di query fornirà informazioni diverse.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-105">Each type of query will provide different information.</span></span> <span data-ttu-id="ea6a3-106">Ad esempio, tramite una query contenuto potrebbero essere forniti dettagli aggiuntivi sui cluster trovati, mentre tramite una query di stima potrebbe venir indicato a quale cluster è più probabile che appartenga un nuovo punto dati.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-106">For example, a content query might provide additional details about the clusters that were found, whereas a prediction query might tell you in which cluster a new data point is most likely to belong.</span></span>  
  
 <span data-ttu-id="ea6a3-107">Questa sezione illustra come creare query per i modelli basati sull'algoritmo [!INCLUDE[msCoName](../../includes/msconame-md.md)] Clustering.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-107">This section explains how to create queries for models that are based on the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Clustering algorithm.</span></span>  
  
 <span data-ttu-id="ea6a3-108">**Query sul contenuto**</span><span class="sxs-lookup"><span data-stu-id="ea6a3-108">**Content Queries**</span></span>  
  
 [<span data-ttu-id="ea6a3-109">Recupero di metadati del modello tramite DMX</span><span class="sxs-lookup"><span data-stu-id="ea6a3-109">Getting Model Metadata by Using DMX</span></span>](#bkmk_Query1)  
  
 [<span data-ttu-id="ea6a3-110">Recupero di metadati del modello dal set di righe dello schema</span><span class="sxs-lookup"><span data-stu-id="ea6a3-110">Retrieving Model Metadata from the Schema Rowset</span></span>](#bkmk_Query2)  
  
 [<span data-ttu-id="ea6a3-111">Restituzione di un cluster o di un elenco di cluster</span><span class="sxs-lookup"><span data-stu-id="ea6a3-111">Returning a Cluster or a List of Clusters</span></span>](#bkmk_Query3)  
  
 [<span data-ttu-id="ea6a3-112">Restituzione di attributi per un cluster</span><span class="sxs-lookup"><span data-stu-id="ea6a3-112">Returning Attributes for a Cluster</span></span>](#bkmk_Query4)  
  
 [<span data-ttu-id="ea6a3-113">Restituzione del profilo di un cluster tramite stored procedure di sistema</span><span class="sxs-lookup"><span data-stu-id="ea6a3-113">Returning a Cluster Profile Using System Stored Procedures</span></span>](#bkmk_Query5)  
  
 [<span data-ttu-id="ea6a3-114">Individuazione dei fattori discriminanti per un cluster</span><span class="sxs-lookup"><span data-stu-id="ea6a3-114">Finding Discriminating Factors for a Cluster</span></span>](#bkmk_Query6)  
  
 [<span data-ttu-id="ea6a3-115">Restituzione di case appartenenti a un cluster</span><span class="sxs-lookup"><span data-stu-id="ea6a3-115">Returning Cases that Belong to a Cluster</span></span>](#bkmk_Query7)  
  
 <span data-ttu-id="ea6a3-116">**Query di stima**</span><span class="sxs-lookup"><span data-stu-id="ea6a3-116">**Prediction Queries**</span></span>  
  
 [<span data-ttu-id="ea6a3-117">Stima dei risultati da un modello di clustering</span><span class="sxs-lookup"><span data-stu-id="ea6a3-117">Predicting Outcomes from a Clustering Model</span></span>](#bkmk_Query8)  
  
 [<span data-ttu-id="ea6a3-118">Determinazione dell'appartenenza al cluster</span><span class="sxs-lookup"><span data-stu-id="ea6a3-118">Determining Cluster Membership</span></span>](#bkmk_Query9)  
  
 [<span data-ttu-id="ea6a3-119">Restituzione di tutti i cluster possibili con probabilità e distanza</span><span class="sxs-lookup"><span data-stu-id="ea6a3-119">Returning All Possible Clusters with Probability and Distance</span></span>](#bkmk_Query10)  
  
##  <a name="finding-information-about-the-model"></a><a name="bkmk_top2"></a> <span data-ttu-id="ea6a3-120">Ricerca di informazioni sul modello</span><span class="sxs-lookup"><span data-stu-id="ea6a3-120">Finding Information about the Model</span></span>  
 <span data-ttu-id="ea6a3-121">In tutti i modelli di data mining viene esposto il contenuto appreso dall'algoritmo secondo uno schema standardizzato, definito set di righe dello schema del modello di data mining.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-121">All mining models expose the content learned by the algorithm according to a standardized schema, the mining model schema rowset.</span></span> <span data-ttu-id="ea6a3-122">È possibile creare query sul set di righe dello schema del modello di data mining tramite istruzioni DMX (Data Mining Extension).</span><span class="sxs-lookup"><span data-stu-id="ea6a3-122">You can create queries against the mining model schema rowset by using Data Mining Extension (DMX) statements.</span></span> <span data-ttu-id="ea6a3-123">In [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]è anche possibile eseguire una query direttamente sui set di righe dello schema come tabelle di sistema.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-123">In [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], you can also query the schema rowsets directly as system tables.</span></span>  
  
 [<span data-ttu-id="ea6a3-124">Torna all'inizio</span><span class="sxs-lookup"><span data-stu-id="ea6a3-124">Return to Top</span></span>](#bkmk_top2)  
  
###  <a name="sample-query-1-getting-model-metadata-by-using-dmx"></a><a name="bkmk_Query1"></a><span data-ttu-id="ea6a3-125">Esempio di query 1: recupero di metadati del modello tramite DMX</span><span class="sxs-lookup"><span data-stu-id="ea6a3-125">Sample Query 1: Getting Model Metadata by Using DMX</span></span>  
 <span data-ttu-id="ea6a3-126">Con la query seguente vengono restituiti i metadati di base sul modello di clustering `TM_Clustering`creato nell'Esercitazione di base sul data mining.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-126">The following query returns basic metadata about the clustering model, `TM_Clustering`, that you created in the Basic Data Mining Tutorial.</span></span> <span data-ttu-id="ea6a3-127">I metadati disponibili nel nodo padre di un modello di clustering includono il nome del modello, il database in cui è archiviato e il numero di nodi figlio del modello.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-127">The metadata available in the parent node of a clustering model includes the name of the model, the database where the model is stored, and the number of child nodes in the model.</span></span> <span data-ttu-id="ea6a3-128">Questa query utilizza una query contenuto DMX per recuperare i metadati dal nodo padre del modello:</span><span class="sxs-lookup"><span data-stu-id="ea6a3-128">This query uses a DMX content query to retrieve the metadata from the parent node of the model:</span></span>  
  
```  
SELECT MODEL_CATALOG, MODEL_NAME, NODE_CAPTION,   
NODE_SUPPORT, [CHILDREN_CARDINALITY], NODE_DESCRIPTION  
FROM TM_Clustering.CONTENT  
WHERE NODE_TYPE = 1  
```  
  
> [!NOTE]  
>  <span data-ttu-id="ea6a3-129">È necessario includere il nome della colonna CHILDREN_CARDINALITY tra parentesi quadre per distinguerlo dalla parola chiave riservata MDX con lo stesso nome.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-129">You must enclose the name of the column, CHILDREN_CARDINALITY, in brackets to distinguish it from the Multidimensional Expressions (MDX) reserved keyword of the same name.</span></span>  
  
 <span data-ttu-id="ea6a3-130">Risultati dell'esempio:</span><span class="sxs-lookup"><span data-stu-id="ea6a3-130">Example results:</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="ea6a3-131">MODEL_CATALOG</span><span class="sxs-lookup"><span data-stu-id="ea6a3-131">MODEL_CATALOG</span></span>|<span data-ttu-id="ea6a3-132">TM_Clustering</span><span class="sxs-lookup"><span data-stu-id="ea6a3-132">TM_Clustering</span></span>|  
|<span data-ttu-id="ea6a3-133">MODEL_NAME</span><span class="sxs-lookup"><span data-stu-id="ea6a3-133">MODEL_NAME</span></span>|<span data-ttu-id="ea6a3-134">Adventure Works DW</span><span class="sxs-lookup"><span data-stu-id="ea6a3-134">Adventure Works DW</span></span>|  
|<span data-ttu-id="ea6a3-135">NODE_CAPTION</span><span class="sxs-lookup"><span data-stu-id="ea6a3-135">NODE_CAPTION</span></span>|<span data-ttu-id="ea6a3-136">Modello di cluster</span><span class="sxs-lookup"><span data-stu-id="ea6a3-136">Cluster Model</span></span>|  
|<span data-ttu-id="ea6a3-137">NODE_SUPPORT</span><span class="sxs-lookup"><span data-stu-id="ea6a3-137">NODE_SUPPORT</span></span>|<span data-ttu-id="ea6a3-138">12939</span><span class="sxs-lookup"><span data-stu-id="ea6a3-138">12939</span></span>|  
|<span data-ttu-id="ea6a3-139">CHILDREN_CARDINALITY</span><span class="sxs-lookup"><span data-stu-id="ea6a3-139">CHILDREN_CARDINALITY</span></span>|<span data-ttu-id="ea6a3-140">10</span><span class="sxs-lookup"><span data-stu-id="ea6a3-140">10</span></span>|  
|<span data-ttu-id="ea6a3-141">NODE_DESCRIPTION</span><span class="sxs-lookup"><span data-stu-id="ea6a3-141">NODE_DESCRIPTION</span></span>|<span data-ttu-id="ea6a3-142">Tutti</span><span class="sxs-lookup"><span data-stu-id="ea6a3-142">All</span></span>|  
  
 <span data-ttu-id="ea6a3-143">Per una definizione del significato di queste colonne in un modello di clustering, vedere [Contenuto dei modelli di data mining per i modelli di clustering &#40;Analysis Services - Data mining&#41;](mining-model-content-for-clustering-models-analysis-services-data-mining.md).</span><span class="sxs-lookup"><span data-stu-id="ea6a3-143">For a definition of what these columns mean in a clustering model, see [Mining Model Content for Clustering Models &#40;Analysis Services - Data Mining&#41;](mining-model-content-for-clustering-models-analysis-services-data-mining.md).</span></span>  
  
 [<span data-ttu-id="ea6a3-144">Torna all'inizio</span><span class="sxs-lookup"><span data-stu-id="ea6a3-144">Return to Top</span></span>](#bkmk_top2)  
  
###  <a name="sample-query-2-retrieving-model-metadata-from-the-schema-rowset"></a><a name="bkmk_Query2"></a> <span data-ttu-id="ea6a3-145">Esempio di query 2: Recupero di metadati del modello dal set di righe dello schema</span><span class="sxs-lookup"><span data-stu-id="ea6a3-145">Sample Query 2: Retrieving Model Metadata from the Schema Rowset</span></span>  
 <span data-ttu-id="ea6a3-146">Se si esegue una query sul set di righe dello schema di data mining, è possibile trovare le stesse informazioni restituite in una query contenuto DMX.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-146">By querying the data mining schema rowset, you can find the same information that is returned in a DMX content query.</span></span> <span data-ttu-id="ea6a3-147">Tuttavia, il set di righe dello schema contiene alcune colonne aggiuntive,</span><span class="sxs-lookup"><span data-stu-id="ea6a3-147">However, the schema rowset provides some additional columns.</span></span> <span data-ttu-id="ea6a3-148">tra cui i parametri utilizzati durante la creazione del modello, la data e l'ora dell'ultima elaborazione del modello e il proprietario del modello.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-148">These include the parameters that were used when the model was created, the date and time that the model was last processed, and the owner of the model.</span></span>  
  
 <span data-ttu-id="ea6a3-149">Nell'esempio seguente vengono restituite le date di creazione, modifica e ultima elaborazione del modello. Vengono inoltre restituiti i parametri di clustering utilizzati per la compilazione del modello e la dimensione del set di training.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-149">The following example returns the date the model was created, modified, and last processed, together with the clustering parameters that were used to build the model, and the size of the training set.</span></span> <span data-ttu-id="ea6a3-150">Queste informazioni possono essere utili per documentare il modello o per determinare quali opzioni di clustering sono state utilizzate per creare un modello esistente.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-150">This information can be useful for documenting the model, or for determining which of the clustering options were used to create an existing model.</span></span>  
  
```  
SELECT MODEL_NAME, DATE_CREATED, LAST_PROCESSED, PREDICTION_ENTITY, MINING_PARAMETERS   
from $system.DMSCHEMA_MINING_MODELS  
WHERE MODEL_NAME = 'TM_Clustering'  
```  
  
 <span data-ttu-id="ea6a3-151">Risultati dell'esempio:</span><span class="sxs-lookup"><span data-stu-id="ea6a3-151">Example results:</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="ea6a3-152">MODEL_NAME</span><span class="sxs-lookup"><span data-stu-id="ea6a3-152">MODEL_NAME</span></span>|<span data-ttu-id="ea6a3-153">TM_Clustering</span><span class="sxs-lookup"><span data-stu-id="ea6a3-153">TM_Clustering</span></span>|  
|<span data-ttu-id="ea6a3-154">DATE_CREATED</span><span class="sxs-lookup"><span data-stu-id="ea6a3-154">DATE_CREATED</span></span>|<span data-ttu-id="ea6a3-155">10/12/2007 7:42:51 PM</span><span class="sxs-lookup"><span data-stu-id="ea6a3-155">10/12/2007 7:42:51 PM</span></span>|  
|<span data-ttu-id="ea6a3-156">LAST_PROCESSED</span><span class="sxs-lookup"><span data-stu-id="ea6a3-156">LAST_PROCESSED</span></span>|<span data-ttu-id="ea6a3-157">10/12/2007 8:09:54 PM</span><span class="sxs-lookup"><span data-stu-id="ea6a3-157">10/12/2007 8:09:54 PM</span></span>|  
|<span data-ttu-id="ea6a3-158">PREDICTION_ENTITY</span><span class="sxs-lookup"><span data-stu-id="ea6a3-158">PREDICTION_ENTITY</span></span>|<span data-ttu-id="ea6a3-159">Bike Buyer</span><span class="sxs-lookup"><span data-stu-id="ea6a3-159">Bike Buyer</span></span>|  
|<span data-ttu-id="ea6a3-160">MINING_PARAMETERS</span><span class="sxs-lookup"><span data-stu-id="ea6a3-160">MINING_PARAMETERS</span></span>|<span data-ttu-id="ea6a3-161">CLUSTER_COUNT=10,</span><span class="sxs-lookup"><span data-stu-id="ea6a3-161">CLUSTER_COUNT=10,</span></span><br /><br /> <span data-ttu-id="ea6a3-162">CLUSTER_SEED=0,</span><span class="sxs-lookup"><span data-stu-id="ea6a3-162">CLUSTER_SEED=0,</span></span><br /><br /> <span data-ttu-id="ea6a3-163">CLUSTERING_METHOD=1,</span><span class="sxs-lookup"><span data-stu-id="ea6a3-163">CLUSTERING_METHOD=1,</span></span><br /><br /> <span data-ttu-id="ea6a3-164">MAXIMUM_INPUT_ATTRIBUTES=255,</span><span class="sxs-lookup"><span data-stu-id="ea6a3-164">MAXIMUM_INPUT_ATTRIBUTES=255,</span></span><br /><br /> <span data-ttu-id="ea6a3-165">MAXIMUM_STATES=100,</span><span class="sxs-lookup"><span data-stu-id="ea6a3-165">MAXIMUM_STATES=100,</span></span><br /><br /> <span data-ttu-id="ea6a3-166">MINIMUM_SUPPORT=1,</span><span class="sxs-lookup"><span data-stu-id="ea6a3-166">MINIMUM_SUPPORT=1,</span></span><br /><br /> <span data-ttu-id="ea6a3-167">MODELLING_CARDINALITY=10,</span><span class="sxs-lookup"><span data-stu-id="ea6a3-167">MODELLING_CARDINALITY=10,</span></span><br /><br /> <span data-ttu-id="ea6a3-168">SAMPLE_SIZE=50000,</span><span class="sxs-lookup"><span data-stu-id="ea6a3-168">SAMPLE_SIZE=50000,</span></span><br /><br /> <span data-ttu-id="ea6a3-169">STOPPING_TOLERANCE=10</span><span class="sxs-lookup"><span data-stu-id="ea6a3-169">STOPPING_TOLERANCE=10</span></span>|  
  
 [<span data-ttu-id="ea6a3-170">Torna all'inizio</span><span class="sxs-lookup"><span data-stu-id="ea6a3-170">Return to Top</span></span>](#bkmk_top2)  
  
## <a name="finding-information-about-clusters"></a><span data-ttu-id="ea6a3-171">Ricerca di informazioni sui cluster</span><span class="sxs-lookup"><span data-stu-id="ea6a3-171">Finding Information about Clusters</span></span>  
 <span data-ttu-id="ea6a3-172">Tramite le query contenuto più utili sui modelli di clustering generalmente viene restituito lo stesso tipo di informazioni che è possibile esplorare usando il **Visualizzatore cluster**.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-172">The most useful content queries on clustering models generally return the same type of information that you can browse by using the **Cluster Viewer**.</span></span> <span data-ttu-id="ea6a3-173">ovvero i profili e le caratteristiche del cluster e l'analisi discriminante tra cluster.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-173">This includes cluster profiles, cluster characteristics, and cluster discrimination.</span></span> <span data-ttu-id="ea6a3-174">In questa sezione vengono forniti esempi di query che recuperano queste informazioni.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-174">This section provides examples of queries that retrieve this information.</span></span>  
  
###  <a name="sample-query-3-returning-a-cluster-or-list-of-clusters"></a><a name="bkmk_Query3"></a> <span data-ttu-id="ea6a3-175">Esempio di query 3: Restituzione di un cluster o di un elenco di cluster</span><span class="sxs-lookup"><span data-stu-id="ea6a3-175">Sample Query 3: Returning a Cluster or List of Clusters</span></span>  
 <span data-ttu-id="ea6a3-176">Poiché tutti i cluster includono un nodo di tipo 5, è possibile recuperare facilmente un elenco dei cluster eseguendo una query sul contenuto del modello per individuare solo i nodi di tale tipo.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-176">Because all clusters have a node type of 5, you can easily retrieve a list of the clusters by querying the model content for only the nodes of that type.</span></span> <span data-ttu-id="ea6a3-177">È inoltre possibile filtrare i nodi restituiti per probabilità o per supporto, come illustrato in questo esempio.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-177">You can also filter the nodes that are returned by probability or by support, as shown in this example.</span></span>  
  
```  
SELECT NODE_NAME, NODE_CAPTION ,NODE_SUPPORT, NODE_DESCRIPTION  
FROM TM_Clustering.CONTENT  
WHERE NODE_TYPE = 5 AND NODE_SUPPORT > 1000  
```  
  
 <span data-ttu-id="ea6a3-178">Risultati dell'esempio:</span><span class="sxs-lookup"><span data-stu-id="ea6a3-178">Example results:</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="ea6a3-179">NODE_NAME</span><span class="sxs-lookup"><span data-stu-id="ea6a3-179">NODE_NAME</span></span>|<span data-ttu-id="ea6a3-180">002</span><span class="sxs-lookup"><span data-stu-id="ea6a3-180">002</span></span>|  
|<span data-ttu-id="ea6a3-181">NODE_CAPTION</span><span class="sxs-lookup"><span data-stu-id="ea6a3-181">NODE_CAPTION</span></span>|<span data-ttu-id="ea6a3-182">Cluster 2</span><span class="sxs-lookup"><span data-stu-id="ea6a3-182">Cluster 2</span></span>|  
|<span data-ttu-id="ea6a3-183">NODE_SUPPORT</span><span class="sxs-lookup"><span data-stu-id="ea6a3-183">NODE_SUPPORT</span></span>|<span data-ttu-id="ea6a3-184">1649</span><span class="sxs-lookup"><span data-stu-id="ea6a3-184">1649</span></span>|  
|<span data-ttu-id="ea6a3-185">NODE_DESCRIPTION</span><span class="sxs-lookup"><span data-stu-id="ea6a3-185">NODE_DESCRIPTION</span></span>|<span data-ttu-id="ea6a3-186">English Education=Graduate Degree , 32 <=Age <=48 , Number Cars Owned=0 , 35964.0771121808 <=Yearly Income <=97407.7163393957 , English Occupation=Professional , Commute Distance=2-5 Miles , Region=North America , Bike Buyer=1 , Number Children At Home=0 , Number Cars Owned=1 , Commute Distance=0-1 Miles , English Education=Bachelors , Total Children=1 , Number Children At Home=2 , English Occupation=Skilled Manual , Marital Status=S , Total Children=0 , House Owner Flag=0 , Gender=F , Total Children=2 , Region=Pacific</span><span class="sxs-lookup"><span data-stu-id="ea6a3-186">English Education=Graduate Degree , 32 <=Age <=48 , Number Cars Owned=0 , 35964.0771121808 <=Yearly Income <=97407.7163393957 , English Occupation=Professional , Commute Distance=2-5 Miles , Region=North America , Bike Buyer=1 , Number Children At Home=0 , Number Cars Owned=1 , Commute Distance=0-1 Miles , English Education=Bachelors , Total Children=1 , Number Children At Home=2 , English Occupation=Skilled Manual , Marital Status=S , Total Children=0 , House Owner Flag=0 , Gender=F , Total Children=2 , Region=Pacific</span></span>|  
  
 <span data-ttu-id="ea6a3-187">Gli attributi che definiscono il cluster sono disponibili in due colonne del set di righe dello schema di data mining.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-187">The attributes that define the cluster can be found in two columns in the data mining schema rowset.</span></span>  
  
-   <span data-ttu-id="ea6a3-188">La colonna NODE_DESCRIPTION contiene un elenco delimitato da virgole di attributi.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-188">The NODE_DESCRIPTION column contains a comma-separated list of attributes.</span></span> <span data-ttu-id="ea6a3-189">Si noti che l'elenco di attributi potrebbe essere abbreviato ai fini della visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-189">Note that the list of attributes might be abbreviated for display purposes.</span></span>  
  
-   <span data-ttu-id="ea6a3-190">La tabella nidificata nella colonna NODE_DISTRIBUTION contiene l'elenco completo di attributi per il cluster.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-190">The nested table in the NODE_DISTRIBUTION column contains the full list of attributes for the cluster.</span></span> <span data-ttu-id="ea6a3-191">Se il client non supporta set di righe gerarchici, è possibile restituire la tabella nidificata aggiungendo la parola chiave FLATTENED prima dell'elenco di colonne SELECT.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-191">If your client does not support hierarchical rowsets, you can return the nested table by adding the FLATTENED keyword before the SELECT column list.</span></span> <span data-ttu-id="ea6a3-192">Per altre informazioni sull'uso della parola chiave FLATTENED, vedere [SELECT FROM &#60;model&#62;.CONTENT &#40;DMX&#41;](/sql/dmx/select-from-model-dimension-content-dmx).</span><span class="sxs-lookup"><span data-stu-id="ea6a3-192">For more information about the use of the FLATTENED keyword, see [SELECT FROM &#60;model&#62;.CONTENT &#40;DMX&#41;](/sql/dmx/select-from-model-dimension-content-dmx).</span></span>  
  
 [<span data-ttu-id="ea6a3-193">Torna all'inizio</span><span class="sxs-lookup"><span data-stu-id="ea6a3-193">Return to Top</span></span>](#bkmk_top2)  
  
###  <a name="sample-query-4-returning-attributes-for-a-cluster"></a><a name="bkmk_Query4"></a> <span data-ttu-id="ea6a3-194">Esempio di query 4: Restituzione di attributi per un cluster</span><span class="sxs-lookup"><span data-stu-id="ea6a3-194">Sample Query 4: Returning Attributes for a Cluster</span></span>  
 <span data-ttu-id="ea6a3-195">Nel **Visualizzatore cluster** viene visualizzato un profilo con l'elenco degli attributi e dei valori per ogni cluster.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-195">For every cluster, the **Cluster Viewer** displays a profile that lists the attributes and their values.</span></span> <span data-ttu-id="ea6a3-196">Viene inoltre visualizzato un istogramma che indica la distribuzione dei valori per l'intero popolamento dei case nel modello.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-196">The viewer also displays a histogram that shows the distribution of values for the whole population of cases in the model.</span></span> <span data-ttu-id="ea6a3-197">Se si esplora il modello nel visualizzatore, è possibile copiare facilmente l'istogramma dalla Legenda data mining e quindi incollarlo in Excel o in un documento di Word.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-197">If you are browsing the model in the viewer, you can easily copy the histogram from the Mining Legend and then paste it to Excel or a Word document.</span></span> <span data-ttu-id="ea6a3-198">È inoltre possibile utilizzare il riquadro Caratteristiche cluster del visualizzatore per confrontare graficamente gli attributi di cluster diversi.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-198">You can also use the Cluster Characteristics pane of the viewer to graphically compare the attributes of different clusters.</span></span>  
  
 <span data-ttu-id="ea6a3-199">Se tuttavia è necessario ottenere valori per più di un cluster alla volta, risulta più semplice eseguire una query sul modello.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-199">However, if you must obtain values for more than one cluster at a time, it is easier to query the model.</span></span> <span data-ttu-id="ea6a3-200">Ad esempio, quando si esplora il modello, si potrebbe notare che i primi due cluster differiscono tra loro in relazione a un attributo, ovvero `Number Cars Owned`.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-200">For example, when you browse the model, you might notice that the top two clusters differ with regard to one attribute, `Number Cars Owned`.</span></span> <span data-ttu-id="ea6a3-201">Pertanto, si desidera estrarre i valori per ogni cluster.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-201">Therefore, you want to extract the values for each cluster.</span></span>  
  
```  
SELECT TOP 2 NODE_NAME,   
(SELECT ATTRIBUTE_VALUE, [PROBABILITY] FROM NODE_DISTRIBUTION WHERE ATTRIBUTE_NAME = 'Number Cars Owned')  
AS t  
FROM [TM_Clustering].CONTENT  
WHERE NODE_TYPE = 5  
```  
  
 <span data-ttu-id="ea6a3-202">La prima riga del codice specifica che si desiderano solo i primi due cluster.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-202">The first line of the code specifies that you want only the top two clusters.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="ea6a3-203">Per impostazione predefinita, i cluster sono ordinati per supporto.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-203">By default, the clusters are ordered by support.</span></span> <span data-ttu-id="ea6a3-204">Pertanto, la colonna NODE_SUPPORT può essere omessa.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-204">Therefore, the NODE_SUPPORT column can be omitted.</span></span>  
  
 <span data-ttu-id="ea6a3-205">La seconda riga del codice aggiunge un'istruzione sub-SELECT che restituisce solo determinate colonne della colonna della tabella nidificata.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-205">The second line of the code adds a sub-select statement that returns only certain columns from the nested table column.</span></span> <span data-ttu-id="ea6a3-206">Limita inoltre le righe della tabella nidificata a quelle correlate all'attributo di destinazione, `Number Cars Owned`.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-206">Furthermore, it restricts the rows from the nested table to those related to the target attribute, `Number Cars Owned`.</span></span> <span data-ttu-id="ea6a3-207">Per semplificare la visualizzazione, la tabella è associata a un alias.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-207">To simplify the display, the nested table is aliased.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="ea6a3-208">La colonna della tabella nidificata, `PROBABILITY`, deve essere racchiusa tra parentesi quadre perché corrisponde anche al nome di una parola chiave riservata MDX.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-208">The nested table column, `PROBABILITY`, must be enclosed in brackets because it is also the name of a reserved MDX keyword.</span></span>  
>   
>  <span data-ttu-id="ea6a3-209">Risultati dell'esempio:</span><span class="sxs-lookup"><span data-stu-id="ea6a3-209">Example results:</span></span>  
  
|<span data-ttu-id="ea6a3-210">NODE_NAME</span><span class="sxs-lookup"><span data-stu-id="ea6a3-210">NODE_NAME</span></span>|<span data-ttu-id="ea6a3-211">T.ATTRIBUTE_VALUE</span><span class="sxs-lookup"><span data-stu-id="ea6a3-211">T.ATTRIBUTE_VALUE</span></span>|<span data-ttu-id="ea6a3-212">T.PROBABILITY</span><span class="sxs-lookup"><span data-stu-id="ea6a3-212">T.PROBABILITY</span></span>|  
|----------------|------------------------|-------------------|  
|<span data-ttu-id="ea6a3-213">001</span><span class="sxs-lookup"><span data-stu-id="ea6a3-213">001</span></span>|<span data-ttu-id="ea6a3-214">2</span><span class="sxs-lookup"><span data-stu-id="ea6a3-214">2</span></span>|<span data-ttu-id="ea6a3-215">0.829207754</span><span class="sxs-lookup"><span data-stu-id="ea6a3-215">0.829207754</span></span>|  
|<span data-ttu-id="ea6a3-216">001</span><span class="sxs-lookup"><span data-stu-id="ea6a3-216">001</span></span>|<span data-ttu-id="ea6a3-217">1</span><span class="sxs-lookup"><span data-stu-id="ea6a3-217">1</span></span>|<span data-ttu-id="ea6a3-218">0.109354156</span><span class="sxs-lookup"><span data-stu-id="ea6a3-218">0.109354156</span></span>|  
|<span data-ttu-id="ea6a3-219">001</span><span class="sxs-lookup"><span data-stu-id="ea6a3-219">001</span></span>|<span data-ttu-id="ea6a3-220">3</span><span class="sxs-lookup"><span data-stu-id="ea6a3-220">3</span></span>|<span data-ttu-id="ea6a3-221">0.034481552</span><span class="sxs-lookup"><span data-stu-id="ea6a3-221">0.034481552</span></span>|  
|<span data-ttu-id="ea6a3-222">001</span><span class="sxs-lookup"><span data-stu-id="ea6a3-222">001</span></span>|<span data-ttu-id="ea6a3-223">4</span><span class="sxs-lookup"><span data-stu-id="ea6a3-223">4</span></span>|<span data-ttu-id="ea6a3-224">0.013503302</span><span class="sxs-lookup"><span data-stu-id="ea6a3-224">0.013503302</span></span>|  
|<span data-ttu-id="ea6a3-225">001</span><span class="sxs-lookup"><span data-stu-id="ea6a3-225">001</span></span>|<span data-ttu-id="ea6a3-226">0</span><span class="sxs-lookup"><span data-stu-id="ea6a3-226">0</span></span>|<span data-ttu-id="ea6a3-227">0.013453236</span><span class="sxs-lookup"><span data-stu-id="ea6a3-227">0.013453236</span></span>|  
|<span data-ttu-id="ea6a3-228">001</span><span class="sxs-lookup"><span data-stu-id="ea6a3-228">001</span></span>|<span data-ttu-id="ea6a3-229">Missing</span><span class="sxs-lookup"><span data-stu-id="ea6a3-229">Missing</span></span>|<span data-ttu-id="ea6a3-230">0</span><span class="sxs-lookup"><span data-stu-id="ea6a3-230">0</span></span>|  
|<span data-ttu-id="ea6a3-231">002</span><span class="sxs-lookup"><span data-stu-id="ea6a3-231">002</span></span>|<span data-ttu-id="ea6a3-232">0</span><span class="sxs-lookup"><span data-stu-id="ea6a3-232">0</span></span>|<span data-ttu-id="ea6a3-233">0.576980023</span><span class="sxs-lookup"><span data-stu-id="ea6a3-233">0.576980023</span></span>|  
|<span data-ttu-id="ea6a3-234">002</span><span class="sxs-lookup"><span data-stu-id="ea6a3-234">002</span></span>|<span data-ttu-id="ea6a3-235">1</span><span class="sxs-lookup"><span data-stu-id="ea6a3-235">1</span></span>|<span data-ttu-id="ea6a3-236">0.406623939</span><span class="sxs-lookup"><span data-stu-id="ea6a3-236">0.406623939</span></span>|  
|<span data-ttu-id="ea6a3-237">002</span><span class="sxs-lookup"><span data-stu-id="ea6a3-237">002</span></span>|<span data-ttu-id="ea6a3-238">2</span><span class="sxs-lookup"><span data-stu-id="ea6a3-238">2</span></span>|<span data-ttu-id="ea6a3-239">0.016380082</span><span class="sxs-lookup"><span data-stu-id="ea6a3-239">0.016380082</span></span>|  
|<span data-ttu-id="ea6a3-240">002</span><span class="sxs-lookup"><span data-stu-id="ea6a3-240">002</span></span>|<span data-ttu-id="ea6a3-241">3</span><span class="sxs-lookup"><span data-stu-id="ea6a3-241">3</span></span>|<span data-ttu-id="ea6a3-242">1,60E-05</span><span class="sxs-lookup"><span data-stu-id="ea6a3-242">1.60E-05</span></span>|  
|<span data-ttu-id="ea6a3-243">002</span><span class="sxs-lookup"><span data-stu-id="ea6a3-243">002</span></span>|<span data-ttu-id="ea6a3-244">4</span><span class="sxs-lookup"><span data-stu-id="ea6a3-244">4</span></span>|<span data-ttu-id="ea6a3-245">0</span><span class="sxs-lookup"><span data-stu-id="ea6a3-245">0</span></span>|  
|<span data-ttu-id="ea6a3-246">002</span><span class="sxs-lookup"><span data-stu-id="ea6a3-246">002</span></span>|<span data-ttu-id="ea6a3-247">Missing</span><span class="sxs-lookup"><span data-stu-id="ea6a3-247">Missing</span></span>|<span data-ttu-id="ea6a3-248">0</span><span class="sxs-lookup"><span data-stu-id="ea6a3-248">0</span></span>|  
  
 [<span data-ttu-id="ea6a3-249">Torna all'inizio</span><span class="sxs-lookup"><span data-stu-id="ea6a3-249">Return to Top</span></span>](#bkmk_top2)  
  
###  <a name="sample-query-5-return-a-cluster-profile-using-system-stored-procedures"></a><a name="bkmk_Query5"></a> <span data-ttu-id="ea6a3-250">Esempio di query 5: Restituzione del profilo di un cluster tramite stored procedure di sistema</span><span class="sxs-lookup"><span data-stu-id="ea6a3-250">Sample Query 5: Return a Cluster Profile Using System Stored Procedures</span></span>  
 <span data-ttu-id="ea6a3-251">Come alternativa rapida, anziché scrivere query usando DMX, è anche possibile chiamare le stored procedure di sistema usate da [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] per gestire i cluster.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-251">As a shortcut, rather than writing your own queries by using DMX, you can also call the system stored procedures that [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] uses to work with clusters.</span></span> <span data-ttu-id="ea6a3-252">Nell'esempio seguente viene illustrato come utilizzare le stored procedure interne per restituire il profilo per un cluster con ID 002.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-252">The following example illustrates how to use the internal stored procedures to return the profile for a cluster with the ID of 002.</span></span>  
  
```  
CALL System.Microsoft.AnalysisServices.System.DataMining.Clustering.GetClusterProfiles('TM_Clustering", '002',0.0005  
```  
  
 <span data-ttu-id="ea6a3-253">Analogamente, è possibile utilizzare una stored procedure di sistema per restituire le caratteristiche di un cluster specifico, come illustrato nell'esempio seguente:</span><span class="sxs-lookup"><span data-stu-id="ea6a3-253">Similarly, you can use a system stored procedure to return the characteristics of a specific cluster, as shown in the following example:</span></span>  
  
```  
CALL System.Microsoft.AnalysisServices.System.DataMining.Clustering.GetClusterCharacteristics('TM_Clustering", '009',0.0005  
```  
  
 <span data-ttu-id="ea6a3-254">Risultati dell'esempio:</span><span class="sxs-lookup"><span data-stu-id="ea6a3-254">Example results:</span></span>  
  
|<span data-ttu-id="ea6a3-255">Attributi</span><span class="sxs-lookup"><span data-stu-id="ea6a3-255">Attributes</span></span>|<span data-ttu-id="ea6a3-256">Valori</span><span class="sxs-lookup"><span data-stu-id="ea6a3-256">Values</span></span>|<span data-ttu-id="ea6a3-257">Frequenza</span><span class="sxs-lookup"><span data-stu-id="ea6a3-257">Frequency</span></span>|<span data-ttu-id="ea6a3-258">Supporto</span><span class="sxs-lookup"><span data-stu-id="ea6a3-258">Support</span></span>|  
|----------------|------------|---------------|-------------|  
|<span data-ttu-id="ea6a3-259">Number Children at Home</span><span class="sxs-lookup"><span data-stu-id="ea6a3-259">Number Children at Home</span></span>|<span data-ttu-id="ea6a3-260">0</span><span class="sxs-lookup"><span data-stu-id="ea6a3-260">0</span></span>|<span data-ttu-id="ea6a3-261">0.999999829076798</span><span class="sxs-lookup"><span data-stu-id="ea6a3-261">0.999999829076798</span></span>|<span data-ttu-id="ea6a3-262">899</span><span class="sxs-lookup"><span data-stu-id="ea6a3-262">899</span></span>|  
|<span data-ttu-id="ea6a3-263">Region</span><span class="sxs-lookup"><span data-stu-id="ea6a3-263">Region</span></span>|<span data-ttu-id="ea6a3-264">America del Nord</span><span class="sxs-lookup"><span data-stu-id="ea6a3-264">North America</span></span>|<span data-ttu-id="ea6a3-265">0.999852875241508</span><span class="sxs-lookup"><span data-stu-id="ea6a3-265">0.999852875241508</span></span>|<span data-ttu-id="ea6a3-266">899</span><span class="sxs-lookup"><span data-stu-id="ea6a3-266">899</span></span>|  
|<span data-ttu-id="ea6a3-267">Total Children</span><span class="sxs-lookup"><span data-stu-id="ea6a3-267">Total Children</span></span>|<span data-ttu-id="ea6a3-268">0</span><span class="sxs-lookup"><span data-stu-id="ea6a3-268">0</span></span>|<span data-ttu-id="ea6a3-269">0.993860958572323</span><span class="sxs-lookup"><span data-stu-id="ea6a3-269">0.993860958572323</span></span>|<span data-ttu-id="ea6a3-270">893</span><span class="sxs-lookup"><span data-stu-id="ea6a3-270">893</span></span>|  
  
> [!NOTE]  
>  <span data-ttu-id="ea6a3-271">Le stored procedure di sistema per il data mining sono per uso interno e [!INCLUDE[msCoName](../../includes/msconame-md.md)] si riserva il diritto di modificarle, se necessario.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-271">The data mining system stored procedures are for internal use and [!INCLUDE[msCoName](../../includes/msconame-md.md)] reserves the right to change them as needed.</span></span> <span data-ttu-id="ea6a3-272">Per l'utilizzo in un ambiente di produzione, si consiglia di creare query utilizzando DMX, AMO o XMLA.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-272">For production use, we recommend that you create queries by using DMX, AMO, or XMLA.</span></span>  
  
 [<span data-ttu-id="ea6a3-273">Torna all'inizio</span><span class="sxs-lookup"><span data-stu-id="ea6a3-273">Return to Top</span></span>](#bkmk_top2)  
  
###  <a name="sample-query-6-find-discriminating-factors-for-a-cluster"></a><a name="bkmk_Query6"></a> <span data-ttu-id="ea6a3-274">Esempio di query 6: Individuazione dei fattori discriminanti per un cluster</span><span class="sxs-lookup"><span data-stu-id="ea6a3-274">Sample Query 6: Find Discriminating Factors for a Cluster</span></span>  
 <span data-ttu-id="ea6a3-275">La scheda **Analisi discriminante tra cluster** del **Visualizzatore cluster** consente di confrontare facilmente un cluster con un altro cluster o con tutti i case rimanenti (il complemento del cluster).</span><span class="sxs-lookup"><span data-stu-id="ea6a3-275">The **Cluster Discrimination** tab of the **Cluster Viewer** enables you to easily compare a cluster with another cluster, or compare a cluster with all remaining cases (the complement of the cluster).</span></span>  
  
 <span data-ttu-id="ea6a3-276">La creazione di query per restituire queste informazioni può tuttavia essere complessa e potrebbe essere necessario eseguire un'elaborazione aggiuntiva sul client per archiviare i risultati temporanei e confrontare i risultati di due o più query.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-276">However, creating queries to return this information can be complex, and you might need some additional processing on the client to store the temporary results and compare the results of two or more queries.</span></span> <span data-ttu-id="ea6a3-277">Come alternativa rapida, è possibile utilizzare le stored procedure di sistema.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-277">As a shortcut, you can use the system stored procedures.</span></span>  
  
 <span data-ttu-id="ea6a3-278">Con la query seguente viene restituita una singola tabella che indica i principali fattori discriminanti tra i due cluster con ID nodo 009 e 007.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-278">The following query returns a single table that indicates the primary discriminating factors between the two clusters that have the node IDs of 009 and 007.</span></span> <span data-ttu-id="ea6a3-279">Gli attributi con valori positivi prediligono il cluster 009, mentre quelli con valori negativi il cluster 007.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-279">Attributes with positive values favor cluster 009, whereas attributes with negative values favor cluster 007.</span></span>  
  
```  
CALL System.Microsoft.AnalysisServices.System.DataMining.Clustering.GetClusterDiscrimination('TM_Clustering','009','007',0.0005,true)  
```  
  
 <span data-ttu-id="ea6a3-280">Risultati dell'esempio:</span><span class="sxs-lookup"><span data-stu-id="ea6a3-280">Example results:</span></span>  
  
|<span data-ttu-id="ea6a3-281">Attributi</span><span class="sxs-lookup"><span data-stu-id="ea6a3-281">Attributes</span></span>|<span data-ttu-id="ea6a3-282">Valori</span><span class="sxs-lookup"><span data-stu-id="ea6a3-282">Values</span></span>|<span data-ttu-id="ea6a3-283">Punteggio</span><span class="sxs-lookup"><span data-stu-id="ea6a3-283">Score</span></span>|  
|----------------|------------|-----------|  
|<span data-ttu-id="ea6a3-284">Region</span><span class="sxs-lookup"><span data-stu-id="ea6a3-284">Region</span></span>|<span data-ttu-id="ea6a3-285">America del Nord</span><span class="sxs-lookup"><span data-stu-id="ea6a3-285">North America</span></span>|<span data-ttu-id="ea6a3-286">100</span><span class="sxs-lookup"><span data-stu-id="ea6a3-286">100</span></span>|  
|<span data-ttu-id="ea6a3-287">English Occupation</span><span class="sxs-lookup"><span data-stu-id="ea6a3-287">English Occupation</span></span>|<span data-ttu-id="ea6a3-288">Skilled Manual</span><span class="sxs-lookup"><span data-stu-id="ea6a3-288">Skilled Manual</span></span>|<span data-ttu-id="ea6a3-289">94.9003803898654</span><span class="sxs-lookup"><span data-stu-id="ea6a3-289">94.9003803898654</span></span>|  
|<span data-ttu-id="ea6a3-290">Region</span><span class="sxs-lookup"><span data-stu-id="ea6a3-290">Region</span></span>|<span data-ttu-id="ea6a3-291">Europa</span><span class="sxs-lookup"><span data-stu-id="ea6a3-291">Europe</span></span>|<span data-ttu-id="ea6a3-292">-72.5041051379789</span><span class="sxs-lookup"><span data-stu-id="ea6a3-292">-72.5041051379789</span></span>|  
|<span data-ttu-id="ea6a3-293">English Occupation</span><span class="sxs-lookup"><span data-stu-id="ea6a3-293">English Occupation</span></span>|<span data-ttu-id="ea6a3-294">Manuale</span><span class="sxs-lookup"><span data-stu-id="ea6a3-294">Manual</span></span>|<span data-ttu-id="ea6a3-295">-69.6503163202722</span><span class="sxs-lookup"><span data-stu-id="ea6a3-295">-69.6503163202722</span></span>|  
  
 <span data-ttu-id="ea6a3-296">Queste informazioni sono identiche a quelle presentate nel grafico del visualizzatore **Analisi discriminante tra cluster** se si seleziona Cluster 9 dal primo elenco a discesa e Cluster 7 dal secondo elenco a discesa.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-296">This is the same information that is presented in the chart of the **Cluster Discrimination** viewer if you select Cluster 9 from the first drop-down list and Cluster 7 from the second drop-down list.</span></span> <span data-ttu-id="ea6a3-297">Per confrontare il cluster 9 con il relativo complemento, utilizzare la stringa vuota nel secondo parametro, come illustrato nell'esempio seguente:</span><span class="sxs-lookup"><span data-stu-id="ea6a3-297">To compare cluster 9 with its complement, you use the empty string in the second parameter, as shown in the following example:</span></span>  
  
```  
CALL System.Microsoft.AnalysisServices.System.DataMining.Clustering.GetClusterDiscrimination('TM_Clustering','009','',0.0005,true)  
```  
  
> [!NOTE]  
>  <span data-ttu-id="ea6a3-298">Le stored procedure di sistema per il data mining sono per uso interno e [!INCLUDE[msCoName](../../includes/msconame-md.md)] si riserva il diritto di modificarle, se necessario.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-298">The data mining system stored procedures are for internal use and [!INCLUDE[msCoName](../../includes/msconame-md.md)] reserves the right to change them as needed.</span></span> <span data-ttu-id="ea6a3-299">Per l'utilizzo in un ambiente di produzione, si consiglia di creare query utilizzando DMX, AMO o XMLA.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-299">For production use, we recommend that you create queries by using DMX, AMO, or XMLA.</span></span>  
  
 [<span data-ttu-id="ea6a3-300">Torna all'inizio</span><span class="sxs-lookup"><span data-stu-id="ea6a3-300">Return to Top</span></span>](#bkmk_top2)  
  
###  <a name="sample-query-7-returning-cases-that-belong-to-a-cluster"></a><a name="bkmk_Query7"></a> <span data-ttu-id="ea6a3-301">Esempio d query 7: Restituzione di case appartenenti a un cluster</span><span class="sxs-lookup"><span data-stu-id="ea6a3-301">Sample Query 7: Returning Cases that Belong to a Cluster</span></span>  
 <span data-ttu-id="ea6a3-302">Se per il modello di data mining è stato abilitato il drill-through, è possibile creare query tramite cui vengono restituite informazioni dettagliate sui case utilizzati nel modello.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-302">If drillthrough has been enabled on the mining model, you can create queries that return detailed information about the cases used in the model.</span></span> <span data-ttu-id="ea6a3-303">Inoltre, se il drill-through è stato abilitato per la struttura di data mining, è possibile includere le colonne della struttura sottostante usando la funzione [StructureColumn &#40;DMX&#41;](/sql/dmx/structurecolumn-dmx).</span><span class="sxs-lookup"><span data-stu-id="ea6a3-303">Moreover, if drillthrough has been enabled on the mining structure, you can include columns from the underlying structure by using the [StructureColumn &#40;DMX&#41;](/sql/dmx/structurecolumn-dmx) function.</span></span>  
  
 <span data-ttu-id="ea6a3-304">Nell'esempio seguente vengono restituite due colonne utilizzate nel modello, Age e Region, e un'altra colonna, First Name, che non è stata utilizzata nel modello.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-304">The following example returns two columns that were used in the model, Age and Region, and one more column, First Name, that was not used in the model.</span></span> <span data-ttu-id="ea6a3-305">La query restituisce solo i case classificati in Cluster 1.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-305">The query returns only cases that were classified into Cluster 1.</span></span>  
  
```  
SELECT [Age], [Region], StructureColumn('First Name')  
FROM [TM_Clustering].CASES  
WHERE IsInNode('001')  
```  
  
 <span data-ttu-id="ea6a3-306">Per restituire i case che appartengono a un cluster, è necessario conoscere l'ID del cluster.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-306">To return the cases that belong to a cluster, you must know the ID of the cluster.</span></span> <span data-ttu-id="ea6a3-307">È possibile ottenere questo valore esplorando il modello in uno dei visualizzatori.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-307">You can obtain the ID of the cluster by browsing the model in one of the viewers.</span></span> <span data-ttu-id="ea6a3-308">In alternativa, è possibile rinominare un cluster per farvi riferimento in modo più semplice e in seguito utilizzare il nome al posto di un numero ID.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-308">Or, you can rename a cluster for easier reference, after which you could use the name in place of an ID number.</span></span> <span data-ttu-id="ea6a3-309">Tenere presente, tuttavia, che i nomi assegnati a un cluster andranno persi se il modello viene rielaborato.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-309">However, know that the names that you assign to a cluster will be lost if the model is reprocessed.</span></span>  
  
 [<span data-ttu-id="ea6a3-310">Torna all'inizio</span><span class="sxs-lookup"><span data-stu-id="ea6a3-310">Return to Top</span></span>](#bkmk_top2)  
  
## <a name="making-predictions-using-the-model"></a><span data-ttu-id="ea6a3-311">Esecuzione di stime tramite il modello</span><span class="sxs-lookup"><span data-stu-id="ea6a3-311">Making Predictions using the Model</span></span>  
 <span data-ttu-id="ea6a3-312">Anche se il clustering viene solitamente usato per descrivere e comprendere i dati, l'implementazione [!INCLUDE[msCoName](../../includes/msconame-md.md)] consente anche di eseguire una stima sull'appartenenza al cluster e di restituire le probabilità associate alla stima.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-312">Although clustering is typically used for describing and understanding data, the [!INCLUDE[msCoName](../../includes/msconame-md.md)] implementation also lets you make prediction about cluster membership, and return probabilities associated with the prediction.</span></span> <span data-ttu-id="ea6a3-313">In questa sezione vengono forniti alcuni esempi su come creare query di stima sui modelli di clustering.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-313">This section provides examples of how to create prediction queries on clustering models.</span></span> <span data-ttu-id="ea6a3-314">È possibile eseguire stime per più case, specificando un'origine dati tabulare, oppure fornire nuovi valori contemporaneamente creando una query singleton.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-314">You can make predictions for multiple cases, by specifying a tabular data source, or you can provide new values on at a time by creating a singleton query.</span></span> <span data-ttu-id="ea6a3-315">Per maggiore chiarezza, negli esempi di questa sezione vengono usate tutte query singleton.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-315">For clarity the examples in this section are all singleton queries.</span></span>  
  
 <span data-ttu-id="ea6a3-316">Per ulteriori informazioni sulla creazione di query di stima tramite DMX, vedere [interfacce di query di data mining](data-mining-query-tools.md).</span><span class="sxs-lookup"><span data-stu-id="ea6a3-316">For more information about how to create prediction queries using DMX, see [Data Mining Query Interfaces](data-mining-query-tools.md).</span></span>  
  
 [<span data-ttu-id="ea6a3-317">Torna all'inizio</span><span class="sxs-lookup"><span data-stu-id="ea6a3-317">Return to Top</span></span>](#bkmk_top2)  
  
###  <a name="sample-query-8-predicting-outcomes-from-a-clustering-model"></a><a name="bkmk_Query8"></a> <span data-ttu-id="ea6a3-318">Esempio di query 8: Stima dei risultati da un modello di clustering</span><span class="sxs-lookup"><span data-stu-id="ea6a3-318">Sample Query 8: Predicting Outcomes from a Clustering Model</span></span>  
 <span data-ttu-id="ea6a3-319">Se il modello di clustering creato contiene un attributo stimabile, è possibile utilizzarlo per eseguire stime sui risultati.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-319">If the clustering model you create contains a predictable attribute, you can use the model to make predictions about outcomes.</span></span> <span data-ttu-id="ea6a3-320">Tuttavia, il modello gestisce l'attributo stimabile in modo diverso a seconda che la colonna stimabile venga impostata su `Predict` o su `PredictOnly`.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-320">However, the model handles the predictable attribute differently depending on whether you set the predictable column to `Predict` or `PredictOnly`.</span></span> <span data-ttu-id="ea6a3-321">Se si imposta l'utilizzo della colonna su `Predict`, i valori relativi a tale attributo vengono aggiunti al modello di clustering e vengono visualizzati come attributi nel modello finito.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-321">If you set the usage of the column to `Predict`, the values for that attribute are added to the clustering model and appear as attributes in the finished model.</span></span> <span data-ttu-id="ea6a3-322">Se invece si imposta l'utilizzo della colonna su `PredictOnly`, i valori non vengono utilizzati per creare cluster.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-322">However, if you set the usage of the column to `PredictOnly`, the values are not used to create clusters.</span></span> <span data-ttu-id="ea6a3-323">Al contrario, al termine della modalità, l'algoritmo di clustering crea nuovi valori per l'attributo `PredictOnly` in base ai cluster a cui appartiene ogni case.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-323">Instead, after the mode is completed, the clustering algorithm creates new values for the `PredictOnly` attribute based on the clusters to which each case belongs.</span></span>  
  
 <span data-ttu-id="ea6a3-324">Con la query seguente viene fornito un nuovo case singolo al modello, in cui le uniche informazioni sul case sono l'età e il sesso.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-324">The following query provides a single new case to the model, where the only information about the case is the age and gender.</span></span> <span data-ttu-id="ea6a3-325">L'istruzione SELECT specifica la coppia attributo/valore stimabile di interesse, mentre la funzione [PredictProbability &#40;DMX&#41;](/sql/dmx/predictprobability-dmx) indica la probabilità che un case con tali attributi genererà il risultato di destinazione.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-325">The SELECT statement specifies the predictable attribute/value pair that you are interested in, and the [PredictProbability &#40;DMX&#41;](/sql/dmx/predictprobability-dmx) function tells you the probability that a case with those attributes will have the targeted outcome.</span></span>  
  
```  
SELECT  
  [TM_Clustering].[Bike Buyer], PredictProbability([Bike Buyer],1)  
FROM  
  [TM_Clustering]  
NATURAL PREDICTION JOIN  
(SELECT 40 AS [Age],  
  'F' AS [Gender]) AS t  
```  
  
 <span data-ttu-id="ea6a3-326">Esempio dei risultati quando l'utilizzo è impostato su `Predict`:</span><span class="sxs-lookup"><span data-stu-id="ea6a3-326">Example of results when usage is set to `Predict`:</span></span>  
  
|<span data-ttu-id="ea6a3-327">Bike Buyer</span><span class="sxs-lookup"><span data-stu-id="ea6a3-327">Bike Buyer</span></span>|<span data-ttu-id="ea6a3-328">Expression</span><span class="sxs-lookup"><span data-stu-id="ea6a3-328">Expression</span></span>|  
|----------------|----------------|  
|<span data-ttu-id="ea6a3-329">1</span><span class="sxs-lookup"><span data-stu-id="ea6a3-329">1</span></span>|<span data-ttu-id="ea6a3-330">0.592924735740338</span><span class="sxs-lookup"><span data-stu-id="ea6a3-330">0.592924735740338</span></span>|  
  
 <span data-ttu-id="ea6a3-331">Esempio dei risultati quando l'utilizzo è impostato su `PredictOnly` e il modello viene rielaborato:</span><span class="sxs-lookup"><span data-stu-id="ea6a3-331">Example of results when the usage is set to `PredictOnly` and the model is reprocessed:</span></span>  
  
|<span data-ttu-id="ea6a3-332">Bike Buyer</span><span class="sxs-lookup"><span data-stu-id="ea6a3-332">Bike Buyer</span></span>|<span data-ttu-id="ea6a3-333">Expression</span><span class="sxs-lookup"><span data-stu-id="ea6a3-333">Expression</span></span>|  
|----------------|----------------|  
|<span data-ttu-id="ea6a3-334">1</span><span class="sxs-lookup"><span data-stu-id="ea6a3-334">1</span></span>|<span data-ttu-id="ea6a3-335">0.55843544003102</span><span class="sxs-lookup"><span data-stu-id="ea6a3-335">0.55843544003102</span></span>|  
  
 <span data-ttu-id="ea6a3-336">In questo esempio la differenza nel modello non è significativa.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-336">In this example, the difference in the model is not significant.</span></span> <span data-ttu-id="ea6a3-337">Tuttavia, talvolta può essere importante individuare le differenze tra la distribuzione effettiva dei valori e le stime del modello.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-337">However, sometimes it can be important to detect differences between the actual distribution of values and what the model predicts.</span></span> <span data-ttu-id="ea6a3-338">La scheda [PredictCaseLikelihood &#40;DMX&#41;](/sql/dmx/predictcaselikelihood-dmx) è utile in questo scenario, perché indica il livello di probabilità di un case, dato il modello.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-338">The [PredictCaseLikelihood &#40;DMX&#41;](/sql/dmx/predictcaselikelihood-dmx) function is useful in this scenario, because it tells you how likely a case is, given the model.</span></span>  
  
 <span data-ttu-id="ea6a3-339">Il numero restituito dalla funzione PredictCaseLikelihood è una probabilità e pertanto è sempre compreso tra 0 e 1, con il valore 0,5 che rappresenta il risultato casuale.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-339">The number that is returned by the PredictCaseLikelihood function is a probability, and therefore is always between 0 and 1, with a value of .5 representing random outcome.</span></span> <span data-ttu-id="ea6a3-340">Pertanto, un punteggio minore di 0,5 significa che il case stimato è improbabile, dato il modello, mentre un punteggio maggiore di 0,5 indica che è molto probabile ottenere un fit tra il case stimato e il modello.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-340">Therefore, a score less than .5 means that the predicted case is unlikely, given the model, and a score over.5 indicates that the predicted case is more likely than not to fit the model.</span></span>  
  
 <span data-ttu-id="ea6a3-341">Ad esempio, con la query seguente vengono restituiti due valori che caratterizzano il livello di probabilità di un nuovo case di esempio.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-341">For example, the following query returns two values that characterize the likelihood of a new sample case.</span></span> <span data-ttu-id="ea6a3-342">Il valore non normalizzato rappresenta la probabilità dato il modello corrente.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-342">The non-normalized value represents the probability given the current model.</span></span> <span data-ttu-id="ea6a3-343">Quando si utilizza la parola chiave NORMALIZED, il punteggio di probabilità restituito dalla funzione viene adattato dividendo la "probabilità con il modello" per la "probabilità senza il modello".</span><span class="sxs-lookup"><span data-stu-id="ea6a3-343">When you use the NORMALIZED keyword, the likelihood score that is returned by the function is adjusted by dividing "probability with the model" by "probability without the model".</span></span>  
  
```  
SELECT  
PredictCaseLikelihood(NORMALIZED) AS [NormalizedValue], PredictCaseLikelihood(NONNORMALIZED) AS [NonNormalizedValue]  
FROM  
  [TM_Clustering_PredictOnly]  
NATURAL PREDICTION JOIN  
(SELECT 40 AS [Age],  
  'F' AS [Gender]) AS t  
```  
  
 <span data-ttu-id="ea6a3-344">Risultati dell'esempio:</span><span class="sxs-lookup"><span data-stu-id="ea6a3-344">Example results:</span></span>  
  
|<span data-ttu-id="ea6a3-345">NormalizedValue</span><span class="sxs-lookup"><span data-stu-id="ea6a3-345">NormalizedValue</span></span>|<span data-ttu-id="ea6a3-346">NonNormalizedValue</span><span class="sxs-lookup"><span data-stu-id="ea6a3-346">NonNormalizedValue</span></span>|  
|---------------------|------------------------|  
|<span data-ttu-id="ea6a3-347">5.56438372679893E-11</span><span class="sxs-lookup"><span data-stu-id="ea6a3-347">5.56438372679893E-11</span></span>|<span data-ttu-id="ea6a3-348">8,65459953145182E-68</span><span class="sxs-lookup"><span data-stu-id="ea6a3-348">8.65459953145182E-68</span></span>|  
  
 <span data-ttu-id="ea6a3-349">Si noti che i numeri di questi risultati sono espressi in formato di notazione scientifica.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-349">Note that the numbers in these results are expressed in scientific notation.</span></span>  
  
 [<span data-ttu-id="ea6a3-350">Torna all'inizio</span><span class="sxs-lookup"><span data-stu-id="ea6a3-350">Return to Top</span></span>](#bkmk_top2)  
  
###  <a name="sample-query-9-determining-cluster-membership"></a><a name="bkmk_Query9"></a> <span data-ttu-id="ea6a3-351">Esempio di query 9: Determinazione dell'appartenenza al cluster</span><span class="sxs-lookup"><span data-stu-id="ea6a3-351">Sample Query 9: Determining Cluster Membership</span></span>  
 <span data-ttu-id="ea6a3-352">In questo esempio vengono usate la funzione [Cluster &#40;DMX&#41;](/sql/dmx/cluster-dmx) per restituire il cluster a cui è più probabile che appartenga il nuovo case e la funzione [ClusterProbability &#40;DMX&#41;](/sql/dmx/clusterprobability-dmx) per restituire la probabilità di appartenenza a tale cluster.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-352">This example uses the [Cluster &#40;DMX&#41;](/sql/dmx/cluster-dmx) function to return the cluster to which the new case is most likely to belong, and uses the [ClusterProbability &#40;DMX&#41;](/sql/dmx/clusterprobability-dmx) function to return the probability for membership in that cluster.</span></span>  
  
```  
SELECT Cluster(), ClusterProbability()  
FROM  
  [TM_Clustering]  
NATURAL PREDICTION JOIN  
(SELECT 40 AS [Age],  
  'F' AS [Gender],  
  'S' AS [Marital Status]) AS t  
```  
  
 <span data-ttu-id="ea6a3-353">Risultati dell'esempio:</span><span class="sxs-lookup"><span data-stu-id="ea6a3-353">Example results:</span></span>  
  
|<span data-ttu-id="ea6a3-354">$CLUSTER</span><span class="sxs-lookup"><span data-stu-id="ea6a3-354">$CLUSTER</span></span>|<span data-ttu-id="ea6a3-355">Expression</span><span class="sxs-lookup"><span data-stu-id="ea6a3-355">Expression</span></span>|  
|--------------|----------------|  
|<span data-ttu-id="ea6a3-356">Cluster 2</span><span class="sxs-lookup"><span data-stu-id="ea6a3-356">Cluster 2</span></span>|<span data-ttu-id="ea6a3-357">0.397918596951617</span><span class="sxs-lookup"><span data-stu-id="ea6a3-357">0.397918596951617</span></span>|  
  
 <span data-ttu-id="ea6a3-358">**Nota** Per impostazione predefinita, la `ClusterProbability` funzione restituisce la probabilità del cluster più probabile.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-358">**Note** By default, the `ClusterProbability` function returns the probability of the most likely cluster.</span></span> <span data-ttu-id="ea6a3-359">Tuttavia, è possibile specificare un cluster diverso usando la sintassi `ClusterProbability('cluster name')`.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-359">However, you can specify a different cluster by using the syntax `ClusterProbability('cluster name')`.</span></span> <span data-ttu-id="ea6a3-360">In questo caso, tenere presente che i risultati di ogni funzione di stima sono indipendenti dagli altri risultati.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-360">If you do this, be aware that the results from each prediction function are independent of the other results.</span></span> <span data-ttu-id="ea6a3-361">Pertanto, il punteggio di probabilità nella seconda colonna può fare riferimento a un cluster diverso rispetto a quello specificato nella prima colonna.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-361">Therefore, the probability score in the second column could refer to a different cluster than the cluster named in the first column.</span></span>  
  
 [<span data-ttu-id="ea6a3-362">Torna all'inizio</span><span class="sxs-lookup"><span data-stu-id="ea6a3-362">Return to Top</span></span>](#bkmk_top2)  
  
###  <a name="sample-query-10-returning-all-possible-clusters-with-probability-and-distance"></a><a name="bkmk_Query10"></a> <span data-ttu-id="ea6a3-363">Esempio di query 10: Restituzione di tutti i cluster possibili con probabilità e distanza</span><span class="sxs-lookup"><span data-stu-id="ea6a3-363">Sample Query 10: Returning All Possible Clusters with Probability and Distance</span></span>  
 <span data-ttu-id="ea6a3-364">Nell'esempio precedente il punteggio di probabilità non è molto alto.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-364">In the previous example, the probability score was not very high.</span></span> <span data-ttu-id="ea6a3-365">Per determinare se è disponibile un cluster migliore, è possibile usare la funzione [PredictHistogram &#40;DMX&#41;](/sql/dmx/predicthistogram-dmx) insieme alla funzione [Cluster &#40;DMX&#41;](/sql/dmx/cluster-dmx) per restituire una tabella annidata che includa tutti i cluster possibili, oltre alla probabilità che il nuovo case appartenga a ogni cluster.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-365">To determine if there is a better cluster, you can use the [PredictHistogram &#40;DMX&#41;](/sql/dmx/predicthistogram-dmx) function together with the [Cluster &#40;DMX&#41;](/sql/dmx/cluster-dmx) function to return a nested table that includes all possible clusters, together with the probability that the new case that belongs to each cluster.</span></span> <span data-ttu-id="ea6a3-366">La parola chiave FLATTENED viene utilizzata per modificare il set di righe gerarchico in una tabella flat per semplificare la visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-366">The FLATTENED keyword is used to change the hierarchical rowset into a flat table for easier viewing.</span></span>  
  
```  
SELECT FLATTENED PredictHistogram(Cluster())  
From  
  [TM_Clustering]  
NATURAL PREDICTION JOIN  
(SELECT 40 AS [Age],  
  'F' AS [Gender],  
  'S' AS [Marital Status])  
```  
  
|<span data-ttu-id="ea6a3-367">Expression.$CLUSTER</span><span class="sxs-lookup"><span data-stu-id="ea6a3-367">Expression.$CLUSTER</span></span>|<span data-ttu-id="ea6a3-368">Expression.$DISTANCE</span><span class="sxs-lookup"><span data-stu-id="ea6a3-368">Expression.$DISTANCE</span></span>|<span data-ttu-id="ea6a3-369">Expression.$PROBABILITY</span><span class="sxs-lookup"><span data-stu-id="ea6a3-369">Expression.$PROBABILITY</span></span>|  
|-------------------------|--------------------------|-----------------------------|  
|<span data-ttu-id="ea6a3-370">Cluster 2</span><span class="sxs-lookup"><span data-stu-id="ea6a3-370">Cluster 2</span></span>|<span data-ttu-id="ea6a3-371">0.602081403048383</span><span class="sxs-lookup"><span data-stu-id="ea6a3-371">0.602081403048383</span></span>|<span data-ttu-id="ea6a3-372">0.397918596951617</span><span class="sxs-lookup"><span data-stu-id="ea6a3-372">0.397918596951617</span></span>|  
|<span data-ttu-id="ea6a3-373">Cluster 10</span><span class="sxs-lookup"><span data-stu-id="ea6a3-373">Cluster 10</span></span>|<span data-ttu-id="ea6a3-374">0.719691686785675</span><span class="sxs-lookup"><span data-stu-id="ea6a3-374">0.719691686785675</span></span>|<span data-ttu-id="ea6a3-375">0.280308313214325</span><span class="sxs-lookup"><span data-stu-id="ea6a3-375">0.280308313214325</span></span>|  
|<span data-ttu-id="ea6a3-376">Cluster 4</span><span class="sxs-lookup"><span data-stu-id="ea6a3-376">Cluster 4</span></span>|<span data-ttu-id="ea6a3-377">0.867772590378791</span><span class="sxs-lookup"><span data-stu-id="ea6a3-377">0.867772590378791</span></span>|<span data-ttu-id="ea6a3-378">0.132227409621209</span><span class="sxs-lookup"><span data-stu-id="ea6a3-378">0.132227409621209</span></span>|  
|<span data-ttu-id="ea6a3-379">Cluster 5</span><span class="sxs-lookup"><span data-stu-id="ea6a3-379">Cluster 5</span></span>|<span data-ttu-id="ea6a3-380">0.931039872200985</span><span class="sxs-lookup"><span data-stu-id="ea6a3-380">0.931039872200985</span></span>|<span data-ttu-id="ea6a3-381">0.0689601277990149</span><span class="sxs-lookup"><span data-stu-id="ea6a3-381">0.0689601277990149</span></span>|  
|<span data-ttu-id="ea6a3-382">Cluster 3</span><span class="sxs-lookup"><span data-stu-id="ea6a3-382">Cluster 3</span></span>|<span data-ttu-id="ea6a3-383">0.942359230072167</span><span class="sxs-lookup"><span data-stu-id="ea6a3-383">0.942359230072167</span></span>|<span data-ttu-id="ea6a3-384">0.0576407699278328</span><span class="sxs-lookup"><span data-stu-id="ea6a3-384">0.0576407699278328</span></span>|  
|<span data-ttu-id="ea6a3-385">Cluster 6</span><span class="sxs-lookup"><span data-stu-id="ea6a3-385">Cluster 6</span></span>|<span data-ttu-id="ea6a3-386">0.958973668972756</span><span class="sxs-lookup"><span data-stu-id="ea6a3-386">0.958973668972756</span></span>|<span data-ttu-id="ea6a3-387">0.0410263310272437</span><span class="sxs-lookup"><span data-stu-id="ea6a3-387">0.0410263310272437</span></span>|  
|<span data-ttu-id="ea6a3-388">Cluster 7</span><span class="sxs-lookup"><span data-stu-id="ea6a3-388">Cluster 7</span></span>|<span data-ttu-id="ea6a3-389">0.979081275926724</span><span class="sxs-lookup"><span data-stu-id="ea6a3-389">0.979081275926724</span></span>|<span data-ttu-id="ea6a3-390">0.0209187240732763</span><span class="sxs-lookup"><span data-stu-id="ea6a3-390">0.0209187240732763</span></span>|  
|<span data-ttu-id="ea6a3-391">Cluster 1</span><span class="sxs-lookup"><span data-stu-id="ea6a3-391">Cluster 1</span></span>|<span data-ttu-id="ea6a3-392">0.999169044818624</span><span class="sxs-lookup"><span data-stu-id="ea6a3-392">0.999169044818624</span></span>|<span data-ttu-id="ea6a3-393">0.000830955181376364</span><span class="sxs-lookup"><span data-stu-id="ea6a3-393">0.000830955181376364</span></span>|  
|<span data-ttu-id="ea6a3-394">Cluster 9</span><span class="sxs-lookup"><span data-stu-id="ea6a3-394">Cluster 9</span></span>|<span data-ttu-id="ea6a3-395">0.999831227795894</span><span class="sxs-lookup"><span data-stu-id="ea6a3-395">0.999831227795894</span></span>|<span data-ttu-id="ea6a3-396">0.000168772204105754</span><span class="sxs-lookup"><span data-stu-id="ea6a3-396">0.000168772204105754</span></span>|  
|<span data-ttu-id="ea6a3-397">Cluster 8</span><span class="sxs-lookup"><span data-stu-id="ea6a3-397">Cluster 8</span></span>|<span data-ttu-id="ea6a3-398">1</span><span class="sxs-lookup"><span data-stu-id="ea6a3-398">1</span></span>|<span data-ttu-id="ea6a3-399">0</span><span class="sxs-lookup"><span data-stu-id="ea6a3-399">0</span></span>|  
  
 <span data-ttu-id="ea6a3-400">Per impostazione predefinita, i risultati sono classificati per probabilità.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-400">By default, the results are ranked by probability.</span></span> <span data-ttu-id="ea6a3-401">I risultati indicano che, anche se la probabilità per Cluster 2 è relativamente bassa, Cluster 2 rappresenta comunque il miglior fit per il nuovo punto dati.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-401">The results tell you that, even though the probability for Cluster 2 is fairly low, Cluster 2 is still the best fit for the new data point.</span></span>  
  
 <span data-ttu-id="ea6a3-402">**Nota** La colonna aggiuntiva, `$DISTANCE`, rappresenta la distanza tra il punto dati e il cluster.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-402">**Note** The additional column, `$DISTANCE`, represents the distance from the data point to the cluster.</span></span> <span data-ttu-id="ea6a3-403">Per impostazione predefinita, l'algoritmo [!INCLUDE[msCoName](../../includes/msconame-md.md)] Clustering usa il clustering EM scalabile, che usa più cluster a ogni punto dati e classifica i cluster possibili.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-403">By default, the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Clustering Algorithm uses scalable EM clustering, which assigns multiple clusters to each data point and ranks the possible clusters.</span></span>  <span data-ttu-id="ea6a3-404">Tuttavia, se si crea il modello di clustering utilizzando l'algoritmo K-medie, è possibile assegnare un unico cluster a ogni punto dati e questa query restituisce solo una riga.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-404">However, if you create your clustering model using the K-means algorithm, only one cluster can be assigned to each data point, and this query would return only one row.</span></span> <span data-ttu-id="ea6a3-405">Per interpretare i risultati della funzione [PredictCaseLikelihood &#40;DMX&#41;](/sql/dmx/predictcaselikelihood-dmx) .</span><span class="sxs-lookup"><span data-stu-id="ea6a3-405">Understanding these differences is necessary to interpret the results of the [PredictCaseLikelihood &#40;DMX&#41;](/sql/dmx/predictcaselikelihood-dmx) function.</span></span> <span data-ttu-id="ea6a3-406">Per altre informazioni sulle differenze tra i clustering EM e K-medie, vedere [Riferimento tecnico per l'algoritmo Microsoft Clustering](microsoft-clustering-algorithm-technical-reference.md).</span><span class="sxs-lookup"><span data-stu-id="ea6a3-406">For more information about the differences between EM and K-means clustering, see [Microsoft Clustering Algorithm Technical Reference](microsoft-clustering-algorithm-technical-reference.md).</span></span>  
  
 [<span data-ttu-id="ea6a3-407">Torna all'inizio</span><span class="sxs-lookup"><span data-stu-id="ea6a3-407">Return to Top</span></span>](#bkmk_top2)  
  
## <a name="function-list"></a><span data-ttu-id="ea6a3-408">Elenco di funzioni</span><span class="sxs-lookup"><span data-stu-id="ea6a3-408">Function List</span></span>  
 <span data-ttu-id="ea6a3-409">Tutti gli algoritmi [!INCLUDE[msCoName](../../includes/msconame-md.md)] supportano un set comune di funzioni.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-409">All [!INCLUDE[msCoName](../../includes/msconame-md.md)] algorithms support a common set of functions.</span></span> <span data-ttu-id="ea6a3-410">Tuttavia, i modelli compilati usando l'algoritmo [!INCLUDE[msCoName](../../includes/msconame-md.md)] Clustering supportano le funzioni aggiuntive elencate nella tabella seguente.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-410">However, models that are built by using the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Clustering algorithm support the additional functions that are listed in the following table.</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="ea6a3-411">Funzione di stima</span><span class="sxs-lookup"><span data-stu-id="ea6a3-411">Prediction Function</span></span>|<span data-ttu-id="ea6a3-412">Uso</span><span class="sxs-lookup"><span data-stu-id="ea6a3-412">Usage</span></span>|  
|[<span data-ttu-id="ea6a3-413">Cluster &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="ea6a3-413">Cluster &#40;DMX&#41;</span></span>](/sql/dmx/cluster-dmx)|<span data-ttu-id="ea6a3-414">Restituisce il cluster che con maggiore probabilità contiene il case di input.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-414">Returns the cluster that is most likely to contain the input case.</span></span>|  
|[<span data-ttu-id="ea6a3-415">ClusterDistance &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="ea6a3-415">ClusterDistance &#40;DMX&#41;</span></span>](/sql/dmx/clusterdistance-dmx)|<span data-ttu-id="ea6a3-416">Viene restituita la distanza del case di input dal cluster specificato o la distanza del case di input dal cluster più probabile, se non viene specificato alcun cluster.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-416">Returns the distance of the input case from the specified cluster, or if no cluster is specified, the distance of the input case from the most likely cluster.</span></span><br /><br /> <span data-ttu-id="ea6a3-417">Restituisce la probabilità che il case di input appartenga al cluster specificato.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-417">Returns the probability that the input case belongs to the specified cluster.</span></span>|  
|[<span data-ttu-id="ea6a3-418">ClusterProbability &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="ea6a3-418">ClusterProbability &#40;DMX&#41;</span></span>](/sql/dmx/clusterprobability-dmx)|<span data-ttu-id="ea6a3-419">Restituisce la probabilità che il case di input appartenga al cluster specificato.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-419">Returns the probability that the input case belongs to the specified cluster.</span></span>|  
|[<span data-ttu-id="ea6a3-420">IsDescendant &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="ea6a3-420">IsDescendant &#40;DMX&#41;</span></span>](/sql/dmx/isdescendant-dmx)|<span data-ttu-id="ea6a3-421">Viene determinato se un nodo è figlio di un altro nodo nel modello.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-421">Determines whether one node is a child of another node in the model.</span></span>|  
|[<span data-ttu-id="ea6a3-422">IsInNode &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="ea6a3-422">IsInNode &#40;DMX&#41;</span></span>](/sql/dmx/isinnode-dmx)|<span data-ttu-id="ea6a3-423">Indica se il nodo specificato contiene o meno il case corrente.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-423">Indicates whether the specified node contains the current case.</span></span>|  
|[<span data-ttu-id="ea6a3-424">PredictAdjustedProbability &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="ea6a3-424">PredictAdjustedProbability &#40;DMX&#41;</span></span>](/sql/dmx/predictadjustedprobability-dmx)|<span data-ttu-id="ea6a3-425">Viene restituita la probabilità ponderata.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-425">Returns the weighted probability.</span></span>|  
|[<span data-ttu-id="ea6a3-426">PredictAssociation &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="ea6a3-426">PredictAssociation &#40;DMX&#41;</span></span>](/sql/dmx/predictassociation-dmx)|<span data-ttu-id="ea6a3-427">Viene stimata l'appartenenza a un set di dati associativo.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-427">Predicts membership in an associative dataset.</span></span>|  
|[<span data-ttu-id="ea6a3-428">PredictCaseLikelihood &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="ea6a3-428">PredictCaseLikelihood &#40;DMX&#41;</span></span>](/sql/dmx/predictcaselikelihood-dmx)|<span data-ttu-id="ea6a3-429">Viene restituita la probabilità che un case di input risulti adatto al modello esistente.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-429">Returns the likelihood that an input case will fit in the existing model.</span></span>|  
|[<span data-ttu-id="ea6a3-430">PredictHistogram &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="ea6a3-430">PredictHistogram &#40;DMX&#41;</span></span>](/sql/dmx/predicthistogram-dmx)|<span data-ttu-id="ea6a3-431">Viene restituita una tabella di valori correlati ai valori stimati correnti.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-431">Returns a table of values related to the current predicted value.</span></span>|  
|[<span data-ttu-id="ea6a3-432">PredictNodeId &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="ea6a3-432">PredictNodeId &#40;DMX&#41;</span></span>](/sql/dmx/predictnodeid-dmx)|<span data-ttu-id="ea6a3-433">Viene restituito l'oggetto Node_ID per ogni case.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-433">Returns the Node_ID for each case.</span></span>|  
|[<span data-ttu-id="ea6a3-434">PredictProbability &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="ea6a3-434">PredictProbability &#40;DMX&#41;</span></span>](/sql/dmx/predictprobability-dmx)|<span data-ttu-id="ea6a3-435">Viene restituita la probabilità per il valore stimato.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-435">Returns probability for the predicted value.</span></span>|  
|[<span data-ttu-id="ea6a3-436">PredictStdev &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="ea6a3-436">PredictStdev &#40;DMX&#41;</span></span>](/sql/dmx/predictstdev-dmx)|<span data-ttu-id="ea6a3-437">Restituisce la deviazione standard stimata per la colonna specificata.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-437">Returns the predicted standard deviation for the specified column.</span></span>|  
|[<span data-ttu-id="ea6a3-438">PredictSupport &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="ea6a3-438">PredictSupport &#40;DMX&#41;</span></span>](/sql/dmx/predictsupport-dmx)|<span data-ttu-id="ea6a3-439">Viene restituito il valore di supporto per uno stato specificato.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-439">Returns the support value for a specified state.</span></span>|  
|[<span data-ttu-id="ea6a3-440">PredictVariance &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="ea6a3-440">PredictVariance &#40;DMX&#41;</span></span>](/sql/dmx/predictvariance-dmx)|<span data-ttu-id="ea6a3-441">Restituisce la varianza di una colonna specificata.</span><span class="sxs-lookup"><span data-stu-id="ea6a3-441">Returns the variance of a specified column.</span></span>|  
  
 <span data-ttu-id="ea6a3-442">Per la sintassi di funzioni specifiche, vedere [Guida di riferimento alle funzioni DMX &#40;Data Mining Extensions&#41;](/sql/dmx/data-mining-extensions-dmx-function-reference).</span><span class="sxs-lookup"><span data-stu-id="ea6a3-442">For the syntax of specific functions, see [Data Mining Extensions &#40;DMX&#41; Function Reference](/sql/dmx/data-mining-extensions-dmx-function-reference).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ea6a3-443">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="ea6a3-443">See Also</span></span>  
 <span data-ttu-id="ea6a3-444">[Query di data mining](data-mining-queries.md) </span><span class="sxs-lookup"><span data-stu-id="ea6a3-444">[Data Mining Queries](data-mining-queries.md) </span></span>  
 <span data-ttu-id="ea6a3-445">[Riferimento tecnico per l'algoritmo Microsoft Clustering](microsoft-clustering-algorithm-technical-reference.md) </span><span class="sxs-lookup"><span data-stu-id="ea6a3-445">[Microsoft Clustering Algorithm Technical Reference](microsoft-clustering-algorithm-technical-reference.md) </span></span>  
 [<span data-ttu-id="ea6a3-446">Algoritmo Microsoft Clustering</span><span class="sxs-lookup"><span data-stu-id="ea6a3-446">Microsoft Clustering Algorithm</span></span>](microsoft-clustering-algorithm.md)  
  
  
