---
title: Aggregazioni e progettazioni delle aggregazioni | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: reference
helpviewer_keywords:
- aggregations [Analysis Services], about aggregations
- storage [Analysis Services], aggregations
- Storage Design Wizard
- data summary [Analysis Services]
- data storage [Analysis Services]
- storing data [Analysis Services], aggregations
- aggregations [Analysis Services]
ms.assetid: 35bd8589-39fa-4e0b-b28f-5a07d70da0a2
author: minewiskan
ms.author: owend
ms.openlocfilehash: c56e80482ef71e8041f8518ae9901691a1809990
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87715832"
---
# <a name="aggregations-and-aggregation-designs"></a><span data-ttu-id="f96fb-102">Aggregations and Aggregation Designs</span><span class="sxs-lookup"><span data-stu-id="f96fb-102">Aggregations and Aggregation Designs</span></span>
  <span data-ttu-id="f96fb-103">Un oggetto <xref:Microsoft.AnalysisServices.AggregationDesign> definisce un set di definizioni di aggregazione che possono essere condivise tra più partizioni.</span><span class="sxs-lookup"><span data-stu-id="f96fb-103">An <xref:Microsoft.AnalysisServices.AggregationDesign> object defines a set of aggregation definitions that can be shared across multiple partitions.</span></span>  
  
 <span data-ttu-id="f96fb-104">Un oggetto <xref:Microsoft.AnalysisServices.Aggregation> rappresenta il riepilogo dei dati dei gruppi di misure a una determinata granularità delle dimensioni.</span><span class="sxs-lookup"><span data-stu-id="f96fb-104">An <xref:Microsoft.AnalysisServices.Aggregation> object represents the summarization of measure group data at certain granularity of the dimensions.</span></span>  
  
 <span data-ttu-id="f96fb-105">Un oggetto <xref:Microsoft.AnalysisServices.Aggregation> semplice è composto da informazioni di base e dimensioni.</span><span class="sxs-lookup"><span data-stu-id="f96fb-105">A simple <xref:Microsoft.AnalysisServices.Aggregation> object is composed of: basic information and dimensions.</span></span> <span data-ttu-id="f96fb-106">Le informazioni di base includono il nome dell'aggregazione, l'ID, le annotazioni e una descrizione.</span><span class="sxs-lookup"><span data-stu-id="f96fb-106">Basic information includes the name of the aggregation, the ID, annotations, and a description.</span></span> <span data-ttu-id="f96fb-107">Le dimensioni sono una raccolta di oggetti <xref:Microsoft.AnalysisServices.AggregationDimension> che contengono l'elenco degli attributi di granularità per la dimensione.</span><span class="sxs-lookup"><span data-stu-id="f96fb-107">The dimensions are a collection of <xref:Microsoft.AnalysisServices.AggregationDimension> objects that contain the list of granularity attributes for the dimension.</span></span>  
  
 <span data-ttu-id="f96fb-108">Le aggregazioni sono riepiloghi precalcolati dei dati delle celle foglia</span><span class="sxs-lookup"><span data-stu-id="f96fb-108">Aggregations are precalculated summaries of data from leaf cells.</span></span> <span data-ttu-id="f96fb-109">che consentono di migliorare il tempo di risposta alle query attraverso la preparazione delle risposte prima della formulazione delle domande.</span><span class="sxs-lookup"><span data-stu-id="f96fb-109">Aggregations improve query response time by preparing the answers before the questions are asked.</span></span> <span data-ttu-id="f96fb-110">Ad esempio, quando una tabella dei fatti di un data warehouse include centinaia di migliaia di righe, una query che richiede i totali delle vendite settimanali per una particolare linea di prodotti può richiedere tempi lunghi se per fornire la risposta è necessario eseguire operazioni di analisi e somma in tutte le righe della tabella dei fatti durante l'esecuzione della query.</span><span class="sxs-lookup"><span data-stu-id="f96fb-110">For example, when a data warehouse fact table contains hundreds of thousands of rows, a query requesting the weekly sales totals for a particular product line can take a long time to answer if all the rows in the fact table have to be scanned and summed at query time to compute the answer.</span></span> <span data-ttu-id="f96fb-111">Se invece i dati di riepilogo necessari per rispondere a questa query sono stati precalcolati, la risposta potrà essere quasi immediata.</span><span class="sxs-lookup"><span data-stu-id="f96fb-111">However, the response can be almost immediate if the summarization data to answer this query has been precalculated.</span></span> <span data-ttu-id="f96fb-112">Il calcolo preliminare dei dati di riepilogo viene eseguito in fase di elaborazione ed è alla base dei rapidi tempi di risposta assicurati dalla tecnologia OLAP.</span><span class="sxs-lookup"><span data-stu-id="f96fb-112">This precalculation of summary data occurs during processing and is the foundation for the rapid response times of OLAP technology.</span></span>  
  
 <span data-ttu-id="f96fb-113">L'entità utilizzata dalla tecnologia OLAP per organizzare i dati di riepilogo in strutture multidimensionali è il cubo.</span><span class="sxs-lookup"><span data-stu-id="f96fb-113">Cubes are the way that OLAP technology organizes summary data into multidimensional structures.</span></span> <span data-ttu-id="f96fb-114">Le dimensioni e le relative gerarchie di attributi riflettono le query che possono essere eseguite sul cubo.</span><span class="sxs-lookup"><span data-stu-id="f96fb-114">Dimensions and their hierarchies of attributes reflect the queries that can be asked of the cube.</span></span> <span data-ttu-id="f96fb-115">Le aggregazioni sono archiviate nella struttura multidimensionale all'interno di celle in corrispondenza delle coordinate specificate dalle dimensioni.</span><span class="sxs-lookup"><span data-stu-id="f96fb-115">Aggregations are stored in the multidimensional structure in cells at coordinates specified by the dimensions.</span></span> <span data-ttu-id="f96fb-116">Ad esempio, la domanda "A quanto ammontavano le vendite del prodotto X nel 1998 per l'area nord-ovest?"</span><span class="sxs-lookup"><span data-stu-id="f96fb-116">For example, the question "What were the sales of product X in 1998 for the Northwest region?"</span></span> <span data-ttu-id="f96fb-117">coinvolge tre dimensioni (il prodotto, il tempo e l'area geografica) e una misura (le vendite).</span><span class="sxs-lookup"><span data-stu-id="f96fb-117">involves three dimensions (Product, Time, and Geography) and one measure (Sales).</span></span> <span data-ttu-id="f96fb-118">La risposta a questa domanda è rappresentata dal singolo valore numerico presente nella cella all'interno del cubo in corrispondenza delle coordinate prodotto X, 1998, Nord-Ovest.</span><span class="sxs-lookup"><span data-stu-id="f96fb-118">The value of the cell in the cube at the specified coordinates (product X, 1998, Northwest) is the answer, a single numeric value.</span></span>  
  
 <span data-ttu-id="f96fb-119">Altre domande possono restituire più valori,</span><span class="sxs-lookup"><span data-stu-id="f96fb-119">Other questions may return multiple values.</span></span> <span data-ttu-id="f96fb-120">ad esempio la domanda "A quanto ammontavano le vendite dei prodotti hardware in ogni trimestre del 1998 per ogni singola regione?".</span><span class="sxs-lookup"><span data-stu-id="f96fb-120">For example, "How much were the sales of hardware products by quarter by region for 1998?"</span></span> <span data-ttu-id="f96fb-121">Queste query restituiscono set di celle dalle coordinate che soddisfano le condizioni specificate.</span><span class="sxs-lookup"><span data-stu-id="f96fb-121">Such queries return sets of cells from the coordinates that satisfy the specified conditions.</span></span> <span data-ttu-id="f96fb-122">Il numero di celle restituito dalla query è determinato dal numero di elementi nel livello hardware della dimensione del prodotto, dai quattro trimestri del 1998 e dal numero di regioni nella dimensione dell'area geografica.</span><span class="sxs-lookup"><span data-stu-id="f96fb-122">The number of cells returned by the query depends on the number of items in the Hardware level of the Product dimension, the four quarters in 1998, and the number of regions in the Geography dimension.</span></span> <span data-ttu-id="f96fb-123">Se tutti i dati di riepilogo sono stati precalcolati in aggregazioni, il tempo di risposta della query dipenderà esclusivamente dal tempo necessario per estrarre le celle specificate</span><span class="sxs-lookup"><span data-stu-id="f96fb-123">If all summary data has been precalculated into aggregations, the response time of the query will depend only on the time that is required to extract the specified cells.</span></span> <span data-ttu-id="f96fb-124">e non saranno necessari calcoli o letture di dati dalla tabella dei fatti.</span><span class="sxs-lookup"><span data-stu-id="f96fb-124">No calculation or reading of data from the fact table is required.</span></span>  
  
 <span data-ttu-id="f96fb-125">Nonostante il calcolo preliminare di tutte le possibili aggregazioni in un cubo possa consentire di ottimizzare il tempo di risposta per tutte le query, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] può calcolare facilmente determinati valori aggregati da altre aggregazioni precalcolate.</span><span class="sxs-lookup"><span data-stu-id="f96fb-125">Although precalculation of all possible aggregations in a cube might provide the fastest possible response time for all queries, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] can easily calculate some aggregrated values from other precalculated aggregations.</span></span> <span data-ttu-id="f96fb-126">Inoltre, il calcolo di tutte le possibili aggregazioni comporta tempi di elaborazione e spazio di archiviazione notevoli.</span><span class="sxs-lookup"><span data-stu-id="f96fb-126">Additionally, calculating all possible aggregations requires significant processing time and storage.</span></span> <span data-ttu-id="f96fb-127">Pertanto, è necessario raggiungere un compromesso tra i requisiti di archiviazione e la percentuale di possibili aggregazioni precalcolate.</span><span class="sxs-lookup"><span data-stu-id="f96fb-127">Therefore, there is a tradeoff between storage requirements and the percentage of possible aggregations that are precalculated.</span></span> <span data-ttu-id="f96fb-128">Se nessuna aggregazione viene precalcolata (0%), il tempo di elaborazione e lo spazio di archiviazione necessari per un cubo saranno ridotti al minimo, ma il tempo di risposta alle query potrebbe essere lungo, perché i dati necessari per fornire una risposta a ogni query devono essere recuperati dalle celle foglia e poi aggregati in fase di query per fornire una risposta a ogni query.</span><span class="sxs-lookup"><span data-stu-id="f96fb-128">If no aggregations are precalculated (0%), the amount of required processing time and storage space for a cube is minimized, but query response time may be slow because the data required to answer each query must be retrieved from the leaf cells and then aggregated at query time to answer each query.</span></span> <span data-ttu-id="f96fb-129">La restituzione del singolo numero rappresentante la risposta alla query formulata sopra ("A quanto ammontavano le vendite del prodotto X nel 1998 per la regione Nord-Ovest"), ad esempio, potrebbe richiedere la lettura di migliaia di righe di dati, l'estrazione del valore della colonna utilizzata per specificare la misura Sales in ogni riga e quindi il calcolo della somma.</span><span class="sxs-lookup"><span data-stu-id="f96fb-129">For example, returning a single number that answers the question asked earlier ("What were the sales of product X in 1998 for the Northwest region") might require reading thousands of rows of data, extracting the value of the column used to provide the Sales measure from each row, and then calculating the sum.</span></span> <span data-ttu-id="f96fb-130">Inoltre, la quantità di tempo necessaria per recuperare i dati dipende dalla modalità di archiviazione scelta per i dati, ovvero MOLAP, HOLAP o ROLAP.</span><span class="sxs-lookup"><span data-stu-id="f96fb-130">Moreover, the length of time required to retrieve that data will very depending on the storage mode chosen for the data-MOLAP, HOLAP, or ROLAP.</span></span>  
  
## <a name="designing-aggregations"></a><span data-ttu-id="f96fb-131">Progettazione di aggregazioni</span><span class="sxs-lookup"><span data-stu-id="f96fb-131">Designing Aggregations</span></span>  
 [!INCLUDE[msCoName](../../includes/msconame-md.md)]<span data-ttu-id="f96fb-132">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] incorpora un sofisticato algoritmo per selezionare le aggregazioni per il precalcolo, in modo da poter calcolare rapidamente altre aggregazioni in base ai valori precalcolati.</span><span class="sxs-lookup"><span data-stu-id="f96fb-132">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] incorporates a sophisticated algorithm to select aggregations for precalculation so that other aggregations can be quickly computed from the precalculated values.</span></span> <span data-ttu-id="f96fb-133">Se, ad esempio, le aggregazioni vengono precalcolate per il livello mese di una gerarchia temporale, il calcolo di un livello trimestre richiederà semplicemente la somma di tre numeri, un'operazione eseguibile rapidamente.</span><span class="sxs-lookup"><span data-stu-id="f96fb-133">For example, if the aggregations are precalculated for the Month level of a Time hierarchy, the calculation for a Quarter level requires only the summarization of three numbers, which can be quickly computed on demand.</span></span> <span data-ttu-id="f96fb-134">Questa tecnica consente sia di ridurre il tempo di elaborazione sia di limitare i requisiti di archiviazione, con un impatto minimo sul tempo di risposta alle query.</span><span class="sxs-lookup"><span data-stu-id="f96fb-134">This technique saves processing time and reduces storage requirements, with minimal effect on query response time.</span></span>  
  
 <span data-ttu-id="f96fb-135">Progettazione guidata aggregazioni include opzioni che consentono di impostare vincoli relativi allo spazio di archiviazione e alla percentuale di calcolo preliminare per l'algoritmo, in modo da raggiungere un adeguato compromesso tra il tempo di risposta alle query e i requisiti di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f96fb-135">The Aggregation Design Wizard provides options for you to specify storage and percentage constraints on the algorithm to achieve a satisfactory tradeoff between query response time and storage requirements.</span></span> <span data-ttu-id="f96fb-136">L'algoritmo della Progettazione guidata aggregazioni, tuttavia, presuppone che il valore della probabilità sia lo stesso per tutte le query.</span><span class="sxs-lookup"><span data-stu-id="f96fb-136">However, the Aggregation Design Wizard's algorithm assumes that all possible queries are equally likely.</span></span> <span data-ttu-id="f96fb-137">L'Ottimizzazione guidata basata sulle statistiche di utilizzo consente di modificare la progettazione di un'aggregazione per un gruppo di misure tramite un'analisi delle query inviate da applicazioni client.</span><span class="sxs-lookup"><span data-stu-id="f96fb-137">The Usage-Based Optimization Wizard lets you adjust the aggregation design for a measure group by analyzing the queries that have been submitted by client applications.</span></span> <span data-ttu-id="f96fb-138">Utilizzando la procedura guidata per ottimizzare l'aggregazione di un cubo è possibile aumentare i tempi di risposta alle query frequenti e ridurre i tempi di risposta alle query poco frequenti senza un impatto significativo sullo spazio di archiviazione necessario per il cubo.</span><span class="sxs-lookup"><span data-stu-id="f96fb-138">By using the wizard to tune a cube's aggregation you can increase responsiveness to frequent queries and decrease responsiveness to infrequent queries without significantly affecting the storage needed for the cube.</span></span>  
  
 <span data-ttu-id="f96fb-139">Le aggregazioni vengono progettate utilizzando le procedure guidate, ma non vengono calcolate fino alla fase di elaborazione della partizione per cui sono state configurate.</span><span class="sxs-lookup"><span data-stu-id="f96fb-139">Aggregations are designed by using the wizards but are not actually calculated until the partition for which the aggregations are designed is processed.</span></span> <span data-ttu-id="f96fb-140">Dopo la creazione dell'aggregazione, in caso di modifica della struttura di un cubo oppure di aggiunta o modifica dei dati nelle tabelle di origine di un cubo, in genere è necessario esaminare le aggregazioni del cubo e rielaborare il cubo.</span><span class="sxs-lookup"><span data-stu-id="f96fb-140">After the aggregation has been created, if the structure of a cube ever changes, or if data is added to or changed in a cube's source tables, it is usually necessary to review the cube's aggregations and process the cube again.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f96fb-141">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="f96fb-141">See Also</span></span>  
 [<span data-ttu-id="f96fb-142">Elaborazione e modalità di archiviazione delle partizioni</span><span class="sxs-lookup"><span data-stu-id="f96fb-142">Partition Storage Modes and Processing</span></span>](partitions-partition-storage-modes-and-processing.md)  
  
  
