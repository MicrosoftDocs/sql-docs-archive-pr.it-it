---
title: Determinare se una tabella o una stored procedure deve essere trasferita a OLTP in memoria | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: in-memory-oltp
ms.topic: conceptual
helpviewer_keywords:
- Analyze, Migrate, Report
- AMR
ms.assetid: c1ef96f1-290d-4952-8369-2f49f27afee2
author: rothja
ms.author: jroth
ms.openlocfilehash: 8e517cff394bc0c813e34763469f75147a0a16c5
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87628684"
---
# <a name="determining-if-a-table-or-stored-procedure-should-be-ported-to-in-memory-oltp"></a><span data-ttu-id="b2b13-102">Determinare se una tabella o una stored procedure deve essere trasferita a OLTP in memoria</span><span class="sxs-lookup"><span data-stu-id="b2b13-102">Determining if a Table or Stored Procedure Should Be Ported to In-Memory OLTP</span></span>
  <span data-ttu-id="b2b13-103">L'agente di raccolta delle prestazioni delle transazioni in [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] consente di valutare se OLTP in memoria può migliorare le prestazioni dell'applicazione di database.</span><span class="sxs-lookup"><span data-stu-id="b2b13-103">The transaction performance collector in [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] helps you evaluate if In-Memory OLTP will improve your database application's performance.</span></span> <span data-ttu-id="b2b13-104">Nel report dell'analisi delle prestazioni delle transazioni viene inoltre indicata la quantità di operazioni che è necessario eseguire per abilitare OLTP in memoria nell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="b2b13-104">The transaction performance analysis report also indicates how much work you must do to enable In-Memory OLTP in your application.</span></span> <span data-ttu-id="b2b13-105">Una volta identificata la tabella basata su disco da trasferire in OLTP in memoria, è possibile usare [Ottimizzazione guidata per la memoria](memory-optimization-advisor.md)per semplificarne la migrazione.</span><span class="sxs-lookup"><span data-stu-id="b2b13-105">After you identify a disk-based table to port to In-Memory OLTP, you can use the [Memory Optimization Advisor](memory-optimization-advisor.md), to help you migrate the table.</span></span> <span data-ttu-id="b2b13-106">Analogamente, l' [Native Compilation Advisor](native-compilation-advisor.md) semplifica il trasferimento di una stored procedure a una stored procedure compilata in modo nativo.</span><span class="sxs-lookup"><span data-stu-id="b2b13-106">Similarly, the [Native Compilation Advisor](native-compilation-advisor.md) will help you port a stored procedure to a natively compiled stored procedure.</span></span>  
  
 <span data-ttu-id="b2b13-107">In questo argomento viene illustrato come effettuare le seguenti operazioni:</span><span class="sxs-lookup"><span data-stu-id="b2b13-107">This topic will discuss how to:</span></span>  
  
-   <span data-ttu-id="b2b13-108">Configurare il data warehouse di gestione.</span><span class="sxs-lookup"><span data-stu-id="b2b13-108">Configure Management Data Warehouse.</span></span>  
  
-   <span data-ttu-id="b2b13-109">Configurare la raccolta dati.</span><span class="sxs-lookup"><span data-stu-id="b2b13-109">Configure data collection.</span></span>  
  
-   <span data-ttu-id="b2b13-110">Generare report di analisi delle prestazioni delle transazioni per identificare le stored procedure e le tabelle critiche per le prestazioni.</span><span class="sxs-lookup"><span data-stu-id="b2b13-110">Generate transaction performance analysis reports to identify performance-critical tables and stored procedures.</span></span>  
  
 <span data-ttu-id="b2b13-111">Per informazioni sulle metodologie di migrazione, vedere [In-Memory OLTP - Common Workload Patterns and Migration Considerations](https://msdn.microsoft.com/library/dn673538.aspx) (OLTP in memoria: considerazioni sulla migrazione e sui modelli di carico di lavoro comuni).</span><span class="sxs-lookup"><span data-stu-id="b2b13-111">For information about migration methodologies, see [In-Memory OLTP - Common Workload Patterns and Migration Considerations](https://msdn.microsoft.com/library/dn673538.aspx).</span></span>  
  
 <span data-ttu-id="b2b13-112">L'agente di raccolta delle prestazioni delle transazioni e i report di analisi delle prestazioni delle transazioni sono utili per eseguire le attività seguenti:</span><span class="sxs-lookup"><span data-stu-id="b2b13-112">The transaction performance collector and the transaction performance analysis reports help you accomplish the following tasks:</span></span>  
  
-   <span data-ttu-id="b2b13-113">Analizzare il carico di lavoro per determinare se OLTP in memoria consentirà di migliorare le prestazioni.</span><span class="sxs-lookup"><span data-stu-id="b2b13-113">Analyze your workload to determine if In-Memory OLTP will improve performance.</span></span> <span data-ttu-id="b2b13-114">L'agente di raccolta delle prestazioni delle transazioni raccoglie e valuta le caratteristiche relative alle prestazioni del carico di lavoro.</span><span class="sxs-lookup"><span data-stu-id="b2b13-114">The transaction performance collector collects and evaluates the performance characteristics of your workload.</span></span> <span data-ttu-id="b2b13-115">.</span><span class="sxs-lookup"><span data-stu-id="b2b13-115">.</span></span> <span data-ttu-id="b2b13-116">Il report di analisi delle prestazioni delle transazioni consiglia quindi tabelle e stored procedure per cui la conversione in OLTP in memoria potrebbe risultare utile.</span><span class="sxs-lookup"><span data-stu-id="b2b13-116">The transaction performance analysis report then recommends tables and stored procedures that would benefit most from conversion to In-Memory OLTP.</span></span>  
  
-   <span data-ttu-id="b2b13-117">Facilitare la pianificazione e l'esecuzione della migrazione a OLTP in memoria.</span><span class="sxs-lookup"><span data-stu-id="b2b13-117">Help you plan and execute your migration to In-Memory OLTP.</span></span> <span data-ttu-id="b2b13-118">Il percorso di migrazione da una tabella basata su disco a una tabella ottimizzata per la memoria può richiedere tempi lunghi.</span><span class="sxs-lookup"><span data-stu-id="b2b13-118">The migration path from a disk based table to a memory-optimized table can be time consuming.</span></span> <span data-ttu-id="b2b13-119">L'Ottimizzazione guidata per la memoria consente di identificare le incompatibilità presenti nella tabella che devono essere rimosse prima dello spostamento della tabella in OLTP in memoria.</span><span class="sxs-lookup"><span data-stu-id="b2b13-119">The Memory-Optimization Advisor helps you identify the incompatibilities in your table that you must remove before moving the table to In-Memory OLTP.</span></span> <span data-ttu-id="b2b13-120">Lo strumento di ottimizzazione per la memoria consente inoltre di comprendere l'impatto che la migrazione di una tabella a una tabella ottimizzata per la memoria avrà sull'applicazione.</span><span class="sxs-lookup"><span data-stu-id="b2b13-120">The Memory-Optimization Advisor also helps you understand the impact that the migration of a table to a memory-optimized table will have on your application.</span></span>  
  
     <span data-ttu-id="b2b13-121">È possibile verificare se OLTP in memoria può costituire un vantaggio per l'applicazione, quando si desidera pianificare la migrazione a OLTP in memoria e ogni volta che si procede alla migrazione di alcune tabelle e stored procedure a OLTP in memoria.</span><span class="sxs-lookup"><span data-stu-id="b2b13-121">You can see if your application would benefit from In-Memory OLTP, when you want to plan your migration to In-Memory OLTP, and whenever you work to migrate some of your tables and stored procedures to In-Memory OLTP.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="b2b13-122">Le prestazioni di un sistema di database dipendono da molti fattori, non tutti osservabili e misurabili tramite l'agente di raccolta delle prestazioni delle transazioni.</span><span class="sxs-lookup"><span data-stu-id="b2b13-122">The performance of a database system is dependent on a variety of factors, not all of which the transaction performance collector can observe and measure.</span></span> <span data-ttu-id="b2b13-123">Pertanto, il report di analisi delle prestazioni delle transazioni non è in grado di garantire che i miglioramenti effettivi delle prestazioni corrisponderanno alle eventuali stime eseguite.</span><span class="sxs-lookup"><span data-stu-id="b2b13-123">Therefore, the transaction performance analysis report does not guarantee actual performance gains will match its predictions, if any predictions are made.</span></span>  
  
 <span data-ttu-id="b2b13-124">L'agente di raccolta delle prestazioni delle transazioni e la capacità di generare un report di analisi delle prestazioni delle transazioni vengono installati quando si seleziona **strumenti di gestione-di base** o **strumenti di gestione-avanzate** quando si installa [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="b2b13-124">The transaction performance collector and the ability to generate a transaction performance analysis report are installed when you select **Management Tools-Basic** or **Management Tools-Advanced** when you install [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)].</span></span>  
  
## <a name="best-practices"></a><span data-ttu-id="b2b13-125">Procedure consigliate</span><span class="sxs-lookup"><span data-stu-id="b2b13-125">Best Practices</span></span>  
 <span data-ttu-id="b2b13-126">Il flusso di lavoro consigliato è illustrato nel diagramma di flusso seguente.</span><span class="sxs-lookup"><span data-stu-id="b2b13-126">The recommended workflow is illustrated in the following flowchart.</span></span> <span data-ttu-id="b2b13-127">I nodi gialli rappresentano le procedure facoltative:</span><span class="sxs-lookup"><span data-stu-id="b2b13-127">The yellow nodes represent optional procedures:</span></span>  
  
 <span data-ttu-id="b2b13-128">![Flusso di lavoro AMR](../../database-engine/media/amr-1.gif "Flusso di lavoro AMR")</span><span class="sxs-lookup"><span data-stu-id="b2b13-128">![AMR workflow](../../database-engine/media/amr-1.gif "AMR workflow")</span></span>  
  
 <span data-ttu-id="b2b13-129">È possibile utilizzare qualsiasi metodo per definire dati di riferimento per le prestazioni, inclusi, a titolo esemplificativo, i log del contatore delle prestazioni o Monitoraggio attività di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="b2b13-129">You can use any method to establish a performance baseline, including but not limited to using performance counter logs or the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Activity Monitor.</span></span> <span data-ttu-id="b2b13-130">Di seguito sono riportate le informazioni da utilizzare nei dati di riferimento per le prestazioni e nei confronti:</span><span class="sxs-lookup"><span data-stu-id="b2b13-130">The information to use in your performance baseline and your comparisons are:</span></span>  
  
-   <span data-ttu-id="b2b13-131">Utilizzo della CPU da parte di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="b2b13-131">CPU consumption of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span>  
  
-   <span data-ttu-id="b2b13-132">Utilizzo di memoria da parte di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="b2b13-132">Memory consumption of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span>  
  
-   <span data-ttu-id="b2b13-133">Attività di I/O di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="b2b13-133">I/O activity of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span>  
  
-   <span data-ttu-id="b2b13-134">Velocità effettiva delle transazioni dell'istanza durante l'elaborazione delle transazioni.</span><span class="sxs-lookup"><span data-stu-id="b2b13-134">Transaction throughput of the instance while processing transactions.</span></span>  
  
 <span data-ttu-id="b2b13-135">L'agente di raccolta delle prestazioni delle transazioni acquisisce dati ogni 15 minuti.</span><span class="sxs-lookup"><span data-stu-id="b2b13-135">The transaction performance collector captures data every 15 minutes.</span></span> <span data-ttu-id="b2b13-136">Per ottenere risultati utili, eseguire l'agente di raccolta per almeno un'ora.</span><span class="sxs-lookup"><span data-stu-id="b2b13-136">To obtain usable results, run the transaction performance collector for at least one hour.</span></span> <span data-ttu-id="b2b13-137">Per ottenere i risultati migliori, eseguire l'agente di raccolta quanto basta ad acquisire i dati per gli scenari principali.</span><span class="sxs-lookup"><span data-stu-id="b2b13-137">To obtain best results, run the transaction performance collector for as much time as needed to capture data for your primary scenarios.</span></span> <span data-ttu-id="b2b13-138">Generare un report di analisi delle prestazioni delle transazioni solo dopo aver completato la raccolta dei dati.</span><span class="sxs-lookup"><span data-stu-id="b2b13-138">Generate a transaction performance analysis report only after you have finished gathering data.</span></span>  
  
 <span data-ttu-id="b2b13-139">Configurare l'agente di raccolta delle prestazioni delle transazioni affinché venga eseguito nell'istanza di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] in produzione e raccolga i dati in un'istanza di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] in un ambiente di sviluppo (test) per garantire un overhead minimo.</span><span class="sxs-lookup"><span data-stu-id="b2b13-139">Configure the transaction performance collector to run on your [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance in production and collect the data on a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance in your development (test) environment to ensure minimum overhead.</span></span> <span data-ttu-id="b2b13-140">Per informazioni su come salvare i dati in un database di data warehouse di gestione in un' [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] istanza remota, vedere [configurare la raccolta dati in un'istanza di SQL Server remota](determining-if-a-table-or-stored-procedure-should-be-ported-to-in-memory-oltp.md#xxx).</span><span class="sxs-lookup"><span data-stu-id="b2b13-140">For information on how to save data in a Management Data Warehouse database on a remote [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance, see [Configure Data Collection on a Remote SQL Server Instance](determining-if-a-table-or-stored-procedure-should-be-ported-to-in-memory-oltp.md#xxx).</span></span>  
  
## <a name="performance-impacts"></a><span data-ttu-id="b2b13-141">Impatto sulle prestazioni</span><span class="sxs-lookup"><span data-stu-id="b2b13-141">Performance Impacts</span></span>  
 <span data-ttu-id="b2b13-142">L'agente di raccolta delle prestazioni delle transazioni è costituito da due set di raccolta dati:</span><span class="sxs-lookup"><span data-stu-id="b2b13-142">The transaction performance collector consists of two data collection sets:</span></span>  
  
-   <span data-ttu-id="b2b13-143">Analisi di utilizzo delle tabelle</span><span class="sxs-lookup"><span data-stu-id="b2b13-143">Table Usage Analysis</span></span>  
  
-   <span data-ttu-id="b2b13-144">Analisi di stored procedure</span><span class="sxs-lookup"><span data-stu-id="b2b13-144">Stored Procedure Analysis</span></span>  
  
 <span data-ttu-id="b2b13-145">I set di raccolta raccolgono i dati da tre DMV ogni quindici minuti e caricano i dati nel database configurato come data warehouse di gestione.</span><span class="sxs-lookup"><span data-stu-id="b2b13-145">The collection sets collect data from three dynamic management views (DMV) every fifteen minutes, and upload the data to the database configured to act as the Management Data Warehouse.</span></span> <span data-ttu-id="b2b13-146">Il caricamento dei dati raccolti influisce minimamente sulle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="b2b13-146">Uploading the collected data incurs minimal performance impact.</span></span>  
  
## <a name="use-the-transaction-performance-collector"></a><span data-ttu-id="b2b13-147">Utilizzare l'agente di raccolta delle prestazioni delle transazioni</span><span class="sxs-lookup"><span data-stu-id="b2b13-147">Use the Transaction Performance Collector</span></span>  
 <span data-ttu-id="b2b13-148">Per i passaggi seguenti è richiesto [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] in [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)].</span><span class="sxs-lookup"><span data-stu-id="b2b13-148">The following steps require [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] in [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)].</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="b2b13-149">Non modificare lo schema, ad esempio aggiungendo o rimuovendo database o creando o eliminando tabelle, durante la profilatura.</span><span class="sxs-lookup"><span data-stu-id="b2b13-149">Do not change the schema (for example, add or remove databases or create or drop tables) during profiling.</span></span> <span data-ttu-id="b2b13-150">Se si modifica lo schema di un database mentre si stanno raccogliendo dati, il database non potrà essere incluso in modo accurato nel report.</span><span class="sxs-lookup"><span data-stu-id="b2b13-150">If you change the schema of a database while collecting data, the database may not be accurately included in the report.</span></span>  
  
### <a name="configure-management-data-warehouse"></a><span data-ttu-id="b2b13-151">Configurare il data warehouse di gestione</span><span class="sxs-lookup"><span data-stu-id="b2b13-151">Configure Management Data Warehouse</span></span>  
 <span data-ttu-id="b2b13-152">Il data warehouse di gestione deve essere configurato per utilizzare l'agente di raccolta delle prestazioni delle transazioni.</span><span class="sxs-lookup"><span data-stu-id="b2b13-152">Management Data Warehouse must be configured to use the transaction performance collector.</span></span>  
  
 <span data-ttu-id="b2b13-153">La versione dell'istanza di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] su cui verranno raccolti dati (profilo) deve essere la stessa o una versione precedente di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] in cui è configurato il data warehouse di gestione.</span><span class="sxs-lookup"><span data-stu-id="b2b13-153">The version of the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance that you will collect data on (profile) should be the same version or older than the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] where Management Data Warehouse is configured.</span></span>  
  
1.  <span data-ttu-id="b2b13-154">In Esplora oggetti espandere **Gestione**.</span><span class="sxs-lookup"><span data-stu-id="b2b13-154">In Object Explorer, expand **Management**.</span></span>  
  
2.  <span data-ttu-id="b2b13-155">Fare clic con il pulsante destro del mouse su **raccolta dati** e selezionare **attività** , quindi **configurare data warehouse di gestione**.</span><span class="sxs-lookup"><span data-stu-id="b2b13-155">Right click **Data Collection** and select **Tasks** and then **Configure Management Data Warehouse**.</span></span> <span data-ttu-id="b2b13-156">Viene avviata la **Configurazione guidata data warehouse gestione** .</span><span class="sxs-lookup"><span data-stu-id="b2b13-156">The **Configure Management Data Warehouse Wizard** begins.</span></span>  
  
3.  <span data-ttu-id="b2b13-157">Fare clic su **Avanti** per selezionare il database che fungerà da data warehouse di gestione.</span><span class="sxs-lookup"><span data-stu-id="b2b13-157">Click **Next** to select the database that will act as the Management Data Warehouse.</span></span>  
  
4.  <span data-ttu-id="b2b13-158">Fare clic su **nuovo** per creare un nuovo database in cui conservare i dati del profilo.</span><span class="sxs-lookup"><span data-stu-id="b2b13-158">Click **New** to create a new database to hold the profile data.</span></span> <span data-ttu-id="b2b13-159">Al termine della creazione del database, fare clic su **Avanti** nella procedura guidata.</span><span class="sxs-lookup"><span data-stu-id="b2b13-159">After you finish creating the database, click **Next** in the wizard.</span></span>  
  
5.  <span data-ttu-id="b2b13-160">Il passaggio successivo consente di aggiungere utenti e account di accesso.</span><span class="sxs-lookup"><span data-stu-id="b2b13-160">The next step in the wizard lets you add users and logins.</span></span> <span data-ttu-id="b2b13-161">È possibile eseguire il mapping degli account di accesso alle appartenenze ai ruoli dell'istanza del data warehouse di gestione.</span><span class="sxs-lookup"><span data-stu-id="b2b13-161">You may map logins to role memberships for the MDW instance.</span></span> <span data-ttu-id="b2b13-162">Questa operazione non è necessaria per raccogliere i dati dell'istanza locale.</span><span class="sxs-lookup"><span data-stu-id="b2b13-162">This is not required to collect data from the local instance.</span></span> <span data-ttu-id="b2b13-163">Se non si raccolgono dati dell'istanza locale, è possibile concedere l'appartenenza al ruolo del database `mdw_admin` all'account che eseguirà le transazioni sottoposte a profilatura.</span><span class="sxs-lookup"><span data-stu-id="b2b13-163">If you are not collecting data from the local instance, you can grant database role membership `mdw_admin` to the account that will run transactions that will be profiled.</span></span> <span data-ttu-id="b2b13-164">Al termine fare clic su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="b2b13-164">When done, click **Next**.</span></span>  
  
6.  <span data-ttu-id="b2b13-165">Accertarsi che [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent sia in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="b2b13-165">Make sure that [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent is running.</span></span>  
  
7.  <span data-ttu-id="b2b13-166">Nella schermata successiva fare clic su **fine** per uscire dalla procedura guidata.</span><span class="sxs-lookup"><span data-stu-id="b2b13-166">On the next screen, click **Finish** to exit the wizard.</span></span>  
  
### <a name="configure-data-collection-on-a-local-ssnoversion-instance"></a><span data-ttu-id="b2b13-167">Configurare la raccolta dati in un'istanza locale di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="b2b13-167">Configure Data Collection on a Local [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Instance</span></span>  
 <span data-ttu-id="b2b13-168">Per la raccolta dati è necessario che [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent sia avviato.</span><span class="sxs-lookup"><span data-stu-id="b2b13-168">Data collection requires [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent to be started.</span></span> <span data-ttu-id="b2b13-169">È sufficiente configurare un agente di raccolta dati su un server.</span><span class="sxs-lookup"><span data-stu-id="b2b13-169">You only need to configure one data collector on a server.</span></span>  
  
 <span data-ttu-id="b2b13-170">Un agente di raccolta dati può essere configurato in un SQL Server 2012 o versione successiva di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="b2b13-170">A data collector can be configured on a SQL Server 2012 or later version of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="b2b13-171">Per configurare la raccolta dati da caricare in un database del data warehouse di gestione nella stessa istanza</span><span class="sxs-lookup"><span data-stu-id="b2b13-171">To configure data collection to upload to a Management Data Warehouse database on the same instance,</span></span>  
  
1.  <span data-ttu-id="b2b13-172">In **Esplora oggetti**espandere **gestione**.</span><span class="sxs-lookup"><span data-stu-id="b2b13-172">In **Object Explorer**, expand **Management**.</span></span>  
  
2.  <span data-ttu-id="b2b13-173">Fare clic con il pulsante destro del mouse su **raccolta dati**, selezionare **attività**, quindi **configurare raccolta dati**.</span><span class="sxs-lookup"><span data-stu-id="b2b13-173">Right click **Data Collection**, select **Tasks**, and then **Configure Data Collection**.</span></span> <span data-ttu-id="b2b13-174">Viene avviata la **Configurazione guidata raccolta dati** .</span><span class="sxs-lookup"><span data-stu-id="b2b13-174">The **Configure Data Collection Wizard** begins.</span></span>  
  
3.  <span data-ttu-id="b2b13-175">Fare clic su **Avanti** per selezionare il database che raccoglierà i dati del profilo.</span><span class="sxs-lookup"><span data-stu-id="b2b13-175">Click **Next** to select the database that will collect the profile data.</span></span>  
  
4.  <span data-ttu-id="b2b13-176">Selezionare l'istanza di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] corrente e un database del data warehouse di gestione in tale istanza.</span><span class="sxs-lookup"><span data-stu-id="b2b13-176">Select the current [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance and a Management Data Warehouse database on that instance.</span></span>  
  
5.  <span data-ttu-id="b2b13-177">Nella casella **selezionare gli insiemi agenti di raccolta dati che si desidera abilitare**selezionare set di **raccolta prestazioni delle transazioni**.</span><span class="sxs-lookup"><span data-stu-id="b2b13-177">In the box labeled **Select data collector sets you want to enable**, select **Transaction Performance Collection Sets**.</span></span> <span data-ttu-id="b2b13-178">Al termine fare clic su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="b2b13-178">Click **Next** when done.</span></span>  
  
6.  <span data-ttu-id="b2b13-179">Verificare le selezioni.</span><span class="sxs-lookup"><span data-stu-id="b2b13-179">Verify the selections.</span></span> <span data-ttu-id="b2b13-180">Fare clic su **indietro** per modificare le impostazioni.</span><span class="sxs-lookup"><span data-stu-id="b2b13-180">Click **Back** to modify the settings.</span></span> <span data-ttu-id="b2b13-181">Fare clic su **Fine** al termine.</span><span class="sxs-lookup"><span data-stu-id="b2b13-181">Click **Finish** when done.</span></span>  
  
###  <a name="configure-data-collection-on-a-remote-ssnoversion-instance"></a><a name="xxx"></a><span data-ttu-id="b2b13-182">Configurare la raccolta dati in un' [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] istanza remota</span><span class="sxs-lookup"><span data-stu-id="b2b13-182">Configure Data Collection on a Remote [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Instance</span></span>  
 <span data-ttu-id="b2b13-183">Per la raccolta dati è necessario che [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent sia avviato nell'istanza che raccoglierà i dati.</span><span class="sxs-lookup"><span data-stu-id="b2b13-183">Data collection requires [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent to be started on the instance that will collect the data.</span></span>  
  
 <span data-ttu-id="b2b13-184">Un agente di raccolta dati può essere configurato in un SQL Server 2012 o versione successiva di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="b2b13-184">A data collector can be configured on a SQL Server 2012 or later version of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="b2b13-185">Per poter caricare dati in un database del data warehouse di gestione in un'istanza diversa da quella in cui verrà eseguita la profilatura delle transazioni, è necessario un proxy di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent configurato con le credenziali corrette per un agente di raccolta dati.</span><span class="sxs-lookup"><span data-stu-id="b2b13-185">You need a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent proxy established with the correct credential for a data collector to upload data to a Management Data Warehouse database on an instance that is different from where transactions will be profiled.</span></span> <span data-ttu-id="b2b13-186">Per abilitare un proxy di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent, è innanzitutto necessario definire le credenziali con un account di accesso abilitato per il dominio,</span><span class="sxs-lookup"><span data-stu-id="b2b13-186">To enable a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent proxy, you must first establish a credential with a domain-enabled login.</span></span> <span data-ttu-id="b2b13-187">che deve essere membro del gruppo `mdw_admin` per il database del data warehouse di gestione.</span><span class="sxs-lookup"><span data-stu-id="b2b13-187">The domain-enabled login must be a member of `mdw_admin` group for the Management Data Warehouse database.</span></span> <span data-ttu-id="b2b13-188">Per informazioni su come creare le credenziali, vedere [procedura: creare una credenziale (SQL Server Management Studio)](../security/authentication-access/create-a-credential.md) .</span><span class="sxs-lookup"><span data-stu-id="b2b13-188">See [How to: Create a Credential (SQL Server Management Studio)](../security/authentication-access/create-a-credential.md) for information on how to create a credential.</span></span>  
  
 <span data-ttu-id="b2b13-189">Per configurare la raccolta dati da caricare in un database del data warehouse di gestione in un'istanza diversa</span><span class="sxs-lookup"><span data-stu-id="b2b13-189">To configure data collection to upload to a Management Data Warehouse database on a different instance,</span></span>  
  
1.  <span data-ttu-id="b2b13-190">Nell'istanza di che contiene gli oggetti basati su disco di cui si desidera eseguire la migrazione a OLTP in memoria, espandere il nodo **gestione** in Esplora oggetti.</span><span class="sxs-lookup"><span data-stu-id="b2b13-190">On the instance that contains the disk-based objects that you want to migrate to In-Memory OLTP, expand the **Management** node in Object Explorer.</span></span>  
  
2.  <span data-ttu-id="b2b13-191">Fare clic con il pulsante destro del mouse su **raccolta dati** e selezionare **attività** , quindi **Configura raccolta dati**.</span><span class="sxs-lookup"><span data-stu-id="b2b13-191">Right click **Data Collection** and select **Tasks** and then **Configure Data Collection**.</span></span> <span data-ttu-id="b2b13-192">Viene avviata la **Configurazione guidata raccolta dati** .</span><span class="sxs-lookup"><span data-stu-id="b2b13-192">The **Configure Data Collection Wizard** begins.</span></span>  
  
3.  <span data-ttu-id="b2b13-193">Fare clic su **Avanti** per selezionare il database che raccoglierà i dati del profilo.</span><span class="sxs-lookup"><span data-stu-id="b2b13-193">Click **Next** to select the database that will collect the profile data.</span></span>  
  
4.  <span data-ttu-id="b2b13-194">Accertarsi che un database del data warehouse di gestione sia presente nell'altra istanza di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="b2b13-194">Make sure that a Management Data Warehouse database exists on the other [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance.</span></span>  
  
5.  <span data-ttu-id="b2b13-195">Selezionare un'altra istanza di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] e un database del data warehouse di gestione in tale istanza.</span><span class="sxs-lookup"><span data-stu-id="b2b13-195">Select another [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance and a Management Data Warehouse database on that instance.</span></span>  
  
     <span data-ttu-id="b2b13-196">La versione dell'istanza di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] su cui verranno raccolti dati (profilo) deve essere la stessa o una versione precedente di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] in cui è configurato il data warehouse di gestione.</span><span class="sxs-lookup"><span data-stu-id="b2b13-196">The version of the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance that you will collect data on (profile) should be the same version or older than the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] where Management Data Warehouse is configured.</span></span>  
  
6.  <span data-ttu-id="b2b13-197">Nella casella **selezionare gli insiemi agenti di raccolta dati che si desidera abilitare**selezionare set di **raccolta prestazioni delle transazioni**.</span><span class="sxs-lookup"><span data-stu-id="b2b13-197">In the box labeled **Select data collector sets you want to enable**, select **Transaction Performance Collection Sets**.</span></span>  
  
7.  <span data-ttu-id="b2b13-198">Selezionare **Usa un [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] proxy di Agent per i caricamenti remoti**.</span><span class="sxs-lookup"><span data-stu-id="b2b13-198">Select **Use a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent proxy for remote uploads**.</span></span>  
  
8.  <span data-ttu-id="b2b13-199">Al termine fare clic su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="b2b13-199">Click **Next** when done.</span></span>  
  
9. <span data-ttu-id="b2b13-200">Selezionare il proxy.</span><span class="sxs-lookup"><span data-stu-id="b2b13-200">Select the proxy.</span></span>  
  
     <span data-ttu-id="b2b13-201">Per creare un nuovo proxy di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent</span><span class="sxs-lookup"><span data-stu-id="b2b13-201">If you want to create a new [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent proxy,</span></span>  
  
    1.  <span data-ttu-id="b2b13-202">Fare clic su **nuovo** per visualizzare la finestra di dialogo **nuovo account proxy** .</span><span class="sxs-lookup"><span data-stu-id="b2b13-202">Click **New** to display the **New Proxy Account** dialog box.</span></span>  
  
    2.  <span data-ttu-id="b2b13-203">Nella finestra di dialogo **nuovo account proxy** immettere il nome del proxy, selezionare le credenziali e, facoltativamente, immettere una descrizione.</span><span class="sxs-lookup"><span data-stu-id="b2b13-203">In the **New Proxy Account** dialog box, enter the name of the proxy, select the credential, and optionally enter a description.</span></span> <span data-ttu-id="b2b13-204">Fare quindi clic su **entità**.</span><span class="sxs-lookup"><span data-stu-id="b2b13-204">Then, click **Principals**.</span></span>  
  
    3.  <span data-ttu-id="b2b13-205">Fare clic su **Aggiungi** e selezionare il ruolo **msdb** .</span><span class="sxs-lookup"><span data-stu-id="b2b13-205">Click **Add** and select **Msdb** role.</span></span>  
  
    4.  <span data-ttu-id="b2b13-206">Selezionare `dc_proxy` e fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="b2b13-206">Select `dc_proxy` and click **OK**.</span></span> <span data-ttu-id="b2b13-207">Fare quindi ancora clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="b2b13-207">Then click **OK** again.</span></span>  
  
     <span data-ttu-id="b2b13-208">Dopo aver selezionato il proxy corretto, fare clic su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="b2b13-208">After the correct proxy is selected, click **Next**.</span></span>  
  
10. <span data-ttu-id="b2b13-209">Per configurare i set di raccolta di sistema, controllare i **set di raccolta di sistema** e fare clic su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="b2b13-209">To configure System Collection Sets, check **System Collection Sets** and click **Next**.</span></span>  
  
11. <span data-ttu-id="b2b13-210">Verificare le selezioni.</span><span class="sxs-lookup"><span data-stu-id="b2b13-210">Verify the selections.</span></span> <span data-ttu-id="b2b13-211">Fare clic su **indietro** per modificare le impostazioni.</span><span class="sxs-lookup"><span data-stu-id="b2b13-211">Click **Back** to modify the settings.</span></span> <span data-ttu-id="b2b13-212">Clicck **al termine dell'** operazione.</span><span class="sxs-lookup"><span data-stu-id="b2b13-212">Clicck **Finish** when done.</span></span>  
  
 <span data-ttu-id="b2b13-213">A questo punto, i set di raccolta dati dovrebbero essere configurati e in esecuzione nell'istanza.</span><span class="sxs-lookup"><span data-stu-id="b2b13-213">Data collection sets should now be configured and running on your instance.</span></span>  
  
### <a name="generate-reports"></a><span data-ttu-id="b2b13-214">Generare report</span><span class="sxs-lookup"><span data-stu-id="b2b13-214">Generate Reports</span></span>  
 <span data-ttu-id="b2b13-215">È possibile generare report di analisi delle prestazioni delle transazioni facendo clic con il pulsante destro del mouse sul database del data warehouse di gestione e selezionando **report**, quindi **data warehouse di gestione**, quindi **Panoramica dell'analisi delle prestazioni delle transazioni**.</span><span class="sxs-lookup"><span data-stu-id="b2b13-215">You can generate transaction performance analysis reports by right clicking the database of the Management Data Warehouse and selecting **Reports**, then **Management Data Warehouse**, and then **Transaction Performance Analysis Overview**.</span></span>  
  
 <span data-ttu-id="b2b13-216">Il report raccoglie informazioni su tutti i database utente nel server del carico di lavoro.</span><span class="sxs-lookup"><span data-stu-id="b2b13-216">The report collects information about all user databases on the workload server.</span></span> <span data-ttu-id="b2b13-217">Se il database del data warehouse di gestione è nel computer locale, nel report verranno visualizzati i database del data warehouse di gestione.</span><span class="sxs-lookup"><span data-stu-id="b2b13-217">If your Management Data Warehouse (MDW) database is on the local computer, you will see the MDW database(s) in the report.</span></span>  
  
 <span data-ttu-id="b2b13-218">Una stored procedure con un alto rapporto di tempo di utilizzo della CPU rispetto al tempo trascorso è una candidata per la migrazione.</span><span class="sxs-lookup"><span data-stu-id="b2b13-218">A stored procedure with high ratio of CPU time to elapsed time is a candidate for migration.</span></span> <span data-ttu-id="b2b13-219">Il report include tutti i riferimenti alle tabelle perché le stored procedure compilate in modo nativo possono fare riferimento solo alle tabelle ottimizzate per la memoria che possono costituire un'aggiunta al costo di migrazione.</span><span class="sxs-lookup"><span data-stu-id="b2b13-219">The report shows all table references, because natively compiled stored procedures can only reference memory-optimized tables, which can add to the migration cost.</span></span>  
  
 <span data-ttu-id="b2b13-220">Il report dettagli per una tabella è costituito da tre sezioni:</span><span class="sxs-lookup"><span data-stu-id="b2b13-220">The details report for a table consists of three sections:</span></span>  
  
-   <span data-ttu-id="b2b13-221">Sezione relativa alle statistiche sull'analisi</span><span class="sxs-lookup"><span data-stu-id="b2b13-221">Scan Statistics Section</span></span>  
  
     <span data-ttu-id="b2b13-222">In questa sezione è inclusa una singola tabella in cui sono indicate le statistiche raccolte sulle analisi nella tabella di database.</span><span class="sxs-lookup"><span data-stu-id="b2b13-222">This section includes a single table that shows the statistics that were collected about scans on the database table.</span></span> <span data-ttu-id="b2b13-223">Le colonne sono:</span><span class="sxs-lookup"><span data-stu-id="b2b13-223">The columns are:</span></span>  
  
    -   <span data-ttu-id="b2b13-224">Percentuale di accessi totali.</span><span class="sxs-lookup"><span data-stu-id="b2b13-224">Percent of total accesses.</span></span> <span data-ttu-id="b2b13-225">Percentuale di analisi e ricerche in questa tabella rispetto all'attività dell'intero database.</span><span class="sxs-lookup"><span data-stu-id="b2b13-225">The percentage of scans and seeks on this table with respect to the activity of the entire database.</span></span> <span data-ttu-id="b2b13-226">Più alta è questa percentuale, molto più frequente è l'utilizzo della tabella confrontata con altre tabelle del database.</span><span class="sxs-lookup"><span data-stu-id="b2b13-226">The higher this percentage, the more heavily used the table is compared to other tables in the database.</span></span>  
  
    -   <span data-ttu-id="b2b13-227">Statistiche di ricerca/Statistiche analisi intervallo.</span><span class="sxs-lookup"><span data-stu-id="b2b13-227">Lookup Statistics/Range Scan Statistics.</span></span> <span data-ttu-id="b2b13-228">In questa colonna vengono registrati il numero di ricerche di punti e di analisi di intervalli (analisi di indici e scansioni di tabelle) eseguite sulla tabella durante la profilatura.</span><span class="sxs-lookup"><span data-stu-id="b2b13-228">This column records the number of point lookups and range scans (index scans and table scans) conducted on the table during profiling.</span></span> <span data-ttu-id="b2b13-229">La media per ogni transazione è una stima.</span><span class="sxs-lookup"><span data-stu-id="b2b13-229">Average per transaction is an estimate.</span></span>  
  
    -   <span data-ttu-id="b2b13-230">Guadagno di interoperabilità e Guadagno nativo.</span><span class="sxs-lookup"><span data-stu-id="b2b13-230">Interop Gain and Native Gain.</span></span> <span data-ttu-id="b2b13-231">In queste colonne si stima il vantaggio in termini di prestazioni di una ricerca di punto o di un'analisi di intervalli qualora la tabella venisse convertita in una tabella ottimizzata per la memoria.</span><span class="sxs-lookup"><span data-stu-id="b2b13-231">These columns estimate the amount of performance benefit a point lookup or range scan would have if the table is converted to a memory-optimized table.</span></span>  
  
-   <span data-ttu-id="b2b13-232">Sezione relativa alle statistiche sulle contese</span><span class="sxs-lookup"><span data-stu-id="b2b13-232">Contention Statistics Section</span></span>  
  
     <span data-ttu-id="b2b13-233">In questa sezione è inclusa una tabella in cui viene mostrata la contesa nella tabella di database.</span><span class="sxs-lookup"><span data-stu-id="b2b13-233">This section includes a table that shows contention on the database table.</span></span> <span data-ttu-id="b2b13-234">Per ulteriori informazioni sui latch e i blocchi del database, vedere l' [architettura di blocco](https://msdn.microsoft.com/library/aa224738\(v=sql.80\).aspx).</span><span class="sxs-lookup"><span data-stu-id="b2b13-234">For more information regarding database latches and locks, please see [Locking Architecture](https://msdn.microsoft.com/library/aa224738\(v=sql.80\).aspx).</span></span> <span data-ttu-id="b2b13-235">Le colonne sono le seguenti:</span><span class="sxs-lookup"><span data-stu-id="b2b13-235">The columns are as follows:</span></span>  
  
    -   <span data-ttu-id="b2b13-236">Percentuale di attese totali.</span><span class="sxs-lookup"><span data-stu-id="b2b13-236">Percent of total waits.</span></span> <span data-ttu-id="b2b13-237">Percentuale di attese di blocchi e di latch in questa tabella di database rispetto all'attività del database.</span><span class="sxs-lookup"><span data-stu-id="b2b13-237">The percentage of latch and lock waits on this database table compared to activity of the database.</span></span> <span data-ttu-id="b2b13-238">Più alta è questa percentuale, molto più frequente è l'utilizzo della tabella confrontata con altre tabelle del database.</span><span class="sxs-lookup"><span data-stu-id="b2b13-238">The higher this percentage, the more heavily used the table is compared to other tables in the database.</span></span>  
  
    -   <span data-ttu-id="b2b13-239">Statistiche latch.</span><span class="sxs-lookup"><span data-stu-id="b2b13-239">Latch Statistics.</span></span> <span data-ttu-id="b2b13-240">In queste colonne viene registrato il numero di attese di latch per query che interessano questa tabella.</span><span class="sxs-lookup"><span data-stu-id="b2b13-240">These columns record the number of latch waits for queries involving for this table.</span></span> <span data-ttu-id="b2b13-241">Per informazioni sui latch, vedere [latch](https://msdn.microsoft.com/library/aa224727\(v=SQL.80\).aspx).</span><span class="sxs-lookup"><span data-stu-id="b2b13-241">For information on latches, see [Latching](https://msdn.microsoft.com/library/aa224727\(v=SQL.80\).aspx).</span></span> <span data-ttu-id="b2b13-242">Più elevato è questo numero, maggiore è la contesa di latch nella tabella.</span><span class="sxs-lookup"><span data-stu-id="b2b13-242">The higher this number, the more latch contention on the table.</span></span>  
  
    -   <span data-ttu-id="b2b13-243">Statistiche blocchi.</span><span class="sxs-lookup"><span data-stu-id="b2b13-243">Lock Statistics.</span></span> <span data-ttu-id="b2b13-244">In questo gruppo di colonne viene registrato il numero di acquisizioni e attese dei blocchi di pagina per query per la tabella.</span><span class="sxs-lookup"><span data-stu-id="b2b13-244">This group of columns record the number of page lock acquisitions and waits for queries for this table.</span></span> <span data-ttu-id="b2b13-245">Per ulteriori informazioni sui blocchi, vedere [informazioni sul blocco in SQL Server](https://msdn.microsoft.com/library/aa213039\(v=SQL.80\).aspx).</span><span class="sxs-lookup"><span data-stu-id="b2b13-245">For more information on locks, see [Understanding Locking in SQL Server](https://msdn.microsoft.com/library/aa213039\(v=SQL.80\).aspx).</span></span> <span data-ttu-id="b2b13-246">Più attese vi sono, maggiore è la contesa di blocchi nella tabella.</span><span class="sxs-lookup"><span data-stu-id="b2b13-246">The more waits, the more lock contention on the table.</span></span>  
  
-   <span data-ttu-id="b2b13-247">Sezione relativa alle difficoltà nella migrazione</span><span class="sxs-lookup"><span data-stu-id="b2b13-247">Migration Difficulties Section</span></span>  
  
     <span data-ttu-id="b2b13-248">In questa sezione è inclusa una tabella in cui vengono mostrate le difficoltà di conversione della tabella di database in una tabella ottimizzata per la memoria.</span><span class="sxs-lookup"><span data-stu-id="b2b13-248">This section includes a table that shows the difficulty of converting this database table to a memory-optimized table.</span></span> <span data-ttu-id="b2b13-249">Un grado di difficoltà più elevato indica una maggiore difficoltà di conversione della tabella.</span><span class="sxs-lookup"><span data-stu-id="b2b13-249">A higher difficulty rating indicates more difficultly to convert the table.</span></span> <span data-ttu-id="b2b13-250">Per visualizzare i dettagli relativi alla conversione di questa tabella di database, utilizzare [Ottimizzazione guidata](memory-optimization-advisor.md)per la memoria.</span><span class="sxs-lookup"><span data-stu-id="b2b13-250">To see details to convert this database table, please use the [Memory Optimization Advisor](memory-optimization-advisor.md).</span></span>  
  
 <span data-ttu-id="b2b13-251">Le statistiche relative all'analisi e alla contesa nel report Dettagli tabella vengono raccolte e aggregate da [sys. dm_db_index_operational_stats &#40;&#41;Transact-SQL ](/sql/relational-databases/system-dynamic-management-views/sys-dm-db-index-operational-stats-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="b2b13-251">Scan and contention statistics on the table details report is gathered and aggregated from [sys.dm_db_index_operational_stats &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-db-index-operational-stats-transact-sql).</span></span>  
  
 <span data-ttu-id="b2b13-252">Il report dettagli per una stored procedure è costituito da due sezioni:</span><span class="sxs-lookup"><span data-stu-id="b2b13-252">The details report for a stored procedure consists of two sections:</span></span>  
  
-   <span data-ttu-id="b2b13-253">Sezione relativa alle statistiche di esecuzione</span><span class="sxs-lookup"><span data-stu-id="b2b13-253">Execution Statistics Section</span></span>  
  
     <span data-ttu-id="b2b13-254">In questa sezione è inclusa una tabella in cui sono indicate le statistiche raccolte sulle esecuzioni della stored procedure.</span><span class="sxs-lookup"><span data-stu-id="b2b13-254">This section includes a table that shows the statistics that were collected about the stored procedure's executions.</span></span> <span data-ttu-id="b2b13-255">Le colonne sono le seguenti:</span><span class="sxs-lookup"><span data-stu-id="b2b13-255">The columns are as follows:</span></span>  
  
    -   <span data-ttu-id="b2b13-256">Ora di memorizzazione nella cache.</span><span class="sxs-lookup"><span data-stu-id="b2b13-256">Cached Time.</span></span> <span data-ttu-id="b2b13-257">Ora di memorizzazione nella cache di questo piano di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="b2b13-257">The time this execution plan is cached.</span></span> <span data-ttu-id="b2b13-258">Se la stored procedure viene ritirata dalla cache dei piani e poi reinserita, verranno indicate le ore per ogni memorizzazione nella cache.</span><span class="sxs-lookup"><span data-stu-id="b2b13-258">If the stored procedure drops out of the plan cache and re-enters, there will be times for each cache.</span></span>  
  
    -   <span data-ttu-id="b2b13-259">Tempo totale CPU.</span><span class="sxs-lookup"><span data-stu-id="b2b13-259">Total CPU Time.</span></span> <span data-ttu-id="b2b13-260">Tempo totale CPU utilizzato dalla stored procedure durante la profilatura.</span><span class="sxs-lookup"><span data-stu-id="b2b13-260">The total CPU time that the stored procedure consumed during profiling.</span></span> <span data-ttu-id="b2b13-261">Più alto è questo numero, maggiore è l'utilizzo della CPU da parte della stored procedure.</span><span class="sxs-lookup"><span data-stu-id="b2b13-261">The higher this number, the more CPU the stored procedure used.</span></span>  
  
    -   <span data-ttu-id="b2b13-262">Tempo di esecuzione totale.</span><span class="sxs-lookup"><span data-stu-id="b2b13-262">Total Execution Time.</span></span> <span data-ttu-id="b2b13-263">Tempo di esecuzione totale utilizzato dalla stored procedure durante la profilatura.</span><span class="sxs-lookup"><span data-stu-id="b2b13-263">The total amount of execution time the stored procedure used during profiling.</span></span> <span data-ttu-id="b2b13-264">Maggiore è la differenza tra questo numero e il tempo CPU, minore è l'utilizzo della CPU in modo efficace da parte della stored procedure.</span><span class="sxs-lookup"><span data-stu-id="b2b13-264">The higher the difference between this number and the CPU time is, the less efficiently the stored procedure is using the CPU.</span></span>  
  
    -   <span data-ttu-id="b2b13-265">Totale riscontri cache mancati.</span><span class="sxs-lookup"><span data-stu-id="b2b13-265">Total Cache Missed.</span></span> <span data-ttu-id="b2b13-266">Numero di mancati riscontri nella cache (letture dall'archiviazione fisica) causato dalle esecuzioni della stored procedure durante la profilatura.</span><span class="sxs-lookup"><span data-stu-id="b2b13-266">The number of cache misses (reads from physical storage) that is caused by the stored procedure's executions during profiling.</span></span>  
  
    -   <span data-ttu-id="b2b13-267">Conteggio esecuzioni.</span><span class="sxs-lookup"><span data-stu-id="b2b13-267">Execution Count.</span></span> <span data-ttu-id="b2b13-268">Numero di esecuzioni della stored procedure durante la profilatura.</span><span class="sxs-lookup"><span data-stu-id="b2b13-268">The number of times this stored procedure executed during profiling.</span></span>  
  
-   <span data-ttu-id="b2b13-269">Sezione relativa ai riferimenti a tabelle</span><span class="sxs-lookup"><span data-stu-id="b2b13-269">Table References Section</span></span>  
  
     <span data-ttu-id="b2b13-270">In questa sezione è inclusa una tabella in cui vengono mostrate le tabelle a cui fa riferimento questa stored procedure.</span><span class="sxs-lookup"><span data-stu-id="b2b13-270">This section includes a table that shows the tables to which this stored procedure refers.</span></span> <span data-ttu-id="b2b13-271">Prima di convertire la stored procedure in una stored procedure compilata a livello nativo, tutte queste tabelle devono essere convertite in tabelle ottimizzate per la memoria e devono rimanere nello stesso server e database.</span><span class="sxs-lookup"><span data-stu-id="b2b13-271">Before converting the stored procedure into a natively compiled stored procedure, all of these tables must be converted to memory-optimized tables, and they must stay on the same server and database.</span></span>  
  
 <span data-ttu-id="b2b13-272">Le statistiche di esecuzione del report dettagli stored procedure vengono raccolte e aggregate da [sys. dm_exec_procedure_stats &#40;&#41;Transact-SQL ](/sql/relational-databases/system-dynamic-management-views/sys-dm-exec-procedure-stats-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="b2b13-272">Execution Statistics on the stored procedure details report is gathered and aggregated from [sys.dm_exec_procedure_stats &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-exec-procedure-stats-transact-sql).</span></span> <span data-ttu-id="b2b13-273">I riferimenti vengono ottenuti da [sys. sql_expression_dependencies &#40;&#41;Transact-SQL ](/sql/relational-databases/system-catalog-views/sys-sql-expression-dependencies-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="b2b13-273">The references are obtained from [sys.sql_expression_dependencies &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-sql-expression-dependencies-transact-sql).</span></span>  
  
 <span data-ttu-id="b2b13-274">Per visualizzare i dettagli su come convertire un stored procedure in un stored procedure compilato in modo nativo, usare l' [Assistente compilazione nativa](native-compilation-advisor.md).</span><span class="sxs-lookup"><span data-stu-id="b2b13-274">To see details about how to convert a stored procedure to a natively compiled stored procedure, please use the [Native Compilation Advisor](native-compilation-advisor.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="b2b13-275">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="b2b13-275">See Also</span></span>  
 [<span data-ttu-id="b2b13-276">Migrazione a OLTP in memoria</span><span class="sxs-lookup"><span data-stu-id="b2b13-276">Migrating to In-Memory OLTP</span></span>](migrating-to-in-memory-oltp.md)  
  
  
