---
title: Ottimizzazione guidata per la memoria | Microsoft Docs
ms.custom: ''
ms.date: 10/26/2015
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: in-memory-oltp
ms.topic: conceptual
f1_keywords:
- sql12.swb.memoryoptimizationwizard.f1
- swb.memoryoptimizationwizard.f1
ms.assetid: 181989c2-9636-415a-bd1d-d304fc920b8a
author: rothja
ms.author: jroth
ms.openlocfilehash: cd0e08ab6d6a7bb2cfbf1892d6f2e4649e4a9735
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87714360"
---
# <a name="memory-optimization-advisor"></a><span data-ttu-id="ff8f1-102">Ottimizzazione guidata per la memoria</span><span class="sxs-lookup"><span data-stu-id="ff8f1-102">Memory Optimization Advisor</span></span>
  <span data-ttu-id="ff8f1-103">Lo strumento di report sulle prestazioni delle transazioni (vedere [Determining if a Table or Stored Procedure Should Be Ported to In-Memory OLTP](determining-if-a-table-or-stored-procedure-should-be-ported-to-in-memory-oltp.md)) indica quali tabelle del database trarranno vantaggio se trasferite per utilizzare OLTP in memoria.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-103">Transaction performance reports tool (see [Determining if a Table or Stored Procedure Should Be Ported to In-Memory OLTP](determining-if-a-table-or-stored-procedure-should-be-ported-to-in-memory-oltp.md)) informs you about which tables in your database will benefit if ported to use In-Memory OLTP.</span></span> <span data-ttu-id="ff8f1-104">Una volta identificata la tabella da trasferire per l'utilizzo di OLTP in memoria, è possibile utilizzare Ottimizzazione guidata per la memoria per eseguire facilmente la migrazione della tabella di database basata su disco in OLTP in memoria.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-104">After you identify a table that you would like to port to use In-Memory OLTP, you can use the memory optimization advisor to help you migrate the disk-based database table to In-Memory OLTP.</span></span>  
  
 <span data-ttu-id="ff8f1-105">Connettersi innanzitutto all'istanza contenente la tabella di database basata su disco.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-105">To begin, connect to the instance that contains the disk-based database table.</span></span> <span data-ttu-id="ff8f1-106">È possibile connettersi a un'istanza di [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] o [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="ff8f1-106">You can connect to a [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] or [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] instance.</span></span> <span data-ttu-id="ff8f1-107">Tuttavia, se si desidera effettuare la migrazione con il supporto dell'Assistente compilazione nativa, è necessario connettersi a un'istanza di [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] in cui la funzionalità OLTP in memoria sia abilitata.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-107">However, if you wish to perform a migration operation with the advisor, you must connect to a [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] instance on which In-Memory OLTP functionality is enabled.</span></span> <span data-ttu-id="ff8f1-108">Per ulteriori informazioni sui requisiti di OLTP in memoria, vedere [Requirements for Using Memory-Optimized Tables](memory-optimized-tables.md).</span><span class="sxs-lookup"><span data-stu-id="ff8f1-108">For more information about In-Memory OLTP requirements, see [Requirements for Using Memory-Optimized Tables](memory-optimized-tables.md).</span></span>  
  
 <span data-ttu-id="ff8f1-109">Per informazioni sulle metodologie di migrazione, vedere [In-Memory OLTP - Common Workload Patterns and Migration Considerations](https://msdn.microsoft.com/library/dn673538.aspx) (OLTP in memoria: considerazioni sulla migrazione e sui modelli di carico di lavoro comuni).</span><span class="sxs-lookup"><span data-stu-id="ff8f1-109">For information about migration methodologies, see [In-Memory OLTP - Common Workload Patterns and Migration Considerations](https://msdn.microsoft.com/library/dn673538.aspx).</span></span>  
  
## <a name="walkthrough-using-the-memory-optimization-advisor"></a><span data-ttu-id="ff8f1-110">Procedura dettagliata per l'utilizzo di Ottimizzazione guidata per la memoria</span><span class="sxs-lookup"><span data-stu-id="ff8f1-110">Walkthrough Using the Memory-Optimization Advisor</span></span>  
 <span data-ttu-id="ff8f1-111">In **Esplora oggetti**fare clic con il pulsante destro del mouse sulla tabella che si vuole convertire, quindi selezionare **Ottimizzazione guidata per la memoria**.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-111">In **Object Explorer**, right click the table you want to convert, and select **Memory-Optimization Advisor**.</span></span> <span data-ttu-id="ff8f1-112">Verrà visualizzata la pagina introduttiva per **Ottimizzazione guidata per la memoria della tabella**.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-112">This will display the welcome page for the **Table Memory Optimization Advisor**.</span></span>  
  
### <a name="memory-optimization-checklist"></a><span data-ttu-id="ff8f1-113">Elenco di controllo relativo all'ottimizzazione per la memoria</span><span class="sxs-lookup"><span data-stu-id="ff8f1-113">Memory Optimization Checklist</span></span>  
 <span data-ttu-id="ff8f1-114">Quando si fa clic su **Avanti** nella pagina introduttiva di **Ottimizzazione guidata per la memoria della tabella**, viene visualizzato l'elenco di controllo relativo all'ottimizzazione per la memoria.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-114">When you click **Next** in the welcome page for the **Table Memory Optimization Advisor**, you will see the memory optimization checklist.</span></span> <span data-ttu-id="ff8f1-115">Le tabelle con ottimizzazione per la memoria non supportano tutte le funzionalità di una tabella basata su disco.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-115">Memory-optimized tables do not support all the features in a disk-based table.</span></span> <span data-ttu-id="ff8f1-116">Nell'elenco di controllo relativo all'ottimizzazione per la memoria viene indicato se la tabella basata su disco utilizza qualche funzionalità che non è compatibile con un tabella ottimizzata per la memoria.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-116">The memory optimization checklist reports if the disk-based table uses any features that are incompatible with a memory-optimized table.</span></span> <span data-ttu-id="ff8f1-117">Poiché l' **Ottimizzazione guidata per la memoria della tabella** non modifica la tabella basata su disco, è possibile effettuare la migrazione della tabella per usare OLTP in memoria.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-117">The **Table Memory Optimization Advisor** does not modify the disk-based table so that it can be migrated to use In-Memory OLTP.</span></span> <span data-ttu-id="ff8f1-118">È necessario effettuare queste modifiche manualmente prima di continuare con la migrazione.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-118">You must make those changes before continuing migration.</span></span> <span data-ttu-id="ff8f1-119">Per ogni incompatibilità riscontrata, in **Ottimizzazione guidata per la memoria della tabella** viene visualizzato un collegamento a informazioni utili per la modifica delle tabelle basate su disco.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-119">For each incompatibility found, the **Table Memory Optimization Advisor** displays a link to information that can help you modify your disk-based tables.</span></span>  
  
 <span data-ttu-id="ff8f1-120">Se si desidera conservare l'elenco delle incompatibilità, per pianificare la migrazione, fare clic su **Genera report** per generare un elenco HTML.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-120">If you wish to keep a list of these incompatibilities, to plan your migration, click the **Generate Report** to generate a HTML list.</span></span>  
  
 <span data-ttu-id="ff8f1-121">Se la tabella non presenta incompatibilità e si è connessi a un'istanza di [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] con OLTP in memoria, fare clic su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-121">If your table has no incompatibilities and you are connected to a [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] instance with In-Memory OLTP, click **Next**.</span></span>  
  
### <a name="memory-optimization-warnings"></a><span data-ttu-id="ff8f1-122">Avvisi sull'ottimizzazione per la memoria</span><span class="sxs-lookup"><span data-stu-id="ff8f1-122">Memory Optimization Warnings</span></span>  
 <span data-ttu-id="ff8f1-123">Nella pagina successiva, quella degli avvisi relativi all'ottimizzazione per la memoria, è mostrato un elenco di problemi che non impediscono la migrazione della tabella per l'uso di OLTP in memoria, ma che influiscono sul comportamento di altri oggetti (come le stored procedure o le funzioni CLR) generando errori o comportamenti inaspettati.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-123">The next page, memory optimization warnings, contains a list of issues that do not prevent the table from being migrated to use In-Memory OLTP, but that may cause the behavior of other objects (such as stored procedures or CLR functions) to fail or result in unexpected behavior.</span></span>  
  
 <span data-ttu-id="ff8f1-124">I primi avvisi nell'elenco hanno scopo informativo e possono o meno valere per la tabella.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-124">The first several warnings in the list are informational and may or may not apply to your table.</span></span> <span data-ttu-id="ff8f1-125">I collegamenti nella colonna di destra della tabella permettono di accedere a ulteriori informazioni.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-125">Links in the right-hand column of the table will take you to more information.</span></span>  
  
 <span data-ttu-id="ff8f1-126">Nella tabella degli avvisi vengono inoltre mostrate alcune potenziali condizioni di avviso che non sono presenti nella tabella.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-126">The warning table will also display potential warning conditions that are not present in your table.</span></span>  
  
 <span data-ttu-id="ff8f1-127">Gli avvisi correggibili saranno segnalati da un triangolo giallo nella colonna di sinistra.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-127">Actionable warnings will have a yellow triangle in the left-hand column.</span></span> <span data-ttu-id="ff8f1-128">In presenza di avvisi correggibili, si consiglia di uscire dal processo di migrazione, risolvere gli avvisi e riavviare il processo.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-128">If there are actionable warnings, you should exit the migration, resolve the warnings, and then restart the process.</span></span> <span data-ttu-id="ff8f1-129">Se non si risolvono questi avvisi, la tabella potrebbe provocare errori dopo la migrazione.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-129">If you do not resolve the warnings, your migrated table may cause a failure.</span></span>  
  
 <span data-ttu-id="ff8f1-130">Per generare un report HTML di questi avvisi, fare clic su **Genera report** .</span><span class="sxs-lookup"><span data-stu-id="ff8f1-130">Click **Generate Report** to generate an HTML report of these warnings.</span></span> <span data-ttu-id="ff8f1-131">Fare clic su **Avanti** per continuare.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-131">Click **Next** to proceed.</span></span>  
  
### <a name="review-optimization-options"></a><span data-ttu-id="ff8f1-132">Verifica opzioni di ottimizzazione</span><span class="sxs-lookup"><span data-stu-id="ff8f1-132">Review Optimization Options</span></span>  
 <span data-ttu-id="ff8f1-133">Nella schermata successiva è possibile modificare le opzioni di migrazione a OLTP in memoria:</span><span class="sxs-lookup"><span data-stu-id="ff8f1-133">The next screen lets you modify options for the migration to In-Memory OLTP:</span></span>  
  
 <span data-ttu-id="ff8f1-134">Filegroup con ottimizzazione per la memoria</span><span class="sxs-lookup"><span data-stu-id="ff8f1-134">Memory-optimized filegroup</span></span>  
 <span data-ttu-id="ff8f1-135">Nome per il filegroup ottimizzato per la memoria.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-135">The name for your memory-optimized filegroup.</span></span> <span data-ttu-id="ff8f1-136">Un database deve avere un filegroup ottimizzato per la memoria con almeno un file per poter creare una tabella ottimizzata per la memoria.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-136">A database must have a memory-optimized filegroup with at least one file before a memory-optimized table can be created.</span></span>  
  
 <span data-ttu-id="ff8f1-137">Se non si dispone di un filegroup ottimizzato per la memoria, è possibile modificare il nome predefinito.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-137">If you do not have a memory-optimized filegroup, you can change the default name.</span></span> <span data-ttu-id="ff8f1-138">I filegroup con ottimizzazione per la memoria non possono essere eliminati.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-138">Memory-optimized filegroups cannot be deleted.</span></span> <span data-ttu-id="ff8f1-139">La presenza di un filegroup ottimizzato per la memoria può disabilitare alcune funzionalità a livello di database come AUTO CLOSE e il mirroring del database.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-139">The existence of a memory-optimized filegroup may disable some database-level features such as AUTO CLOSE and database mirroring.</span></span>  
  
 <span data-ttu-id="ff8f1-140">Se il database dispone già di un filegroup ottimizzato per la memoria, questo campo sarà già popolato con il relativo nome e non sarà possibile modificarlo.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-140">If a database already has a memory-optimized file group, this field will be pre-populated with its name and you will not be able to change the value of this field.</span></span>  
  
 <span data-ttu-id="ff8f1-141">Nome file logico e Percorso file</span><span class="sxs-lookup"><span data-stu-id="ff8f1-141">Logical file name and File path</span></span>  
 <span data-ttu-id="ff8f1-142">Nome del file che conterrà la tabella ottimizzata per la memoria.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-142">The name of the file that will contain the memory-optimized table.</span></span> <span data-ttu-id="ff8f1-143">Un database deve avere un filegroup ottimizzato per la memoria con almeno un file per poter creare una tabella ottimizzata per la memoria.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-143">A database must have a memory-optimized file group with at least one file before a memory-optimized table can be created.</span></span>  
  
 <span data-ttu-id="ff8f1-144">In assenza di un filegroup ottimizzato per la memoria, è possibile modificare il nome predefinito e il percorso del file che sarà creato alla fine del processo di migrazione.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-144">If you do not have an existing memory-optimized file group, you can change the default name and path of the file to be created at the end of the migration process.</span></span>  
  
 <span data-ttu-id="ff8f1-145">In presenza di un filegroup ottimizzato per la memoria, questi campi saranno già popolati e non sarà possibile modificarli.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-145">If you have an existing memory-optimized filegroup, these fields will be pre-populated and you will not be able to change the values.</span></span>  
  
 <span data-ttu-id="ff8f1-146">Rinomina la tabella originale come</span><span class="sxs-lookup"><span data-stu-id="ff8f1-146">Rename the original table as</span></span>  
 <span data-ttu-id="ff8f1-147">Al termine del processo di migrazione, verrà creata una nuova tabella ottimizzata per la memoria con il nome corrente della tabella.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-147">At the end of the migration process, a new memory-optimized table will be created with the current name of the table.</span></span> <span data-ttu-id="ff8f1-148">Per evitare un conflitto di nomi, la tabella corrente deve essere rinominata.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-148">To avoid a name conflict, the current table must be renamed.</span></span> <span data-ttu-id="ff8f1-149">Il nome può essere modificato in questo campo.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-149">You may change that name in this field.</span></span>  
  
 <span data-ttu-id="ff8f1-150">Costo memoria corrente stimato (MB)</span><span class="sxs-lookup"><span data-stu-id="ff8f1-150">Estimated current memory cost (MB)</span></span>  
 <span data-ttu-id="ff8f1-151">In Ottimizzazione guidata per la memoria viene stimata automaticamente la quantità di memoria che sarà utilizzata dalla nuova tabella ottimizzata per la memoria in base ai metadati della tabella basata su disco.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-151">The Memory-Optimization Advisor estimates the amount of memory the new memory-optimized table will consume based on metadata of the disk-based table.</span></span> <span data-ttu-id="ff8f1-152">Il calcolo delle dimensioni della tabella è descritto in [Dimensioni di tabelle e righe per le tabelle con ottimizzazione per la memoria](table-and-row-size-in-memory-optimized-tables.md).</span><span class="sxs-lookup"><span data-stu-id="ff8f1-152">The calculation of the table size is explained in [Table and Row Size in Memory-Optimized Tables](table-and-row-size-in-memory-optimized-tables.md).</span></span>  
  
 <span data-ttu-id="ff8f1-153">Se non è allocata una quantità di memoria sufficiente, il processo di migrazione potrebbe non riuscire.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-153">If sufficient memory is not allotted, the migration process may fail.</span></span>  
  
 <span data-ttu-id="ff8f1-154">Copia anche i dati della tabella nella nuova tabella con ottimizzazione per la memoria</span><span class="sxs-lookup"><span data-stu-id="ff8f1-154">Also copy table data to the new memory optimized table</span></span>  
 <span data-ttu-id="ff8f1-155">Selezionare questa opzione se si desidera spostare anche i dati della tabella corrente nella tabella ottimizzata per la memoria.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-155">Select this option if you wish to also move the data in the current table to the new memory-optimized table.</span></span> <span data-ttu-id="ff8f1-156">Se questa opzione non viene selezionata, la nuova tabella ottimizzata per la memoria non conterrà righe.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-156">If this option is not selected, the new memory-optimized table will be created with no rows.</span></span>  
  
 <span data-ttu-id="ff8f1-157">Per impostazione predefinita, verrà eseguita la migrazione della tabella come tabella durevole.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-157">The table will be migrated as a durable table by default</span></span>  
 <span data-ttu-id="ff8f1-158">OLTP in memoria supporta le tabelle non durevoli con prestazioni superiori rispetto alle tabelle ottimizzate per la memoria durevoli.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-158">In-Memory OLTP supports non-durable tables with superior performance compared to durable memory-optimized tables.</span></span> <span data-ttu-id="ff8f1-159">Tuttavia, i dati in una tabella non durevole verranno persi al riavvio del server.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-159">However, data in a non-durable table will be lost upon server restart.</span></span>  
  
 <span data-ttu-id="ff8f1-160">Se questa opzione è selezionata, in Ottimizzazione guidata per la memoria verrà creata una tabella non durevole anziché una durevole.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-160">If this option is selected, the Memory-Optimization Advisor will create a non-durable table instead of a durable table.</span></span>  
  
> [!WARNING]  
>  <span data-ttu-id="ff8f1-161">Selezionare questa opzione solo se si comprende il rischio della perdita dei dati con le tabelle non durevoli.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-161">Select this option only if you understand the risk of data loss associated with non-durable tables.</span></span>  
  
 <span data-ttu-id="ff8f1-162">Fare clic su **Avanti** per continuare.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-162">Click **Next** to continue.</span></span>  
  
### <a name="review-primary-key-conversion"></a><span data-ttu-id="ff8f1-163">Verifica conversione chiave primaria</span><span class="sxs-lookup"><span data-stu-id="ff8f1-163">Review Primary Key Conversion</span></span>  
 <span data-ttu-id="ff8f1-164">La schermata successiva è denominata **Verifica conversione chiave primaria**.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-164">The next screen is **Review Primary Key Conversion**.</span></span> <span data-ttu-id="ff8f1-165">In Ottimizzazione guidata per la memoria viene rilevato se nella tabella sono presenti una o più chiavi primarie e viene popolato l'elenco di colonne in base ai metadati delle chiavi primarie.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-165">The Memory-Optimization Advisor will detect if there are one or more primary keys in the table, and populates the list of columns based on the primary key metadata.</span></span> <span data-ttu-id="ff8f1-166">Se non è presente alcuna chiave primaria, per eseguire la migrazione a una tabella ottimizzata per la memoria durevole, sarà necessario crearne una.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-166">Otherwise, if you wish to migrate to a durable memory-optimized table, you must create a primary key.</span></span>  
  
 <span data-ttu-id="ff8f1-167">Se non esiste una chiave primaria e viene eseguita la migrazione della tabella in una tabella non durevole, questa schermata non verrà visualizzata.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-167">If a primary key doesn't exist and the table is being migrated to a non-durable table, this screen will not appear.</span></span>  
  
 <span data-ttu-id="ff8f1-168">Per le colonne testuali (le colonne con i tipi `char`, `nchar`, `varchar` e `nvarchar`) è necessario creare delle regole di confronto appropriate.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-168">For textual columns (columns with types `char`, `nchar`, `varchar`, and `nvarchar`) you must select an appropriate collation.</span></span> <span data-ttu-id="ff8f1-169">OLTP in memoria supporta solo le regole di confronto BIN2 per le colonne in una tabella ottimizzata per la memoria e non supporta le regole di confronto con i caratteri supplementari.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-169">In-Memory OLTP only supports BIN2 collations for columns on a memory-optimized table and it does not support collations with supplementary characters.</span></span> <span data-ttu-id="ff8f1-170">Per informazioni sulle regole di confronto supportate e sull'impatto potenziale di una modifica a una regola di confronto, vedere [Collations and Code Pages](../../database-engine/collations-and-code-pages.md) .</span><span class="sxs-lookup"><span data-stu-id="ff8f1-170">See [Collations and Code Pages](../../database-engine/collations-and-code-pages.md) for information on the collations supported and the potential impact of a change in collation.</span></span>  
  
 <span data-ttu-id="ff8f1-171">È possibile configurare i seguenti parametri per la chiave primaria:</span><span class="sxs-lookup"><span data-stu-id="ff8f1-171">You can configure the following parameters for the primary key:</span></span>  
  
 <span data-ttu-id="ff8f1-172">Selezionare un nuovo nome per la chiave primaria</span><span class="sxs-lookup"><span data-stu-id="ff8f1-172">Select a new name for this primary key</span></span>  
 <span data-ttu-id="ff8f1-173">Il nome della chiave primaria per questa tabella deve essere univoco all'interno del database.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-173">The primary key name for this table must be unique inside the database.</span></span> <span data-ttu-id="ff8f1-174">È possibile modificare il nome della chiave primaria qui.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-174">You may change the name of the primary key here.</span></span>  
  
 <span data-ttu-id="ff8f1-175">Selezionare il tipo di chiave primaria</span><span class="sxs-lookup"><span data-stu-id="ff8f1-175">Select the type of this primary key</span></span>  
 <span data-ttu-id="ff8f1-176">OLTP in memoria supporta due tipi di indici in una tabella ottimizzata per la memoria:</span><span class="sxs-lookup"><span data-stu-id="ff8f1-176">In-Memory OLTP supports two types of indexes on a memory-optimized table:</span></span>  
  
-   <span data-ttu-id="ff8f1-177">L'indice HASH NON CLUSTER.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-177">A NONCLUSTERED HASH index.</span></span> <span data-ttu-id="ff8f1-178">Questo indice è ideale per gli indici con ricerche in molti punti.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-178">This index is best for indexes with many point lookups.</span></span> <span data-ttu-id="ff8f1-179">È possibile configurare il conteggio dei bucket per questo indice nel campo **Numero di bucket** .</span><span class="sxs-lookup"><span data-stu-id="ff8f1-179">You may configure the bucket count for this index in the **Bucket Count** field.</span></span>  
  
-   <span data-ttu-id="ff8f1-180">L'indice NON CLUSTER.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-180">A NONCLUSTERED index.</span></span> <span data-ttu-id="ff8f1-181">Questo tipo di indice è ideale per gli indici con molte query di intervallo.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-181">This type of index is best for indexes with many range queries.</span></span> <span data-ttu-id="ff8f1-182">È possibile configurare l'ordinamento per ciascuna colonna nell'elenco **Colonna di ordinamento e ordine** .</span><span class="sxs-lookup"><span data-stu-id="ff8f1-182">You may configure the sort order for each column in the **Sort column and order** list.</span></span>  
  
 <span data-ttu-id="ff8f1-183">Per individuare il tipo di indice più adatto alla chiave primaria, vedere [Indici hash](../../database-engine/hash-indexes.md).</span><span class="sxs-lookup"><span data-stu-id="ff8f1-183">To understand the type of index best for your primary key, see [Hash Indexes](../../database-engine/hash-indexes.md).</span></span>  
  
 <span data-ttu-id="ff8f1-184">Una volta selezionate le opzioni per la chiave primaria, fare clic su **Avanti** .</span><span class="sxs-lookup"><span data-stu-id="ff8f1-184">Click **Next** after you make your primary key choices.</span></span>  
  
### <a name="review-index-conversion"></a><span data-ttu-id="ff8f1-185">Verifica conversione indice</span><span class="sxs-lookup"><span data-stu-id="ff8f1-185">Review Index Conversion</span></span>  
 <span data-ttu-id="ff8f1-186">La pagina successiva è denominata **Verifica conversione indice**.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-186">The next page is **Review Index Conversion**.</span></span> <span data-ttu-id="ff8f1-187">In Ottimizzazione guidata per la memoria viene rilevato se nella tabella sono presenti uno o più indici e vengono popolati l'elenco di colonne e il tipo di dati.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-187">The Memory-Optimization Advisor will detect if there are one or more indexes in the table, and populates the list of columns and data type.</span></span> <span data-ttu-id="ff8f1-188">I parametri che è possibile configurare nella pagina **Verifica conversione indice** sono simili a quelli della pagina **Verifica conversione chiave primaria** .</span><span class="sxs-lookup"><span data-stu-id="ff8f1-188">The parameters you can configure in the **Review Index Conversion** page are similar to the previous, **Review Primary Key Conversion** page.</span></span>  
  
 <span data-ttu-id="ff8f1-189">Se la tabella contiene solo una chiave primaria e viene sottoposta a migrazione in una tabella durevole, questa schermata non verrà visualizzata.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-189">If the table only has a primary key and it's being migrated to a durable table, this screen will not appear.</span></span>  
  
 <span data-ttu-id="ff8f1-190">Una volta impostate le opzioni per ciascun indice nella tabella, fare clic su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-190">After you make a decision for every index in your table, click **Next**.</span></span>  
  
### <a name="verify-migration-actions"></a><span data-ttu-id="ff8f1-191">Verifica azioni di migrazione</span><span class="sxs-lookup"><span data-stu-id="ff8f1-191">Verify Migration Actions</span></span>  
 <span data-ttu-id="ff8f1-192">La pagina successiva è denominata **Verifica azioni di migrazione**.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-192">The next page is **Verify Migration Actions**.</span></span> <span data-ttu-id="ff8f1-193">Per generare lo script dell'operazione di migrazione, fare clic su **Script** per generare uno script [!INCLUDE[tsql](../../includes/tsql-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="ff8f1-193">To script the migration operation, click **Script** to generate a [!INCLUDE[tsql](../../includes/tsql-md.md)] script.</span></span> <span data-ttu-id="ff8f1-194">Sarà quindi possibile modificare ed eseguire lo script.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-194">You may then modify and execute the script.</span></span> <span data-ttu-id="ff8f1-195">Fare clic su **Esegui migrazione** per avviare la migrazione della tabella.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-195">Click **Migrate** to begin the table migration.</span></span>  
  
 <span data-ttu-id="ff8f1-196">Al termine, aggiornare **Esplora oggetti** per visualizzare la nuova tabella ottimizzata per la memoria e la vecchia tabella basata su disco.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-196">After the process is finished, refresh **Object Explorer** to see the new memory-optimized table and the old disk-based table.</span></span> <span data-ttu-id="ff8f1-197">La vecchia tabella può essere conservata o eliminata a seconda delle proprie esigenze.</span><span class="sxs-lookup"><span data-stu-id="ff8f1-197">You can keep the old table or delete it at your convenience.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ff8f1-198">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="ff8f1-198">See Also</span></span>  
 [<span data-ttu-id="ff8f1-199">Migrazione a OLTP in memoria</span><span class="sxs-lookup"><span data-stu-id="ff8f1-199">Migrating to In-Memory OLTP</span></span>](migrating-to-in-memory-oltp.md)  
  
  
