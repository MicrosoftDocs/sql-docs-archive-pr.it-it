---
title: Supporto del tipo di dati XML in SQLXML 4,0 | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: xml
ms.topic: reference
helpviewer_keywords:
- SQLXML, xml data type support
- xml data type [SQL Server], SQLXML
ms.assetid: 9a6f5ad8-4a8f-4de7-ac17-81d5ccf78459
author: rothja
ms.author: jroth
ms.openlocfilehash: 6a3b022bdbca23c2cfcdc89f01199a2135eb4bff
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87636631"
---
# <a name="xml-data-type-support-in-sqlxml-40"></a><span data-ttu-id="f0ec5-102">Supporto del tipo di dati xml in SQLXML 4.0</span><span class="sxs-lookup"><span data-stu-id="f0ec5-102">xml Data Type Support in SQLXML 4.0</span></span>
  <span data-ttu-id="f0ec5-103">A partire da [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] , [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] supporta i dati tipizzati XML usando il `xml` tipo di dati.</span><span class="sxs-lookup"><span data-stu-id="f0ec5-103">Beginning with [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] supports XML typed data using the `xml` data type.</span></span> <span data-ttu-id="f0ec5-104">In questo argomento viene descritto il modo in cui SQLXML 4.0 riconosce istanze del tipo di dati `xml` e ne implementa il supporto.</span><span class="sxs-lookup"><span data-stu-id="f0ec5-104">This topic provides information about how SQLXML 4.0 recognizes instances of the `xml` data type and implements support for them.</span></span>  
  
## <a name="working-with-xml-data-types"></a><span data-ttu-id="f0ec5-105">Utilizzo dei tipi di dati xml</span><span class="sxs-lookup"><span data-stu-id="f0ec5-105">Working with xml Data Types</span></span>  
 <span data-ttu-id="f0ec5-106">Per una migliore comprensione dell'utilizzo di tabelle SQL che implementano colonne con tipo di dati `xml`, vengono forniti gli esempi seguenti:</span><span class="sxs-lookup"><span data-stu-id="f0ec5-106">To understand more about how to work with SQL tables that implement `xml` data type columns, the following examples are provided:</span></span>  
  
|<span data-ttu-id="f0ec5-107">Attività</span><span class="sxs-lookup"><span data-stu-id="f0ec5-107">Task</span></span>|<span data-ttu-id="f0ec5-108">Esempio</span><span class="sxs-lookup"><span data-stu-id="f0ec5-108">Example</span></span>|<span data-ttu-id="f0ec5-109">Argomento</span><span class="sxs-lookup"><span data-stu-id="f0ec5-109">Topic</span></span>|  
|----------|-------------|-----------|  
|<span data-ttu-id="f0ec5-110">Come eseguire il mapping e includere una colonna `xml` in una vista XML</span><span class="sxs-lookup"><span data-stu-id="f0ec5-110">How to map and include an `xml` column in an XML view</span></span>|<span data-ttu-id="f0ec5-111">"Mapping di un elemento XML a una colonna con tipo di dati XML"</span><span class="sxs-lookup"><span data-stu-id="f0ec5-111">"Mapping an XML element to an XML data type column"</span></span>|[<span data-ttu-id="f0ec5-112">Mapping predefinito di elementi e attributi XSD a tabelle e colonne &#40;SQLXML 4,0&#41;</span><span class="sxs-lookup"><span data-stu-id="f0ec5-112">Default Mapping of XSD Elements and Attributes to Tables and Columns &#40;SQLXML 4.0&#41;</span></span>](../sqlxml-annotated-xsd-schemas-using/default-mapping-of-xsd-elements-and-attributes-to-tables-and-columns-sqlxml-4-0.md)|  
|<span data-ttu-id="f0ec5-113">Come inserire dati in una colonna `xml` con updategram</span><span class="sxs-lookup"><span data-stu-id="f0ec5-113">How to insert data into an `xml` column with updategrams</span></span>|<span data-ttu-id="f0ec5-114">"Inserimento di dati in una colonna con tipo di dati XML"</span><span class="sxs-lookup"><span data-stu-id="f0ec5-114">"Inserting data into an XML data type column"</span></span>|[<span data-ttu-id="f0ec5-115">Inserimento di dati mediante updategram XML &#40;SQLXML 4,0&#41;</span><span class="sxs-lookup"><span data-stu-id="f0ec5-115">Inserting Data Using XML Updategrams &#40;SQLXML 4.0&#41;</span></span>](../sqlxml-annotated-xsd-schemas-xpath-queries/updategrams/inserting-data-using-xml-updategrams-sqlxml-4-0.md)|  
|<span data-ttu-id="f0ec5-116">Caricamento bulk di dati XML in una colonna `xml`</span><span class="sxs-lookup"><span data-stu-id="f0ec5-116">Bulk loading XML data into an `xml` column</span></span>|<span data-ttu-id="f0ec5-117">"Caricamento bulk in colonne con tipo di dati xml"</span><span class="sxs-lookup"><span data-stu-id="f0ec5-117">"Bulk loading in xml Data Type columns"</span></span>|[<span data-ttu-id="f0ec5-118">Esempi di caricamento bulk XML &#40;SQLXML 4,0&#41;</span><span class="sxs-lookup"><span data-stu-id="f0ec5-118">XML Bulk Load Examples &#40;SQLXML 4.0&#41;</span></span>](../sqlxml-annotated-xsd-schemas-xpath-queries/bulk-load-xml/xml-bulk-load-examples-sqlxml-4-0.md)|  
  
## <a name="guidelines-and-limitations"></a><span data-ttu-id="f0ec5-119">Linee guida e limitazioni</span><span class="sxs-lookup"><span data-stu-id="f0ec5-119">Guidelines and Limitations</span></span>  
  
-   <span data-ttu-id="f0ec5-120">**\<xsd:any>** non è possibile eseguire il mapping a una colonna che include un `xml` tipo di dati.</span><span class="sxs-lookup"><span data-stu-id="f0ec5-120">**\<xsd:any>** cannot be mapped to a column including an `xml` data type.</span></span> <span data-ttu-id="f0ec5-121">Il supporto in SQLXML per questo scenario viene fornito tramite l'annotazione `sql:overflow-field`.</span><span class="sxs-lookup"><span data-stu-id="f0ec5-121">Support in SQLXML for this scenario is provided through the `sql:overflow-field` annotation.</span></span> <span data-ttu-id="f0ec5-122">Una soluzione alternativa consiste nell'eseguire il mapping di un campo con tipo di dati `xml` come elemento di `xsd:anyType`.</span><span class="sxs-lookup"><span data-stu-id="f0ec5-122">Another workaround is to map an `xml` data type field as an element of `xsd:anyType`.</span></span> <span data-ttu-id="f0ec5-123">Questa soluzione alternativa viene illustrata nell'esempio "Mapping di un elemento XML a una colonna con tipo di dati XML" citato nella tabella precedente.</span><span class="sxs-lookup"><span data-stu-id="f0ec5-123">This workaround is demonstrated in the "Mapping an XML element to an XML data type column" example referenced in the table above.</span></span>  
  
-   <span data-ttu-id="f0ec5-124">Le query XPath nel contenuto di colonne con tipo di dati `xml` non sono supportate.</span><span class="sxs-lookup"><span data-stu-id="f0ec5-124">XPath query into the contents of `xml` data type columns is not supported.</span></span>  
  
-   <span data-ttu-id="f0ec5-125">L'utilizzo di una colonna con tipo di dati `xml` in annotazioni in cui la colonna è supportata, ad esempio in `sql:relationship` e `sql:key-fields`, o consentita restituirà errori di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] che non verranno intercettati dai componenti di livello intermedio che implementano SQLXML 4.0.</span><span class="sxs-lookup"><span data-stu-id="f0ec5-125">Using an `xml` data type column in annotations where it is not supported (such as `sql:relationship` and `sql:key-fields`) or allowed will result in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] errors that will not be trapped by middle-tier components implementing SQLXML 4.0.</span></span> <span data-ttu-id="f0ec5-126">Questo problema si verifica in quanto SQLXML non richiede informazioni sul tipo SQL.</span><span class="sxs-lookup"><span data-stu-id="f0ec5-126">This occurs because SQLXML does not require SQL type information.</span></span> <span data-ttu-id="f0ec5-127">Questo comportamento è simile al comportamento di SQLXML per altri tipi di dati, ad esempio i tipi BLOB e binary.</span><span class="sxs-lookup"><span data-stu-id="f0ec5-127">This is similar to the behavior of SQLXML for other data types, such as BLOB and binary types.</span></span>  
  
-   <span data-ttu-id="f0ec5-128">Il mapping di colonne `xml` è supportato solo per gli schemi XSD.</span><span class="sxs-lookup"><span data-stu-id="f0ec5-128">Mapping `xml` columns is supported only for XSD schemas.</span></span> <span data-ttu-id="f0ec5-129">Gli schemi XDR non supportano il mapping di colonne `xml`.</span><span class="sxs-lookup"><span data-stu-id="f0ec5-129">XDR schemas do not support mapping `xml` columns.</span></span>  
  
-   <span data-ttu-id="f0ec5-130">SQLXML 4.0 si basa sul supporto dell'analisi XML disponibile in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f0ec5-130">SQLXML 4.0 relies upon the XML parsing support provided in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="f0ec5-131">È possibile eseguire il mapping di una colonna `xml` come XML tipizzato o XML non tipizzato.</span><span class="sxs-lookup"><span data-stu-id="f0ec5-131">An `xml` column can be either mapped as typed XML or untyped XML.</span></span> <span data-ttu-id="f0ec5-132">In entrambi i casi, SQLXML 4.0 non convalida i dati XML di input.</span><span class="sxs-lookup"><span data-stu-id="f0ec5-132">In either case, SQLXML 4.0 does not validate the input XML.</span></span>  <span data-ttu-id="f0ec5-133">Se i dati XML di input non sono validi o corretti, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] lo segnala a SQLXML e propaga qualsiasi informazione pertinente sugli errori restituita dal server all'utente.</span><span class="sxs-lookup"><span data-stu-id="f0ec5-133">If input XML is not valid or well-formed, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] reports it to SQLXML, and propagates any relevant error information returned by the server to the user.</span></span>  
  
-   <span data-ttu-id="f0ec5-134">SQLXML 4.0 si basa sul supporto limitato per i DTD disponibili in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f0ec5-134">SQLXML 4.0 relies upon the limited support for DTDs provided in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="f0ec5-135">consente una definizione DTD interna nei dati di tipo `xml`, che può essere utilizzata per fornire valori predefiniti e sostituire i riferimenti a entità con il relativo contenuto espanso.</span><span class="sxs-lookup"><span data-stu-id="f0ec5-135">allows for an internal DTD in `xml` data type data, which can be used to supply default values and to replace entity references with their expanded contents.</span></span> <span data-ttu-id="f0ec5-136">SQLXML passa i dati XML "come sono", inclusa la definizione DTD interna, al server.</span><span class="sxs-lookup"><span data-stu-id="f0ec5-136">SQLXML passes the XML data "as is" (including the internal DTD) to the server.</span></span> <span data-ttu-id="f0ec5-137">È possibile convertire definizioni DTD in documenti XSD (XML Schema) utilizzando strumenti di terze parti e caricare i dati con schemi XSD inline nel database.</span><span class="sxs-lookup"><span data-stu-id="f0ec5-137">You can convert DTDs to XML Schema (XSD) documents using third-party tools, and load the data with inline XSD schemas into the database.</span></span>  
  
-   <span data-ttu-id="f0ec5-138">SQLXML 4,0 non mantiene le istruzioni di elaborazione della dichiarazione XML (ad esempio,) in base al comportamento di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="f0ec5-138">SQLXML 4.0 does not preserve XML declaration processing instructions (for example, ) based on the behavior of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="f0ec5-139">Al contrario, la dichiarazione XML viene considerata una direttiva al parser XML di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] e i relativi attributi (versione, codifica e autonomia) andranno perduti in seguito alla conversione dei dati nel tipo di dati `xml`.</span><span class="sxs-lookup"><span data-stu-id="f0ec5-139">Instead, the XML declaration is treated as a directive to the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] XML parser, and its attributes (version, encoding, and standalone) are lost after data is converted to the `xml` data type.</span></span> <span data-ttu-id="f0ec5-140">I dati XML vengono archiviati internamente come UCS-2.</span><span class="sxs-lookup"><span data-stu-id="f0ec5-140">The XML data is stored internally as UCS-2.</span></span> <span data-ttu-id="f0ec5-141">Tutte le altre istruzioni di elaborazione nell'istanza XML vengono mantenute, sono consentite nella colonna `xml` e possono essere supportate in SQLXML.</span><span class="sxs-lookup"><span data-stu-id="f0ec5-141">All other processing instructions in the XML instance are preserved; they are allowed in the `xml` column and can be supported by SQLXML.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f0ec5-142">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="f0ec5-142">See Also</span></span>  
 [<span data-ttu-id="f0ec5-143">Dati XML &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="f0ec5-143">XML Data &#40;SQL Server&#41;</span></span>](../xml/xml-data-sql-server.md)  
  
  
