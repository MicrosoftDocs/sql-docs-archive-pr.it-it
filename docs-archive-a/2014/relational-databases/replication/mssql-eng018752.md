---
title: MSSQL_ENG018752 | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- MSSQL_ENG018752 error
ms.assetid: 405b2655-acb4-4e15-bcc6-b8f86bb22b37
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: fe62d540ea8e988cd4249112f196f75493a8f623
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87724507"
---
# <a name="mssql_eng018752"></a><span data-ttu-id="d1122-102">MSSQL_ENG018752</span><span class="sxs-lookup"><span data-stu-id="d1122-102">MSSQL_ENG018752</span></span>
    
## <a name="message-details"></a><span data-ttu-id="d1122-103">Dettagli messaggio</span><span class="sxs-lookup"><span data-stu-id="d1122-103">Message Details</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="d1122-104">Nome prodotto</span><span class="sxs-lookup"><span data-stu-id="d1122-104">Product Name</span></span>|<span data-ttu-id="d1122-105">SQL Server</span><span class="sxs-lookup"><span data-stu-id="d1122-105">SQL Server</span></span>|  
|<span data-ttu-id="d1122-106">ID evento</span><span class="sxs-lookup"><span data-stu-id="d1122-106">Event ID</span></span>|<span data-ttu-id="d1122-107">18752</span><span class="sxs-lookup"><span data-stu-id="d1122-107">18752</span></span>|  
|<span data-ttu-id="d1122-108">Origine evento</span><span class="sxs-lookup"><span data-stu-id="d1122-108">Event Source</span></span>|<span data-ttu-id="d1122-109">MSSQLSERVER</span><span class="sxs-lookup"><span data-stu-id="d1122-109">MSSQLSERVER</span></span>|  
|<span data-ttu-id="d1122-110">Componente</span><span class="sxs-lookup"><span data-stu-id="d1122-110">Component</span></span>|[!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)]|  
|<span data-ttu-id="d1122-111">Nome simbolico</span><span class="sxs-lookup"><span data-stu-id="d1122-111">Symbolic Name</span></span>||  
|<span data-ttu-id="d1122-112">Testo del messaggio</span><span class="sxs-lookup"><span data-stu-id="d1122-112">Message Text</span></span>|<span data-ttu-id="d1122-113">A un database può connettersi un solo agente di lettura log o una sola procedura correlata ai log (sp_repldone, sp_replcmds e sp_replshowcmds) alla volta.</span><span class="sxs-lookup"><span data-stu-id="d1122-113">Only one Log Reader Agent or log-related procedure (sp_repldone, sp_replcmds, and sp_replshowcmds) can connect to a database at a time.</span></span> <span data-ttu-id="d1122-114">Se è stata eseguita una procedura correlata ai log, eliminare la connessione utilizzata per eseguire la procedura oppure eseguire sp_replflush tramite tale connessione prima di avviare l'agente di lettura log o di eseguire un'altra procedura relativa ai log.</span><span class="sxs-lookup"><span data-stu-id="d1122-114">If you executed a log-related procedure, drop the connection over which the procedure was executed or execute sp_replflush over that connection before starting the Log Reader Agent or executing another log-related procedure.</span></span>|  
  
## <a name="explanation"></a><span data-ttu-id="d1122-115">Spiegazione</span><span class="sxs-lookup"><span data-stu-id="d1122-115">Explanation</span></span>  
 <span data-ttu-id="d1122-116">È in corso da parte di più connessioni il tentativo di eseguire una delle procedure seguenti: **sp_repldone**, **sp_replcmds**o **sp_replshowcmds**.</span><span class="sxs-lookup"><span data-stu-id="d1122-116">More than one current connection is trying to execute any of the following: **sp_repldone**, **sp_replcmds**, or **sp_replshowcmds**.</span></span> <span data-ttu-id="d1122-117">Le stored procedure [sp_repldone &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-repldone-transact-sql) e [sp_replcmds &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-replcmds-transact-sql) vengono usate dall'agente di lettura log per trovare e aggiornare le informazioni sulle transazioni replicate in un database pubblicato.</span><span class="sxs-lookup"><span data-stu-id="d1122-117">The stored procedures [sp_repldone &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-repldone-transact-sql) and [sp_replcmds &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-replcmds-transact-sql) are stored procedures used by the Log Reader Agent to locate and update information about replicated transactions in a published database.</span></span> <span data-ttu-id="d1122-118">La stored procedure [sp_replshowcmds &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-replshowcmds-transact-sql) viene usata per la risoluzione di alcuni tipi di problemi relativi alla replica transazionale.</span><span class="sxs-lookup"><span data-stu-id="d1122-118">The stored procedure [sp_replshowcmds &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-replshowcmds-transact-sql) is used to troubleshoot certain types of issues with transactional replication.</span></span>  
  
 <span data-ttu-id="d1122-119">Questo errore viene generato nelle circostanze seguenti:</span><span class="sxs-lookup"><span data-stu-id="d1122-119">This error is raised in the following circumstances:</span></span>  
  
-   <span data-ttu-id="d1122-120">Se l'agente di lettura log di un database pubblicato è in esecuzione e un secondo agente di lettura log tenta l'esecuzione sullo stesso database, per il secondo agente viene generato l'errore, che appare nella cronologia dell'agente.</span><span class="sxs-lookup"><span data-stu-id="d1122-120">If the Log Reader Agent for a published database is running and a second Log Reader Agent attempts to run against the same database, the error is raised for the second agent and appears in the agent history.</span></span>  
  
     <span data-ttu-id="d1122-121">In una situazione in cui compaiono più agenti, è possibile che uno di loro sia il risultato di un processo orfano.</span><span class="sxs-lookup"><span data-stu-id="d1122-121">In a situation where it appears there are multiple agents, it is possible that one of them is the result of an orphaned process.</span></span>  
  
-   <span data-ttu-id="d1122-122">Se l'agente di lettura log di un database pubblicato viene avviato e un utente esegue **sp_repldone**, **sp_replcmds**o **sp_replshowcmds** sullo stesso database, viene generato l'errore nell'applicazione in cui è stata eseguita la stored procedure (ad esempio **sqlcmd**).</span><span class="sxs-lookup"><span data-stu-id="d1122-122">If the Log Reader Agent for a published database is started and a user executes **sp_repldone**, **sp_replcmds**, or **sp_replshowcmds** against the same database, the error is raised in the application where the stored procedure was executed (such as **sqlcmd**).</span></span>  
  
-   <span data-ttu-id="d1122-123">Se l'agente di lettura log di un database pubblicato viene avviato e un utente esegue **sp_repldone**, **sp_replcmds**o **sp_replshowcmds** e non chiude la connessione su cui è stata eseguita la procedura, quando l'agente di lettura log tenta di connettersi al database viene generato l'errore.</span><span class="sxs-lookup"><span data-stu-id="d1122-123">If no Log Reader Agent is running for a published database and a user executes **sp_repldone**, **sp_replcmds**, or **sp_replshowcmds** and then does not close the connection over which the procedure was executed, the error is raised when the Log Reader Agent attempts to connect to the database.</span></span>  
  
## <a name="user-action"></a><span data-ttu-id="d1122-124">Azione dell'utente</span><span class="sxs-lookup"><span data-stu-id="d1122-124">User Action</span></span>  
 <span data-ttu-id="d1122-125">I passaggi seguenti possono contribuire alla risoluzione del problema.</span><span class="sxs-lookup"><span data-stu-id="d1122-125">The following steps can help you to troubleshoot the problem.</span></span> <span data-ttu-id="d1122-126">Se uno dei passaggi consente l'avvio senza errori dell'agente di lettura log, non è necessario completare i passaggi rimanenti.</span><span class="sxs-lookup"><span data-stu-id="d1122-126">If any step allows the Log Reader Agent to start without errors, there is no need to complete the remaining steps.</span></span>  
  
-   <span data-ttu-id="d1122-127">Verificare nella cronologia dell'agente di lettura log la presenza di eventuali altri errori che potrebbero contribuire a questo errore.</span><span class="sxs-lookup"><span data-stu-id="d1122-127">Check the history of the Log Reader agent for any other errors that could be contributing to this error.</span></span> <span data-ttu-id="d1122-128">Per informazioni sui dettagli di stato e di errore dell'agente di visualizzazione in Monitoraggio replica, vedere [Visualizzare le informazioni ed eseguire attività usando Monitoraggio replica](monitor/view-information-and-perform-tasks-replication-monitor.md).</span><span class="sxs-lookup"><span data-stu-id="d1122-128">For information about viewing agent status and error details in Replication Monitor, see [View Information and Perform Tasks using Replication Monitor](monitor/view-information-and-perform-tasks-replication-monitor.md).</span></span>  
  
-   <span data-ttu-id="d1122-129">Verificare nell'output di [sp_who &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-who-transact-sql) la presenza di numeri di identificazione di processo (SPID) connessi al database pubblicato.</span><span class="sxs-lookup"><span data-stu-id="d1122-129">Check the output of [sp_who &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-who-transact-sql) for specific process identification numbers (SPIDs) that are connected to the published database.</span></span> <span data-ttu-id="d1122-130">Chiudere le connessioni che potrebbero aver eseguito **sp_repldone**, **sp_replcmds**o **sp_replshowcmds**.</span><span class="sxs-lookup"><span data-stu-id="d1122-130">Close any connections that might have run **sp_repldone**, **sp_replcmds**, or **sp_replshowcmds**.</span></span>  
  
-   <span data-ttu-id="d1122-131">Riavviare l'agente di lettura log.</span><span class="sxs-lookup"><span data-stu-id="d1122-131">Restart the Log Reader Agent.</span></span> <span data-ttu-id="d1122-132">Per altre informazioni, vedere [Avviare e arrestare un agente di replica &#40;SQL Server Management Studio&#41;](agents/start-and-stop-a-replication-agent-sql-server-management-studio.md).</span><span class="sxs-lookup"><span data-stu-id="d1122-132">For more information, see [Start and Stop a Replication Agent &#40;SQL Server Management Studio&#41;](agents/start-and-stop-a-replication-agent-sql-server-management-studio.md).</span></span>  
  
-   <span data-ttu-id="d1122-133">Riavviare il servizio [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent (metterlo offline oppure online in un cluster) sul server di distribuzione.</span><span class="sxs-lookup"><span data-stu-id="d1122-133">Restart the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent service (bring it offline or online in a cluster) on the Distributor.</span></span> <span data-ttu-id="d1122-134">Se vi è una possibilità che un processo pianificato abbia eseguito **sp_repldone**, **sp_replcmds**o **sp_replshowcmds** da altre istanze di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , riavviare l' [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent anche per queste istanze.</span><span class="sxs-lookup"><span data-stu-id="d1122-134">If there is possibility that a scheduled job could have executed **sp_repldone**, **sp_replcmds**, or **sp_replshowcmds** from any other [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance, restart the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent for those instances as well.</span></span> <span data-ttu-id="d1122-135">Per altre informazioni, vedere [Avviare, arrestare o sospendere il servizio SQL Server Agent](../../ssms/agent/start-stop-or-pause-the-sql-server-agent-service.md).</span><span class="sxs-lookup"><span data-stu-id="d1122-135">For more information, see [Start, Stop, or Pause the SQL Server Agent Service](../../ssms/agent/start-stop-or-pause-the-sql-server-agent-service.md).</span></span>  
  
-   <span data-ttu-id="d1122-136">Eseguire [sp_replflush &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-replflush-transact-sql) nel server di pubblicazione sul database di pubblicazione e quindi riavviare l'agente di lettura log.</span><span class="sxs-lookup"><span data-stu-id="d1122-136">Execute [sp_replflush &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-replflush-transact-sql) at the Publisher on the publication database, and then restart the Log Reader Agent.</span></span>  
  
-   <span data-ttu-id="d1122-137">Se l'errore continua a verificarsi, aumentare il livello di dettaglio per la registrazione delle operazioni dell'agente e specificare un file di output per il log.</span><span class="sxs-lookup"><span data-stu-id="d1122-137">If the error continues to occur, increase the logging of the agent and specify an output file for the log.</span></span> <span data-ttu-id="d1122-138">A seconda del contesto dell'errore, in questo modo si potrebbero ottenere ulteriori informazioni sui passaggi che conducono all'errore e/o messaggi di errore aggiuntivi.</span><span class="sxs-lookup"><span data-stu-id="d1122-138">Depending on the context of the error, this could provide the steps leading up to the error and/or additional error messages.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="d1122-139">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="d1122-139">See Also</span></span>  
 <span data-ttu-id="d1122-140">[Guida di riferimento a errori ed eventi &#40;replica&#41;](errors-and-events-reference-replication.md) </span><span class="sxs-lookup"><span data-stu-id="d1122-140">[Errors and Events Reference &#40;Replication&#41;](errors-and-events-reference-replication.md) </span></span>  
 [<span data-ttu-id="d1122-141">Agente lettura log repliche</span><span class="sxs-lookup"><span data-stu-id="d1122-141">Replication Log Reader Agent</span></span>](agents/replication-log-reader-agent.md)  
  
  
