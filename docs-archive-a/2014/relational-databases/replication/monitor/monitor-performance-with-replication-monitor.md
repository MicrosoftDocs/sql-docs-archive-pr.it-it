---
title: Monitorare le prestazioni con Monitoraggio replica | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- monitoring performance [SQL Server replication], Replication Monitor
- Log Reader Agent, monitoring
- Replication Monitor, performance
- Merge Agent, monitoring
- Queue Reader Agent, monitoring
- Snapshot Agent, monitoring
- Distribution Agent, monitoring
- monitoring performance [SQL Server replication]
ms.assetid: f212397d-1bfd-496b-a246-668952891d09
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: d02cb17aae5dfe72a9660de62e516e61313ef03c
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87626642"
---
# <a name="monitor-performance-with-replication-monitor"></a><span data-ttu-id="c94e2-102">Monitoraggio delle prestazioni con Monitoraggio replica</span><span class="sxs-lookup"><span data-stu-id="c94e2-102">Monitor Performance with Replication Monitor</span></span>
  <span data-ttu-id="c94e2-103">Monitoraggio replica di [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] consente di monitorare le prestazioni della replica transazionale e della replica di tipo merge nei modi seguenti:</span><span class="sxs-lookup"><span data-stu-id="c94e2-103">[!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Replication Monitor allows you to monitor the performance of transactional replication and merge replication in the following ways:</span></span>  
  
-   <span data-ttu-id="c94e2-104">Impostazione di avvisi e soglie</span><span class="sxs-lookup"><span data-stu-id="c94e2-104">Setting warnings and thresholds</span></span>  
  
-   <span data-ttu-id="c94e2-105">Visualizzazione delle misurazioni delle prestazioni</span><span class="sxs-lookup"><span data-stu-id="c94e2-105">Viewing performance measurements</span></span>  
  
-   <span data-ttu-id="c94e2-106">Determinazione della latenza con token di traccia (replica transazionale)</span><span class="sxs-lookup"><span data-stu-id="c94e2-106">Determining latency with tracer tokens (transactional replication)</span></span>  
  
-   <span data-ttu-id="c94e2-107">Visualizzazione di statistiche dettagliate sulla sincronizzazione (replica di tipo merge)</span><span class="sxs-lookup"><span data-stu-id="c94e2-107">Viewing detailed synchronization statistics (merge replication)</span></span>  
  
-   <span data-ttu-id="c94e2-108">Visualizzazione di transazioni e tempi di recapito (replica transazionale)</span><span class="sxs-lookup"><span data-stu-id="c94e2-108">Viewing transactions and delivery time (transactional replication)</span></span>  
  
## <a name="set-warnings-and-thresholds"></a><span data-ttu-id="c94e2-109">Impostazione di avvisi e soglie</span><span class="sxs-lookup"><span data-stu-id="c94e2-109">Set Warnings and Thresholds</span></span>  
 <span data-ttu-id="c94e2-110">Monitoraggio replica consente di abilitare avvisi in relazione a varie condizioni delle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="c94e2-110">Replication Monitor allows you to enable warnings for a number of performance conditions.</span></span> <span data-ttu-id="c94e2-111">Quando si attiva un avviso, si specifica una soglia.</span><span class="sxs-lookup"><span data-stu-id="c94e2-111">When you enable a warning, you specify a threshold.</span></span> <span data-ttu-id="c94e2-112">Quando tale soglia viene raggiunta o superata, viene visualizzato un avviso nella colonna **Stato** della sottoscrizione e della pubblicazione associate nella sincronizzazione (a meno che non sia necessario visualizzare un problema con una priorità più elevata).</span><span class="sxs-lookup"><span data-stu-id="c94e2-112">When that threshold is met or exceeded, a warning is displayed in the **Status** column for the subscription and the publication with which it synchronizes (unless an issue with a higher priority needs to be displayed).</span></span> <span data-ttu-id="c94e2-113">Oltre a visualizzare un avviso in Monitoraggio replica, il raggiungimento di un valore soglia può inoltre attivare un messaggio di avviso.</span><span class="sxs-lookup"><span data-stu-id="c94e2-113">In addition to displaying a warning in Replication Monitor, reaching a threshold can also trigger an alert.</span></span> <span data-ttu-id="c94e2-114">È possibile attivare avvisi per le condizioni delle prestazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="c94e2-114">You can enable warnings for the following performance conditions:</span></span>  
  
-   <span data-ttu-id="c94e2-115">Superamento della latenza specificata (quantità di tempo trascorso tra l'esecuzione del commit di una transazione nel server di pubblicazione e l'esecuzione del commit della transazione corrispondente nel Sottoscrittore).</span><span class="sxs-lookup"><span data-stu-id="c94e2-115">Exceeding the specified latency (the amount of time that elapses between a transaction being committed at the Publisher and the corresponding transaction being committed at the Subscriber).</span></span>  
  
     <span data-ttu-id="c94e2-116">Si applica alla replica transazionale.</span><span class="sxs-lookup"><span data-stu-id="c94e2-116">This applies to transactional replication.</span></span> <span data-ttu-id="c94e2-117">Se la soglia specificata viene raggiunta o superata, viene visualizzato lo stato **Prestazioni critiche**.</span><span class="sxs-lookup"><span data-stu-id="c94e2-117">If the specified threshold is met or exceeded, the status is displayed as **Performance critical**.</span></span>  
  
-   <span data-ttu-id="c94e2-118">Superamento del tempo di sincronizzazione specificato.</span><span class="sxs-lookup"><span data-stu-id="c94e2-118">Exceeding the specified synchronization time.</span></span>  
  
     <span data-ttu-id="c94e2-119">Si applica alla replica di tipo merge.</span><span class="sxs-lookup"><span data-stu-id="c94e2-119">This applies to merge replication.</span></span> <span data-ttu-id="c94e2-120">Se la soglia specificata viene raggiunta o superata, viene visualizzato lo stato **Merge con esecuzione prolungata**.</span><span class="sxs-lookup"><span data-stu-id="c94e2-120">If the specified threshold is met or exceeded, the status is displayed as **Long-running merge**.</span></span> <span data-ttu-id="c94e2-121">È possibile specificare soglie diverse per connessioni remote e LAN.</span><span class="sxs-lookup"><span data-stu-id="c94e2-121">You can specify different thresholds for dial-up and Local Area Network (LAN) connections.</span></span>  
  
-   <span data-ttu-id="c94e2-122">Impossibilità di elaborare il numero di righe specificato in un determinato intervallo di tempo.</span><span class="sxs-lookup"><span data-stu-id="c94e2-122">Falling short of processing the specified number of rows in a given amount of time.</span></span>  
  
     <span data-ttu-id="c94e2-123">Si applica alla replica di tipo merge.</span><span class="sxs-lookup"><span data-stu-id="c94e2-123">This applies to merge replication.</span></span> <span data-ttu-id="c94e2-124">Se la soglia specificata viene raggiunta o superata, viene visualizzato lo stato **Prestazioni critiche**.</span><span class="sxs-lookup"><span data-stu-id="c94e2-124">If the specified threshold is met or exceeded, the status is displayed as **Performance critical**.</span></span> <span data-ttu-id="c94e2-125">È possibile specificare soglie diverse per connessioni remote e LAN.</span><span class="sxs-lookup"><span data-stu-id="c94e2-125">You can specify different thresholds for dial-up and LAN connections.</span></span>  
  
 <span data-ttu-id="c94e2-126">Per altre informazioni, vedere [Set Thresholds and Warnings in Replication Monitor](set-thresholds-and-warnings-in-replication-monitor.md).</span><span class="sxs-lookup"><span data-stu-id="c94e2-126">For more information, see [Set Thresholds and Warnings in Replication Monitor](set-thresholds-and-warnings-in-replication-monitor.md).</span></span>  
  
## <a name="view-performance-measurements"></a><span data-ttu-id="c94e2-127">Visualizzazione delle misurazioni delle prestazioni</span><span class="sxs-lookup"><span data-stu-id="c94e2-127">View Performance Measurements</span></span>  
 <span data-ttu-id="c94e2-128">In Monitoraggio replica vengono visualizzati i valori relativi alla qualità delle prestazioni per repliche transazionali e di tipo merge nelle colonne **Prestazioni medie correnti** e **Prestazioni peggiori correnti** per le pubblicazioni e nella colonna **Prestazioni** per le sottoscrizioni.</span><span class="sxs-lookup"><span data-stu-id="c94e2-128">Replication Monitor displays performance quality values for transactional replication and merge replication in the **Current Average Performance** and **Current Worst Performance** columns for publications and the **Performance** column for subscriptions.</span></span> <span data-ttu-id="c94e2-129">I valori possibili sono:</span><span class="sxs-lookup"><span data-stu-id="c94e2-129">The values are:</span></span>  
  
-   <span data-ttu-id="c94e2-130">Eccellenti</span><span class="sxs-lookup"><span data-stu-id="c94e2-130">Excellent</span></span>  
  
-   <span data-ttu-id="c94e2-131">Buone</span><span class="sxs-lookup"><span data-stu-id="c94e2-131">Good</span></span>  
  
-   <span data-ttu-id="c94e2-132">Discrete</span><span class="sxs-lookup"><span data-stu-id="c94e2-132">Fair</span></span>  
  
-   <span data-ttu-id="c94e2-133">Scarse</span><span class="sxs-lookup"><span data-stu-id="c94e2-133">Poor</span></span>  
  
-   <span data-ttu-id="c94e2-134">Critiche (solo per la replica transazionale)</span><span class="sxs-lookup"><span data-stu-id="c94e2-134">Critical (transactional replication only)</span></span>  
  
 <span data-ttu-id="c94e2-135">I valori vengono determinati nei modo seguenti:</span><span class="sxs-lookup"><span data-stu-id="c94e2-135">The values are determined in the following ways:</span></span>  
  
-   <span data-ttu-id="c94e2-136">Per la replica transazionale la qualità delle prestazioni viene determinata dalla soglia di latenza.</span><span class="sxs-lookup"><span data-stu-id="c94e2-136">For transactional replication, performance quality is determined by the latency threshold.</span></span> <span data-ttu-id="c94e2-137">Se la soglia non viene impostata, non verrà visualizzato alcun valore.</span><span class="sxs-lookup"><span data-stu-id="c94e2-137">If the threshold is not set, a value is not displayed.</span></span> <span data-ttu-id="c94e2-138">Nella tabella seguente viene illustrata la correlazione tra la soglia e il valore della qualità delle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="c94e2-138">The following table shows the correlation between the threshold and the performance quality value.</span></span> <span data-ttu-id="c94e2-139">Ad esempio, se la soglia è impostata su 60 secondi e la latenza attuale è di 30 secondi, la latenza rappresenta il 50% della soglia, producendo quindi il valore Buone.</span><span class="sxs-lookup"><span data-stu-id="c94e2-139">For example, if the threshold is set to 60 seconds and the actual latency is 30 seconds, latency is 50% of the threshold, resulting in a value of Good.</span></span>  
  
    |<span data-ttu-id="c94e2-140">Eccellenti</span><span class="sxs-lookup"><span data-stu-id="c94e2-140">Excellent</span></span>|<span data-ttu-id="c94e2-141">Buone</span><span class="sxs-lookup"><span data-stu-id="c94e2-141">Good</span></span>|<span data-ttu-id="c94e2-142">Discrete</span><span class="sxs-lookup"><span data-stu-id="c94e2-142">Fair</span></span>|<span data-ttu-id="c94e2-143">Scarse</span><span class="sxs-lookup"><span data-stu-id="c94e2-143">Poor</span></span>|<span data-ttu-id="c94e2-144">Critico</span><span class="sxs-lookup"><span data-stu-id="c94e2-144">Critical</span></span>|  
    |---------------|----------|----------|----------|--------------|  
    |<span data-ttu-id="c94e2-145">0 - 34%</span><span class="sxs-lookup"><span data-stu-id="c94e2-145">0 - 34%</span></span>|<span data-ttu-id="c94e2-146">35 - 59%</span><span class="sxs-lookup"><span data-stu-id="c94e2-146">35 - 59%</span></span>|<span data-ttu-id="c94e2-147">60 - 84%</span><span class="sxs-lookup"><span data-stu-id="c94e2-147">60 - 84%</span></span>|<span data-ttu-id="c94e2-148">85 - 99%</span><span class="sxs-lookup"><span data-stu-id="c94e2-148">85 - 99%</span></span>|<span data-ttu-id="c94e2-149">100% +</span><span class="sxs-lookup"><span data-stu-id="c94e2-149">100% +</span></span>|  
  
-   <span data-ttu-id="c94e2-150">Per la replica di tipo merge la qualità delle prestazioni è indipendente dalla soglia. La soglia di elaborazione delle righe determina in realtà se il valore **Prestazioni critiche** viene visualizzato nella colonna **Stato** .</span><span class="sxs-lookup"><span data-stu-id="c94e2-150">For merge replication, performance quality is independent of either threshold (the row processing threshold does determine if a value of **Performance critical** is displayed in the **Status** column).</span></span> <span data-ttu-id="c94e2-151">La qualità delle prestazioni è determinata dal confronto tra le prestazioni delle singole sottoscrizioni e le prestazioni medie cronologiche delle sottoscrizioni, che utilizzano lo stesso tipo di connessione (remota o LAN), rispetto alla pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="c94e2-151">Performance quality is determined by comparing individual subscription performance to the average historical performance of subscriptions to the publication that have the same connection type (dial-up or LAN).</span></span> <span data-ttu-id="c94e2-152">In Monitoraggio replica viene visualizzato un valore dopo cinque sincronizzazioni con 50 o più modifiche eseguite con lo stesso tipo di connessione.</span><span class="sxs-lookup"><span data-stu-id="c94e2-152">Replication Monitor displays a value after five synchronizations have occurred with 50 or more changes each over the same type of connection.</span></span> <span data-ttu-id="c94e2-153">Se sono state eseguite meno di cinque sincronizzazioni con 50 o più modifiche oppure la sincronizzazione più recente include meno di 50 modifiche, in Monitoraggio replica non viene visualizzato alcun valore.</span><span class="sxs-lookup"><span data-stu-id="c94e2-153">If there have been less than five synchronizations with 50 or more changes or the most recent synchronization has less than 50 changes, Replication Monitor does not display a value.</span></span>  
  
     <span data-ttu-id="c94e2-154">Nella tabella seguente viene illustrata la correlazione tra le prestazioni medie e il valore della qualità delle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="c94e2-154">The following table shows the correlation between the average performance and the performance quality value.</span></span> <span data-ttu-id="c94e2-155">Ad esempio, se dieci Sottoscrittori hanno eseguito la sincronizzazione tramite una connessione LAN con una velocità media di elaborazione di 100 righe al secondo e successivamente una delle sottoscrizioni esegue la sincronizzazione con una velocità di 125 righe al secondo, le prestazioni di sincronizzazione di quel Sottoscrittore saranno del 125% rispetto alla media, producendo quindi il valore Buone.</span><span class="sxs-lookup"><span data-stu-id="c94e2-155">For example, if ten Subscribers have synchronized over a LAN connection with an average rate of 100 rows per second, and one of the subscriptions then synchronizes at a rate of 125 rows per second, the performance for that Subscriber's synchronization is 125% of the average, resulting in a value of Good.</span></span>  
  
    |<span data-ttu-id="c94e2-156">Eccellenti</span><span class="sxs-lookup"><span data-stu-id="c94e2-156">Excellent</span></span>|<span data-ttu-id="c94e2-157">Buone</span><span class="sxs-lookup"><span data-stu-id="c94e2-157">Good</span></span>|<span data-ttu-id="c94e2-158">Discrete</span><span class="sxs-lookup"><span data-stu-id="c94e2-158">Fair</span></span>|<span data-ttu-id="c94e2-159">Scarse</span><span class="sxs-lookup"><span data-stu-id="c94e2-159">Poor</span></span>|  
    |---------------|----------|----------|----------|  
    |<span data-ttu-id="c94e2-160">151+%</span><span class="sxs-lookup"><span data-stu-id="c94e2-160">151+%</span></span>|<span data-ttu-id="c94e2-161">76 - 150%</span><span class="sxs-lookup"><span data-stu-id="c94e2-161">76 - 150%</span></span>|<span data-ttu-id="c94e2-162">26 - 75%</span><span class="sxs-lookup"><span data-stu-id="c94e2-162">26 - 75%</span></span>|<span data-ttu-id="c94e2-163">0 - 25%</span><span class="sxs-lookup"><span data-stu-id="c94e2-163">0 - 25%</span></span>|  
  
 <span data-ttu-id="c94e2-164">Per altre informazioni sulla visualizzazione delle informazioni relative alle sottoscrizioni, vedere [Visualizzare le informazioni ed eseguire attività usando Monitoraggio replica](view-information-and-perform-tasks-replication-monitor.md).</span><span class="sxs-lookup"><span data-stu-id="c94e2-164">For more information about viewing subscription information, see [View Information and Perform Tasks using Replication Monitor](view-information-and-perform-tasks-replication-monitor.md).</span></span>  
  
## <a name="determine-latency-with-tracer-tokens"></a><span data-ttu-id="c94e2-165">Determinazione della latenza con token di traccia</span><span class="sxs-lookup"><span data-stu-id="c94e2-165">Determine Latency with Tracer Tokens</span></span>  
 <span data-ttu-id="c94e2-166">La replica transazionale consente di misurare la latenza di un sistema inserendo un token (una piccola quantità di dati) nel log delle transazioni del database di pubblicazione e misurando il tempo impiegato dal token per arrivare al database di distribuzione e ai Sottoscrittori.</span><span class="sxs-lookup"><span data-stu-id="c94e2-166">Transactional replication allows you to measure the latency in a system by inserting a token (a small amount of data) in the transaction log of the publication database and recording how long it takes to arrive at the Distributor and Subscribers.</span></span> <span data-ttu-id="c94e2-167">Il token consente inoltre di rilevare se i dati non raggiungono il database di distribuzione o il Sottoscrittore.</span><span class="sxs-lookup"><span data-stu-id="c94e2-167">The token also allows you to identify if data is not reaching the Distributor or Subscriber.</span></span> <span data-ttu-id="c94e2-168">Per altre informazioni, vedere [Misurazione della latenza e convalida delle connessioni per la replica transazionale](measure-latency-and-validate-connections-for-transactional-replication.md).</span><span class="sxs-lookup"><span data-stu-id="c94e2-168">For more information, see [Measure Latency and Validate Connections for Transactional Replication](measure-latency-and-validate-connections-for-transactional-replication.md).</span></span>  
  
## <a name="view-detailed-synchronization-performance-for-merge-replication"></a><span data-ttu-id="c94e2-169">Visualizzazione di statistiche dettagliate sulle prestazioni di sincronizzazione per la replica di tipo merge</span><span class="sxs-lookup"><span data-stu-id="c94e2-169">View Detailed Synchronization Performance for Merge Replication</span></span>  
 <span data-ttu-id="c94e2-170">Per la replica di tipo merge in Monitoraggio replica vengono visualizzate statistiche dettagliate di ogni articolo elaborato durante la sincronizzazione, inclusa la quantità di tempo impiegato in ogni fase di elaborazione (caricamento delle modifiche, download delle modifiche e così via).</span><span class="sxs-lookup"><span data-stu-id="c94e2-170">For merge replication, Replication Monitor displays detailed statistics for each article processed during synchronization, including the amount of time spent in each processing phase (uploading changes, downloading changes, and so on).</span></span> <span data-ttu-id="c94e2-171">Ciò può essere utile per individuare tabelle specifiche che determinano rallentamenti ed è l'opzione migliore per risolvere problemi relativi alle prestazioni delle sottoscrizioni di tipo merge.</span><span class="sxs-lookup"><span data-stu-id="c94e2-171">It can help pinpoint specific tables that are causing slow downs and is the best place to troubleshoot performance issues with merge subscriptions.</span></span> <span data-ttu-id="c94e2-172">Per altre informazioni sulla visualizzazione di statistiche dettagliate, vedere [Visualizzare le informazioni ed eseguire attività usando Monitoraggio replica](view-information-and-perform-tasks-replication-monitor.md).</span><span class="sxs-lookup"><span data-stu-id="c94e2-172">For more information on viewing detailed statistics, see [View Information and Perform Tasks using Replication Monitor](view-information-and-perform-tasks-replication-monitor.md).</span></span>  
  
## <a name="view-transactions-and-delivery-time-for-transactional-replication"></a><span data-ttu-id="c94e2-173">Visualizzazione delle transazioni e dei tempi di recapito della replica transazionale</span><span class="sxs-lookup"><span data-stu-id="c94e2-173">View Transactions and Delivery Time for Transactional Replication</span></span>  
 <span data-ttu-id="c94e2-174">Per la replica transazionale in Monitoraggio replica vengono visualizzate informazioni sul numero di transazioni nel database di distribuzione non ancora distribuite a un Sottoscrittore e il tempo stimato per la relativa distribuzione.</span><span class="sxs-lookup"><span data-stu-id="c94e2-174">For transactional replication, Replication Monitor displays information about the number of transactions in the distribution database that have not yet been distributed to a Subscriber and the estimated time for distributing these transactions.</span></span> <span data-ttu-id="c94e2-175">Per altre informazioni, vedere [Visualizzare le informazioni ed eseguire attività usando Monitoraggio replica](view-information-and-perform-tasks-replication-monitor.md).</span><span class="sxs-lookup"><span data-stu-id="c94e2-175">For more information, see [View Information and Perform Tasks using Replication Monitor](view-information-and-perform-tasks-replication-monitor.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="c94e2-176">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="c94e2-176">See Also</span></span>  
 <span data-ttu-id="c94e2-177">[Monitoraggio della replica](../monitoring-replication.md) </span><span class="sxs-lookup"><span data-stu-id="c94e2-177">[Monitoring Replication](../monitoring-replication.md) </span></span>  
 [<span data-ttu-id="c94e2-178">Set Thresholds and Warnings in Replication Monitor</span><span class="sxs-lookup"><span data-stu-id="c94e2-178">Set Thresholds and Warnings in Replication Monitor</span></span>](set-thresholds-and-warnings-in-replication-monitor.md)  
  
  
