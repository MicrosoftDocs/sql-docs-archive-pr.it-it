---
title: Aggiungi filtro o Modifica filtro | Microsoft Docs
ms.custom: ''
ms.date: 06/14/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
f1_keywords:
- sql12.rep.newpubwizard.addeditfilter.f1
ms.assetid: bdd7c71d-1c59-4044-bfe8-c85f908345bb
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 54dcb1ea0b7bf10f51659a14b9d0cc5eb7991769
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87624669"
---
# <a name="add-or-edit-filter"></a><span data-ttu-id="33166-102">Aggiungi filtro o Modifica filtro</span><span class="sxs-lookup"><span data-stu-id="33166-102">Add or Edit Filter</span></span>
  <span data-ttu-id="33166-103">Le finestre di dialogo **Aggiungi filtro** e **Modifica filtro** consentono di aggiungere e modificare i filtri di riga statica o di riga con parametri.</span><span class="sxs-lookup"><span data-stu-id="33166-103">The **Add Filter** and **Edit Filter** dialog boxes allow you to add and edit static row filters and parameterized row filters.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="33166-104">Per modificare un filtro in una pubblicazione esistente, è necessario un nuovo snapshot per la pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="33166-104">Editing a filter in an existing publication requires a new snapshot for the publication.</span></span> <span data-ttu-id="33166-105">Se la pubblicazione dispone di sottoscrizioni, queste ultime devono essere reinizializzate.</span><span class="sxs-lookup"><span data-stu-id="33166-105">If a publication has subscriptions, the subscriptions must be reinitialized.</span></span> <span data-ttu-id="33166-106">Per altre informazioni sulle modifiche delle proprietà, vedere [Modificare le proprietà di pubblicazioni e articoli](publish/change-publication-and-article-properties.md).</span><span class="sxs-lookup"><span data-stu-id="33166-106">For more information about property changes, see [Change Publication and Article Properties](publish/change-publication-and-article-properties.md).</span></span>  
  
 <span data-ttu-id="33166-107">In tutti i tipi di pubblicazione possono essere inclusi filtri statici. Nelle pubblicazioni di tipo merge possono essere inoltre inclusi filtri con parametri.</span><span class="sxs-lookup"><span data-stu-id="33166-107">All publication types can include static filters; merge publications can also include parameterized filters.</span></span> <span data-ttu-id="33166-108">Un filtro statico viene valutato al momento della creazione della pubblicazione: tutti i sottoscrittori della pubblicazione ricevono gli stessi dati.</span><span class="sxs-lookup"><span data-stu-id="33166-108">A static filter is evaluated when the publication is created: all Subscribers to the publication receive the same data.</span></span> <span data-ttu-id="33166-109">Un filtro con parametri viene invece valutato durante la sincronizzazione della replica: Sottoscrittori distinti possono ricevere diverse partizioni di dati, in base al nome dell'account di accesso o del computer di ognuno.</span><span class="sxs-lookup"><span data-stu-id="33166-109">A parameterized filter is evaluated during replication synchronization: different Subscribers can receive different partitions of data based on the login or computer name of each Subscriber.</span></span> <span data-ttu-id="33166-110">Per poter esaminare esempi di ogni tipo di filtro, fare clic sul collegamento **Istruzione di esempio** .</span><span class="sxs-lookup"><span data-stu-id="33166-110">Click the **Example statements** link in the dialog box to see examples of each type of filter.</span></span> <span data-ttu-id="33166-111">Per altre informazioni sulle opzioni di filtro, vedere [Filtrare i dati pubblicati](publish/filter-published-data.md).</span><span class="sxs-lookup"><span data-stu-id="33166-111">For more information about filtering options, see [Filter Published Data](publish/filter-published-data.md).</span></span>  
  
 <span data-ttu-id="33166-112">L'applicazione di filtri di riga consente di specificare un subset di righe che devono essere pubblicate da una tabella.</span><span class="sxs-lookup"><span data-stu-id="33166-112">Using row filters, you can specify a subset of rows to be published from a table.</span></span> <span data-ttu-id="33166-113">I filtri di riga possono essere utilizzati per eliminare le righe che non devono essere visualizzate dagli utenti, ad esempio le righe in cui sono contenute informazioni delicate o riservate, oppure per creare diverse partizioni di dati da inviare ai vari Sottoscrittori.</span><span class="sxs-lookup"><span data-stu-id="33166-113">Row filters can be used to eliminate rows that users do not need to see (such as rows that contain sensitive or confidential information), or to create different partitions of data that are sent to different Subscribers.</span></span> <span data-ttu-id="33166-114">La pubblicazione di diverse partizioni di dati in diversi Sottoscrittori può contribuire a evitare i conflitti che si verificherebbero se più Sottoscrittori aggiornassero gli stessi dati.</span><span class="sxs-lookup"><span data-stu-id="33166-114">Publishing different partitions of data to different Subscribers can also help avoid conflicts that would otherwise be caused by multiple Subscribers updating the same data.</span></span>  
  
## <a name="options"></a><span data-ttu-id="33166-115">Opzioni</span><span class="sxs-lookup"><span data-stu-id="33166-115">Options</span></span>  
 <span data-ttu-id="33166-116">Questa finestra di dialogo prevede un processo in due passaggi per le pubblicazioni snapshot e transazionali e un processo in tre passaggi per le pubblicazioni di tipo merge.</span><span class="sxs-lookup"><span data-stu-id="33166-116">This dialog box involves a two-step process for transactional and snapshot publications and a three-step process for merge publications.</span></span> <span data-ttu-id="33166-117">Per ogni tipo di pubblicazione è necessaria la selezione di una tabella da filtrare e di una o più colonne da includere nel filtro. Quest'ultimo è definito come clausola WHERE standard.</span><span class="sxs-lookup"><span data-stu-id="33166-117">All publication types require you to select a table to be filtered and one or more columns to be included in the filter; the filter is defined as a standard WHERE clause.</span></span>  
  
1.  <span data-ttu-id="33166-118">**Selezionare la tabella da filtrare**</span><span class="sxs-lookup"><span data-stu-id="33166-118">**Select the table to filter**</span></span>  
  
     <span data-ttu-id="33166-119">Se è in corso la modifica di un filtro esistente, la selezione della tabella non può essere modificata.</span><span class="sxs-lookup"><span data-stu-id="33166-119">If you are editing an existing filter, the table selection cannot be changed.</span></span> <span data-ttu-id="33166-120">Se è in corso l'aggiunta di un nuovo filtro, selezionare una tabella dall'elenco a discesa.</span><span class="sxs-lookup"><span data-stu-id="33166-120">If you are adding a new filter, select a table from the drop-down list box.</span></span> <span data-ttu-id="33166-121">Le tabelle vengono visualizzate nella casella di riepilogo solo se sono selezionate nella pagina **Articoli** e non dispongono ancora di un filtro di riga.</span><span class="sxs-lookup"><span data-stu-id="33166-121">Tables appear in the list box only if they were selected on the **Articles** page and do not already have a row filter.</span></span> <span data-ttu-id="33166-122">Per definire un nuovo filtro di riga quando per la tabella ne è già disponibile uno:</span><span class="sxs-lookup"><span data-stu-id="33166-122">If a table has a row filter and you want to define a new one:</span></span>  
  
    1.  <span data-ttu-id="33166-123">Nella finestra di dialogo **Aggiungi filtro** fare clic su **Annulla** .</span><span class="sxs-lookup"><span data-stu-id="33166-123">Click **Cancel** on the **Add Filter** dialog box.</span></span>  
  
    2.  <span data-ttu-id="33166-124">Nella pagina **Filtro righe tabella** selezionare la tabella nel riquadro del filtro e fare clic su **Modifica**.</span><span class="sxs-lookup"><span data-stu-id="33166-124">Select the table in the filter pane on the **Filter Table Rows** page and click **Edit**.</span></span>  
  
    3.  <span data-ttu-id="33166-125">Nella finestra di dialogo **Modifica filtro** modificare un filtro esistente.</span><span class="sxs-lookup"><span data-stu-id="33166-125">Edit an existing filter in the **Edit Filter** dialog box.</span></span>  
  
2.  <span data-ttu-id="33166-126">**Completare l'istruzione per il filtro per identificare le righe della tabella che verranno ricevute dai Sottoscrittori**</span><span class="sxs-lookup"><span data-stu-id="33166-126">**Complete the filter statement to identify which table rows Subscribers will receive**</span></span>  
  
     <span data-ttu-id="33166-127">Consente di definire una nuova istruzione per il filtro o di modificarne una esistente.</span><span class="sxs-lookup"><span data-stu-id="33166-127">Define a new filter statement or edit an existing one.</span></span> <span data-ttu-id="33166-128">Nella casella di riepilogo **Colonne** vengono elencate tutte le colonne in fase di pubblicazione appartenenti alla tabella selezionata in **Selezionare la tabella da filtrare**.</span><span class="sxs-lookup"><span data-stu-id="33166-128">The **Columns** list box lists all the columns that you are publishing from the table you selected in **Select the table to filter**.</span></span> <span data-ttu-id="33166-129">L'area di testo **Istruzione per il filtro** contiene il testo predefinito, nel formato seguente:</span><span class="sxs-lookup"><span data-stu-id="33166-129">The **Filter statement** text area includes the default text, which is in the form of:</span></span>  
  
     `SELECT <published_columns> FROM [schema].[tablename] WHERE`  
  
     <span data-ttu-id="33166-130">Questo testo non può essere modificato. Digitare la clausola di filtro dopo la parola chiave WHERE utilizzando la sintassi [!INCLUDE[tsql](../../includes/tsql-md.md)] standard.</span><span class="sxs-lookup"><span data-stu-id="33166-130">This text cannot be changed; type the filter clause after the WHERE keyword using standard [!INCLUDE[tsql](../../includes/tsql-md.md)] syntax.</span></span> <span data-ttu-id="33166-131">Se il server di pubblicazione è un server di pubblicazione Oracle, la clausola WHERE deve essere conforme alla sintassi delle query Oracle.</span><span class="sxs-lookup"><span data-stu-id="33166-131">If the Publisher is an Oracle Publisher, the WHERE clause must be compliant with Oracle query syntax.</span></span> <span data-ttu-id="33166-132">Se possibile, evitare di usare filtri complessi.</span><span class="sxs-lookup"><span data-stu-id="33166-132">Avoid using complex filters when possible.</span></span> <span data-ttu-id="33166-133">I filtri statici e con parametri possono migliorare i tempi di elaborazione per le pubblicazioni ed è pertanto opportuno che le istruzioni per il filtro siano le più semplici possibile.</span><span class="sxs-lookup"><span data-stu-id="33166-133">Both static and parameterized filters increase processing time for publications; therefore you should keep filter statements as simple as possible.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="33166-134">Per motivi di prestazioni, è consigliabile non applicare funzioni ai nomi di colonna, ad esempio `LEFT([MyColumn]) = SUSER_SNAME()`, nelle clausole di filtro di riga con parametri per pubblicazioni di tipo merge.</span><span class="sxs-lookup"><span data-stu-id="33166-134">For performance reasons, we recommended that you not apply functions to column names in parameterized row filter clauses for merge publications, such as `LEFT([MyColumn]) = SUSER_SNAME()`.</span></span> <span data-ttu-id="33166-135">Se si usano HOST_NAME in una clausola di filtro e si sostituisce il valore HOST_NAME, può essere necessario convertire i tipi di dati tramite l'istruzione CONVERT.</span><span class="sxs-lookup"><span data-stu-id="33166-135">If you use HOST_NAME in a filter clause and override the HOST_NAME value, it might be necessary to convert data types using CONVERT.</span></span> <span data-ttu-id="33166-136">Per altre informazioni sulle procedure consigliate in questo caso, vedere la sezione relativa alla sostituzione del valore HOST_NAME() nell'argomento [Parameterized Row Filters](merge/parameterized-filters-parameterized-row-filters.md).</span><span class="sxs-lookup"><span data-stu-id="33166-136">For more information about best practices for this case, see the section "Overriding the HOST_NAME() Value" in the topic [Parameterized Row Filters](merge/parameterized-filters-parameterized-row-filters.md).</span></span>  
  
3.  <span data-ttu-id="33166-137">**Specificare se i dati di questa tabella dovranno essere inviati a una o più sottoscrizioni**</span><span class="sxs-lookup"><span data-stu-id="33166-137">**Specify how many subscriptions will receive data from this table**</span></span>  
  
     <span data-ttu-id="33166-138">Solo [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] e versioni successive e solo replica di tipo merge.</span><span class="sxs-lookup"><span data-stu-id="33166-138">[!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] and later versions only; merge replication only.</span></span> <span data-ttu-id="33166-139">La replica di tipo merge consente di specificare il tipo di partizioni più adatte ai dati e all'applicazione.</span><span class="sxs-lookup"><span data-stu-id="33166-139">Merge replication allows you to specify the type of partitions that are best suited to your data and application.</span></span> <span data-ttu-id="33166-140">Se si seleziona **Una riga di questa tabella verrà inviata a una sola sottoscrizione**, viene impostata l'opzione relativa alle partizioni non sovrapposte della replica di tipo merge.</span><span class="sxs-lookup"><span data-stu-id="33166-140">If you select **A row from this table will go to only one subscription**, merge replication sets the nonoverlapping partitions option.</span></span> <span data-ttu-id="33166-141">Le partizioni non sovrapposte vengono utilizzate insieme alle partizioni pre-calcolate per migliorare le prestazioni per ridurre il costo di caricamento associato alle partizioni pre-calcolate.</span><span class="sxs-lookup"><span data-stu-id="33166-141">Nonoverlapping partitions work in conjunction with precomputed partitions to improve performance, with nonoverlapping partitions minimizing the upload cost associated with precomputed partitions.</span></span> <span data-ttu-id="33166-142">Il vantaggio a livello di prestazioni delle partizioni non sovrapposte è più evidente quando i filtri con parametri e i filtri join utilizzati sono più complessi.</span><span class="sxs-lookup"><span data-stu-id="33166-142">The performance benefit of nonoverlapping partitions is more noticeable when the parameterized filters and join filters used are more complex.</span></span> <span data-ttu-id="33166-143">Se si seleziona questa opzione è necessario, tuttavia, verificare che i dati vengano partizionati in modo che una riga non possa essere replicata in più Sottoscrittori.</span><span class="sxs-lookup"><span data-stu-id="33166-143">If you select this option, you must ensure that the data is partitioned in such a way that a row cannot be replicated to more than one Subscriber.</span></span> <span data-ttu-id="33166-144">Per altre informazioni, vedere la sezione relativa all'impostazione delle opzioni delle partizioni nell'argomento [Filtri di riga con parametri](merge/parameterized-filters-parameterized-row-filters.md).</span><span class="sxs-lookup"><span data-stu-id="33166-144">For more information, see the section "Setting 'partition options'" in the topic [Parameterized Row Filters](merge/parameterized-filters-parameterized-row-filters.md).</span></span>  
  
 <span data-ttu-id="33166-145">Dopo aver aggiunto o modificato un filtro, fare clic su **OK** per salvare le modifiche e chiudere la finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="33166-145">After you have added or edited a filter, click **OK** to save changes and close the dialog box.</span></span> <span data-ttu-id="33166-146">Il filtro specificato viene analizzato ed eseguito sulla tabella nella clausola SELECT.</span><span class="sxs-lookup"><span data-stu-id="33166-146">The filter you specified is parsed and run against the table in the SELECT clause.</span></span> <span data-ttu-id="33166-147">Se nell'istruzione di filtro sono presenti errori di sintassi o di altro tipo, verrà visualizzato un apposito messaggio di notifica e sarà possibile modificare l'istruzione.</span><span class="sxs-lookup"><span data-stu-id="33166-147">If the filter statement contains syntax errors or other problems, you are notified and are able to edit the filter statement.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="33166-148">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="33166-148">See Also</span></span>  
 <span data-ttu-id="33166-149">[Create a Publication](publish/create-a-publication.md) </span><span class="sxs-lookup"><span data-stu-id="33166-149">[Create a Publication](publish/create-a-publication.md) </span></span>  
 <span data-ttu-id="33166-150">[Visualizzare e modificare le proprietà della pubblicazione](publish/view-and-modify-publication-properties.md) </span><span class="sxs-lookup"><span data-stu-id="33166-150">[View and Modify Publication Properties](publish/view-and-modify-publication-properties.md) </span></span>  
 <span data-ttu-id="33166-151">[Filtrare i dati pubblicati](publish/filter-published-data.md) </span><span class="sxs-lookup"><span data-stu-id="33166-151">[Filter Published Data](publish/filter-published-data.md) </span></span>  
 <span data-ttu-id="33166-152">[Join Filters](merge/join-filters.md) </span><span class="sxs-lookup"><span data-stu-id="33166-152">[Join Filters](merge/join-filters.md) </span></span>  
 <span data-ttu-id="33166-153">[Parameterized Row Filters](merge/parameterized-filters-parameterized-row-filters.md) </span><span class="sxs-lookup"><span data-stu-id="33166-153">[Parameterized Row Filters](merge/parameterized-filters-parameterized-row-filters.md) </span></span>  
 [<span data-ttu-id="33166-154">Pubblicare dati e oggetti di database</span><span class="sxs-lookup"><span data-stu-id="33166-154">Publish Data and Database Objects</span></span>](publish/publish-data-and-database-objects.md)  
  
  
