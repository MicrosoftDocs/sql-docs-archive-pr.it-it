---
title: Peer-to-peer - Rilevamento dei conflitti nella replica | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- transactional replication, peer-to-peer replication
- peer-to-peer transactional replication, conflict detection
ms.assetid: 754a1070-59bc-438d-998b-97fdd77d45ca
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 301a751bf5b5959ab1fc434ac2a583a6b0378fdd
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87629337"
---
# <a name="conflict-detection-in-peer-to-peer-replication"></a><span data-ttu-id="11a83-102">Rilevamento dei conflitti nella replica peer-to-peer</span><span class="sxs-lookup"><span data-stu-id="11a83-102">Conflict Detection in Peer-to-Peer Replication</span></span>
  <span data-ttu-id="11a83-103">La replica transazionale peer-to-peer consente di inserire, aggiornare o eliminare dati in qualsiasi nodo di una topologia e di propagare le modifiche agli altri nodi.</span><span class="sxs-lookup"><span data-stu-id="11a83-103">Peer-to-peer transactional replication lets you insert, update, or delete data at any node in a topology and have data changes propagated to the other nodes.</span></span> <span data-ttu-id="11a83-104">Poiché è possibile modificare i dati in qualsiasi nodo, si potrebbe verificare un conflitto tra le modifiche apportate ai dati in nodi diversi.</span><span class="sxs-lookup"><span data-stu-id="11a83-104">Because you can change data at any node, data changes at different nodes could conflict with each other.</span></span> <span data-ttu-id="11a83-105">Se una riga viene modificata in più nodi, può causare un conflitto o persino la perdita di un aggiornamento quando viene propagata in altri nodi.</span><span class="sxs-lookup"><span data-stu-id="11a83-105">If a row is modified at more than one node, it can cause a conflict or even a lost update when the row is propagated to other nodes.</span></span>  
  
 <span data-ttu-id="11a83-106">Con la replica peer-to-peer in [!INCLUDE[ssKatmai](../../../includes/sskatmai-md.md)] e versioni successive, viene introdotta l'opzione che consente di abilitare il rilevamento dei conflitti in una topologia peer-to-peer.</span><span class="sxs-lookup"><span data-stu-id="11a83-106">Peer-to-peer replication in [!INCLUDE[ssKatmai](../../../includes/sskatmai-md.md)] and later versions provides the option to enable conflict detection across a peer-to-peer topology.</span></span> <span data-ttu-id="11a83-107">Questa opzione consente di evitare problemi causati da conflitti non rilevati, tra cui il comportamento incoerente dell'applicazione e la perdita di aggiornamenti.</span><span class="sxs-lookup"><span data-stu-id="11a83-107">This option would help prevent the issues that are caused by undetected conflicts, including inconsistent application behavior and lost updates.</span></span> <span data-ttu-id="11a83-108">Se questa opzione è abilitata, per impostazione predefinita una modifica in conflitto viene considerata come un errore critico che impedisce il corretto funzionamento dell'agente di distribuzione.</span><span class="sxs-lookup"><span data-stu-id="11a83-108">With this option enabled, by default a conflicting change is treated as a critical error that causes the failure of the Distribution Agent.</span></span> <span data-ttu-id="11a83-109">In caso di conflitto, la topologia rimane in uno stato incoerente finché il conflitto non viene risolto e i dati non vengono resi coerenti nell'intera topologia.</span><span class="sxs-lookup"><span data-stu-id="11a83-109">In the event of a conflict, the topology remains in an inconsistent state until the conflict is resolved and the data is made consistent across the topology.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="11a83-110">Per prevenire potenziali incoerenze dei dati, evitare che si verifichino conflitti in una topologia peer-to-peer, anche quando il rilevamento dei conflitti è abilitato.</span><span class="sxs-lookup"><span data-stu-id="11a83-110">To avoid potential data inconsistency, make sure that you avoid conflicts in a peer-to-peer topology, even with conflict detection enabled.</span></span> <span data-ttu-id="11a83-111">Per garantire che le operazioni di scrittura relative a una determinata riga vengano eseguite in un unico nodo, le applicazioni che accedono e modificano i dati devono partizionare le operazioni di inserimento, aggiornamento ed eliminazione.</span><span class="sxs-lookup"><span data-stu-id="11a83-111">To ensure that write operations for a particular row are performed at only one node, applications that access and change data must partition insert, update, and delete operations.</span></span> <span data-ttu-id="11a83-112">Tale partizionamento assicura che le modifiche apportate a una determinata riga in un singolo nodo vengano sincronizzate con tutti gli altri nodi della topologia prima che la riga venga modificata da un nodo diverso.</span><span class="sxs-lookup"><span data-stu-id="11a83-112">This partitioning ensures that modifications to a given row that is originating at one node are synchronized with all other nodes in the topology before the row is modified by a different node.</span></span> <span data-ttu-id="11a83-113">Se un'applicazione richiede funzionalità avanzate di rilevamento e risoluzione dei conflitti, utilizzare la replica di tipo merge.</span><span class="sxs-lookup"><span data-stu-id="11a83-113">If an application requires sophisticated conflict detection and resolution capabilities, use merge replication.</span></span> <span data-ttu-id="11a83-114">Per altre informazioni, vedere [Replica di tipo merge](../merge/merge-replication.md) e [Rilevare e risolvere i conflitti tra repliche di tipo merge](../merge/advanced-merge-replication-conflict-detection-and-resolution.md).</span><span class="sxs-lookup"><span data-stu-id="11a83-114">For more information, see [Merge Replication](../merge/merge-replication.md) and [Detect and Resolve Merge Replication Conflicts](../merge/advanced-merge-replication-conflict-detection-and-resolution.md).</span></span>  
  
## <a name="understanding-conflicts-and-conflict-detection"></a><span data-ttu-id="11a83-115">Informazioni sui conflitti e sul relativo rilevamento</span><span class="sxs-lookup"><span data-stu-id="11a83-115">Understanding Conflicts and Conflict Detection</span></span>  
 <span data-ttu-id="11a83-116">In un singolo database le modifiche apportate alla stessa riga da applicazioni diverse non generano un conflitto,</span><span class="sxs-lookup"><span data-stu-id="11a83-116">In a single database, changes that are made to the same row by different applications do not cause a conflict.</span></span> <span data-ttu-id="11a83-117">in quanto le transazioni sono serializzate e vengono utilizzati blocchi per gestire le modifiche simultanee.</span><span class="sxs-lookup"><span data-stu-id="11a83-117">This is because transactions are serialized, and locks are used to handle concurrent changes.</span></span> <span data-ttu-id="11a83-118">In un sistema distribuito asincrono, ad esempio la replica peer-to-peer, le transazioni agiscono in modo indipendente su ogni nodo e non sono presenti meccanismi per serializzarle tra più nodi.</span><span class="sxs-lookup"><span data-stu-id="11a83-118">In an asynchronous distributed system such as peer-to-peer replication, transactions act independently on each node; and there is no mechanism to serialize transactions across multiple nodes.</span></span> <span data-ttu-id="11a83-119">È possibile utilizzare un protocollo come il commit 2PC, che tuttavia influisce in modo significativo sulle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="11a83-119">A protocol like two-phase commit could be used, but this affects performance significantly.</span></span>  
  
 <span data-ttu-id="11a83-120">Nei sistemi come la replica peer-to-peer i conflitti non vengono rilevati quando viene eseguito il commit delle modifiche nei singoli peer.</span><span class="sxs-lookup"><span data-stu-id="11a83-120">In systems such as peer-to-peer replication, conflicts are not detected when changes are committed at individual peers.</span></span> <span data-ttu-id="11a83-121">Vengono invece rilevati quando queste modifiche vengono replicate e applicate in altri peer.</span><span class="sxs-lookup"><span data-stu-id="11a83-121">Instead, they are detected when those changes are replicated and applied at other peers.</span></span> <span data-ttu-id="11a83-122">Nella replica peer-to-peer i conflitti vengono rilevati dalle stored procedure che applicano le modifiche a ogni nodo, in base a una colonna nascosta in ogni tabella pubblicata.</span><span class="sxs-lookup"><span data-stu-id="11a83-122">In peer-to-peer replication, conflicts are detected by the stored procedures that apply changes to each node, based on a hidden column in each published table.</span></span> <span data-ttu-id="11a83-123">Questa colonna nascosta archivia un ID costituito dalla combinazione tra un *ID origine* specificato per ogni nodo e la versione della riga.</span><span class="sxs-lookup"><span data-stu-id="11a83-123">This hidden column stores an ID that combines an *originator ID* that you specify for each node and the version of the row.</span></span> <span data-ttu-id="11a83-124">Durante la sincronizzazione, l'agente di distribuzione esegue le procedure per ogni tabella.</span><span class="sxs-lookup"><span data-stu-id="11a83-124">During synchronization, the Distribution Agent executes procedures for each table.</span></span> <span data-ttu-id="11a83-125">Queste procedure applicano le operazioni di inserimento, aggiornamento ed eliminazione da altri peer.</span><span class="sxs-lookup"><span data-stu-id="11a83-125">These procedures apply insert, update, and delete operations from other peers.</span></span> <span data-ttu-id="11a83-126">Se una delle procedure rileva un conflitto quando legge il valore della colonna nascosta, genera l'errore 22815 con un livello di gravità 16:</span><span class="sxs-lookup"><span data-stu-id="11a83-126">If one of the procedures detects a conflict when it reads the hidden column value, it raises error 22815 that has a severity level of 16:</span></span>  
  
 `A conflict of type '%s' was detected at peer %d between peer %d (incoming), transaction id %s  and peer %d (on disk), transaction id %s`  
  
 <span data-ttu-id="11a83-127">Per impostazione predefinita, a causa di questo errore l'agente di distribuzione arresta l'applicazione di modifiche a tale nodo.</span><span class="sxs-lookup"><span data-stu-id="11a83-127">By default, this error causes the Distribution Agent to stop applying changes to that node.</span></span> <span data-ttu-id="11a83-128">Per informazioni su come gestire i conflitti rilevati, vedere "Gestione dei conflitti" più avanti in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="11a83-128">For information about how to handle the conflicts that are detected, see "Handling Conflicts" later in this topic.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="11a83-129">Alla colonna nascosta può accedere solo un utente connesso tramite la connessione amministrativa dedicata (DAC, Dedicated Administrator Connection).</span><span class="sxs-lookup"><span data-stu-id="11a83-129">The hidden column can be accessed only by a user that is logged in through the Dedicated Administrator Connection (DAC).</span></span> <span data-ttu-id="11a83-130">Per informazioni sulle connessioni DAC, vedere [Connessione di diagnostica per gli amministratori di database](../../../database-engine/configure-windows/diagnostic-connection-for-database-administrators.md).</span><span class="sxs-lookup"><span data-stu-id="11a83-130">For information about DAC, see [Diagnostic Connection for Database Administrators](../../../database-engine/configure-windows/diagnostic-connection-for-database-administrators.md).</span></span>  
  
 <span data-ttu-id="11a83-131">La replica peer-to-peer rileva i tipi seguenti di conflitti:</span><span class="sxs-lookup"><span data-stu-id="11a83-131">Peer-to-peer replication detects the following types of conflicts:</span></span>  
  
-   <span data-ttu-id="11a83-132">Inserimento-inserimento</span><span class="sxs-lookup"><span data-stu-id="11a83-132">Insert-insert</span></span>  
  
     <span data-ttu-id="11a83-133">Tutte le righe di ogni tabella che partecipa alla replica peer-to-peer sono identificate in modo univoco tramite valori di chiave primaria.</span><span class="sxs-lookup"><span data-stu-id="11a83-133">All rows in each table participating in peer-to-peer replication are uniquely identified by using primary key values.</span></span> <span data-ttu-id="11a83-134">Un conflitto di tipo inserimento-inserimento si verifica quando viene inserita una riga con lo stesso valore di chiave in più di un nodo.</span><span class="sxs-lookup"><span data-stu-id="11a83-134">An insert-insert conflict occurs when a row with the same key value was inserted at more than one node.</span></span>  
  
-   <span data-ttu-id="11a83-135">Aggiornamento-aggiornamento</span><span class="sxs-lookup"><span data-stu-id="11a83-135">Update-update</span></span>  
  
     <span data-ttu-id="11a83-136">Si verifica quando la stessa riga viene aggiornata in più di un nodo.</span><span class="sxs-lookup"><span data-stu-id="11a83-136">Occurs when the same row was updated at more than one node.</span></span>  
  
-   <span data-ttu-id="11a83-137">Inserimento-aggiornamento</span><span class="sxs-lookup"><span data-stu-id="11a83-137">Insert-update</span></span>  
  
     <span data-ttu-id="11a83-138">Si verifica se una riga viene aggiornata in un nodo ma viene anche eliminata e quindi reinserita in un altro nodo.</span><span class="sxs-lookup"><span data-stu-id="11a83-138">Occurs if a row was updated at one node, but the same row was deleted and then reinserted at another node.</span></span>  
  
-   <span data-ttu-id="11a83-139">Inserimento-eliminazione</span><span class="sxs-lookup"><span data-stu-id="11a83-139">Insert-delete</span></span>  
  
     <span data-ttu-id="11a83-140">Si verifica se una riga viene eliminata in un nodo ma viene anche eliminata e quindi reinserita in un altro nodo.</span><span class="sxs-lookup"><span data-stu-id="11a83-140">Occurs if a row was deleted at one node, but the same row was deleted and then reinserted at another node.</span></span>  
  
-   <span data-ttu-id="11a83-141">Aggiornamento-eliminazione</span><span class="sxs-lookup"><span data-stu-id="11a83-141">Update-delete</span></span>  
  
     <span data-ttu-id="11a83-142">Si verifica se una riga viene aggiornata in un nodo ma viene anche eliminata in un altro nodo.</span><span class="sxs-lookup"><span data-stu-id="11a83-142">Occurs if a row was updated at one node, but the same row was deleted at another node.</span></span>  
  
-   <span data-ttu-id="11a83-143">Eliminazione-eliminazione</span><span class="sxs-lookup"><span data-stu-id="11a83-143">Delete-delete</span></span>  
  
     <span data-ttu-id="11a83-144">Si verifica quando una riga viene eliminata in più di un nodo.</span><span class="sxs-lookup"><span data-stu-id="11a83-144">Occurs when a row was deleted at more than one node.</span></span>  
  
## <a name="enabling-conflict-detection"></a><span data-ttu-id="11a83-145">Abilitazione del rilevamento dei conflitti</span><span class="sxs-lookup"><span data-stu-id="11a83-145">Enabling Conflict Detection</span></span>  
 <span data-ttu-id="11a83-146">Per usare il rilevamento dei conflitti, tutti i nodi devono eseguire [!INCLUDE[ssKatmai](../../../includes/sskatmai-md.md)] o versioni successive e il rilevamento deve essere abilitato per tutti i nodi.</span><span class="sxs-lookup"><span data-stu-id="11a83-146">To use conflict detection, all nodes must be running [!INCLUDE[ssKatmai](../../../includes/sskatmai-md.md)] or a later version; and detection must be enabled for all nodes.</span></span> <span data-ttu-id="11a83-147">In [!INCLUDE[ssKatmai](../../../includes/sskatmai-md.md)] e versioni successive il rilevamento dei conflitti è abilitato per impostazione predefinita in [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="11a83-147">In [!INCLUDE[ssKatmai](../../../includes/sskatmai-md.md)] and later versions, by default, conflict detection is enabled in [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="11a83-148">Si consiglia di lasciare abilitato il rilevamento, anche negli scenari in cui non si prevedono conflitti.</span><span class="sxs-lookup"><span data-stu-id="11a83-148">We recommend that you have detection enabled, even in scenarios in which you do not expect any conflicts.</span></span> <span data-ttu-id="11a83-149">Per abilitare e disabilitare il rilevamento dei conflitti, è possibile utilizzare le stored procedure [!INCLUDE[ssManStudio](../../../includes/ssmanstudio-md.md)] o [!INCLUDE[tsql](../../../includes/tsql-md.md)] :</span><span class="sxs-lookup"><span data-stu-id="11a83-149">Conflict detection can be enabled and disabled by using [!INCLUDE[ssManStudio](../../../includes/ssmanstudio-md.md)] or [!INCLUDE[tsql](../../../includes/tsql-md.md)] stored procedures:</span></span>  
  
-   <span data-ttu-id="11a83-150">Per abilitare e disabilitare il rilevamento in [!INCLUDE[ssManStudio](../../../includes/ssmanstudio-md.md)] , è possibile utilizzare la pagina **Opzioni della sottoscrizione** della finestra di dialogo **Proprietà pubblicazione** o la pagina **Configura topologia** della Configurazione guidata topologia peer-to-peer.</span><span class="sxs-lookup"><span data-stu-id="11a83-150">You can enable and disable detection in [!INCLUDE[ssManStudio](../../../includes/ssmanstudio-md.md)] either by using the **Subscription Options** page of the **Publication Properties** dialog box or the **Configure Topology** page of the Configure Peer-to-Peer Topology Wizard.</span></span>  
  
     <span data-ttu-id="11a83-151">Se si configura il rilevamento dei conflitti utilizzando [!INCLUDE[ssManStudio](../../../includes/ssmanstudio-md.md)], l'agente di distribuzione viene configurato per arrestare l'applicazione di modifiche quando viene rilevato un conflitto.</span><span class="sxs-lookup"><span data-stu-id="11a83-151">If you configure conflict detection by using [!INCLUDE[ssManStudio](../../../includes/ssmanstudio-md.md)], the Distribution Agent is configured to stop applying changes when a conflict is detected.</span></span>  
  
-   <span data-ttu-id="11a83-152">Per abilitare e disabilitare il rilevamento, è anche possibile utilizzare le stored procedure seguenti: [sp_addpublication](/sql/relational-databases/system-stored-procedures/sp-addpublication-transact-sql) o [sp_configure_peerconflictdetection](/sql/relational-databases/system-stored-procedures/sp-configure-peerconflictdetection-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="11a83-152">You can also enable and disable detection by using the following stored procedures: [sp_addpublication](/sql/relational-databases/system-stored-procedures/sp-addpublication-transact-sql) or [sp_configure_peerconflictdetection](/sql/relational-databases/system-stored-procedures/sp-configure-peerconflictdetection-transact-sql).</span></span>  
  
     <span data-ttu-id="11a83-153">Se si configura il rilevamento dei conflitti utilizzando le stored procedure, è possibile specificare se l'agente di distribuzione deve arrestare l'applicazione di modifiche quando viene rilevato un conflitto.</span><span class="sxs-lookup"><span data-stu-id="11a83-153">If you configure conflict detection by using stored procedures, you can specify whether the Distribution Agent should stop applying changes when a conflict is detected.</span></span> <span data-ttu-id="11a83-154">Per impostazione predefinita, l'agente si arresta.</span><span class="sxs-lookup"><span data-stu-id="11a83-154">The default is for the agent to stop.</span></span> <span data-ttu-id="11a83-155">È consigliabile utilizzare l'impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="11a83-155">We recommend that you use the default setting.</span></span>  
  
## <a name="handling-conflicts"></a><span data-ttu-id="11a83-156">Gestione dei conflitti</span><span class="sxs-lookup"><span data-stu-id="11a83-156">Handling Conflicts</span></span>  
 <span data-ttu-id="11a83-157">Quando si verifica un conflitto nella replica peer-to-peer, viene generato l'avviso di rilevamento dei conflitti peer-to-peer.</span><span class="sxs-lookup"><span data-stu-id="11a83-157">When a conflict occurs in peer-to-peer replication, the Peer-to-peer conflict detection alert is raised.</span></span> <span data-ttu-id="11a83-158">Si consiglia di configurare questo avviso in modo da ricevere una notifica quando si verifica un conflitto.</span><span class="sxs-lookup"><span data-stu-id="11a83-158">We recommend that you configure this alert so that you are notified when a conflict occurs.</span></span> <span data-ttu-id="11a83-159">Per altre informazioni sugli avvisi, vedere [Usare gli avvisi per gli eventi degli agenti di replica](../agents/use-alerts-for-replication-agent-events.md).</span><span class="sxs-lookup"><span data-stu-id="11a83-159">For more information about alerts, see [Use Alerts for Replication Agent Events](../agents/use-alerts-for-replication-agent-events.md).</span></span>  
  
 <span data-ttu-id="11a83-160">Dopo l'arresto dell'agente di distribuzione e la generazione dell'avviso, utilizzare uno degli approcci seguenti per gestire i conflitti che si sono verificati:</span><span class="sxs-lookup"><span data-stu-id="11a83-160">After the Distribution Agent stops and the alert is raised, use one of the following approaches to handle the conflicts that occurred:</span></span>  
  
-   <span data-ttu-id="11a83-161">Reinizializzare il nodo in cui è stato rilevato il conflitto dal backup di un nodo contenente i dati necessari (approccio consigliato).</span><span class="sxs-lookup"><span data-stu-id="11a83-161">Reinitialize the node where the conflict was detected from the backup of a node that contains the required data (the recommended approach).</span></span> <span data-ttu-id="11a83-162">Questo metodo assicura che i dati siano in uno stato coerente.</span><span class="sxs-lookup"><span data-stu-id="11a83-162">This method ensures that data is in a consistent state.</span></span>  
  
-   <span data-ttu-id="11a83-163">Tentare di sincronizzare nuovamente il nodo consentendo all'agente di distribuzione di continuare ad applicare le modifiche:</span><span class="sxs-lookup"><span data-stu-id="11a83-163">Try to synchronize the node again by enabling the Distribution Agent to continue to apply changes:</span></span>  
  
    1.  <span data-ttu-id="11a83-164">Execute [sp_changepublication](/sql/relational-databases/system-stored-procedures/sp-changepublication-transact-sql): specificare ' p2p_continue_onconflict ' per il @property parametro e `true` per il @value parametro.</span><span class="sxs-lookup"><span data-stu-id="11a83-164">Execute [sp_changepublication](/sql/relational-databases/system-stored-procedures/sp-changepublication-transact-sql): specify 'p2p_continue_onconflict' for the @property parameter and `true` for the @value parameter.</span></span>  
  
    2.  <span data-ttu-id="11a83-165">Riavviare l'agente di distribuzione.</span><span class="sxs-lookup"><span data-stu-id="11a83-165">Restart the Distribution Agent.</span></span>  
  
    3.  <span data-ttu-id="11a83-166">Verificare i conflitti rilevati utilizzando il Visualizzatore conflitti e determinare le righe coinvolte, il tipo di conflitto e la riga in conflitto confermata.</span><span class="sxs-lookup"><span data-stu-id="11a83-166">Verify the conflicts that were detected by using the conflict viewer and determine the rows that were involved, the type of conflict, and the winner.</span></span> <span data-ttu-id="11a83-167">Il conflitto viene risolto in base al valore di ID origine specificato durante la configurazione: la riga che ha origine nel nodo con l'ID più alto è la riga in conflitto confermata.</span><span class="sxs-lookup"><span data-stu-id="11a83-167">The conflict is resolved based on the originator ID value that you specified during configuration: the row that originated at the node with the highest ID wins the conflict.</span></span> <span data-ttu-id="11a83-168">Per altre informazioni, vedere [Visualizzare i conflitti di dati per le pubblicazioni transazionali &#40;SQL Server Management Studio&#41;](../view-data-conflicts-for-transactional-publications-sql-server-management-studio.md).</span><span class="sxs-lookup"><span data-stu-id="11a83-168">For more information, see [View Data Conflicts for Transactional Publications &#40;SQL Server Management Studio&#41;](../view-data-conflicts-for-transactional-publications-sql-server-management-studio.md).</span></span>  
  
    4.  <span data-ttu-id="11a83-169">Eseguire la convalida per assicurare la corretta convergenza delle righe in conflitto.</span><span class="sxs-lookup"><span data-stu-id="11a83-169">Run validation to ensure that the conflicting rows converged correctly.</span></span> <span data-ttu-id="11a83-170">Per altre informazioni, vedere [Convalidare i dati replicati](../validate-data-at-the-subscriber.md).</span><span class="sxs-lookup"><span data-stu-id="11a83-170">For more information, see [Validate Replicated Data](../validate-data-at-the-subscriber.md).</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="11a83-171">Se i dati sono incoerenti dopo questo passaggio, è necessario aggiornare manualmente le righe sul nodo con la massima priorità, quindi consentire la propagazione delle modifiche da questo nodo.</span><span class="sxs-lookup"><span data-stu-id="11a83-171">If data is inconsistent after this step, you must manually update rows on the node that has the highest priority, and then let the changes propagate from this node.</span></span> <span data-ttu-id="11a83-172">Se non sono presenti ulteriori modifiche in conflitto nella topologia, tutti i nodi verranno portati in uno stato coerente.</span><span class="sxs-lookup"><span data-stu-id="11a83-172">If there are no further conflicting changes in the topology, all nodes will be brought to a consistent state.</span></span>  
  
    5.  <span data-ttu-id="11a83-173">Execute [sp_changepublication](/sql/relational-databases/system-stored-procedures/sp-changepublication-transact-sql): specificare ' p2p_continue_onconflict ' per il @property parametro e `false` per il @value parametro.</span><span class="sxs-lookup"><span data-stu-id="11a83-173">Execute [sp_changepublication](/sql/relational-databases/system-stored-procedures/sp-changepublication-transact-sql): specify 'p2p_continue_onconflict' for the @property parameter and `false` for the @value parameter.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="11a83-174">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="11a83-174">See Also</span></span>  
 [<span data-ttu-id="11a83-175">Peer-to-Peer Transactional Replication</span><span class="sxs-lookup"><span data-stu-id="11a83-175">Peer-to-Peer Transactional Replication</span></span>](peer-to-peer-transactional-replication.md)  
  
  
