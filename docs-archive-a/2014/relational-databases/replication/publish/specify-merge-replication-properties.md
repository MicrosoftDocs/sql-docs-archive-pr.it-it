---
title: Specificare le proprietà della replica di tipo merge | Microsoft Docs
ms.custom: ''
ms.date: 11/29/2018
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- merge replication [SQL Server replication], about merge replication
- merge replication [SQL Server replication]
ms.assetid: ff87c368-4c00-4e48-809d-ea752839551e
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 3b2e66b7ed26420093166445a478bfec7f1dd21d
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87719853"
---
# <a name="specify-merge-replication-properties"></a><span data-ttu-id="d4a5e-102">Specificare le proprietà della replica di tipo merge</span><span class="sxs-lookup"><span data-stu-id="d4a5e-102">Specify Merge Replication Properties</span></span>
<span data-ttu-id="d4a5e-103">Questo argomento illustra come specificare varie proprietà per la replica di tipo merge.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-103">This topic explains how to specify various properties for your merge replication.</span></span> 


## <a name="download-only"></a><span data-ttu-id="d4a5e-104">Solo download</span><span class="sxs-lookup"><span data-stu-id="d4a5e-104">Download-only</span></span>
  <span data-ttu-id="d4a5e-105">In questa sezione viene descritto come specificare che un articolo di tabella di merge è di solo download in utilizzando [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] o [!INCLUDE[tsql](../../../includes/tsql-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="d4a5e-105">This section describes how to specify that a merge table article is download-only in [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] by using [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] or [!INCLUDE[tsql](../../../includes/tsql-md.md)].</span></span> <span data-ttu-id="d4a5e-106">Gli articoli di solo download sono progettati per le applicazioni i cui dati non vengono aggiornati nei Sottoscrittori.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-106">Download-only articles are designed for applications with data that is not updated at Subscribers.</span></span> <span data-ttu-id="d4a5e-107">Per altre informazioni, vedere [Ottimizzare le prestazioni della replica di tipo merge con gli articoli di solo download](../merge/optimize-merge-replication-performance-with-download-only-articles.md).</span><span class="sxs-lookup"><span data-stu-id="d4a5e-107">For more information, see [Optimize Merge Replication Performance with Download-Only Articles](../merge/optimize-merge-replication-performance-with-download-only-articles.md).</span></span>  
 
  
###  <a name="limitations-and-restrictions"></a><span data-ttu-id="d4a5e-108">Limitazioni e restrizioni</span><span class="sxs-lookup"><span data-stu-id="d4a5e-108">Limitations and Restrictions</span></span>  
  
-   <span data-ttu-id="d4a5e-109">Se si specifica che un articolo è di tipo solo download dopo l'inizializzazione delle sottoscrizioni, tutte le sottoscrizioni client a cui è stato inviato l'articolo devono essere reinizializzate.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-109">If you specify that an article is download-only after subscriptions have been initialized, all client subscriptions that received the article must be reinitialized.</span></span> <span data-ttu-id="d4a5e-110">Non è necessario reinizializzare le sottoscrizioni server.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-110">Server subscriptions do not have to be reinitialized.</span></span> <span data-ttu-id="d4a5e-111">Per altre informazioni sugli effetti delle modifiche delle proprietà, vedere [Modifica delle proprietà di pubblicazioni e articoli](change-publication-and-article-properties.md).</span><span class="sxs-lookup"><span data-stu-id="d4a5e-111">For more information on the effects of property changes, see [Change Publication and Article Properties](change-publication-and-article-properties.md).</span></span>  
  
### <a name="using-sql-server-management-studio"></a><span data-ttu-id="d4a5e-112">Utilizzare SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="d4a5e-112">Using SQL Server Management Studio</span></span>  
 <span data-ttu-id="d4a5e-113">Consente di specificare che un articolo è di solo download nella pagina **articoli** della creazione guidata nuova pubblicazione o nella scheda **Proprietà** della finestra di dialogo **Proprietà articolo \<Article> -** .</span><span class="sxs-lookup"><span data-stu-id="d4a5e-113">Specify that an article is download-only on the **Articles** page of the New Publication Wizard or the **Properties** tab of the **Article Properties - \<Article>** dialog box.</span></span> <span data-ttu-id="d4a5e-114">Questa finestra di dialogo è disponibile nella Creazione guidata nuova pubblicazione e nella finestra di dialogo **Proprietà pubblicazione - \<Publication>** .</span><span class="sxs-lookup"><span data-stu-id="d4a5e-114">This dialog box is available in the New Publication Wizard and the **Publication Properties - \<Publication>** dialog box.</span></span> <span data-ttu-id="d4a5e-115">Per altre informazioni sull'uso della creazione guidata e l'accesso alla finestra di dialogo, vedere [Creare una pubblicazione](../publish/create-a-publication.md) e [Visualizzare e modificare le proprietà della pubblicazione](../publish/view-and-modify-publication-properties.md).</span><span class="sxs-lookup"><span data-stu-id="d4a5e-115">For more information about using the wizard and accessing the dialog box, see [Create a Publication](../publish/create-a-publication.md) and [View and Modify Publication Properties](../publish/view-and-modify-publication-properties.md).</span></span>  
  
#### <a name="to-specify-that-an-article-is-download-only-on-the-articles-page"></a><span data-ttu-id="d4a5e-116">Per specificare che un articolo è di tipo solo download nella pagina Articoli</span><span class="sxs-lookup"><span data-stu-id="d4a5e-116">To specify that an article is download-only on the Articles page</span></span>  
  
-   <span data-ttu-id="d4a5e-117">Selezionare una tabella nella pagina **Articoli** di Creazione guidata nuova pubblicazione e quindi selezionare la casella di controllo **La tabella evidenziata è di tipo solo download**.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-117">On the **Articles** page of the New Publication Wizard select a table, and then select the checkbox **Highlighted table is download-only**.</span></span> 
  
#### <a name="to-specify-that-an-article-is-download-only-on-the-properties-tab-of-the-article-properties---article-dialog-box"></a><span data-ttu-id="d4a5e-118">Per specificare che un articolo è di solo download nella scheda proprietà della finestra di dialogo Proprietà articolo- \<Article></span><span class="sxs-lookup"><span data-stu-id="d4a5e-118">To specify that an article is download-only on the Properties tab of the Article Properties - \<Article> dialog box</span></span>  
  
1.  <span data-ttu-id="d4a5e-119">Nella pagina **Articoli** della Creazione guidata nuova pubblicazione o nella finestra di dialogo **Proprietà pubblicazione - \<Publication>** selezionare una tabella e quindi fare clic su **Proprietà articolo**.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-119">On the **Articles** page of the New Publication Wizard or the **Publication Properties - \<Publication>** dialog box, select a table, and then click **Article Properties**.</span></span>    
2.  <span data-ttu-id="d4a5e-120">Fare clic su **Imposta proprietà dell'articolo di tabelle evidenziato** o su **Imposta proprietà di tutti gli articoli di tabelle**.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-120">Click **Set Properties of Highlighted Table Article** or **Set Properties of All Table Articles**.</span></span>    
3.  <span data-ttu-id="d4a5e-121">Nella sezione **Oggetto di destinazione** della scheda **Proprietà** della finestra di dialogo **Proprietà articolo - \<Article>** specificare uno dei valori seguenti in **Direzione sincronizzazione**:</span><span class="sxs-lookup"><span data-stu-id="d4a5e-121">In the **Destination Object** section of the **Properties** tab of the **Article Properties - \<Article>** dialog box, specify one of the following values for **Synchronization direction**:</span></span>    
    -   <span data-ttu-id="d4a5e-122">**Solo download sul Sottoscrittore, non consentire modifiche del Sottoscrittore**</span><span class="sxs-lookup"><span data-stu-id="d4a5e-122">**Download to Subscriber, prohibit Subscriber changes**</span></span>    
    -   <span data-ttu-id="d4a5e-123">**Solo download sul Sottoscrittore, consenti modifiche del Sottoscrittore**</span><span class="sxs-lookup"><span data-stu-id="d4a5e-123">**Download to Subscriber, allow Subscriber changes**</span></span>  
  
4.  <span data-ttu-id="d4a5e-124">Se è visualizzata la finestra di dialogo **Proprietà pubblicazione - \<Publication>** fare clic su **OK** per salvare e chiudere la finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-124">If you are in the **Publication Properties - \<Publication>** dialog box, click **OK** to save and close the dialog box.</span></span>    

###  <a name="using-transact-sql"></a><span data-ttu-id="d4a5e-125">Uso di Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="d4a5e-125">Using Transact-SQL</span></span>  
  
#### <a name="to-specify-that-a-new-merge-table-article-is-download-only"></a><span data-ttu-id="d4a5e-126">Per specificare che un nuovo articolo di tabella di merge è di solo download</span><span class="sxs-lookup"><span data-stu-id="d4a5e-126">To specify that a new merge table article is download-only</span></span>    
1.  <span data-ttu-id="d4a5e-127">Eseguire [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql), specificando il valore **1** o **2** per il parametro \*\* \@ subscriber_upload_options\*\*.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-127">Execute [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql), specifying a value of **1** or **2** for the parameter **\@subscriber_upload_options**.</span></span> <span data-ttu-id="d4a5e-128">I numeri corrispondono al comportamento seguente:</span><span class="sxs-lookup"><span data-stu-id="d4a5e-128">The numbers correspond to the following behavior:</span></span>  
  
    -   <span data-ttu-id="d4a5e-129">**0** : nessuna restrizione (valore predefinito).</span><span class="sxs-lookup"><span data-stu-id="d4a5e-129">**0** - No restrictions (default).</span></span> <span data-ttu-id="d4a5e-130">Le modifiche eseguite nel Sottoscrittore vengono caricate nel server di pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-130">Changes made at the Subscriber are uploaded to the Publisher.</span></span>    
    -   <span data-ttu-id="d4a5e-131">**1** : le modifiche sono consentite nel Sottoscrittore, ma non vengono caricate nel server di pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-131">**1** - Changes are allowed at the Subscriber, but they are not uploaded to the Publisher.</span></span>    
    -   <span data-ttu-id="d4a5e-132">**2** : non è consentito apportare modifiche nel Sottoscrittore.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-132">**2** - Changes are not allowed at the Subscriber.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="d4a5e-133">Se la tabella di origine di un articolo è già pubblicata in un'altra pubblicazione, il valore di \*\* \@ subscriber_upload_options\*\* deve essere lo stesso per entrambi gli articoli.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-133">If the source table for an article is already published in another publication, the value of **\@subscriber_upload_options** must be the same for both articles.</span></span>  
  
#### <a name="to-modify-an-existing-merge-table-article-to-be-download-only"></a><span data-ttu-id="d4a5e-134">Per impostare il tipo di un articolo di tabella di merge esistente su solo download</span><span class="sxs-lookup"><span data-stu-id="d4a5e-134">To modify an existing merge table article to be download-only</span></span>  
  
1.  <span data-ttu-id="d4a5e-135">Per determinare se un articolo è di tipo solo download, eseguire [sp_helpmergearticle](/sql/relational-databases/system-stored-procedures/sp-helpmergearticle-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="d4a5e-135">To determine if an article is download-only, execute [sp_helpmergearticle](/sql/relational-databases/system-stored-procedures/sp-helpmergearticle-transact-sql).</span></span> <span data-ttu-id="d4a5e-136">Si noti il valore di **upload_options** relativo all'articolo nel set di risultati.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-136">Note the value of **upload_options** for the article in the result set.</span></span>    
2.  <span data-ttu-id="d4a5e-137">Se il valore restituito nel passaggio 1 è **0**, eseguire [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql), specificando il valore **subscriber_upload_options** per \*\* \@ property**, il valore **1** per \*\* \@ force_invalidate_snapshot** e \*\* \@ force_reinit_subscription**e il valore **1** o **2** per \*\* \@ value**, che corrisponde al comportamento seguente:</span><span class="sxs-lookup"><span data-stu-id="d4a5e-137">If the value returned in step 1 is **0**, execute [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql), specifying a value of **subscriber_upload_options** for **\@property**, a value of **1** for **\@force_invalidate_snapshot** and **\@force_reinit_subscription**, and a value of **1** or **2** for **\@value**, which corresponds to the following behavior:</span></span>  
  
    -   <span data-ttu-id="d4a5e-138">**1** : le modifiche sono consentite nel Sottoscrittore, ma non vengono caricate nel server di pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-138">**1** - Changes are allowed at the Subscriber, but they are not uploaded to the Publisher.</span></span>    
    -   <span data-ttu-id="d4a5e-139">**2** : non è consentito apportare modifiche nel Sottoscrittore.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-139">**2** - Changes are not allowed at the Subscriber.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="d4a5e-140">Se la tabella di origine di un articolo è già inclusa in un'altra pubblicazione, il comportamento del solo download deve coincidere per entrambi gli articoli.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-140">If the source table for an article is already published in another publication, the download-only behavior must be the same for both articles.</span></span>  
 
## <a name=""></a><span data-ttu-id="d4a5e-141"><a name="interactive-conflict-resolution">Risoluzione interattiva dei conflitti</a></span><span class="sxs-lookup"><span data-stu-id="d4a5e-141"><a name="interactive-conflict-resolution">Interactive conflict resolution</a></span></span>
[!INCLUDE[msCoName](../../../includes/msconame-md.md)]<span data-ttu-id="d4a5e-142">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]la replica fornisce un sistema di risoluzione interattivo che consente di risolvere i conflitti manualmente durante la sincronizzazione su richiesta in [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Gestione sincronizzazione Microsoft Windows.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-142">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] replication provides an Interactive Resolver, which allows you to resolve conflicts manually during on-demand synchronization in [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Windows Synchronization Manager.</span></span> <span data-ttu-id="d4a5e-143">Dopo l'abilitazione della risoluzione interattiva, risolvere interattivamente i conflitti durante la sincronizzazione utilizzando il sistema di risoluzione interattivo.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-143">After interactive resolution is enabled, resolve conflicts interactively during synchronization, using the Interactive Resolver.</span></span> <span data-ttu-id="d4a5e-144">Il sistema di risoluzione interattivo è disponibile tramite Gestione sincronizzazione [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Windows.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-144">The Interactive Resolver is available through the [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Windows Synchronization Manager.</span></span> <span data-ttu-id="d4a5e-145">Per altre informazioni, vedere [Sincronizzare una sottoscrizione mediante Gestione sincronizzazione Microsoft Windows &#40;Gestione sincronizzazione Microsoft Windows&#41;](../synchronize-a-subscription-using-windows-synchronization-manager.md).</span><span class="sxs-lookup"><span data-stu-id="d4a5e-145">For more information, see [Synchronize a Subscription Using Windows Synchronization Manager &#40;Windows Synchronization Manager&#41;](../synchronize-a-subscription-using-windows-synchronization-manager.md).</span></span>  
  
    
###  <a name="recommendations"></a><a name="Recommendations"></a> <span data-ttu-id="d4a5e-146">Indicazioni</span><span class="sxs-lookup"><span data-stu-id="d4a5e-146">Recommendations</span></span>  
  
-   <span data-ttu-id="d4a5e-147">Se si esegue una sincronizzazione all'esterno di Gestione sincronizzazione Microsoft Windows, ad esempio una sincronizzazione pianificata o su richiesta in SQL Server Management Studio o Monitoraggio replica, i conflitti vengono risolti automaticamente senza l'intervento dell'utente, utilizzando la risoluzione dei conflitti predefinita specificata per l'articolo.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-147">If a synchronization is performed outside of Windows Synchronization Manager (as a scheduled synchronization or an on demand synchronization in SQL Server Management Studio or Replication Monitor), conflicts are resolved automatically without user intervention, using the default conflict resolution specified for the article.</span></span> <span data-ttu-id="d4a5e-148">Per altre informazioni, vedere [Interactive Conflict Resolution](../merge/advanced-merge-replication-conflict-interactive-resolution.md).</span><span class="sxs-lookup"><span data-stu-id="d4a5e-148">For more information, see [Interactive Conflict Resolution](../merge/advanced-merge-replication-conflict-interactive-resolution.md).</span></span>  
  
###  <a name="using-sql-server-management-studio"></a><span data-ttu-id="d4a5e-149">Utilizzare SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="d4a5e-149">Using SQL Server Management Studio</span></span>  
  
#### <a name="enable-interactive-conflict-resolution-for-an-article"></a><span data-ttu-id="d4a5e-150">Abilitare la risoluzione interattiva dei conflitti per un articolo</span><span class="sxs-lookup"><span data-stu-id="d4a5e-150">Enable interactive conflict resolution for an article</span></span>  
  
1.  <span data-ttu-id="d4a5e-151">Selezionare una tabella nella pagina **Articoli** della Creazione guidata nuova pubblicazione o nella finestra di dialogo **Proprietà pubblicazione - \<Publication>** .</span><span class="sxs-lookup"><span data-stu-id="d4a5e-151">On the **Articles** page of the New Publication Wizard or the **Publication Properties - \<Publication>** dialog box, select a table.</span></span> <span data-ttu-id="d4a5e-152">Per altre informazioni sull'uso della creazione guidata e l'accesso alla finestra di dialogo, vedere [Creare una pubblicazione](create-a-publication.md) e [Visualizzare e modificare le proprietà della pubblicazione](view-and-modify-publication-properties.md).</span><span class="sxs-lookup"><span data-stu-id="d4a5e-152">For more information about using the wizard and accessing the dialog box, see [Create a Publication](create-a-publication.md) and [View and Modify Publication Properties](view-and-modify-publication-properties.md).</span></span>    
2.  <span data-ttu-id="d4a5e-153">Fare clic su **Proprietà articolo**, quindi su **Imposta proprietà dell'articolo di tabella evidenziato** o su **Imposta proprietà di tutti gli articoli di tabelle**.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-153">Click **Article Properties**, and then click **Set Properties of Highlighted Table Article** or **Set Properties of All Table Articles**.</span></span>    
3.  <span data-ttu-id="d4a5e-154">Nella pagina **Proprietà articolo - \<Article>** o **Proprietà articolo - \<ArticleType>** fare clic sulla scheda **Sistema di risoluzione**.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-154">On the **Article Properties - \<Article>** or **Article Properties - \<ArticleType>** page, click the **Resolver** tab.</span></span>    
4.  <span data-ttu-id="d4a5e-155">Selezionare **Consenti la risoluzione interattiva dei conflitti nel Sottoscrittore durante la sincronizzazione su richiesta**.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-155">Select **Allow Subscriber to resolve conflicts interactively during on-demand synchronization**.</span></span>    
5.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]    
6.  <span data-ttu-id="d4a5e-156">Se è visualizzata la finestra di dialogo **Proprietà pubblicazione - \<Publication>** fare clic su **OK** per salvare e chiudere la finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-156">If you are in the **Publication Properties - \<Publication>** dialog box, click **OK** to save and close the dialog box.</span></span>  
  
#### <a name="to-specify-that-a-subscription-should-use-interactive-conflict-resolution"></a><span data-ttu-id="d4a5e-157">Per specificare che in una sottoscrizione dovrà essere utilizzata la risoluzione interattiva dei conflitti</span><span class="sxs-lookup"><span data-stu-id="d4a5e-157">To specify that a subscription should use interactive conflict resolution</span></span>  
  
1.  <span data-ttu-id="d4a5e-158">Nella finestra di dialogo **Proprietà sottoscrizione - \<Subscriber>: \<SubscriptionDatabase>** specificare il valore **Vero** per l'opzione **Risoluzione interattiva dei conflitti**.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-158">In the **Subscription Properties - \<Subscriber>: \<SubscriptionDatabase>** dialog box, specify a value of **True** for the **Resolve conflicts interactively** option.</span></span> <span data-ttu-id="d4a5e-159">Per ulteriori informazioni sull'accesso a questa finestra di dialogo, vedere [View and Modify Push Subscription Properties](../view-and-modify-push-subscription-properties.md) e [View and Modify Pull Subscription Properties](../view-and-modify-pull-subscription-properties.md).</span><span class="sxs-lookup"><span data-stu-id="d4a5e-159">For more information about accessing this dialog box, see [View and Modify Push Subscription Properties](../view-and-modify-push-subscription-properties.md) and [View and Modify Pull Subscription Properties](../view-and-modify-pull-subscription-properties.md).</span></span> 
2.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
### <a name="using-transact-sql"></a><span data-ttu-id="d4a5e-160">Uso di Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="d4a5e-160">Using Transact-SQL</span></span>  
 <span data-ttu-id="d4a5e-161">È possibile impostare a livello di programmazione un Sottoscrittore in modo che utilizzi questa interfaccia grafica per risolvere conflitti relativi agli articoli quando viene creata una sottoscrizione pull di una pubblicazione di tipo merge.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-161">You can programmatically specify that a Subscriber will use this graphical interface to resolve article conflicts when a pull subscription to a merge publication is created.</span></span> <span data-ttu-id="d4a5e-162">Nel sistema di risoluzione interattivo verranno visualizzati solo i conflitti relativi ad articoli che supportano questa opzione.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-162">Only conflicts in articles that support this option will be displayed in the Interactive Resolver.</span></span>  
  
#### <a name="create-a-merge-pull-subscription-that-uses-the-interactive-resolver"></a><span data-ttu-id="d4a5e-163">Creare una sottoscrizione pull di tipo merge che usa il sistema di risoluzione interattivo</span><span class="sxs-lookup"><span data-stu-id="d4a5e-163">Create a merge pull subscription that uses the Interactive Resolver</span></span>  
  
1.  <span data-ttu-id="d4a5e-164">Nel database di pubblicazione del server di pubblicazione eseguire [sp_helpmergearticle](/sql/relational-databases/system-stored-procedures/sp-helpmergepublication-transact-sql), specificando \*\* \@ Publication\*\*.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-164">At the Publisher on the publication database, execute [sp_helpmergearticle](/sql/relational-databases/system-stored-procedures/sp-helpmergepublication-transact-sql), specifying **\@publication**.</span></span> <span data-ttu-id="d4a5e-165">Notare il valore di **allow_interactive_resolver** relativo a ogni articolo nel set di risultati per il quale verrà utilizzato il sistema di risoluzione interattivo.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-165">Note the value of **allow_interactive_resolver** for each article in the result set for which the Interactive Resolver will be used.</span></span>    
    -   <span data-ttu-id="d4a5e-166">Se questo valore è **1**, il sistema di risoluzione interattivo verrà utilizzato.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-166">If this value is **1**, the Interactive Resolver will be used.</span></span>    
    -   <span data-ttu-id="d4a5e-167">Se questo valore è **0**, è prima necessario attivare il sistema di risoluzione interattivo per ogni articolo.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-167">If this value is **0**, you must first enable the Interactive Resolver for each article.</span></span> <span data-ttu-id="d4a5e-168">A tale scopo, eseguire [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql), specificando \*\* \@ Publication**, \*\* \@ article**, il valore **allow_interactive_resolver** per \*\* \@ Property**e il valore **true** per \*\* \@ value**.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-168">To do this, execute [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql), specifying **\@publication**, **\@article**, a value of **allow_interactive_resolver** for **\@property**, and a value of **true** for **\@value**.</span></span>    
2.  <span data-ttu-id="d4a5e-169">Nel database di sottoscrizione del Sottoscrittore eseguire [sp_addmergepullsubscription](/sql/relational-databases/system-stored-procedures/sp-addmergepullsubscription-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="d4a5e-169">At the Subscriber on the subscription database, execute [sp_addmergepullsubscription](/sql/relational-databases/system-stored-procedures/sp-addmergepullsubscription-transact-sql).</span></span> <span data-ttu-id="d4a5e-170">Per altre informazioni, vedere [Creazione di una sottoscrizione pull](../create-a-pull-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="d4a5e-170">For more information, see [Create a Pull Subscription](../create-a-pull-subscription.md).</span></span>    
3.  <span data-ttu-id="d4a5e-171">Nel database di sottoscrizione del Sottoscrittore eseguire [sp_addmergepullsubscription_agent](/sql/relational-databases/system-stored-procedures/sp-addmergepullsubscription-agent-transact-sql)specificando i parametri seguenti:</span><span class="sxs-lookup"><span data-stu-id="d4a5e-171">At the Subscriber on the subscription database, execute [sp_addmergepullsubscription_agent](/sql/relational-databases/system-stored-procedures/sp-addmergepullsubscription-agent-transact-sql), specifying the following parameters:</span></span>  
  
    -   <span data-ttu-id="d4a5e-172">\*\* \@ server di pubblicazione**, \*\* \@ publisher_db** (database pubblicato) e \*\* \@ pubblicazione\*\*.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-172">**\@publisher**, **\@publisher_db** (the published database), and **\@publication**.</span></span>    
    -   <span data-ttu-id="d4a5e-173">Valore **true** per \*\* \@ enabled_for_syncmgr\*\*.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-173">A value of **true** for **\@enabled_for_syncmgr**.</span></span>    
    -   <span data-ttu-id="d4a5e-174">Valore **true** per \*\* \@ use_interactive_resolver\*\*.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-174">A value of **true** for **\@use_interactive_resolver**.</span></span>    
    -   <span data-ttu-id="d4a5e-175">Le informazioni sull'account di sicurezza richieste dall'agente di merge.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-175">The security account information required by the Merge Agent.</span></span> <span data-ttu-id="d4a5e-176">Per altre informazioni, vedere [Creazione di una sottoscrizione pull](../create-a-pull-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="d4a5e-176">For more information, see [Create a Pull Subscription](../create-a-pull-subscription.md).</span></span>    
4.  <span data-ttu-id="d4a5e-177">Nel database di pubblicazione del server di pubblicazione eseguire [sp_addmergesubscription](/sql/relational-databases/system-stored-procedures/sp-addmergesubscription-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="d4a5e-177">At the Publisher on the publication database, execute [sp_addmergesubscription](/sql/relational-databases/system-stored-procedures/sp-addmergesubscription-transact-sql).</span></span>  
  
#### <a name="define-an-article-that-supports-the-interactive-resolver"></a><span data-ttu-id="d4a5e-178">Definire un articolo che supporta il sistema di risoluzione interattivo</span><span class="sxs-lookup"><span data-stu-id="d4a5e-178">Define an article that supports the Interactive Resolver</span></span>  
  
<span data-ttu-id="d4a5e-179">Nel database di pubblicazione del server di pubblicazione eseguire [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="d4a5e-179">At the Publisher on the publication database, execute [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql).</span></span> <span data-ttu-id="d4a5e-180">Specificare il nome della pubblicazione cui appartiene l'articolo per la \*\* \@ pubblicazione\*\*, il nome dell' **articolo per l'articolo, \@ **l'oggetto di database da pubblicare per \*\* \@ source_object**e il valore **true** per \*\* \@ allow_interactive_resolver**.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-180">Specify the name of the publication to which the article belongs for **\@publication**, a name for the article for **\@article**, the database object being published for **\@source_object**, and a value of **true** for **\@allow_interactive_resolver**.</span></span> <span data-ttu-id="d4a5e-181">Per altre informazioni, vedere [definire un articolo](define-an-article.md).</span><span class="sxs-lookup"><span data-stu-id="d4a5e-181">For more information, see [Define an Article](define-an-article.md).</span></span>  

## <a name="specify-the-conflict-tracking-and-resolution-level"></a><span data-ttu-id="d4a5e-182">Specificare il livello di rilevamento e risoluzione dei conflitti</span><span class="sxs-lookup"><span data-stu-id="d4a5e-182">Specify the Conflict Tracking and Resolution Level</span></span> 
<span data-ttu-id="d4a5e-183">Quando si sincronizza una sottoscrizione di una pubblicazione di tipo merge, la replica verifica la presenza di conflitti causati dalle modifiche apportate agli stessi dati nel server di pubblicazione e nel Sottoscrittore.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-183">When a subscription to a merge publication is synchronized, replication checks for conflicts caused by changes to the same data made at both the Publisher and the Subscriber.</span></span> <span data-ttu-id="d4a5e-184">È possibile specificare se rilevare i conflitti a livello di riga, ovvero considerare un conflitto qualsiasi modifica apportata alla riga, o a livello di colonna, ovvero considerare un conflitto solo le modifiche apportate alla stessa riga e colonna.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-184">You can specify whether conflicts are detected at the row-level, where any change to the row is considered a conflict, or column-level, where only changes to the same row and column are considered a conflict.</span></span> <span data-ttu-id="d4a5e-185">La risoluzione dei conflitti relativi agli articoli viene eseguita a livello di riga.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-185">Conflict resolution for articles is performed at the row-level.</span></span> <span data-ttu-id="d4a5e-186">Per ulteriori informazioni sul rilevamento e sulla risoluzione dei conflitti in caso di utilizzo dei record logici, vedere [Detecting and Resolving Conflicts in Logical Records](../merge/advanced-merge-replication-conflict-resolving-in-logical-record.md).</span><span class="sxs-lookup"><span data-stu-id="d4a5e-186">For more information about conflict detection and resolution when logical records are used, see [Detecting and Resolving Conflicts in Logical Records](../merge/advanced-merge-replication-conflict-resolving-in-logical-record.md).</span></span>  
  

  
###  <a name="limitations-and-restrictions"></a><a name="Restrictions"></a> <span data-ttu-id="d4a5e-187">Limitazioni e restrizioni</span><span class="sxs-lookup"><span data-stu-id="d4a5e-187">Limitations and Restrictions</span></span>  
  
-   <span data-ttu-id="d4a5e-188">Se si modifica il livello di rilevamento in seguito all'inizializzazione delle sottoscrizioni, sarà necessario reinizializzarle.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-188">If you modify the tracking level after subscriptions have been initialized, those subscriptions must be reinitialized.</span></span> <span data-ttu-id="d4a5e-189">Per altre informazioni sugli effetti delle modifiche delle proprietà, vedere [Modificare le proprietà di pubblicazioni e articoli](../publish/change-publication-and-article-properties.md).</span><span class="sxs-lookup"><span data-stu-id="d4a5e-189">For more information about the effects of property changes, see [Change Publication and Article Properties](../publish/change-publication-and-article-properties.md).</span></span>    
-   <span data-ttu-id="d4a5e-190">Con il rilevamento a livello di riga e di colonna, la risoluzione dei conflitti viene sempre eseguita a livello di riga, ovvero la riga che prevale sovrascrive quella perdente.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-190">With row- and column-level tracking, conflict resolution is always performed at the row-level: the winning row overwrites the losing row.</span></span> <span data-ttu-id="d4a5e-191">La replica di tipo merge consente inoltre di specificare che i conflitti vengano rilevati e risolti a livello di record logico. Queste opzioni tuttavia non sono disponibili in [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d4a5e-191">Merge replication also allows you to specify that conflicts be tracked and resolved at the logical record level, but these options are not available from [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="d4a5e-192">Per informazioni sulla relativa impostazione dalle stored procedure di replica, vedere [Definizione di una relazione tra record logici degli articoli di tabelle di merge](../publish/define-a-logical-record-relationship-between-merge-table-articles.md).</span><span class="sxs-lookup"><span data-stu-id="d4a5e-192">For information about setting these options from replication stored procedures, see [Define a Logical Record Relationship Between Merge Table Articles](../publish/define-a-logical-record-relationship-between-merge-table-articles.md).</span></span>  
  
###  <a name="using-sql-server-management-studio"></a><a name="SSMSProcedure"></a> <span data-ttu-id="d4a5e-193">Utilizzo di SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="d4a5e-193">Using SQL Server Management Studio</span></span>  
 <span data-ttu-id="d4a5e-194">Specificare il rilevamento a livello di riga o colonna per gli articoli di merge nella scheda **Proprietà** della finestra di dialogo **Proprietà articolo**, disponibile nella Creazione guidata nuova pubblicazione e nella finestra di dialogo **Proprietà pubblicazione - \<Publication>one>** .</span><span class="sxs-lookup"><span data-stu-id="d4a5e-194">Specify row- or column-level tracking for merge articles on the **Properties** tab of the **Article Properties** dialog box, which is available in the New Publication Wizard and the **Publication Properties - \<Publication>** dialog box.</span></span> <span data-ttu-id="d4a5e-195">Per altre informazioni sull'uso della creazione guidata e l'accesso alla finestra di dialogo, vedere [Creare una pubblicazione](create-a-publication.md) e [Visualizzare e modificare le proprietà della pubblicazione](../publish/view-and-modify-publication-properties.md).</span><span class="sxs-lookup"><span data-stu-id="d4a5e-195">For more information about using the wizard and accessing the dialog box, see [Create a Publication](create-a-publication.md) and [View and Modify Publication Properties](../publish/view-and-modify-publication-properties.md).</span></span>  
  
#### <a name="specify-row--or-column-level-tracking"></a><span data-ttu-id="d4a5e-196">Specificare il rilevamento a livello di riga o di colonna</span><span class="sxs-lookup"><span data-stu-id="d4a5e-196">Specify row- or column-level tracking</span></span>  
  
1.  <span data-ttu-id="d4a5e-197">Selezionare una tabella nella pagina **Articoli** della Creazione guidata nuova pubblicazione o nella finestra di dialogo **Proprietà pubblicazione - \<Publication>** .</span><span class="sxs-lookup"><span data-stu-id="d4a5e-197">On the **Articles** page of the New Publication Wizard or the **Publication Properties - \<Publication>** dialog box, select a table.</span></span>    
2.  <span data-ttu-id="d4a5e-198">Fare clic su **Proprietà articolo**, quindi su **Imposta proprietà dell'articolo di tabella evidenziato** o su **Imposta proprietà di tutti gli articoli di tabelle**.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-198">Click **Article Properties**, and then click **Set Properties of Highlighted Table Article** or **Set Properties of All Table Articles**.</span></span>   
3.  <span data-ttu-id="d4a5e-199">Nella scheda **Proprietà** della finestra di dialogo **Proprietà articolo \<Article>** selezionare uno dei valori seguenti per la proprietà **Livello rilevamento**: **Rilevamento a livello di riga** o **Rilevamento a livello di colonna**.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-199">On the **Properties** tab of the **Article Properties \<Article>** dialog box, select one of the following values for the **Tracking level** property: **Row-level tracking** or **Column-level tracking**.</span></span>    
4.  <span data-ttu-id="d4a5e-200">Se è visualizzata la finestra di dialogo **Proprietà pubblicazione - \<Publication>** fare clic su **OK** per salvare e chiudere la finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-200">If you are in the **Publication Properties - \<Publication>** dialog box, click **OK** to save and close the dialog box.</span></span>  
  
###  <a name="using-transact-sql"></a><span data-ttu-id="d4a5e-201">Uso di Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="d4a5e-201">Using Transact-SQL</span></span>  
  
#### <a name="specify-conflict-tracking-options-for-a-new-merge-article"></a><span data-ttu-id="d4a5e-202">Specificare le opzioni di rilevamento dei conflitti per un nuovo articolo di merge</span><span class="sxs-lookup"><span data-stu-id="d4a5e-202">Specify conflict tracking options for a new merge article</span></span>  
  
1.  <span data-ttu-id="d4a5e-203">Nel database di pubblicazione del server di pubblicazione eseguire [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql) e specificare uno dei valori seguenti per \*\* \@ column_tracking\*\*:</span><span class="sxs-lookup"><span data-stu-id="d4a5e-203">At the Publisher on the publication database, execute [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql) and specify one of the following values for **\@column_tracking**:</span></span>  
  
    -   <span data-ttu-id="d4a5e-204">**true** : consente di utilizzare il rilevamento a livello di colonna per l'articolo.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-204">**true** - Use column-level tracking for the article.</span></span>    
    -   <span data-ttu-id="d4a5e-205">**false** : consente di utilizzare il rilevamento a livello di riga, che corrisponde all'impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-205">**false** - Use row-level tracking, which is the default.</span></span>  
  
#### <a name="change-conflict-tracking-options-for-a-merge-article"></a><span data-ttu-id="d4a5e-206">Modificare le opzioni di rilevamento dei conflitti per un articolo di merge</span><span class="sxs-lookup"><span data-stu-id="d4a5e-206">Change conflict tracking options for a merge article</span></span>  
  
1.  <span data-ttu-id="d4a5e-207">Per determinare le opzioni di rilevamento dei conflitti per un articolo di merge, eseguire [sp_helpmergearticle](/sql/relational-databases/system-stored-procedures/sp-helpmergearticle-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="d4a5e-207">To determine the conflict tracking options for a merge article, execute [sp_helpmergearticle](/sql/relational-databases/system-stored-procedures/sp-helpmergearticle-transact-sql).</span></span> <span data-ttu-id="d4a5e-208">Notare il valore dell'opzione **column_tracking** nel set di risultati relativo l'articolo.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-208">Note the value of the **column_tracking** option in the result set for the article.</span></span> <span data-ttu-id="d4a5e-209">Il valore **1** indica che viene utilizzato il rilevamento a livello di colonna, mentre il valore **0** indica che viene utilizzato il rilevamento a livello di riga.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-209">A value of **1** means that column-level tracking is being used, and a value of **0** means that row-level tracking is being used.</span></span>    
2.  <span data-ttu-id="d4a5e-210">Nel database di pubblicazione del server di pubblicazione eseguire [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="d4a5e-210">At the Publisher on the publication database, execute [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql).</span></span> <span data-ttu-id="d4a5e-211">Specificare il valore **column_tracking** per la \*\* \@ proprietà\*\* e uno dei valori seguenti per \*\* \@ value\*\*:</span><span class="sxs-lookup"><span data-stu-id="d4a5e-211">Specify a value of **column_tracking** for **\@property** and one of the following values for **\@value**:</span></span>
    -   <span data-ttu-id="d4a5e-212">**true** : consente di utilizzare il rilevamento a livello di colonna per l'articolo.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-212">**true** - Use column-level tracking for the article.</span></span>
    -   <span data-ttu-id="d4a5e-213">**false** : consente di utilizzare il rilevamento a livello di riga, che corrisponde all'impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-213">**false** - Use row-level tracking, which is the default.</span></span>  
  
     <span data-ttu-id="d4a5e-214">Specificare il valore **1** per \*\* \@ force_invalidate_snapshot\*\* e \*\* \@ force_reinit_subscription\*\*.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-214">Specify a value of **1** for both **\@force_invalidate_snapshot** and **\@force_reinit_subscription**.</span></span>  

## <a name="tracking-deletes"></a><span data-ttu-id="d4a5e-215">Rilevamento delle eliminazioni</span><span class="sxs-lookup"><span data-stu-id="d4a5e-215">Tracking deletes</span></span>

> [!NOTE]  
>  [!INCLUDE[ssNoteDepFutureAvoid](../../../includes/ssnotedepfutureavoid-md.md)]  
  
 <span data-ttu-id="d4a5e-216">Per impostazione predefinita, la replica di tipo merge consente di sincronizzare i comandi DELETE tra server di pubblicazione e Sottoscrittore.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-216">By default, merge replication synchronizes DELETE commands between the Publisher and Subscriber.</span></span> <span data-ttu-id="d4a5e-217">Con la replica di tipo merge le righe vengono mantenute nel database di sottoscrizione anche se sono state eliminate dalla pubblicazione e viceversa.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-217">Merge replication enables you to retain rows in the subscription database even when they have been deleted from the publication, and vice versa.</span></span> <span data-ttu-id="d4a5e-218">È possibile specificare a livello di programmazione che i comandi DELETE vengano ignorati durante la creazione di un nuovo articolo oppure attivare questa funzionalità in un secondo momento utilizzando le stored procedure di replica.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-218">You can programmatically specify that DELETE commands be ignored when creating a new article or you can enable this functionality at a later time using replication stored procedures.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="d4a5e-219">L'attivazione di questa funzionalità causa la non convergenza pertanto i dati presenti nel Sottoscrittore non rifletteranno accuratamente i dati presenti nel server di pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-219">Enabling this functionality will result in non-convergence, which means that data present at the Subscriber will not accurately reflect data at the Publisher.</span></span> <span data-ttu-id="d4a5e-220">È necessario implementare un meccanismo personalizzato per la rimozione manuale delle righe eliminate.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-220">You must implement your own mechanism for manually removing deleted rows.</span></span>  
  
### <a name="specify-that-deletes-be-ignored-for-a-new-merge-article"></a><span data-ttu-id="d4a5e-221">Specificare di ignorare le eliminazioni per un nuovo articolo di merge</span><span class="sxs-lookup"><span data-stu-id="d4a5e-221">Specify that deletes be ignored for a new merge article</span></span>  
  
1.  <span data-ttu-id="d4a5e-222">Nel database di pubblicazione del server di pubblicazione eseguire [sp_addmergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="d4a5e-222">At the Publisher on the publication database, execute [sp_addmergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql).</span></span> <span data-ttu-id="d4a5e-223">Specificare il valore `false` per \*\* \@ delete_tracking\*\*.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-223">Specify a value of `false` for **\@delete_tracking**.</span></span> <span data-ttu-id="d4a5e-224">Per altre informazioni, vedere [definire un articolo](../publish/define-an-article.md).</span><span class="sxs-lookup"><span data-stu-id="d4a5e-224">For more information, see [Define an Article](../publish/define-an-article.md).</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="d4a5e-225">Se la tabella di origine di un articolo è già pubblicata in un'altra pubblicazione, il valore di **delete_tracking** deve essere uguale per entrambi gli articoli.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-225">If the source table for an article is already published in another publication, the value of **delete_tracking** must be the same for both articles.</span></span>  
  
### <a name="specify-that-deletes-be-ignored-for-an-existing-merge-article"></a><span data-ttu-id="d4a5e-226">Specificare di ignorare le eliminazioni per un articolo di merge esistente</span><span class="sxs-lookup"><span data-stu-id="d4a5e-226">Specify that deletes be ignored for an existing merge article</span></span>  
  
1.  <span data-ttu-id="d4a5e-227">Per determinare se la compensazione errori è abilitata per un articolo, eseguire [sp_helpmergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-helpmergearticle-transact-sql) e prendere nota del valore di **delete_tracking** nel set di risultati.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-227">To determine if error compensation is enabled for an article, execute [sp_helpmergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-helpmergearticle-transact-sql) and note the value of **delete_tracking** in the result set.</span></span> <span data-ttu-id="d4a5e-228">Se questo valore è **0**, le eliminazioni vengono già ignorate.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-228">If this value is **0**, deletes are already being ignored.</span></span>    
2.  <span data-ttu-id="d4a5e-229">Se il valore ottenuto al passaggio 1 è **1**, eseguire [sp_changemergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql) nel database di pubblicazione del server di pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-229">If the value from step 1 is **1**, execute [sp_changemergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql) at the Publisher on the publication database.</span></span> <span data-ttu-id="d4a5e-230">Specificare il valore **delete_tracking** per \*\* \@ Property**e il valore `false` per \*\* \@ value**.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-230">Specify a value of **delete_tracking** for **\@property**, and a value of `false` for **\@value**.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="d4a5e-231">Se la tabella di origine di un articolo è già pubblicata in un'altra pubblicazione, il valore di **delete_tracking** deve essere uguale per entrambi gli articoli.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-231">If the source table for an article is already published in another publication, the value of **delete_tracking** must be the same for both articles.</span></span>  
  
## <a name="processing-order"></a><span data-ttu-id="d4a5e-232">Ordine di elaborazione</span><span class="sxs-lookup"><span data-stu-id="d4a5e-232">Processing Order</span></span>
  <span data-ttu-id="d4a5e-233">La replica di tipo merge consente di specificare l'ordine in cui gli articoli vengono elaborati dall'agente di merge durante il processo di sincronizzazione.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-233">Merge replication enables you to specify the order in which articles are processed by the Merge Agent during the synchronization process.</span></span> <span data-ttu-id="d4a5e-234">È possibile assegnare a livello di programmazione un ordine a ogni articolo creato utilizzando le stored procedure di replica.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-234">You can assign an order to each article programmatically when creating an article using replication stored procedures.</span></span> <span data-ttu-id="d4a5e-235">Gli articoli vengono elaborati in ordine crescente in base al valore.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-235">Articles are processed in order from lowest to highest value.</span></span> <span data-ttu-id="d4a5e-236">Se due articoli hanno lo stesso valore, essi vengono elaborati simultaneamente.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-236">If two articles have the same value, they are processed concurrently.</span></span> <span data-ttu-id="d4a5e-237">Per altre informazioni, vedere [Specificare le proprietà della replica di tipo merge](../publish/specify-merge-replication-properties.md).</span><span class="sxs-lookup"><span data-stu-id="d4a5e-237">For more information, see [Specify Merge Replication properties](../publish/specify-merge-replication-properties.md).</span></span>  

  <span data-ttu-id="d4a5e-238">A partire da [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)] , è possibile eseguire l'override dell'ordine predefinito dell'elaborazione degli articoli per le pubblicazioni di tipo merge.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-238">Beginning with [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)], it is possible to override the default order of article processing for merge publications.</span></span> <span data-ttu-id="d4a5e-239">Ciò risulta utile, ad esempio, se si definisce l'integrità referenziale tramite trigger e tali trigger devono essere attivati in un determinato ordine.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-239">This is useful, for example, if you define referential integrity through triggers and those triggers must fire in a certain order.</span></span> 

### <a name="how-processing-order-is-determined"></a><span data-ttu-id="d4a5e-240">Modalità di determinazione dell'ordine di elaborazione</span><span class="sxs-lookup"><span data-stu-id="d4a5e-240">How Processing Order is Determined</span></span>  
 <span data-ttu-id="d4a5e-241">Durante la sincronizzazione di tipo merge, gli articoli vengono elaborati per impostazione predefinita nell'ordine richiesto dalle dipendenze tra gli oggetti, inclusi i vincoli di integrità referenziale dichiarativa definiti nelle tabelle di base.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-241">During merge synchronization, articles are, by default, processed in the order required by the dependencies between objects, including the declarative referential integrity (DRI) constraints defined on the base tables.</span></span> <span data-ttu-id="d4a5e-242">L'elaborazione prevede l'enumerazione delle modifiche apportate a una tabella e quindi l'applicazione di tali modifiche.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-242">Processing involves enumerating the changes to a table and then applying those changes.</span></span> <span data-ttu-id="d4a5e-243">Se non è presente l'integrità referenziale dichiarativa ma esistono filtri join o record logici tra gli articoli di tabella, gli articoli vengono elaborati nell'ordine richiesto dai filtri e dai record logici.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-243">If no DRI is present but join filters or logical records exist between table articles, the articles are processed in the order required by the filters and logical records.</span></span> <span data-ttu-id="d4a5e-244">Gli articoli non correlati ad altri articoli tramite integrità referenziale dichiarativa, filtri join, record logici o altre dipendenze vengono elaborati in base al nome alternativo dell'articolo nella tabella di sistema [sysmergearticles &#40;Transact-SQL&#41;](/sql/relational-databases/system-tables/sysmergearticles-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="d4a5e-244">Articles not related to any other article through DRI, join filters, logical records, or other dependencies are processed according to the article nickname in the [sysmergearticles &#40;Transact-SQL&#41;](/sql/relational-databases/system-tables/sysmergearticles-transact-sql) system table.</span></span>  
  
 <span data-ttu-id="d4a5e-245">Si consideri una pubblicazione in cui sono incluse le tabelle **SalesOrderHeader** e **SalesOrderDetail** con una colonna chiave primaria **SalesOrderID** nella tabella **SalesOrderHeader** e una colonna chiave esterna **SalesOrderID** corrispondente nella tabella **SalesOrderDetail** .</span><span class="sxs-lookup"><span data-stu-id="d4a5e-245">Consider a publication that includes the tables **SalesOrderHeader** and **SalesOrderDetail** with a primary key column **SalesOrderID** in the **SalesOrderHeader** table and a corresponding foreign key column **SalesOrderID** in the **SalesOrderDetail** table.</span></span> <span data-ttu-id="d4a5e-246">Durante la sincronizzazione, la replica di tipo merge impedisce le violazioni della chiave esterna inserendo nuove righe in **SalesOrderHeader** prima dell'inserimento delle righe associate in **SalesOrderDetail**.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-246">During synchronization, merge replication prevents foreign key violations by inserting any new rows in **SalesOrderHeader** before inserting associated rows in **SalesOrderDetail**.</span></span> <span data-ttu-id="d4a5e-247">Analogamente, le righe vengono eliminate da **SalesOrderDetail** prima dell'eliminazione delle righe associate da **SalesOrderHeader**.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-247">Similarly, rows are deleted from **SalesOrderDetail** before the associated row is deleted from **SalesOrderHeader**.</span></span>  
  
 <span data-ttu-id="d4a5e-248">In alcune applicazioni, tuttavia, l'integrità referenziale viene applicata tramite trigger di database o a livello di applicazione, anziché tramite integrità referenziale dichiarativa.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-248">However, in some applications referential integrity is enforced through database triggers, or at the application level, rather than through DRI.</span></span> <span data-ttu-id="d4a5e-249">Nel caso della pubblicazione sopra descritta, anziché utilizzare l'integrità referenziale dichiarativa, la tabella **SalesOrderDetail** potrebbe disporre di un trigger di inserimento in grado di verificare l'esistenza della riga associata nella tabella **SalesOrderHeader** prima di consentire un inserimento.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-249">Given the publication described above, instead of DRI, the **SalesOrderDetail** table could have an insert trigger that ensures the associated row in the **SalesOrderHeader** table exists before allowing an insert.</span></span> <span data-ttu-id="d4a5e-250">**SalesOrderHeader** potrebbe disporre di un trigger di eliminazione in grado di verificare l'assenza di righe associate in **SalesOrderDetail** prima di consentire un'eliminazione.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-250">**SalesOrderHeader** could have a delete trigger that ensures there are no associated rows in **SalesOrderDetail** before allowing a delete.</span></span> <span data-ttu-id="d4a5e-251">I trigger non vengono presi in considerazione nella replica di tipo merge per determinare l'ordine di elaborazione degli articoli, poiché non è possibile determinare il risultato del trigger finché non viene attivato.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-251">Merge replication does not take into account triggers when determining processing order of articles because it cannot determine what the result of the trigger will be until it has fired.</span></span> <span data-ttu-id="d4a5e-252">Analogamente, nella replica non possono essere considerati i vincoli definiti a livello di applicazione.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-252">Similarly, replication cannot take into account constraints defined at the application level.</span></span>  
  
 <span data-ttu-id="d4a5e-253">In caso di mantenimento dell'integrità referenziale tramite trigger o a livello di applicazione, è consigliabile specificare l'ordine in cui gli articoli devono essere elaborati.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-253">When referential integrity is maintained through triggers or at the application level, you should specify the order in which the articles should be processed.</span></span> <span data-ttu-id="d4a5e-254">Nell'esempio con i trigger, verrà specificato che la tabella **SalesOrderHeader** deve essere elaborata prima di **SalesOrderDetail**, poiché l'ordine degli articoli è basato sull'ordine di inserimento.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-254">In the example with triggers, you would specify that the **SalesOrderHeader** table should be processed before **SalesOrderDetail**, because article ordering is based on insert order.</span></span> <span data-ttu-id="d4a5e-255">Nella replica di tipo merge verrà automaticamente invertito l'ordine per le eliminazioni.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-255">Merge replication will automatically reverse the order for deletes.</span></span> <span data-ttu-id="d4a5e-256">La replica di tipo merge non avrà esito negativo se gli articoli non vengono ordinati, poiché l'agente di merge continua a elaborare gli articoli in caso di violazione di un vincolo e quindi ripete le operazioni non riuscite dopo l'elaborazione degli altri articoli.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-256">Merge replication will not fail without article ordering, because the Merge Agent continues to process articles if a constraint violation occurs; it then retries any operations that failed after other articles have been processed.</span></span> <span data-ttu-id="d4a5e-257">Specificando l'ordine degli articoli è semplicemente possibile evitare i successivi tentativi e l'elaborazione aggiuntiva associata.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-257">Specifying article order simply avoids retries and the additional processing associated with them.</span></span> <span data-ttu-id="d4a5e-258">Se si specifica un ordine non corretto, ad esempio un ordine che determina l'elaborazione dei record di dettagli prima dei record di intestazione, la replica di tipo merge ripeterà l'elaborazione finché non avrà esito positivo.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-258">If you specify an incorrect order (for example, one that results in detail records being processed before header records), merge replication will retry processing until it succeeds.</span></span>  

### <a name="new-article"></a><span data-ttu-id="d4a5e-259">Nuovo articolo</span><span class="sxs-lookup"><span data-stu-id="d4a5e-259">New Article</span></span>
  
1.  <span data-ttu-id="d4a5e-260">Nel database di pubblicazione del server di pubblicazione eseguire [sp_addmergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="d4a5e-260">At the Publisher on the publication database, execute [sp_addmergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql).</span></span> <span data-ttu-id="d4a5e-261">Specificare un valore integer che rappresenta l'ordine di elaborazione per l'articolo per \*\* \@ processing_order\*\*.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-261">Specify an integer value that represents the processing order for the article for **\@processing_order**.</span></span> <span data-ttu-id="d4a5e-262">Per altre informazioni, vedere [definire un articolo](define-an-article.md).</span><span class="sxs-lookup"><span data-stu-id="d4a5e-262">For more information, see [Define an Article](define-an-article.md).</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="d4a5e-263">Quando si creano articoli ordinati, è necessario lasciare gap tra i valori relativi all'ordine degli articoli.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-263">When creating ordered articles, you should leave gaps between the article order values.</span></span> <span data-ttu-id="d4a5e-264">In questo modo risulta più agevole impostare nuovi valori in futuro.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-264">This makes it easier to set new values in the future.</span></span> <span data-ttu-id="d4a5e-265">Se, ad esempio, si dispone di tre articoli per i quali è necessario specificare un ordine di elaborazione fisso, impostare il valore di \*\* \@ processing_order\*\* su 10, 20 e 30 anziché rispettivamente su 1, 2 e 3.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-265">For example, if you have three articles for which you need to specify a fixed processing order, set the value of **\@processing_order** to 10, 20, and 30 rather than 1, 2, and 3, respectively.</span></span>  
  
### <a name="existing-article"></a><span data-ttu-id="d4a5e-266">Articolo esistente</span><span class="sxs-lookup"><span data-stu-id="d4a5e-266">Existing article</span></span>
  
1.  <span data-ttu-id="d4a5e-267">Per determinare l'ordine di elaborazione di un articolo, eseguire [sp_helpmergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-helpmergearticle-transact-sql) e prendere nota del valore di **processing_order** nel set di risultati.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-267">To determine processing order of an article, execute [sp_helpmergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-helpmergearticle-transact-sql) and note the value of **processing_order** in the result set.</span></span>  
  
2.  <span data-ttu-id="d4a5e-268">Nel database di pubblicazione del server di pubblicazione eseguire [sp_changemergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="d4a5e-268">At the Publisher on the publication database, execute [sp_changemergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql).</span></span> <span data-ttu-id="d4a5e-269">Specificare il valore **processing_order** per \*\* \@ Property\*\* e un valore integer che rappresenta l'ordine di elaborazione per \*\* \@ value\*\*.</span><span class="sxs-lookup"><span data-stu-id="d4a5e-269">Specify a value of **processing_order** for **\@property** and an integer value that represents the processing order for **\@value**.</span></span>  



## <a name="see-also"></a><span data-ttu-id="d4a5e-270">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="d4a5e-270">See Also</span></span>  
 [<span data-ttu-id="d4a5e-271">Ottimizzare le prestazioni della replica di tipo merge con il rilevamento condizionale delle eliminazioni</span><span class="sxs-lookup"><span data-stu-id="d4a5e-271">Optimize Merge Replication Performance with Conditional Delete Tracking</span></span>](../merge/optimize-merge-replication-performance-with-conditional-delete-tracking.md)  
 <span data-ttu-id="d4a5e-272">[Rilevamento e risoluzione dei conflitti nei record logici](../merge/advanced-merge-replication-conflict-resolving-in-logical-record.md) </span><span class="sxs-lookup"><span data-stu-id="d4a5e-272">[Detecting and Resolving Conflicts in Logical Records](../merge/advanced-merge-replication-conflict-resolving-in-logical-record.md) </span></span>  
 <span data-ttu-id="d4a5e-273">[Define a Logical Record Relationship Between Merge Table Articles](define-a-logical-record-relationship-between-merge-table-articles.md) </span><span class="sxs-lookup"><span data-stu-id="d4a5e-273">[Define a Logical Record Relationship Between Merge Table Articles](define-a-logical-record-relationship-between-merge-table-articles.md) </span></span>  
 <span data-ttu-id="d4a5e-274">[Rilevare e risolvere i conflitti di replica di tipo merge](../merge/advanced-merge-replication-conflict-detection-and-resolution.md) </span><span class="sxs-lookup"><span data-stu-id="d4a5e-274">[Detect and Resolve Merge Replication Conflicts](../merge/advanced-merge-replication-conflict-detection-and-resolution.md) </span></span>  
 <span data-ttu-id="d4a5e-275">[Ottimizzare le prestazioni della replica di tipo merge con gli articoli di solo download](../merge/optimize-merge-replication-performance-with-download-only-articles.md) </span><span class="sxs-lookup"><span data-stu-id="d4a5e-275">[Optimize Merge Replication Performance with Download-Only Articles](../merge/optimize-merge-replication-performance-with-download-only-articles.md) </span></span>  
 <span data-ttu-id="d4a5e-276">[Define an Article](define-an-article.md) </span><span class="sxs-lookup"><span data-stu-id="d4a5e-276">[Define an Article](define-an-article.md) </span></span>  
 [<span data-ttu-id="d4a5e-277">Visualizzare e modificare le proprietà degli articoli</span><span class="sxs-lookup"><span data-stu-id="d4a5e-277">View and Modify Article Properties</span></span>](view-and-modify-article-properties.md)  