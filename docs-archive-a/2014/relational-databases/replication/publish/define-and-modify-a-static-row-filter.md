---
title: Definire e modificare un filtro di riga statico | Microsoft Docs
ms.custom: ''
ms.date: 06/30/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- modifying filters, static row
- static row filters
- filters [SQL Server replication], static row
ms.assetid: a6ebb026-026f-4c39-b6a9-b9998c3babab
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: d13fd93b6afdcce6b55e9b181f52087fd620913c
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87625323"
---
# <a name="define-and-modify-a-static-row-filter"></a><span data-ttu-id="3f44e-102">Definizione e modifica di un filtro di riga statico</span><span class="sxs-lookup"><span data-stu-id="3f44e-102">Define and Modify a Static Row Filter</span></span>
  <span data-ttu-id="3f44e-103">In questo argomento viene descritto come definire e modificare un filtro di riga statico in [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] tramite [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] o [!INCLUDE[tsql](../../../includes/tsql-md.md)].</span><span class="sxs-lookup"><span data-stu-id="3f44e-103">This topic describes how to define and modify a static row filter in [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] by using [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] or [!INCLUDE[tsql](../../../includes/tsql-md.md)].</span></span>  
  
 <span data-ttu-id="3f44e-104">**Contenuto dell'articolo**</span><span class="sxs-lookup"><span data-stu-id="3f44e-104">**In This Topic**</span></span>  
  
-   <span data-ttu-id="3f44e-105">**Prima di iniziare:**</span><span class="sxs-lookup"><span data-stu-id="3f44e-105">**Before you begin:**</span></span>  
  
     [<span data-ttu-id="3f44e-106">Limitazioni e restrizioni</span><span class="sxs-lookup"><span data-stu-id="3f44e-106">Limitations and Restrictions</span></span>](#Restrictions)  
  
     [<span data-ttu-id="3f44e-107">Indicazioni</span><span class="sxs-lookup"><span data-stu-id="3f44e-107">Recommendations</span></span>](#Recommendations)  
  
-   <span data-ttu-id="3f44e-108">**Per definire e modificare un filtro di riga statico, utilizzando:**</span><span class="sxs-lookup"><span data-stu-id="3f44e-108">**To define and modify a static row filter, using:**</span></span>  
  
     [<span data-ttu-id="3f44e-109">SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="3f44e-109">SQL Server Management Studio</span></span>](#SSMSProcedure)  
  
     [<span data-ttu-id="3f44e-110">Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="3f44e-110">Transact-SQL</span></span>](#TsqlProcedure)  
  
##  <a name="before-you-begin"></a><a name="BeforeYouBegin"></a> <span data-ttu-id="3f44e-111">Prima di iniziare</span><span class="sxs-lookup"><span data-stu-id="3f44e-111">Before You Begin</span></span>  
  
###  <a name="limitations-and-restrictions"></a><a name="Restrictions"></a> <span data-ttu-id="3f44e-112">Limitazioni e restrizioni</span><span class="sxs-lookup"><span data-stu-id="3f44e-112">Limitations and Restrictions</span></span>  
  
-   <span data-ttu-id="3f44e-113">Se si aggiunge, modifica o elimina un filtro di riga statico dopo che sono state inizializzate sottoscrizioni per la pubblicazione, è necessario generare un nuovo snapshot e reinizializzare tutte le sottoscrizioni in seguito alla modifica.</span><span class="sxs-lookup"><span data-stu-id="3f44e-113">If you add, modify, or delete a static row filter after subscriptions to the publication have been initialized, you must generate a new snapshot and reinitialize all subscriptions after making the change.</span></span> <span data-ttu-id="3f44e-114">Per altre informazioni sui requisiti per la modifica delle proprietà, vedere [Modificare le proprietà di pubblicazioni e articoli](change-publication-and-article-properties.md).</span><span class="sxs-lookup"><span data-stu-id="3f44e-114">For more information about requirements for property changes, see [Change Publication and Article Properties](change-publication-and-article-properties.md).</span></span>  
  
-   <span data-ttu-id="3f44e-115">Se la pubblicazione è abilitata per la replica transazionale peer-to-peer, non sarà possibile filtrare le tabelle.</span><span class="sxs-lookup"><span data-stu-id="3f44e-115">If the publication is enabled for peer-to-peer transactional replication, tables cannot be filtered.</span></span>  
  
###  <a name="recommendations"></a><a name="Recommendations"></a> <span data-ttu-id="3f44e-116">Indicazioni</span><span class="sxs-lookup"><span data-stu-id="3f44e-116">Recommendations</span></span>  
  
-   <span data-ttu-id="3f44e-117">Poiché questi filtri sono statici, tutti i sottoscrittori riceveranno lo stesso subset di dati.</span><span class="sxs-lookup"><span data-stu-id="3f44e-117">Because these filters are static, all subscribers will receive the same subset of the data.</span></span> <span data-ttu-id="3f44e-118">Se è necessario filtrare dinamicamente le righe in un articolo di tabella appartenente a una tabella di tipo merge, in modo che ogni sottoscrittore riceva una partizione diversa dei dati, vedere [Definizione e modifica di un filtro di riga con parametri per un articolo di merge](define-and-modify-a-parameterized-row-filter-for-a-merge-article.md).</span><span class="sxs-lookup"><span data-stu-id="3f44e-118">If you need to dynamically filter rows in a table article belonging to a merge publication so that each subscriber receives a different partition of the data, see [Define and Modify a Parameterized Row Filter for a Merge Article](define-and-modify-a-parameterized-row-filter-for-a-merge-article.md).</span></span> <span data-ttu-id="3f44e-119">La replica di tipo merge consente inoltre di filtrare righe correlate in base a un filtro di riga esistente.</span><span class="sxs-lookup"><span data-stu-id="3f44e-119">Merge replication also enables you to filter related rows based on an existing row filter.</span></span> <span data-ttu-id="3f44e-120">Per altre informazioni, vedere [Definizione e modifica di un filtro di join tra articoli di merge](define-and-modify-a-join-filter-between-merge-articles.md).</span><span class="sxs-lookup"><span data-stu-id="3f44e-120">For more information, see [Define and Modify a Join Filter Between Merge Articles](define-and-modify-a-join-filter-between-merge-articles.md).</span></span>  
  
##  <a name="using-sql-server-management-studio"></a><a name="SSMSProcedure"></a> <span data-ttu-id="3f44e-121">Utilizzo di SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="3f44e-121">Using SQL Server Management Studio</span></span>  
 <span data-ttu-id="3f44e-122">Definire, modificare ed eliminare i filtri di riga statici nella pagina **Filtro righe tabella** della Creazione guidata nuova pubblicazione o nella pagina **Filtra righe** della finestra di dialogo **Proprietà pubblicazione - \<Publication>** .</span><span class="sxs-lookup"><span data-stu-id="3f44e-122">Define, modify, and delete static row filters on the **Filter Table Rows** page of the New Publication Wizard or the **Filter Rows** page of the **Publication Properties - \<Publication>** dialog box.</span></span> <span data-ttu-id="3f44e-123">Per altre informazioni sull'uso della creazione guidata e l'accesso alla finestra di dialogo, vedere [Creare una pubblicazione](create-a-publication.md) e [Visualizzare e modificare le proprietà della pubblicazione](view-and-modify-publication-properties.md).</span><span class="sxs-lookup"><span data-stu-id="3f44e-123">For more information about using the wizard and accessing the dialog box, see [Create a Publication](create-a-publication.md) and [View and Modify Publication Properties](view-and-modify-publication-properties.md).</span></span>  
  
#### <a name="to-define-a-static-row-filter"></a><span data-ttu-id="3f44e-124">Per definire un filtro di riga statico</span><span class="sxs-lookup"><span data-stu-id="3f44e-124">To define a static row filter</span></span>  
  
1.  <span data-ttu-id="3f44e-125">L'operazione eseguita nella pagina **Filtro righe tabella** della Creazione guidata nuova pubblicazione o nella pagina **Filtra righe** della finestra di dialogo **Proprietà pubblicazione - \<Publication>** dipende dal tipo di pubblicazione:</span><span class="sxs-lookup"><span data-stu-id="3f44e-125">On the **Filter Table Rows** page of the New Publication Wizard or the **Filter Rows** page of the **Publication Properties - \<Publication>** dialog box, the action you take depends on the type of publication:</span></span>  
  
    -   <span data-ttu-id="3f44e-126">Per una pubblicazione snapshot o transazionale, fare clic su **Aggiungi**.</span><span class="sxs-lookup"><span data-stu-id="3f44e-126">For a snapshot or transactional publication, click **Add**.</span></span>  
  
    -   <span data-ttu-id="3f44e-127">Per una pubblicazione di tipo merge, fare clic su **Aggiungi**e quindi su **Aggiungi filtro**.</span><span class="sxs-lookup"><span data-stu-id="3f44e-127">For a merge publication, click **Add**, and then click **Add Filter**.</span></span>  
  
2.  <span data-ttu-id="3f44e-128">Nella finestra di dialogo **Aggiungi filtro** selezionare una tabella da filtrare nell'elenco a discesa.</span><span class="sxs-lookup"><span data-stu-id="3f44e-128">In the **Add Filter** dialog box, select a table to filter from the drop-down list box.</span></span>  
  
3.  <span data-ttu-id="3f44e-129">Creare un'istruzione per il filtro nell'area di testo **Istruzione per il filtro** .</span><span class="sxs-lookup"><span data-stu-id="3f44e-129">Create a filter statement in the **Filter statement** text area.</span></span> <span data-ttu-id="3f44e-130">È possibile digitare direttamente nell'area di testo nonché trascinare colonne dalla casella di riepilogo **Colonne** .</span><span class="sxs-lookup"><span data-stu-id="3f44e-130">You can type directly in the text area, and you can also drag and drop columns from the **Columns** list box.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="3f44e-131">Per la clausola WHERE è consigliabile usare nomi in due parti. I nomi in tre e quattro parti non sono supportati.</span><span class="sxs-lookup"><span data-stu-id="3f44e-131">The WHERE clause should use two-part naming; three-part naming and four-part naming are not supported.</span></span> <span data-ttu-id="3f44e-132">Se la pubblicazione proviene da un server di pubblicazione Oracle, è necessario che la clausola WHERE sia conforme alla sintassi Oracle.</span><span class="sxs-lookup"><span data-stu-id="3f44e-132">If the publication is from an Oracle Publisher, the WHERE clause must be compliant with Oracle syntax.</span></span>  
  
    -   <span data-ttu-id="3f44e-133">L'area di testo **Istruzione per il filtro** contiene il testo predefinito, nel formato seguente:</span><span class="sxs-lookup"><span data-stu-id="3f44e-133">The **Filter statement** text area includes the default text, which is in the form of:</span></span>  
  
        ```sql  
        SELECT <published_columns> FROM [schema].[tablename] WHERE  
        ```  
  
    -   <span data-ttu-id="3f44e-134">Il testo predefinito non può essere modificato. Digitare la clausola di filtro dopo la parola chiave WHERE usando la sintassi SQL standard.</span><span class="sxs-lookup"><span data-stu-id="3f44e-134">The default text cannot be changed; type the filter clause after the WHERE keyword using standard SQL syntax.</span></span> <span data-ttu-id="3f44e-135">La clausola di filtro completa sarà simile alla seguente:</span><span class="sxs-lookup"><span data-stu-id="3f44e-135">The complete filter clause would appear like:</span></span>  
  
        ```sql  
        SELECT <published_columns> FROM [HumanResources].[Employee] WHERE [LoginID] = 'adventure-works\ranjit0'  
        ```  
  
    -   <span data-ttu-id="3f44e-136">In un filtro di riga statico può essere inclusa una funzione definita dall'utente.</span><span class="sxs-lookup"><span data-stu-id="3f44e-136">A static row filter can include a user-defined function.</span></span> <span data-ttu-id="3f44e-137">La clausola di filtro completa per un filtro di riga statico con una funzione definita dall'utente sarà simile alla seguente:</span><span class="sxs-lookup"><span data-stu-id="3f44e-137">The complete filter clause for a static row filter with a user-defined function would appear like:</span></span>  
  
        ```sql  
        SELECT <published_columns> FROM [Sales].[SalesOrderHeader] WHERE MyFunction([Freight]) > 100  
        ```  
  
4.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
5.  <span data-ttu-id="3f44e-138">Se è visualizzata la finestra di dialogo **Proprietà pubblicazione - \<Publication>** fare clic su **OK** per salvare e chiudere la finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="3f44e-138">If you are in the **Publication Properties - \<Publication>** dialog box, click **OK** to save and close the dialog box.</span></span>  
  
#### <a name="to-modify-a-static-row-filter"></a><span data-ttu-id="3f44e-139">Per modificare un filtro di riga statico</span><span class="sxs-lookup"><span data-stu-id="3f44e-139">To modify a static row filter</span></span>  
  
1.  <span data-ttu-id="3f44e-140">Nella pagina **Filtro righe tabella** della Creazione guidata nuova pubblicazione o nella pagina **Filtra righe** della finestra di dialogo **Proprietà pubblicazione - \<Publication>** selezionare un filtro nel riquadro **Tabelle filtrate** e quindi fare clic su **Modifica**.</span><span class="sxs-lookup"><span data-stu-id="3f44e-140">On the **Filter Table Rows** page of the New Publication Wizard or the **Filter Rows** page of the **Publication Properties - \<Publication>** dialog box, select a filter in the **Filtered Tables** pane, and then click **Edit**.</span></span>  
  
2.  <span data-ttu-id="3f44e-141">Nella finestra di dialogo **Modifica filtro** modificare il filtro.</span><span class="sxs-lookup"><span data-stu-id="3f44e-141">In the **Edit Filter** dialog box, modify the filter.</span></span>  
  
3.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
#### <a name="to-delete-a-static-row-filter"></a><span data-ttu-id="3f44e-142">Per eliminare un filtro di riga statico</span><span class="sxs-lookup"><span data-stu-id="3f44e-142">To delete a static row filter</span></span>  
  
1.  <span data-ttu-id="3f44e-143">Nella pagina **Filtro righe tabella** della Creazione guidata nuova pubblicazione o nella pagina **Filtra righe** della finestra di dialogo **Proprietà pubblicazione - \<Publication>** selezionare un filtro nel riquadro **Tabelle filtrate** e quindi fare clic su **Elimina**.</span><span class="sxs-lookup"><span data-stu-id="3f44e-143">On the **Filter Table Rows** page of the New Publication Wizard or the **Filter Rows** page of the **Publication Properties - \<Publication>** dialog box, select a filter in the **Filtered Tables** pane, and then click **Delete**.</span></span>  
  
##  <a name="using-transact-sql"></a><a name="TsqlProcedure"></a> <span data-ttu-id="3f44e-144">Uso di Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="3f44e-144">Using Transact-SQL</span></span>  
 <span data-ttu-id="3f44e-145">Quando si creano articoli di tabella, è possibile definire una clausola WHERE per escludere le righe di un articolo.</span><span class="sxs-lookup"><span data-stu-id="3f44e-145">When creating table articles, you can define a WHERE clause to filter rows out of an article.</span></span> <span data-ttu-id="3f44e-146">È inoltre possibile modificare un filtro di riga dopo che è stato definito.</span><span class="sxs-lookup"><span data-stu-id="3f44e-146">You can also change a row filter after it has been defined.</span></span> <span data-ttu-id="3f44e-147">È possibile creare e modificare a livello di programmazione i filtri di riga statici tramite le stored procedure di replica.</span><span class="sxs-lookup"><span data-stu-id="3f44e-147">Static row filters can be created and modified programmatically using replication stored procedures.</span></span>  
  
#### <a name="to-define-a-static-row-filter-for-a-snapshot-or-transactional-publication"></a><span data-ttu-id="3f44e-148">Per definire un filtro di riga statico per una pubblicazione snapshot o transazionale</span><span class="sxs-lookup"><span data-stu-id="3f44e-148">To define a static row filter for a snapshot or transactional publication</span></span>  
  
1.  <span data-ttu-id="3f44e-149">Definire l'articolo da filtrare.</span><span class="sxs-lookup"><span data-stu-id="3f44e-149">Define the article to filter.</span></span> <span data-ttu-id="3f44e-150">Per altre informazioni, vedere [definire un articolo](define-an-article.md).</span><span class="sxs-lookup"><span data-stu-id="3f44e-150">For more information, see [Define an Article](define-an-article.md).</span></span>  
  
2.  <span data-ttu-id="3f44e-151">Nel database di pubblicazione del server di pubblicazione eseguire [sp_articlefilter &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-articlefilter-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="3f44e-151">At the Publisher on the publication database, execute [sp_articlefilter &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-articlefilter-transact-sql).</span></span> <span data-ttu-id="3f44e-152">Specificare il nome dell'articolo per **\@article**, il nome della pubblicazione per **\@publication**, il nome del filtro per **\@filter_name** e la clausola di filtro per **\@filter_clause** (senza includere `WHERE`).</span><span class="sxs-lookup"><span data-stu-id="3f44e-152">Specify the name of the article for **\@article**, the name of the publication for **\@publication**, a name for the filter for **\@filter_name**, and the filtering clause for **\@filter_clause** (not including `WHERE`).</span></span>  
  
3.  <span data-ttu-id="3f44e-153">Se non è ancora stato definito un filtro di colonna, vedere [Definizione e modifica di un filtro colonne](define-and-modify-a-column-filter.md).</span><span class="sxs-lookup"><span data-stu-id="3f44e-153">If a column filter must still be defined, see [Define and Modify a Column Filter](define-and-modify-a-column-filter.md).</span></span> <span data-ttu-id="3f44e-154">In caso contrario, eseguire [sp_articleview &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-articleview-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="3f44e-154">Otherwise, execute [sp_articleview &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-articleview-transact-sql).</span></span> <span data-ttu-id="3f44e-155">Specificare il nome della pubblicazione per **\@publication**, il nome dell'articolo filtrato per **\@article** e la clausola di filtro specificata nel passaggio 2 per **\@filter_clause**.</span><span class="sxs-lookup"><span data-stu-id="3f44e-155">Specify the publication name for **\@publication**, the name of the filtered article for **\@article**, and the filter clause specified in step 2 for **\@filter_clause**.</span></span> <span data-ttu-id="3f44e-156">Verranno creati gli oggetti di sincronizzazione per l'articolo filtrato.</span><span class="sxs-lookup"><span data-stu-id="3f44e-156">This creates the synchronization objects for the filtered article.</span></span>  
  
#### <a name="to-modify-a-static-row-filter-for-a-snapshot-or-transactional-publication"></a><span data-ttu-id="3f44e-157">Per modificare un filtro di riga statico per una pubblicazione snapshot o transazionale</span><span class="sxs-lookup"><span data-stu-id="3f44e-157">To modify a static row filter for a snapshot or transactional publication</span></span>  
  
1.  <span data-ttu-id="3f44e-158">Nel database di pubblicazione del server di pubblicazione eseguire [sp_articlefilter &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-articlefilter-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="3f44e-158">At the Publisher on the publication database, execute [sp_articlefilter &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-articlefilter-transact-sql).</span></span> <span data-ttu-id="3f44e-159">Specificare il nome dell'articolo per **\@article**, il nome della pubblicazione per **\@publication**, il nome del nuovo filtro per **\@filter_name** e la nuova clausola di filtro per **\@filter_clause** (senza includere `WHERE`).</span><span class="sxs-lookup"><span data-stu-id="3f44e-159">Specify the name of the article for **\@article**, the name of the publication for **\@publication**, a name for the new filter for **\@filter_name**, and the new filtering clause for **\@filter_clause** (not including `WHERE`).</span></span> <span data-ttu-id="3f44e-160">Poiché questa modifica invaliderà i dati nelle sottoscrizioni esistenti, specificare il valore **1** per **\@force_reinit_subscription**.</span><span class="sxs-lookup"><span data-stu-id="3f44e-160">Because this change will invalidate data in existing subscriptions, specify a value of **1** for **\@force_reinit_subscription**.</span></span>  
  
2.  <span data-ttu-id="3f44e-161">Nel database di pubblicazione del server di pubblicazione eseguire [sp_articleview &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-articleview-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="3f44e-161">At the Publisher on the publication database, execute [sp_articleview &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-articleview-transact-sql).</span></span> <span data-ttu-id="3f44e-162">Specificare il nome della pubblicazione per **\@publication**, il nome dell'articolo filtrato per **\@article** e la clausola di filtro specificata nel passaggio 1 per **\@filter_clause**.</span><span class="sxs-lookup"><span data-stu-id="3f44e-162">Specify the publication name for **\@publication**, the name of the filtered article for **\@article**, and the filter clause specified in step 1 for **\@filter_clause**.</span></span> <span data-ttu-id="3f44e-163">Verrà ricreata la vista che definisce l'articolo filtrato.</span><span class="sxs-lookup"><span data-stu-id="3f44e-163">This re-creates the view that defines the filtered article.</span></span>  
  
3.  <span data-ttu-id="3f44e-164">Rieseguire il processo dell'agente snapshot per la pubblicazione per generare uno snapshot aggiornato.</span><span class="sxs-lookup"><span data-stu-id="3f44e-164">Rerun the Snapshot Agent job for the publication to generate an updated snapshot.</span></span> <span data-ttu-id="3f44e-165">Per altre informazioni, vedere [Creazione e applicazione dello snapshot iniziale](../create-and-apply-the-initial-snapshot.md).</span><span class="sxs-lookup"><span data-stu-id="3f44e-165">For more information, see [Create and Apply the Initial Snapshot](../create-and-apply-the-initial-snapshot.md).</span></span>  
  
4.  <span data-ttu-id="3f44e-166">Reinizializzazione delle sottoscrizioni.</span><span class="sxs-lookup"><span data-stu-id="3f44e-166">Reinitialize subscriptions.</span></span> <span data-ttu-id="3f44e-167">Per altre informazioni, vedere [Reinizializzare le sottoscrizioni](../reinitialize-subscriptions.md).</span><span class="sxs-lookup"><span data-stu-id="3f44e-167">For more information, see [Reinitialize Subscriptions](../reinitialize-subscriptions.md).</span></span>  
  
#### <a name="to-delete-a-static-row-filter-for-a-snapshot-or-transactional-publication"></a><span data-ttu-id="3f44e-168">Per eliminare un filtro di riga statico per una pubblicazione snapshot o transazionale</span><span class="sxs-lookup"><span data-stu-id="3f44e-168">To delete a static row filter for a snapshot or transactional publication</span></span>  
  
1.  <span data-ttu-id="3f44e-169">Nel database di pubblicazione del server di pubblicazione eseguire [sp_articlefilter &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-articlefilter-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="3f44e-169">At the Publisher on the publication database, execute [sp_articlefilter &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-articlefilter-transact-sql).</span></span> <span data-ttu-id="3f44e-170">Specificare il nome dell'articolo per **\@article**, il nome della pubblicazione per **\@publication**, il valore NULL per **\@filter_name** e il valore NULL per **\@filter_clause**.</span><span class="sxs-lookup"><span data-stu-id="3f44e-170">Specify the name of the article for **\@article**, the name of the publication for **\@publication**, a value of NULL for **\@filter_name**, and a value of NULL for **\@filter_clause**.</span></span> <span data-ttu-id="3f44e-171">Poiché questa modifica invaliderà i dati nelle sottoscrizioni esistenti, specificare il valore **1** per **\@force_reinit_subscription**.</span><span class="sxs-lookup"><span data-stu-id="3f44e-171">Because this change will invalidate data in existing subscriptions, specify a value of **1** for **\@force_reinit_subscription**.</span></span>  
  
2.  <span data-ttu-id="3f44e-172">Rieseguire il processo dell'agente snapshot per la pubblicazione per generare uno snapshot aggiornato.</span><span class="sxs-lookup"><span data-stu-id="3f44e-172">Rerun the Snapshot Agent job for the publication to generate an updated snapshot.</span></span> <span data-ttu-id="3f44e-173">Per altre informazioni, vedere [Creazione e applicazione dello snapshot iniziale](../create-and-apply-the-initial-snapshot.md).</span><span class="sxs-lookup"><span data-stu-id="3f44e-173">For more information, see [Create and Apply the Initial Snapshot](../create-and-apply-the-initial-snapshot.md).</span></span>  
  
3.  <span data-ttu-id="3f44e-174">Reinizializzazione delle sottoscrizioni.</span><span class="sxs-lookup"><span data-stu-id="3f44e-174">Reinitialize subscriptions.</span></span> <span data-ttu-id="3f44e-175">Per altre informazioni, vedere [Reinizializzare le sottoscrizioni](../reinitialize-subscriptions.md).</span><span class="sxs-lookup"><span data-stu-id="3f44e-175">For more information, see [Reinitialize Subscriptions](../reinitialize-subscriptions.md).</span></span>  
  
#### <a name="to-define-a-static-row-filter-for-a-merge-publication"></a><span data-ttu-id="3f44e-176">Per definire un filtro di riga statico per una pubblicazione di tipo merge</span><span class="sxs-lookup"><span data-stu-id="3f44e-176">To define a static row filter for a merge publication</span></span>  
  
1.  <span data-ttu-id="3f44e-177">Nel database di pubblicazione del server di pubblicazione eseguire [sp_addmergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="3f44e-177">At the Publisher on the publication database, execute [sp_addmergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql).</span></span> <span data-ttu-id="3f44e-178">Specificare la clausola di filtro per **\@subset_filterclause** (senza includere `WHERE`).</span><span class="sxs-lookup"><span data-stu-id="3f44e-178">Specify the filtering clause for **\@subset_filterclause** (not including `WHERE`).</span></span> <span data-ttu-id="3f44e-179">Per altre informazioni, vedere [definire un articolo](define-an-article.md).</span><span class="sxs-lookup"><span data-stu-id="3f44e-179">For more information, see [Define an Article](define-an-article.md).</span></span>  
  
2.  <span data-ttu-id="3f44e-180">Se non è ancora stato definito un filtro di colonna, vedere [Definizione e modifica di un filtro colonne](define-and-modify-a-column-filter.md).</span><span class="sxs-lookup"><span data-stu-id="3f44e-180">If a column filter must still be defined, see [Define and Modify a Column Filter](define-and-modify-a-column-filter.md).</span></span>  
  
#### <a name="to-modify-a-static-row-filter-for-a-merge-publication"></a><span data-ttu-id="3f44e-181">Per modificare un filtro di riga statico per una pubblicazione di tipo merge</span><span class="sxs-lookup"><span data-stu-id="3f44e-181">To modify a static row filter for a merge publication</span></span>  
  
1.  <span data-ttu-id="3f44e-182">Nel database di pubblicazione del server di pubblicazione eseguire [sp_changemergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="3f44e-182">At the Publisher on the publication database, execute [sp_changemergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql).</span></span> <span data-ttu-id="3f44e-183">Specificare il nome della pubblicazione per **\@publication**, il nome dell'articolo filtrato per **\@article**, il valore **subset_filterclause** per **\@property** e la nuova clausola di filtro per **\@value** (senza includere `WHERE`).</span><span class="sxs-lookup"><span data-stu-id="3f44e-183">Specify the publication name for **\@publication**, the name of the filtered article for **\@article**, a value of **subset_filterclause** for **\@property**, and the new filtering clause for **\@value** (not including `WHERE`).</span></span> <span data-ttu-id="3f44e-184">Poiché questa modifica invaliderà i dati nelle sottoscrizioni esistenti, specificare il valore 1 per **\@force_reinit_subscription**.</span><span class="sxs-lookup"><span data-stu-id="3f44e-184">Because this change will invalidate data in existing subscriptions, specify a value of 1 for **\@force_reinit_subscription**.</span></span>  
  
2.  <span data-ttu-id="3f44e-185">Rieseguire il processo dell'agente snapshot per la pubblicazione per generare uno snapshot aggiornato.</span><span class="sxs-lookup"><span data-stu-id="3f44e-185">Rerun the Snapshot Agent job for the publication to generate an updated snapshot.</span></span> <span data-ttu-id="3f44e-186">Per altre informazioni, vedere [Creazione e applicazione dello snapshot iniziale](../create-and-apply-the-initial-snapshot.md).</span><span class="sxs-lookup"><span data-stu-id="3f44e-186">For more information, see [Create and Apply the Initial Snapshot](../create-and-apply-the-initial-snapshot.md).</span></span>  
  
3.  <span data-ttu-id="3f44e-187">Reinizializzazione delle sottoscrizioni.</span><span class="sxs-lookup"><span data-stu-id="3f44e-187">Reinitialize subscriptions.</span></span> <span data-ttu-id="3f44e-188">Per altre informazioni, vedere [Reinizializzare le sottoscrizioni](../reinitialize-subscriptions.md).</span><span class="sxs-lookup"><span data-stu-id="3f44e-188">For more information, see [Reinitialize Subscriptions](../reinitialize-subscriptions.md).</span></span>  
  
###  <a name="examples-transact-sql"></a><a name="TsqlExample"></a> <span data-ttu-id="3f44e-189">Esempi (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="3f44e-189">Examples (Transact-SQL)</span></span>  
 <span data-ttu-id="3f44e-190">In questo esempio di replica transazionale l'articolo viene filtrato orizzontalmente per rimuovere tutti i prodotti non più supportati.</span><span class="sxs-lookup"><span data-stu-id="3f44e-190">In this transactional replication example, the article is filtered horizontally to remove all discontinued products.</span></span>  
  
 [!code-sql[HowTo#sp_AddTranArticle](../../../snippets/tsql/SQL15/replication/howto/tsql/createtranpub.sql#sp_addtranarticle)]  
  
 <span data-ttu-id="3f44e-191">In questo esempio di replica di tipo merge gli articoli vengono filtrati orizzontalmente per restituire solo le righe che appartengono al venditore specificato.</span><span class="sxs-lookup"><span data-stu-id="3f44e-191">In this merge replication example, the articles are filtered horizontally to return only rows that belong to the specified salesperson.</span></span> <span data-ttu-id="3f44e-192">Viene utilizzato anche un filtro join.</span><span class="sxs-lookup"><span data-stu-id="3f44e-192">A join filter is also used.</span></span> <span data-ttu-id="3f44e-193">Per altre informazioni, vedere [Definizione e modifica di un filtro di join tra articoli di merge](define-and-modify-a-join-filter-between-merge-articles.md).</span><span class="sxs-lookup"><span data-stu-id="3f44e-193">For more information, see [Define and Modify a Join Filter Between Merge Articles](define-and-modify-a-join-filter-between-merge-articles.md).</span></span>  
  
 [!code-sql[HowTo#sp_AddMergeArticle](../../../snippets/tsql/SQL15/replication/howto/tsql/createmergepub.sql#sp_addmergearticle)]  
  
## <a name="see-also"></a><span data-ttu-id="3f44e-194">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="3f44e-194">See Also</span></span>  
 <span data-ttu-id="3f44e-195">[Definizione e modifica di un filtro di riga con parametri per un articolo di merge](define-and-modify-a-parameterized-row-filter-for-a-merge-article.md) </span><span class="sxs-lookup"><span data-stu-id="3f44e-195">[Define and Modify a Parameterized Row Filter for a Merge Article](define-and-modify-a-parameterized-row-filter-for-a-merge-article.md) </span></span>  
 <span data-ttu-id="3f44e-196">[Modificare le proprietà di pubblicazioni e articoli](change-publication-and-article-properties.md) </span><span class="sxs-lookup"><span data-stu-id="3f44e-196">[Change Publication and Article Properties](change-publication-and-article-properties.md) </span></span>  
 <span data-ttu-id="3f44e-197">[Filtrare i dati pubblicati](filter-published-data.md) </span><span class="sxs-lookup"><span data-stu-id="3f44e-197">[Filter Published Data](filter-published-data.md) </span></span>  
 [<span data-ttu-id="3f44e-198">Filtrare i dati pubblicati per la replica di tipo merge</span><span class="sxs-lookup"><span data-stu-id="3f44e-198">Filter Published Data for Merge Replication</span></span>](../merge/filter-published-data-for-merge-replication.md)  
  
  
