---
title: Convalidare i dati replicati | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- Subscribers [SQL Server replication], data validation
- replication [SQL Server], validating data
- transactional replication, validating data
- validating data
- merge replication data validation [SQL Server replication], SQL Server Management Studio
ms.assetid: 215b4c9a-0ce9-4c00-ac0b-43b54151dfa3
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 4d09750c0cb81d64f5921ae2064b2e75edb6ca96
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87623137"
---
# <a name="validate-replicated-data"></a><span data-ttu-id="20c6b-102">Convalida dei dati replicati</span><span class="sxs-lookup"><span data-stu-id="20c6b-102">Validate Replicated Data</span></span>
  <span data-ttu-id="20c6b-103">In questo argomento viene descritto come convalidare i dati nel Sottoscrittore in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] tramite [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], [!INCLUDE[tsql](../../includes/tsql-md.md)]o RMO (Replication Management Objects).</span><span class="sxs-lookup"><span data-stu-id="20c6b-103">This topic describes how to validate data at the Subscriber in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] by using [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], [!INCLUDE[tsql](../../includes/tsql-md.md)], or Replication Management Objects (RMO).</span></span>  

  <span data-ttu-id="20c6b-104">La replica transazionale e la replica di tipo merge consentono di verificare che i dati presenti nel Sottoscrittore corrispondano ai dati nel server di pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="20c6b-104">Transactional and merge replication allow you to validate that data at the Subscriber matches data at the Publisher.</span></span> <span data-ttu-id="20c6b-105">La convalida può essere eseguita per sottoscrizioni specifiche o per tutte le sottoscrizioni di una pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="20c6b-105">Validation can be performed for specific subscriptions or for all subscriptions to a publication.</span></span> <span data-ttu-id="20c6b-106">Specificare uno dei tipi seguenti di convalida dei dati, che verrà eseguita dall'agente di distribuzione o dall'agente di merge alla successiva sincronizzazione:</span><span class="sxs-lookup"><span data-stu-id="20c6b-106">Specify one of the following validation types and the Distribution Agent or Merge Agent will validate data the next time it runs:</span></span>  
  
-   <span data-ttu-id="20c6b-107">**Solo conteggio righe**.</span><span class="sxs-lookup"><span data-stu-id="20c6b-107">**Row count only**.</span></span> <span data-ttu-id="20c6b-108">Questo tipo di convalida verifica se la tabella nel Sottoscrittore ha lo stesso numero di righe della tabella nel server di pubblicazione, ma non verifica che il contenuto delle righe corrisponda.</span><span class="sxs-lookup"><span data-stu-id="20c6b-108">This validates whether the table at the Subscriber has the same number of rows as the table at the Publisher, but does not validate that the content of the rows matches.</span></span> <span data-ttu-id="20c6b-109">La convalida del conteggio delle righe è un controllo non approfondito che consente comunque di evidenziare eventuali problemi dei dati.</span><span class="sxs-lookup"><span data-stu-id="20c6b-109">Row count validation provides a lightweight approach to validation that can make you aware of issues with your data.</span></span>    
-   <span data-ttu-id="20c6b-110">**Conteggio delle righe e checksum binario.**</span><span class="sxs-lookup"><span data-stu-id="20c6b-110">**Row count and binary checksum**.</span></span> <span data-ttu-id="20c6b-111">Oltre al conteggio delle righe nel server di pubblicazione e nel Sottoscrittore, viene calcolato il checksum di tutti i dati tramite lo specifico algoritmo di checksum.</span><span class="sxs-lookup"><span data-stu-id="20c6b-111">In addition to taking a count of rows at the Publisher and Subscriber, a checksum of all the data is calculated using the checksum algorithm.</span></span> <span data-ttu-id="20c6b-112">In caso di esito negativo durante il conteggio delle righe il checksum non viene eseguito.</span><span class="sxs-lookup"><span data-stu-id="20c6b-112">If the row count fails, the checksum is not performed.</span></span>  
  
 <span data-ttu-id="20c6b-113">Oltre a verificare che i dati nel Sottoscrittore corrispondano ai dati nel server di pubblicazione, la replica di tipo merge consente di verificare che i dati vengano partizionati correttamente per ogni Sottoscrittore.</span><span class="sxs-lookup"><span data-stu-id="20c6b-113">In addition to validating that data at the Subscriber and Publisher match, merge replication provides the ability to validate that data is partitioned correctly for each Subscriber.</span></span> <span data-ttu-id="20c6b-114">Per altre informazioni, vedere [Convalidare le informazioni sulle partizioni per un Sottoscrittore di tipo merge](validate-partition-information-for-a-merge-subscriber.md).</span><span class="sxs-lookup"><span data-stu-id="20c6b-114">For more information, see [Validate Partition Information for a Merge Subscriber](validate-partition-information-for-a-merge-subscriber.md).</span></span>  

## <a name="how-data-validation-works"></a><span data-ttu-id="20c6b-115">Funzionamento della convalida dei dati</span><span class="sxs-lookup"><span data-stu-id="20c6b-115">How Data Validation Works</span></span>  
 <span data-ttu-id="20c6b-116">In[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] i dati vengono convalidati tramite il conteggio delle righe o il calcolo del checksum nel server di pubblicazione e nel Sottoscrittore e il successivo confronto dei risultati.</span><span class="sxs-lookup"><span data-stu-id="20c6b-116">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] validates data by calculating a row count or a checksum at the Publisher and then comparing those values to the row count or checksum calculated at the Subscriber.</span></span> <span data-ttu-id="20c6b-117">Viene calcolato un solo valore per l'intera tabella di pubblicazione e un solo valore per l'intera tabella di sottoscrizione. I dati delle colonne di tipo `text`, `ntext` o `image` non vengono inclusi nei calcoli.</span><span class="sxs-lookup"><span data-stu-id="20c6b-117">One value is calculated for the entire publication table and one value is calculated for the entire subscription table, but data in `text`, `ntext`, or `image` columns is not included in the calculations.</span></span>  
  
 <span data-ttu-id="20c6b-118">Durante l'esecuzione del calcolo vengono attivati temporaneamente i blocchi condivisi sulle tabelle per le quali viene eseguito il conteggio delle righe o il calcolo del checksum. Il calcolo viene comunque completato e i blocchi condivisi vengono subito rimossi.</span><span class="sxs-lookup"><span data-stu-id="20c6b-118">While the calculations are performed, shared locks are placed temporarily on tables for which row counts or checksums are being run, but the calculations are completed quickly and the shared locks removed, usually in a matter of seconds.</span></span>  
  
 <span data-ttu-id="20c6b-119">Quando si utilizzano valori checksum binari, il controllo di ridondanza ciclico (CRC) a 32 bit viene eseguito su ogni colonna anziché sulla riga fisica di una pagina di dati.</span><span class="sxs-lookup"><span data-stu-id="20c6b-119">When binary checksums are used, 32-bit redundancy check (CRC) occurs on a column-by-column basis rather than a CRC on the physical row on the data page.</span></span> <span data-ttu-id="20c6b-120">Le colonne possono essere pertanto ordinate fisicamente in qualsiasi modo nella pagina di dati e al medesimo tempo ottenere lo stesso CRC per la riga.</span><span class="sxs-lookup"><span data-stu-id="20c6b-120">This allows the columns with the table to be in any order physically on the data page, but still compute to the same CRC for the row.</span></span> <span data-ttu-id="20c6b-121">La convalida mediante checksum binario può essere utilizzata quando alla pubblicazione sono applicati filtri di riga o di colonna.</span><span class="sxs-lookup"><span data-stu-id="20c6b-121">Binary checksum validation can be used when there are row or column filters on the publication.</span></span>  
  
 <span data-ttu-id="20c6b-122">La convalida dei dati è un processo suddiviso in tre parti:</span><span class="sxs-lookup"><span data-stu-id="20c6b-122">Validating data is a three-part process:</span></span>  
  
1.  <span data-ttu-id="20c6b-123">Una sottoscrizione o tutte le sottoscrizioni di una pubblicazione vengono *contrassegnate* per la convalida.</span><span class="sxs-lookup"><span data-stu-id="20c6b-123">A single subscription or all subscriptions to a publication are *marked* for validation.</span></span> <span data-ttu-id="20c6b-124">\Contrassegnare le sottoscrizioni per la convalida nelle finestre di dialogo **Convalida sottoscrizione**, **Convalida sottoscrizioni**e **Convalida tutte le sottoscrizioni** , disponibili dalle cartelle **Pubblicazioni locali** e **Sottoscrizioni locali** in [!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="20c6b-124">Mark subscriptions for validation in the **Validate Subscription**, **Validate Subscriptions**, and **Validate All Subscriptions** dialog boxes, which are available from the **Local Publications** folder and the **Local Subscriptions** folder in [!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="20c6b-125">È inoltre possibile contrassegnare le sottoscrizioni nella scheda **Tutte le sottoscrizioni** , nella scheda **Elenco verifica sottoscrizioni** e nel nodo delle pubblicazioni in Monitoraggio replica.</span><span class="sxs-lookup"><span data-stu-id="20c6b-125">You can also mark subscriptions from the **All Subscriptions** tab, the **Subscription Watch List** tab, and the publications node in Replication Monitor.</span></span> <span data-ttu-id="20c6b-126">Per informazioni sull'avvio di Monitoraggio replica, vedere [Avviare Monitoraggio replica](monitor/start-the-replication-monitor.md).</span><span class="sxs-lookup"><span data-stu-id="20c6b-126">For information about starting Replication Monitor, see [Start the Replication Monitor](monitor/start-the-replication-monitor.md).</span></span>  
  
2.  <span data-ttu-id="20c6b-127">La sottoscrizione viene convalidata alla successiva sincronizzazione eseguita dall'agente di distribuzione, nel caso della replica transazionale, o dall'agente di merge nella replica di tipo merge.</span><span class="sxs-lookup"><span data-stu-id="20c6b-127">A subscription is validated the next time it is synchronized by the Distribution Agent (for transactional replication) or the Merge Agent (for merge replication).</span></span> <span data-ttu-id="20c6b-128">L'agente di distribuzione in genere viene eseguito in modo continuativo, pertanto la convalida viene eseguita immediatamente, mentre l'agente di merge in genere viene eseguito su richiesta, pertanto la convalida viene eseguita solo dopo l'esecuzione dell'agente.</span><span class="sxs-lookup"><span data-stu-id="20c6b-128">The Distribution Agent typically runs continuously, in which case validation occurs immediately; the Merge Agent typically runs on demand, in which case validation occurs after you run the agent.</span></span>  
  
3.  <span data-ttu-id="20c6b-129">I risultati della convalida possono essere visualizzati nelle finestre seguenti:</span><span class="sxs-lookup"><span data-stu-id="20c6b-129">View the validation results:</span></span>  
  
    -  <span data-ttu-id="20c6b-130">Nella finestra dei dettagli in Monitoraggio replica, all'interno della scheda **Cronologia database di distribuzione - Sottoscrittore** per la replica transazionale e nella scheda **Cronologia sincronizzazione** per la replica di tipo merge.</span><span class="sxs-lookup"><span data-stu-id="20c6b-130">In the detail windows in Replication Monitor: on the **Distributor to Subscriber History** tab for transactional replication and the **Synchronization History** tab for merge replication.</span></span>    
    -  <span data-ttu-id="20c6b-131">Nella finestra di dialogo **Visualizza stato sincronizzazione** in [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)].</span><span class="sxs-lookup"><span data-stu-id="20c6b-131">In the **View Synchronization Status** dialog box in [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)].</span></span>  
  


  
## <a name="considerations-and-restrictions"></a><span data-ttu-id="20c6b-132">Considerazioni e restrizioni</span><span class="sxs-lookup"><span data-stu-id="20c6b-132">Considerations and restrictions</span></span>  
  
-   <span data-ttu-id="20c6b-133">Le procedure relative a Monitoraggio replica riguardano solo le sottoscrizioni push in quanto le sottoscrizioni pull non possono essere sincronizzate in Monitoraggio replica.</span><span class="sxs-lookup"><span data-stu-id="20c6b-133">The procedures for Replication Monitor are for push subscriptions only because pull subscriptions cannot be synchronized in Replication Monitor.</span></span> <span data-ttu-id="20c6b-134">È tuttavia possibile contrassegnare una sottoscrizione per la convalida e visualizzare i risultati della convalida per le sottoscrizioni pull in Monitoraggio replica.</span><span class="sxs-lookup"><span data-stu-id="20c6b-134">However, you can mark a subscription for validation and view validation results for pull subscriptions in Replication Monitor.</span></span>    
-   <span data-ttu-id="20c6b-135">I risultati della convalida consentono di stabilire se la convalida è stata completata correttamente o meno, ma in caso di errore non indicano quali righe non hanno superato la convalida.</span><span class="sxs-lookup"><span data-stu-id="20c6b-135">The validation results indicate whether validation succeeded or failed, but do not specify which rows failed validation if a failure occurred.</span></span> <span data-ttu-id="20c6b-136">Per confrontare i dati nel server di pubblicazione e nel Sottoscrittore, utilizzare la [tablediff Utility](../../tools/tablediff-utility.md).</span><span class="sxs-lookup"><span data-stu-id="20c6b-136">To compare data at the Publisher and Subscriber, use the [tablediff Utility](../../tools/tablediff-utility.md).</span></span> <span data-ttu-id="20c6b-137">Per ulteriori informazioni sull'uso di questa utilità con i dati replicati, vedere [Confrontare tabelle replicate al fine di individuare le differenze &#40;programmazione della replica&#41;](administration/compare-replicated-tables-for-differences-replication-programming.md).</span><span class="sxs-lookup"><span data-stu-id="20c6b-137">For more information about using this utility with replicated data, see [Compare Replicated Tables for Differences &#40;Replication Programming&#41;](administration/compare-replicated-tables-for-differences-replication-programming.md).</span></span>  
 
<span data-ttu-id="20c6b-138">Durante la convalida dei dati è opportuno considerare gli aspetti seguenti:</span><span class="sxs-lookup"><span data-stu-id="20c6b-138">Take the following issues into consideration when validating data:</span></span>  
  
-   <span data-ttu-id="20c6b-139">Prima di eseguire la convalida dei dati è necessario arrestare tutte le attività di aggiornamento nei Sottoscrittori. Non è necessario arrestare l'eventuale aggiornamento nel server di pubblicazione durante la convalida.</span><span class="sxs-lookup"><span data-stu-id="20c6b-139">You must stop all update activity at Subscribers before validating data (it is not necessary to stop activity at the Publisher when validation is occurring).</span></span>    
-   <span data-ttu-id="20c6b-140">Poiché la convalida di set di dati estesi mediante checksum e checksum binari può richiedere quantità elevate di risorse di elaborazione, è opportuno pianificare la convalida in modo che venga eseguita nei periodi di attività minore nei server utilizzati per la replica.</span><span class="sxs-lookup"><span data-stu-id="20c6b-140">Because checksums and binary checksums can require large amounts of processor resources when validating a large data set, you should schedule validation to occur when there is the least activity on the servers used in replication.</span></span>    
-   <span data-ttu-id="20c6b-141">La replica convalida soltanto le tabelle e non verifica che gli articoli solo schema, ad esempio le stored procedure, presenti nel server di pubblicazione e nel Sottoscrittore corrispondano.</span><span class="sxs-lookup"><span data-stu-id="20c6b-141">Replication validates tables only; it does not validate whether schema only articles (such as stored procedures) are the same at the Publisher and Subscriber.</span></span>    
-   <span data-ttu-id="20c6b-142">Il checksum binario può essere utilizzato per qualsiasi tabella pubblicata.</span><span class="sxs-lookup"><span data-stu-id="20c6b-142">Binary checksum can be used with any published table.</span></span> <span data-ttu-id="20c6b-143">Non è possibile convalidare mediante il calcolo del checksum tabelle con filtri colonne o strutture di tabelle logiche con offset di colonna diversi, a causa di istruzioni di tipo ALTER TABLE tramite cui vengono eliminate o aggiunte colonne.</span><span class="sxs-lookup"><span data-stu-id="20c6b-143">Checksum cannot validate tables with column filters, or logical table structures where column offsets differ (due to ALTER TABLE statements that drop or add columns).</span></span>    
-   <span data-ttu-id="20c6b-144">Per la convalida della replica vengono utilizzate le `checksum` funzioni e **BINARY_CHECKSUM** .</span><span class="sxs-lookup"><span data-stu-id="20c6b-144">Replication validation uses the `checksum` and **binary_checksum** functions.</span></span> <span data-ttu-id="20c6b-145">Per informazioni sul comportamento, vedere [CHECKSUM &#40;Transact-SQL&#41;](/sql/t-sql/functions/checksum-transact-sql) e [BINARY_CHECKSUM  &#40;Transact-SQL&#41;](/sql/t-sql/functions/binary-checksum-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="20c6b-145">For  information about their behavior, see  [CHECKSUM &#40;Transact-SQL&#41;](/sql/t-sql/functions/checksum-transact-sql) and [BINARY_CHECKSUM  &#40;Transact-SQL&#41;](/sql/t-sql/functions/binary-checksum-transact-sql).</span></span>  
  
-   <span data-ttu-id="20c6b-146">La convalida eseguita mediante checksum o checksum binario può segnalare erroneamente un problema se nel Sottoscrittore vi sono tipi di dati diversi rispetto al server di pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="20c6b-146">Validation by using binary checksum or checksum can incorrectly report a failure if data types are different at the Subscriber than they are at the Publisher.</span></span> <span data-ttu-id="20c6b-147">Ciò può verificarsi se si effettua una delle operazioni indicate di seguito.</span><span class="sxs-lookup"><span data-stu-id="20c6b-147">This can occur if you do any one of the following:</span></span>    
    -   <span data-ttu-id="20c6b-148">Impostazione esplicita delle opzioni per lo schema per l'esecuzione del mapping dei tipi di dati per versioni precedenti di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="20c6b-148">Explicitly set schema options to map data types for earlier versions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>    
    -   <span data-ttu-id="20c6b-149">Impostazione del livello di compatibilità della pubblicazione per una pubblicazione di tipo merge su una versione precedente di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], qualora le tabelle pubblicate contengano uno o più tipi di dati di cui è necessario eseguire il mapping per questa versione.</span><span class="sxs-lookup"><span data-stu-id="20c6b-149">Set the publication compatibility level for a merge publication to an earlier version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], and published tables contain one or more data types that must be mapped for this version.</span></span>    
    -   <span data-ttu-id="20c6b-150">Inizializzazione manuale di una sottoscrizione, in caso di utilizzo di tipi di dati diversi nel Sottoscrittore.</span><span class="sxs-lookup"><span data-stu-id="20c6b-150">Manually initialize a subscription and are using different data types at the Subscriber.</span></span>    
-   <span data-ttu-id="20c6b-151">Le convalide mediante calcoli del checksum e checksum binario non sono supportate per la replica transazionale di sottoscrizioni trasformabili.</span><span class="sxs-lookup"><span data-stu-id="20c6b-151">Binary checksum and checksum validations are not supported for transformable subscriptions for transactional replication.</span></span>   
-   <span data-ttu-id="20c6b-152">La convalida non è supportata per i dati replicati in Sottoscrittori non[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="20c6b-152">Validation is not supported for data replicated to non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Subscribers.</span></span>  

## <a name="data-validation-results"></a><span data-ttu-id="20c6b-153">Risultati della convalida dei dati</span><span class="sxs-lookup"><span data-stu-id="20c6b-153">Data Validation Results</span></span>  
 <span data-ttu-id="20c6b-154">Al termine della convalida nell'agente di distribuzione o nell'agente di merge vengono registrati messaggi relativi all'esito positivo o negativo dell'operazione. Non vengono specificate le righe con esito negativo.</span><span class="sxs-lookup"><span data-stu-id="20c6b-154">When validation is complete, the Distribution Agent or Merge Agent logs messages regarding success or failure (replication does not report which rows failed).</span></span> <span data-ttu-id="20c6b-155">È possibile visualizzare tali messaggi in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], Monitoraggio replica e nelle tabelle di sistema di replica.</span><span class="sxs-lookup"><span data-stu-id="20c6b-155">These messages can be viewed in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], Replication Monitor, and replication system tables.</span></span> <span data-ttu-id="20c6b-156">Nell'argomento elencato sopra vengono illustrate le procedure di esecuzione della convalida e di visualizzazione dei risultati.</span><span class="sxs-lookup"><span data-stu-id="20c6b-156">The how-to topic listed above demonstrates how to run validation and view the results.</span></span>  
  
 <span data-ttu-id="20c6b-157">Per gestire gli errori di convalida, considerare quanto segue:</span><span class="sxs-lookup"><span data-stu-id="20c6b-157">To handle validation failures, consider the following:</span></span>  
  
-   <span data-ttu-id="20c6b-158">Configurare l'avviso di replica **Replica: la convalida dei dati nel Sottoscrittore non è riuscita.** , in modo che l'utente venga avvisato dell'errore.</span><span class="sxs-lookup"><span data-stu-id="20c6b-158">Configure the replication alert named **Replication: Subscriber has failed data validation** so that you are notified of the failure.</span></span> <span data-ttu-id="20c6b-159">Per ulteriori informazioni, vedere [configurare gli avvisi di replica predefiniti &#40;SQL Server Management Studio& # 41 (Administration/Configure-predefined-Replication-Alerts-SQL-Server-Management-Studio. MD).</span><span class="sxs-lookup"><span data-stu-id="20c6b-159">For more information, see [Configure Predefined Replication Alerts &#40;SQL Server Management Studio&#41(administration/configure-predefined-replication-alerts-sql-server-management-studio.md).</span></span>  
  
-   <span data-ttu-id="20c6b-160">L'errore di convalida rappresenta un problema per l'applicazione utilizzata?</span><span class="sxs-lookup"><span data-stu-id="20c6b-160">Is the fact that validation failed an issue for your application?</span></span> <span data-ttu-id="20c6b-161">Se sì, aggiornare manualmente i dati in modo che siano sincronizzati oppure reinizializzare la sottoscrizione:</span><span class="sxs-lookup"><span data-stu-id="20c6b-161">If the validation failure is an issue, manually update the data so that it is synchronized, or reinitialize the subscription:</span></span>  
  
    -   <span data-ttu-id="20c6b-162">È possibile aggiornare i dati tramite l' [utilità tablediff](../../tools/tablediff-utility.md).</span><span class="sxs-lookup"><span data-stu-id="20c6b-162">Data can be updated using the [tablediff utility](../../tools/tablediff-utility.md).</span></span> <span data-ttu-id="20c6b-163">Per ulteriori informazioni sull'uso di questa utilità, vedere [Confrontare tabelle replicate al fine di individuare le differenze &#40;programmazione della replica&#41;](administration/compare-replicated-tables-for-differences-replication-programming.md).</span><span class="sxs-lookup"><span data-stu-id="20c6b-163">For more information about using this utility, see [Compare Replicated Tables for Differences &#40;Replication Programming&#41;](administration/compare-replicated-tables-for-differences-replication-programming.md).</span></span>  
  
    -   <span data-ttu-id="20c6b-164">Per altre informazioni sulla reinizializzazione, vedere [Reinizializzare le sottoscrizioni](reinitialize-subscriptions.md).</span><span class="sxs-lookup"><span data-stu-id="20c6b-164">For more information about reinitializaton, see [Reinitialize Subscriptions](reinitialize-subscriptions.md).</span></span>   
 
  
## <a name="articles-in-transactional-replication"></a><span data-ttu-id="20c6b-165">Articoli nella replica transazionale</span><span class="sxs-lookup"><span data-stu-id="20c6b-165">Articles in Transactional Replication</span></span> 

### <a name="using-sql-server-management-studio"></a><span data-ttu-id="20c6b-166">Utilizzare SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="20c6b-166">Using SQL Server Management Studio</span></span>  
  
  
1.  <span data-ttu-id="20c6b-167">Connettersi al server di pubblicazione in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]e quindi espandere il nodo del server.</span><span class="sxs-lookup"><span data-stu-id="20c6b-167">Connect to the Publisher in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], and then expand the server node.</span></span>    
2.  <span data-ttu-id="20c6b-168">Espandere la cartella **Replica** e quindi la cartella **Pubblicazioni locali** .</span><span class="sxs-lookup"><span data-stu-id="20c6b-168">Expand the **Replication** folder, and then expand the **Local Publications** folder.</span></span>    
3.  <span data-ttu-id="20c6b-169">Fare clic con il pulsante destro del mouse sulla pubblicazione di cui si desidera convalidare le sottoscrizioni e quindi scegliere **Convalida sottoscrizioni**.</span><span class="sxs-lookup"><span data-stu-id="20c6b-169">Right-click the publication for which you want to validate subscriptions, and then click **Validate Subscriptions**.</span></span>    
4.  <span data-ttu-id="20c6b-170">Nella finestra di dialogo **Convalida sottoscrizioni** selezionare le sottoscrizioni da convalidare:</span><span class="sxs-lookup"><span data-stu-id="20c6b-170">In the **Validate Subscriptions** dialog box, select which subscriptions to validate:</span></span>    
    -   <span data-ttu-id="20c6b-171">Selezionare **Convalida tutte le sottoscrizioni SQL Server**.</span><span class="sxs-lookup"><span data-stu-id="20c6b-171">Select **Validate all SQL Server subscriptions**.</span></span>    
    -   <span data-ttu-id="20c6b-172">Selezionare **Convalida le sottoscrizioni seguenti**e quindi scegliere una o più sottoscrizioni.</span><span class="sxs-lookup"><span data-stu-id="20c6b-172">Select **Validate the following subscriptions**, and then select one or more subscriptions.</span></span>    
5.  <span data-ttu-id="20c6b-173">Per specificare il tipo di convalida da eseguire (solo conteggio delle righe o conteggio delle righe e valori di checksum), fare clic su **Opzioni di convalida**e quindi specificare le opzioni nella finestra di dialogo **Opzioni di convalida delle sottoscrizioni** .</span><span class="sxs-lookup"><span data-stu-id="20c6b-173">To specify the type of validation to perform (row count, or row count and checksum) click **Validation Options**, and then specify options in the **Subscription Validation Options** dialog box.</span></span>    
6.  [!INCLUDE[clickOK](../../includes/clickok-md.md)]  
  
7.  <span data-ttu-id="20c6b-174">I risultati della convalida possono essere visualizzati in Monitoraggio replica o nella finestra di dialogo **Visualizza stato sincronizzazione** .</span><span class="sxs-lookup"><span data-stu-id="20c6b-174">View validation results in Replication Monitor or the **View Synchronization Status** dialog box.</span></span> <span data-ttu-id="20c6b-175">Eseguire la procedura seguente per ogni sottoscrizione:</span><span class="sxs-lookup"><span data-stu-id="20c6b-175">For each subscription:</span></span>    
    1.  <span data-ttu-id="20c6b-176">Espandere la pubblicazione, fare clic con il pulsante destro del mouse sulla sottoscrizione e quindi scegliere **Visualizza stato sincronizzazione**.</span><span class="sxs-lookup"><span data-stu-id="20c6b-176">Expand the publication, right-click the subscription, and then click **View Synchronization Status**.</span></span>    
    2.  <span data-ttu-id="20c6b-177">Se l'agente non è in esecuzione, fare clic su **Avvia** nella finestra di dialogo **Visualizza stato sincronizzazione** .</span><span class="sxs-lookup"><span data-stu-id="20c6b-177">If the agent is not running click **Start** in the **View Synchronization Status** dialog box.</span></span> <span data-ttu-id="20c6b-178">Nella finestra di dialogo verranno visualizzati messaggi informativi relativi alla convalida.</span><span class="sxs-lookup"><span data-stu-id="20c6b-178">The dialog box will display informational messages regarding validation.</span></span>  
  
     <span data-ttu-id="20c6b-179">Se non viene visualizzato alcun messaggio attinente, l'agente deve aver già registrato un messaggio successivo.</span><span class="sxs-lookup"><span data-stu-id="20c6b-179">If you do not see any messages regarding validation, the agent has already logged a subsequent message.</span></span> <span data-ttu-id="20c6b-180">In questo caso, visualizzare i risultati della convalida in Monitoraggio replica.</span><span class="sxs-lookup"><span data-stu-id="20c6b-180">In this case, view the validation results in Replication Monitor.</span></span> <span data-ttu-id="20c6b-181">Per ulteriori informazioni, vedere le procedure per Monitoraggio replica in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="20c6b-181">For more information, see the Replication Monitor how to procedures in this topic.</span></span>  

### <a name="using-transact-sql-t-sql"></a><span data-ttu-id="20c6b-182">Uso di Transact-SQL (T-SQL)</span><span class="sxs-lookup"><span data-stu-id="20c6b-182">Using Transact-SQL (T-SQL)</span></span>

#### <a name="all-articles"></a><span data-ttu-id="20c6b-183">Tutti gli articoli</span><span class="sxs-lookup"><span data-stu-id="20c6b-183">All articles</span></span>
  
1.  <span data-ttu-id="20c6b-184">Nel database di pubblicazione del server di pubblicazione eseguire [sp_publication_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-publication-validation-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="20c6b-184">At the Publisher on the publication database, execute [sp_publication_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-publication-validation-transact-sql).</span></span> <span data-ttu-id="20c6b-185">Specificare \*\* \@ Publication\*\* e uno dei valori seguenti per \*\* \@ rowcount_only\*\*:</span><span class="sxs-lookup"><span data-stu-id="20c6b-185">Specify **\@publication** and one of the following values for **\@rowcount_only**:</span></span>    
    -   <span data-ttu-id="20c6b-186">**1** : convalida solo mediante conteggio delle righe (impostazione predefinita).</span><span class="sxs-lookup"><span data-stu-id="20c6b-186">**1** - rowcount check only (the default)</span></span>    
    -   <span data-ttu-id="20c6b-187">**2** : convalida mediante conteggio delle righe e checksum binario.</span><span class="sxs-lookup"><span data-stu-id="20c6b-187">**2** - rowcount and binary checksum.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="20c6b-188">Quando si esegue [sp_publication_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-publication-validation-transact-sql), [sp_article_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-article-validation-transact-sql) viene eseguito per ogni articolo nella pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="20c6b-188">When you execute [sp_publication_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-publication-validation-transact-sql), [sp_article_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-article-validation-transact-sql) is executed for each article in the publication.</span></span> <span data-ttu-id="20c6b-189">Per eseguire correttamente [sp_publication_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-publication-validation-transact-sql) è necessario disporre delle autorizzazioni SELECT per tutte le colonne nelle tabelle di base pubblicate.</span><span class="sxs-lookup"><span data-stu-id="20c6b-189">To successfully execute [sp_publication_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-publication-validation-transact-sql), you must have SELECT permissions on all columns in the published base tables.</span></span>  
  
2.  <span data-ttu-id="20c6b-190">(Facoltativo) Avviare l'agente di distribuzione per ogni sottoscrizione, se non è già in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="20c6b-190">(Optional) Start the Distribution Agent for each subscription if it is not already running.</span></span> <span data-ttu-id="20c6b-191">Per ulteriori informazioni, vedere [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) e [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="20c6b-191">For more information, see [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) and [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span></span>    
3.  <span data-ttu-id="20c6b-192">Verificare l'output dell'agente per il risultato della convalida.</span><span class="sxs-lookup"><span data-stu-id="20c6b-192">Check the agent output for the result of the validation.</span></span> <span data-ttu-id="20c6b-193">Per altre informazioni, vedere [Convalidare i dati replicati](validate-data-at-the-subscriber.md).</span><span class="sxs-lookup"><span data-stu-id="20c6b-193">For more information, see [Validate Replicated Data](validate-data-at-the-subscriber.md).</span></span>  
  
#### <a name="single-article"></a><span data-ttu-id="20c6b-194">Singolo articolo</span><span class="sxs-lookup"><span data-stu-id="20c6b-194">Single article</span></span> 
  
1.  <span data-ttu-id="20c6b-195">Nel database di pubblicazione del server di pubblicazione eseguire [sp_article_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-article-validation-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="20c6b-195">At the Publisher on the publication database, execute [sp_article_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-article-validation-transact-sql).</span></span> <span data-ttu-id="20c6b-196">Specificare \*\* \@ Publication**, il nome dell'articolo per \*\* \@ article**e uno dei valori seguenti per \*\* \@ rowcount_only\*\*:</span><span class="sxs-lookup"><span data-stu-id="20c6b-196">Specify **\@publication**, the name of the article for **\@article**, and one of the following values for **\@rowcount_only**:</span></span>    
    -   <span data-ttu-id="20c6b-197">**1** : convalida solo mediante conteggio delle righe (impostazione predefinita).</span><span class="sxs-lookup"><span data-stu-id="20c6b-197">**1** - Rowcount check only (the default)</span></span>    
    -   <span data-ttu-id="20c6b-198">**2** -conteggio delle righe e checksum binario.</span><span class="sxs-lookup"><span data-stu-id="20c6b-198">**2** - Rowcount and binary checksum.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="20c6b-199">Per eseguire correttamente [sp_article_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-article-validation-transact-sql), è necessario disporre delle autorizzazioni SELECT per tutte le colonne nella tabella di base pubblicata.</span><span class="sxs-lookup"><span data-stu-id="20c6b-199">To successfully execute [sp_article_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-article-validation-transact-sql), you must have SELECT permissions on all columns in the published base table.</span></span>  
  
2.  <span data-ttu-id="20c6b-200">(Facoltativo) Avviare l'agente di distribuzione per ogni sottoscrizione, se non è già in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="20c6b-200">(Optional) Start the Distribution Agent for each subscription if it is not already running.</span></span> <span data-ttu-id="20c6b-201">Per ulteriori informazioni, vedere [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) e [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="20c6b-201">For more information, see [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) and [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span></span>    
3.  <span data-ttu-id="20c6b-202">Verificare l'output dell'agente per il risultato della convalida.</span><span class="sxs-lookup"><span data-stu-id="20c6b-202">Check the agent output for the result of the validation.</span></span> <span data-ttu-id="20c6b-203">Per altre informazioni, vedere [Convalidare i dati replicati](validate-data-at-the-subscriber.md).</span><span class="sxs-lookup"><span data-stu-id="20c6b-203">For more information, see [Validate Replicated Data](validate-data-at-the-subscriber.md).</span></span>  
  
#### <a name="single-subscriber"></a><span data-ttu-id="20c6b-204">Singolo sottoscrittore</span><span class="sxs-lookup"><span data-stu-id="20c6b-204">Single subscriber</span></span>
  
1.  <span data-ttu-id="20c6b-205">Nel database di pubblicazione del server di pubblicazione aprire una transazione esplicita usando [BEGIN TRANSACTION &#40;Transact-SQL&#41;](/sql/t-sql/language-elements/begin-transaction-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="20c6b-205">At the Publisher on the publication database, open an explicit transaction using [BEGIN TRANSACTION &#40;Transact-SQL&#41;](/sql/t-sql/language-elements/begin-transaction-transact-sql).</span></span>    
2.  <span data-ttu-id="20c6b-206">Nel database di pubblicazione del server di pubblicazione eseguire [sp_marksubscriptionvalidation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-marksubscriptionvalidation-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="20c6b-206">At the Publisher on the publication database, execute [sp_marksubscriptionvalidation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-marksubscriptionvalidation-transact-sql).</span></span> <span data-ttu-id="20c6b-207">Specificare la pubblicazione per la \*\* \@ pubblicazione**, il nome del Sottoscrittore per il \*\* \@ Sottoscrittore**e il nome del database di sottoscrizione per \*\* \@ destination_db\*\*.</span><span class="sxs-lookup"><span data-stu-id="20c6b-207">Specify the publication for **\@publication**, the name of the Subscriber for **\@subscriber**, and the name of the subscription database for **\@destination_db**.</span></span>    
3.  <span data-ttu-id="20c6b-208">(Facoltativo) Ripetere il passaggio 2 per ciascuna sottoscrizione da convalidare.</span><span class="sxs-lookup"><span data-stu-id="20c6b-208">(Optional) Repeat step 2 for each subscription being validated.</span></span>    
4.  <span data-ttu-id="20c6b-209">Nel database di pubblicazione del server di pubblicazione eseguire [sp_article_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-article-validation-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="20c6b-209">At the Publisher on the publication database, execute [sp_article_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-article-validation-transact-sql).</span></span> <span data-ttu-id="20c6b-210">Specificare \*\* \@ Publication**, il nome dell'articolo per \*\* \@ article**e uno dei valori seguenti per \*\* \@ rowcount_only\*\*:</span><span class="sxs-lookup"><span data-stu-id="20c6b-210">Specify **\@publication**, the name of the article for **\@article**, and one of the following values for **\@rowcount_only**:</span></span>    
    -   <span data-ttu-id="20c6b-211">**1** : convalida solo mediante conteggio delle righe (impostazione predefinita).</span><span class="sxs-lookup"><span data-stu-id="20c6b-211">**1** - Rowcount check only (the default)</span></span>    
    -   <span data-ttu-id="20c6b-212">**2** -conteggio delle righe e checksum binario.</span><span class="sxs-lookup"><span data-stu-id="20c6b-212">**2** - Rowcount and binary checksum.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="20c6b-213">Per eseguire correttamente [sp_article_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-article-validation-transact-sql), è necessario disporre delle autorizzazioni SELECT per tutte le colonne nella tabella di base pubblicata.</span><span class="sxs-lookup"><span data-stu-id="20c6b-213">To successfully execute [sp_article_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-article-validation-transact-sql), you must have SELECT permissions on all columns in the published base table.</span></span>  
  
5.  <span data-ttu-id="20c6b-214">Nel database di pubblicazione del server di pubblicazione eseguire il commit della transazione usando [COMMIT TRANSACTION &#40;Transact-SQL&#41;](/sql/t-sql/language-elements/commit-transaction-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="20c6b-214">At the Publisher on the publication database, commit the transaction using [COMMIT TRANSACTION &#40;Transact-SQL&#41;](/sql/t-sql/language-elements/commit-transaction-transact-sql).</span></span>    
6.  <span data-ttu-id="20c6b-215">(Facoltativo) Ripetere i passaggi da 1 a 5 per ciascun articolo da convalidare.</span><span class="sxs-lookup"><span data-stu-id="20c6b-215">(Optional) Repeat steps 1 through 5 for each article being validated.</span></span>    
7.  <span data-ttu-id="20c6b-216">(Facoltativo) Avviare l'agente di distribuzione, se non è già in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="20c6b-216">(Optional) Start the Distribution Agent if it is not already running.</span></span> <span data-ttu-id="20c6b-217">Per ulteriori informazioni, vedere [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) e [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="20c6b-217">For more information, see [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) and [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span></span>    
8.  <span data-ttu-id="20c6b-218">Verificare l'output dell'agente per il risultato della convalida.</span><span class="sxs-lookup"><span data-stu-id="20c6b-218">Check the agent output for the result of the validation.</span></span> <span data-ttu-id="20c6b-219">Per altre informazioni, vedere [Validate Data at the Subscriber](validate-data-at-the-subscriber.md).</span><span class="sxs-lookup"><span data-stu-id="20c6b-219">For more information, see [Validate Data at the Subscriber](validate-data-at-the-subscriber.md).</span></span>  

##  <a name="all-push-subscriptions-to-a-transactional-publication"></a><span data-ttu-id="20c6b-220">Tutte le sottoscrizioni push di una pubblicazione transazionale</span><span class="sxs-lookup"><span data-stu-id="20c6b-220">All push subscriptions to a Transactional Publication</span></span> 

### <a name="using-replication-monitor"></a><span data-ttu-id="20c6b-221">Uso di Monitoraggio replica</span><span class="sxs-lookup"><span data-stu-id="20c6b-221">Using Replication Monitor</span></span>
  
1.  <span data-ttu-id="20c6b-222">In Monitoraggio replica espandere un gruppo di server di pubblicazione nel riquadro di sinistra e quindi espandere un server di pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="20c6b-222">In Replication Monitor, expand a Publisher group in the left pane, and then expand a Publisher.</span></span>    
2.  <span data-ttu-id="20c6b-223">Fare clic con il pulsante destro del mouse sulla pubblicazione di cui si desidera convalidare le sottoscrizioni e quindi scegliere **Convalida sottoscrizioni**.</span><span class="sxs-lookup"><span data-stu-id="20c6b-223">Right-click the publication for which you want to validate subscriptions, and then click **Validate Subscriptions**.</span></span>    
3.  <span data-ttu-id="20c6b-224">Nella finestra di dialogo **Convalida sottoscrizioni** selezionare le sottoscrizioni da convalidare:</span><span class="sxs-lookup"><span data-stu-id="20c6b-224">In the **Validate Subscriptions** dialog box, select which subscriptions to validate:</span></span>    
    -   <span data-ttu-id="20c6b-225">Selezionare **Convalida tutte le sottoscrizioni SQL Server**.</span><span class="sxs-lookup"><span data-stu-id="20c6b-225">Select **Validate all SQL Server subscriptions**.</span></span>    
    -   <span data-ttu-id="20c6b-226">Selezionare **Convalida le sottoscrizioni seguenti**e quindi scegliere una o più sottoscrizioni.</span><span class="sxs-lookup"><span data-stu-id="20c6b-226">Select **Validate the following subscriptions**, and then select one or more subscriptions.</span></span>   
4.  <span data-ttu-id="20c6b-227">Per specificare il tipo di convalida da eseguire (solo conteggio delle righe o conteggio delle righe e valori di checksum), fare clic su **Opzioni di convalida**e quindi specificare le opzioni nella finestra di dialogo **Opzioni di convalida delle sottoscrizioni** .</span><span class="sxs-lookup"><span data-stu-id="20c6b-227">To specify the type of validation to perform (row count, or row count and checksum) click **Validation Options**, and then specify options in the **Subscription Validation Options** dialog box.</span></span>    
5.  [!INCLUDE[clickOK](../../includes/clickok-md.md)]    
6.  <span data-ttu-id="20c6b-228">Fare clic sulla scheda **Tutte le sottoscrizioni** .</span><span class="sxs-lookup"><span data-stu-id="20c6b-228">Click the **All Subscriptions** tab.</span></span>    
7.  <span data-ttu-id="20c6b-229">Visualizzare i risultati della convalida.</span><span class="sxs-lookup"><span data-stu-id="20c6b-229">View validation results.</span></span> <span data-ttu-id="20c6b-230">Eseguire la procedura seguente per ogni sottoscrizione push:</span><span class="sxs-lookup"><span data-stu-id="20c6b-230">For each push subscription:</span></span>   
    1.  <span data-ttu-id="20c6b-231">Se l'agente non è in esecuzione, fare clic con il pulsante destro del mouse sulla sottoscrizione e quindi scegliere **Avvia sincronizzazione**.</span><span class="sxs-lookup"><span data-stu-id="20c6b-231">If the agent is not running, right-click the subscription, and then click **Start Synchronizing**.</span></span>   
    2.  <span data-ttu-id="20c6b-232">Fare clic con il pulsante destro del mouse sulla sottoscrizione e quindi scegliere **Visualizza dettagli**.</span><span class="sxs-lookup"><span data-stu-id="20c6b-232">Right-click the subscription, and then click **View Details**.</span></span>    
    3.  <span data-ttu-id="20c6b-233">Visualizzare le informazioni nella scheda **Cronologia server di distribuzione - Sottoscrittore** all'interno dell'area di testo **Azioni nella sessione selezionata** .</span><span class="sxs-lookup"><span data-stu-id="20c6b-233">View information on the **Distributor to Subscriber History** tab in the **Actions in the selected session** text area.</span></span>  
  

## <a name="for-a-single-subscription-to-a-merge-publication"></a><span data-ttu-id="20c6b-234">Per una singola sottoscrizione di una pubblicazione di tipo merge</span><span class="sxs-lookup"><span data-stu-id="20c6b-234">For a single subscription to a Merge Publication</span></span>
  
### <a name="using-sql-server-management-studio"></a><span data-ttu-id="20c6b-235">Utilizzare SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="20c6b-235">Using SQL Server Management Studio</span></span>
  
1.  <span data-ttu-id="20c6b-236">Connettersi al server di pubblicazione in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]e quindi espandere il nodo del server.</span><span class="sxs-lookup"><span data-stu-id="20c6b-236">Connect to the Publisher in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], and then expand the server node.</span></span>    
2.  <span data-ttu-id="20c6b-237">Espandere la cartella **Replica** e quindi la cartella **Pubblicazioni locali** .</span><span class="sxs-lookup"><span data-stu-id="20c6b-237">Expand the **Replication** folder, and then expand the **Local Publications** folder.</span></span>    
3.  <span data-ttu-id="20c6b-238">Espandere la pubblicazione di cui si desidera convalidare le sottoscrizioni, fare clic con il pulsante destro del mouse sulla sottoscrizione e quindi scegliere **Convalida sottoscrizione**.</span><span class="sxs-lookup"><span data-stu-id="20c6b-238">Expand the publication for which you want to validate subscriptions, right-click the subscription, and then click **Validate Subscription**.</span></span>    
4.  <span data-ttu-id="20c6b-239">Nella finestra di dialogo **Convalida sottoscrizione** selezionare **Convalida la sottoscrizione**.</span><span class="sxs-lookup"><span data-stu-id="20c6b-239">In the **Validate Subscription** dialog box, select **Validate this subscription**.</span></span>    
5.  <span data-ttu-id="20c6b-240">Per specificare il tipo di convalida da eseguire (solo conteggio delle righe o conteggio delle righe e valori di checksum), fare clic su **Opzioni**e quindi specificare le opzioni nella finestra di dialogo **Opzioni di convalida delle sottoscrizioni** .</span><span class="sxs-lookup"><span data-stu-id="20c6b-240">To specify the type of validation to perform (row count, or row count and checksum) click **Options**, and then specify options in the **Subscription Validation Options** dialog box.</span></span>    
6.  [!INCLUDE[clickOK](../../includes/clickok-md.md)]    
7.  <span data-ttu-id="20c6b-241">I risultati della convalida possono essere visualizzati in Monitoraggio replica o nella finestra di dialogo **Visualizza stato sincronizzazione** .</span><span class="sxs-lookup"><span data-stu-id="20c6b-241">View validation results in Replication Monitor or the **View Synchronization Status** dialog box:</span></span>  
    1.  <span data-ttu-id="20c6b-242">Espandere la pubblicazione, fare clic con il pulsante destro del mouse sulla sottoscrizione e quindi scegliere **Visualizza stato sincronizzazione**.</span><span class="sxs-lookup"><span data-stu-id="20c6b-242">Expand the publication, right-click the subscription, and then click **View Synchronization Status**.</span></span>   
    2.  <span data-ttu-id="20c6b-243">Se l'agente non è in esecuzione, fare clic su **Avvia** nella finestra di dialogo **Visualizza stato sincronizzazione** .</span><span class="sxs-lookup"><span data-stu-id="20c6b-243">If the agent is not running, click **Start** in the **View Synchronization Status** dialog box.</span></span> <span data-ttu-id="20c6b-244">Nella finestra di dialogo verranno visualizzati messaggi informativi relativi alla convalida.</span><span class="sxs-lookup"><span data-stu-id="20c6b-244">The dialog box will display informational messages regarding validation.</span></span>  
  
     <span data-ttu-id="20c6b-245">Se non viene visualizzato alcun messaggio attinente, l'agente deve aver già registrato un messaggio successivo.</span><span class="sxs-lookup"><span data-stu-id="20c6b-245">If you do not see any messages regarding validation, the agent has already logged a subsequent message.</span></span> <span data-ttu-id="20c6b-246">In questo caso, visualizzare i risultati della convalida in Monitoraggio replica.</span><span class="sxs-lookup"><span data-stu-id="20c6b-246">In this case, view the validation results in Replication Monitor.</span></span> <span data-ttu-id="20c6b-247">Per ulteriori informazioni, vedere le procedure per Monitoraggio replica in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="20c6b-247">For more information, see the Replication Monitor how to procedures in this topic.</span></span>  

### <a name="using-transact-sql-t-sql"></a><span data-ttu-id="20c6b-248">Uso di Transact-SQL (T-SQL)</span><span class="sxs-lookup"><span data-stu-id="20c6b-248">Using Transact-SQL (T-SQL)</span></span>

1.  <span data-ttu-id="20c6b-249">Nel database di pubblicazione del server di pubblicazione eseguire [sp_validatemergesubscription &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-validatemergesubscription-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="20c6b-249">At the Publisher on the publication database, execute [sp_validatemergesubscription &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-validatemergesubscription-transact-sql).</span></span> <span data-ttu-id="20c6b-250">Specificare la \*\* \@ pubblicazione**, il nome del Sottoscrittore per il \*\* \@ Sottoscrittore**, il nome del database di sottoscrizione per \*\* \@ subscriber_db**e uno dei valori seguenti per \*\* \@ Level**:</span><span class="sxs-lookup"><span data-stu-id="20c6b-250">Specify **\@publication**, the name of the Subscriber for **\@subscriber**, the name of the subscription database for **\@subscriber_db**, and one of the following values for **\@level**:</span></span>   
    -   <span data-ttu-id="20c6b-251">**1** : convalida solo mediante conteggio delle righe.</span><span class="sxs-lookup"><span data-stu-id="20c6b-251">**1** - Rowcount-only validation.</span></span>    
    -   <span data-ttu-id="20c6b-252">**3** : convalida mediante conteggio delle righe e checksum binario.</span><span class="sxs-lookup"><span data-stu-id="20c6b-252">**3** - Rowcount binary checksum validation.</span></span>  
  
     <span data-ttu-id="20c6b-253">La sottoscrizione selezionata viene contrassegnata per la convalida.</span><span class="sxs-lookup"><span data-stu-id="20c6b-253">This marks the selected subscription for validation.</span></span>  
  
2.  <span data-ttu-id="20c6b-254">Avviare l'agente di merge per ciascuna sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="20c6b-254">Start the merge agent for each subscription.</span></span> <span data-ttu-id="20c6b-255">Per ulteriori informazioni, vedere [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) e [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="20c6b-255">For more information, see [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) and [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span></span>    
3.  <span data-ttu-id="20c6b-256">Verificare l'output dell'agente per il risultato della convalida.</span><span class="sxs-lookup"><span data-stu-id="20c6b-256">Check the agent output for the result of the validation.</span></span>    
4.  <span data-ttu-id="20c6b-257">Ripetere i passaggi da 1 a 3 per ciascuna sottoscrizione da convalidare.</span><span class="sxs-lookup"><span data-stu-id="20c6b-257">Repeat steps 1 through 3 for each subscription being validated.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="20c6b-258">È inoltre possibile convalidare una sottoscrizione di una pubblicazione di tipo merge alla fine di una sincronizzazione, specificando il parametro **-Validate** al momento dell'esecuzione di [Replication Merge Agent](agents/replication-merge-agent.md).</span><span class="sxs-lookup"><span data-stu-id="20c6b-258">A subscription to a merge publication can also be validated at the end of a synchronization by specifying the **-Validate** parameter when running the [Replication Merge Agent](agents/replication-merge-agent.md).</span></span>  

  
## <a name="for-all-subscriptions-to-a-merge-publication"></a><span data-ttu-id="20c6b-259">Per tutte le sottoscrizioni di una pubblicazione di tipo merge</span><span class="sxs-lookup"><span data-stu-id="20c6b-259">For all subscriptions to a Merge Publication</span></span>

### <a name="using-sql-server-management-studio"></a><span data-ttu-id="20c6b-260">Utilizzare SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="20c6b-260">Using SQL Server Management Studio</span></span> 
  
1.  <span data-ttu-id="20c6b-261">Connettersi al server di pubblicazione in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]e quindi espandere il nodo del server.</span><span class="sxs-lookup"><span data-stu-id="20c6b-261">Connect to the Publisher in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], and then expand the server node.</span></span>    
2.  <span data-ttu-id="20c6b-262">Espandere la cartella **Replica** e quindi la cartella **Pubblicazioni locali** .</span><span class="sxs-lookup"><span data-stu-id="20c6b-262">Expand the **Replication** folder, and then expand the **Local Publications** folder.</span></span>    
3.  <span data-ttu-id="20c6b-263">Fare clic con il pulsante destro del mouse sulla pubblicazione di cui si desidera convalidare le sottoscrizioni e quindi scegliere **Convalida tutte le sottoscrizioni**.</span><span class="sxs-lookup"><span data-stu-id="20c6b-263">Right-click the publication for which you want to validate subscriptions, and then click **Validate All Subscriptions**.</span></span>    
4.  <span data-ttu-id="20c6b-264">Nella finestra di dialogo **Convalida tutte le sottoscrizioni** specificare il tipo di convalida da eseguire (solo conteggio delle righe o conteggio delle righe e valori di checksum).</span><span class="sxs-lookup"><span data-stu-id="20c6b-264">In the **Validate All Subscriptions** dialog box, specify the type of validation to perform (row count, or row count and checksum).</span></span>    
5.  [!INCLUDE[clickOK](../../includes/clickok-md.md)]    
6.  <span data-ttu-id="20c6b-265">Visualizzare i risultati della convalida in Monitoraggio replica o nella finestra di dialogo **Visualizza stato sincronizzazione** .</span><span class="sxs-lookup"><span data-stu-id="20c6b-265">View validation results in Replication Monitor or the **View Synchronization Status** dialog box.</span></span> <span data-ttu-id="20c6b-266">Eseguire la procedura seguente per ogni sottoscrizione:</span><span class="sxs-lookup"><span data-stu-id="20c6b-266">For each subscription:</span></span>    
    1.  <span data-ttu-id="20c6b-267">Espandere la pubblicazione, fare clic con il pulsante destro del mouse sulla sottoscrizione e quindi scegliere **Visualizza stato sincronizzazione**.</span><span class="sxs-lookup"><span data-stu-id="20c6b-267">Expand the publication, right-click the subscription, and then click **View Synchronization Status**.</span></span>   
    2.  <span data-ttu-id="20c6b-268">Se l'agente non è in esecuzione, fare clic su **Avvia** nella finestra di dialogo **Visualizza stato sincronizzazione** .</span><span class="sxs-lookup"><span data-stu-id="20c6b-268">If the agent is not running, click **Start** in the **View Synchronization Status** dialog box.</span></span> <span data-ttu-id="20c6b-269">Nella finestra di dialogo verranno visualizzati messaggi informativi relativi alla convalida.</span><span class="sxs-lookup"><span data-stu-id="20c6b-269">The dialog box will display informational messages regarding validation.</span></span>  
  
     <span data-ttu-id="20c6b-270">Se non viene visualizzato alcun messaggio attinente, l'agente deve aver già registrato un messaggio successivo.</span><span class="sxs-lookup"><span data-stu-id="20c6b-270">If you do not see any messages regarding validation, the agent has already logged a subsequent message.</span></span> <span data-ttu-id="20c6b-271">In questo caso, visualizzare i risultati della convalida in Monitoraggio replica.</span><span class="sxs-lookup"><span data-stu-id="20c6b-271">In this case, view the validation results in Replication Monitor.</span></span> <span data-ttu-id="20c6b-272">Per ulteriori informazioni, vedere le procedure per Monitoraggio replica in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="20c6b-272">For more information, see the Replication Monitor how to procedures in this topic.</span></span>  

### <a name="using-transact-sql-t-sql"></a><span data-ttu-id="20c6b-273">Uso di Transact-SQL (T-SQL)</span><span class="sxs-lookup"><span data-stu-id="20c6b-273">Using Transact-SQL (T-SQL)</span></span>

1.  <span data-ttu-id="20c6b-274">(Facoltativo) Nel database di pubblicazione del server di pubblicazione eseguire [sp_validatemergepublication &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-validatemergepublication-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="20c6b-274">At the Publisher on the publication database, execute [sp_validatemergepublication &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-validatemergepublication-transact-sql).</span></span> <span data-ttu-id="20c6b-275">Specificare \*\* \@ Publication\*\* e uno dei valori seguenti per \*\* \@ Level\*\*:</span><span class="sxs-lookup"><span data-stu-id="20c6b-275">Specify **\@publication** and one of the following values for **\@level**:</span></span>    
    -   <span data-ttu-id="20c6b-276">**1** : convalida solo mediante conteggio delle righe.</span><span class="sxs-lookup"><span data-stu-id="20c6b-276">**1** - Rowcount-only validation.</span></span>    
    -   <span data-ttu-id="20c6b-277">**3** : convalida mediante conteggio delle righe e checksum binario.</span><span class="sxs-lookup"><span data-stu-id="20c6b-277">**3** - Rowcount binary checksum validation.</span></span>  
  
     <span data-ttu-id="20c6b-278">Tutte le sottoscrizioni vengono contrassegnate per la convalida.</span><span class="sxs-lookup"><span data-stu-id="20c6b-278">This marks all subscriptions for validation.</span></span>  
  
2.  <span data-ttu-id="20c6b-279">Avviare l'agente di merge per ciascuna sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="20c6b-279">Start the merge agent for each subscription.</span></span> <span data-ttu-id="20c6b-280">Per ulteriori informazioni, vedere [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) e [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="20c6b-280">For more information, see [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) and [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span></span>    
3.  <span data-ttu-id="20c6b-281">Verificare l'output dell'agente per il risultato della convalida.</span><span class="sxs-lookup"><span data-stu-id="20c6b-281">Check the agent output for the result of the validation.</span></span> <span data-ttu-id="20c6b-282">Per altre informazioni, vedere [Validate Data at the Subscriber](validate-data-at-the-subscriber.md).</span><span class="sxs-lookup"><span data-stu-id="20c6b-282">For more information, see [Validate Data at the Subscriber](validate-data-at-the-subscriber.md).</span></span>  


## <a name="for-a-single-push-subscription-to-a-merge-publication"></a><span data-ttu-id="20c6b-283">Per una singola sottoscrizione push di una pubblicazione di tipo merge</span><span class="sxs-lookup"><span data-stu-id="20c6b-283">For a single push subscription to a Merge Publication</span></span> 

### <a name="using-replication-monitor"></a><span data-ttu-id="20c6b-284">Uso di Monitoraggio replica</span><span class="sxs-lookup"><span data-stu-id="20c6b-284">Using Replication Monitor</span></span>
  
1.  <span data-ttu-id="20c6b-285">In Monitoraggio replica espandere un gruppo di server di pubblicazione nel riquadro di sinistra, espandere un server di pubblicazione e quindi fare clic su una pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="20c6b-285">In Replication Monitor, expand a Publisher group in the left pane, expand a Publisher, and then click a publication.</span></span>    
2.  <span data-ttu-id="20c6b-286">Fare clic sulla scheda **Tutte le sottoscrizioni** .</span><span class="sxs-lookup"><span data-stu-id="20c6b-286">Click the **All Subscriptions** tab.</span></span>    
3.  <span data-ttu-id="20c6b-287">Fare clic con il pulsante destro del mouse sulla sottoscrizione che si desidera convalidare e quindi scegliere **Convalida sottoscrizione**.</span><span class="sxs-lookup"><span data-stu-id="20c6b-287">Right-click the subscription you want to validate, and then click **Validate Subscription**.</span></span>    
4.  <span data-ttu-id="20c6b-288">Nella finestra di dialogo **Convalida sottoscrizione** selezionare **Convalida la sottoscrizione**.</span><span class="sxs-lookup"><span data-stu-id="20c6b-288">In the **Validate Subscription** dialog box, select **Validate this subscription**.</span></span>    
5.  <span data-ttu-id="20c6b-289">Per specificare il tipo di convalida da eseguire (solo conteggio delle righe o conteggio delle righe e valori di checksum), fare clic su **Opzioni**e quindi specificare le opzioni nella finestra di dialogo **Opzioni di convalida delle sottoscrizioni** .</span><span class="sxs-lookup"><span data-stu-id="20c6b-289">To specify the type of validation to perform (row count, or row count and checksum) click **Options**, and then specify options in the **Subscription Validation Options** dialog box.</span></span>    
6.  [!INCLUDE[clickOK](../../includes/clickok-md.md)]    
7.  <span data-ttu-id="20c6b-290">Fare clic sulla scheda **Tutte le sottoscrizioni** .</span><span class="sxs-lookup"><span data-stu-id="20c6b-290">Click the **All Subscriptions** tab.</span></span>    
8.  <span data-ttu-id="20c6b-291">Visualizzare i risultati della convalida:</span><span class="sxs-lookup"><span data-stu-id="20c6b-291">View validation results:</span></span>    
    1.  <span data-ttu-id="20c6b-292">Se l'agente non è in esecuzione, fare clic con il pulsante destro del mouse sulla sottoscrizione e quindi scegliere **Avvia sincronizzazione**.</span><span class="sxs-lookup"><span data-stu-id="20c6b-292">If the agent is not running, right-click the subscription, and then click **Start Synchronizing**.</span></span>    
    2.  <span data-ttu-id="20c6b-293">Fare clic con il pulsante destro del mouse sulla sottoscrizione e quindi scegliere **Visualizza dettagli**.</span><span class="sxs-lookup"><span data-stu-id="20c6b-293">Right-click the subscription, and then click **View Details**.</span></span>    
    3.  <span data-ttu-id="20c6b-294">Visualizzare le informazioni nella scheda **Cronologia sincronizzazione** all'interno dell'area di testo **Ultimo messaggio della sessione selezionata** .</span><span class="sxs-lookup"><span data-stu-id="20c6b-294">View information on the **Synchronization History** tab in the **Last message of the selected session** text area.</span></span>  
  
## <a name="for-all-push-subscriptions-to-a-merge-publication"></a><span data-ttu-id="20c6b-295">Per tutte le sottoscrizioni push di una pubblicazione di tipo merge</span><span class="sxs-lookup"><span data-stu-id="20c6b-295">For all push subscriptions to a Merge Publication</span></span> 

### <a name="using-replication-monitor"></a><span data-ttu-id="20c6b-296">Uso di Monitoraggio replica</span><span class="sxs-lookup"><span data-stu-id="20c6b-296">Using Replication Monitor</span></span>
  
1.  <span data-ttu-id="20c6b-297">In Monitoraggio replica espandere un gruppo di server di pubblicazione nel riquadro di sinistra e quindi espandere un server di pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="20c6b-297">In Replication Monitor, expand a Publisher group in the left pane, and then expand a Publisher.</span></span>    
2.  <span data-ttu-id="20c6b-298">Fare clic con il pulsante destro del mouse sulla pubblicazione di cui si desidera convalidare le sottoscrizioni e quindi scegliere **Convalida tutte le sottoscrizioni**.</span><span class="sxs-lookup"><span data-stu-id="20c6b-298">Right-click the publication for which you want to validate subscriptions, and then click **Validate All Subscriptions**.</span></span>    
3.  <span data-ttu-id="20c6b-299">Nella finestra di dialogo **Convalida tutte le sottoscrizioni** specificare il tipo di convalida da eseguire (solo conteggio delle righe o conteggio delle righe e valori di checksum).</span><span class="sxs-lookup"><span data-stu-id="20c6b-299">In the **Validate All Subscriptions** dialog box, specify the type of validation to perform (row count, or row count and checksum).</span></span>    
4.  [!INCLUDE[clickOK](../../includes/clickok-md.md)]    
5.  <span data-ttu-id="20c6b-300">Fare clic sulla scheda **Tutte le sottoscrizioni** .</span><span class="sxs-lookup"><span data-stu-id="20c6b-300">Click the **All Subscriptions** tab.</span></span>    
6.  <span data-ttu-id="20c6b-301">Visualizzare i risultati della convalida.</span><span class="sxs-lookup"><span data-stu-id="20c6b-301">View validation results.</span></span> <span data-ttu-id="20c6b-302">Eseguire la procedura seguente per ogni sottoscrizione push:</span><span class="sxs-lookup"><span data-stu-id="20c6b-302">For each push subscription:</span></span>    
    1.  <span data-ttu-id="20c6b-303">Se l'agente non è in esecuzione, fare clic con il pulsante destro del mouse sulla sottoscrizione e quindi scegliere **Avvia sincronizzazione**.</span><span class="sxs-lookup"><span data-stu-id="20c6b-303">If the agent is not running, right-click the subscription, and then click **Start Synchronizing**.</span></span>    
    2.  <span data-ttu-id="20c6b-304">Fare clic con il pulsante destro del mouse sulla sottoscrizione e quindi scegliere **Visualizza dettagli**.</span><span class="sxs-lookup"><span data-stu-id="20c6b-304">Right-click the subscription, and then click **View Details**.</span></span>    
    3.  <span data-ttu-id="20c6b-305">Visualizzare le informazioni nella scheda **Cronologia sincronizzazione** all'interno dell'area di testo **Ultimo messaggio della sessione selezionata** .</span><span class="sxs-lookup"><span data-stu-id="20c6b-305">View information on the **Synchronization History** tab in the **Last message of the selected session** text area.</span></span>  
  
  
## <a name="validate-data-using-merge-agent-parameters"></a><span data-ttu-id="20c6b-306">Convalidare i dati usando parametri agente di merge</span><span class="sxs-lookup"><span data-stu-id="20c6b-306">Validate data using Merge Agent Parameters</span></span>
  
1.  <span data-ttu-id="20c6b-307">Avviare l'agente di merge nel Sottoscrittore (sottoscrizione pull) o nel server di distribuzione (sottoscrizione push) dal prompt dei comandi, mediante una delle modalità indicate di seguito.</span><span class="sxs-lookup"><span data-stu-id="20c6b-307">Start the Merge Agent at the Subscriber (pull subscription) or at the Distributor (push subscription) from the command prompt in one of the following ways.</span></span>    
    -   <span data-ttu-id="20c6b-308">Specificare il valore **1** (conteggio delle righe) o **3** (conteggio delle righe e checksum binario) per il parametro **-Validate** .</span><span class="sxs-lookup"><span data-stu-id="20c6b-308">Specifying a value of **1** (rowcount) or **3** (rowcount and binary checksum) for the **-Validate** parameter.</span></span>   
    -   <span data-ttu-id="20c6b-309">Specificare la **convalida mediante conteggio delle righe** o la **convalida mediante conteggio delle righe e checksum** per il parametro **-ProfileName** .</span><span class="sxs-lookup"><span data-stu-id="20c6b-309">Specifying **rowcount validation** or **rowcount and checksum validation** for the **-ProfileName** parameter.</span></span>  
  
     <span data-ttu-id="20c6b-310">Per ulteriori informazioni, vedere [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) o [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="20c6b-310">For more information, see [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) or [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span></span>  
  
## <a name="using-replication-management-objects-rmo"></a><span data-ttu-id="20c6b-311">Utilizzo di RMO (Replication Management Objects)</span><span class="sxs-lookup"><span data-stu-id="20c6b-311">Using Replication Management Objects (RMO)</span></span>  
 <span data-ttu-id="20c6b-312">La replica consente di utilizzare gli oggetti RMO (Replication Management Objects) per convalidare a livello di programmazione la corrispondenza tra i dati nel Sottoscrittore e quelli nel server di pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="20c6b-312">Replication enables you to use Replication Management Objects (RMO) to programmatically validate that data at the Subscriber matches data at the Publisher.</span></span> <span data-ttu-id="20c6b-313">Gli oggetti utilizzati variano in base al tipo di topologia di replica.</span><span class="sxs-lookup"><span data-stu-id="20c6b-313">The objects you use depend on the type of replication topology.</span></span> <span data-ttu-id="20c6b-314">La replica transazionale richiede la convalida di tutte le sottoscrizioni di una pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="20c6b-314">Transactional replication requires validation of all subscriptions to a publication.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="20c6b-315">Ad esempio, vedere [Esempio (RMO)](#RMOExample)più avanti in questa sezione.</span><span class="sxs-lookup"><span data-stu-id="20c6b-315">For an example, see [Example (RMO)](#RMOExample), later in this section.</span></span>  
  
#### <a name="to-validate-data-for-all-articles-in-a-transactional-publication"></a><span data-ttu-id="20c6b-316">Per convalidare i dati per tutti gli articoli in una pubblicazione transazionale</span><span class="sxs-lookup"><span data-stu-id="20c6b-316">To validate data for all articles in a transactional publication</span></span>  
  
1.  <span data-ttu-id="20c6b-317">Creare una connessione al server di pubblicazione tramite la classe <xref:Microsoft.SqlServer.Management.Common.ServerConnection> .</span><span class="sxs-lookup"><span data-stu-id="20c6b-317">Create a connection to the Publisher by using the <xref:Microsoft.SqlServer.Management.Common.ServerConnection> class.</span></span>    
2.  <span data-ttu-id="20c6b-318">Creare un'istanza della classe <xref:Microsoft.SqlServer.Replication.TransPublication>.</span><span class="sxs-lookup"><span data-stu-id="20c6b-318">Create an instance of the <xref:Microsoft.SqlServer.Replication.TransPublication> class.</span></span> <span data-ttu-id="20c6b-319">Impostare le proprietà <xref:Microsoft.SqlServer.Replication.Publication.Name%2A> e <xref:Microsoft.SqlServer.Replication.Publication.DatabaseName%2A> per la pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="20c6b-319">Set the <xref:Microsoft.SqlServer.Replication.Publication.Name%2A> and <xref:Microsoft.SqlServer.Replication.Publication.DatabaseName%2A> properties for the publication.</span></span> <span data-ttu-id="20c6b-320">Impostare la proprietà <xref:Microsoft.SqlServer.Replication.ReplicationObject.ConnectionContext%2A> sulla connessione creata nel passaggio 1.</span><span class="sxs-lookup"><span data-stu-id="20c6b-320">Set the <xref:Microsoft.SqlServer.Replication.ReplicationObject.ConnectionContext%2A> property to the connection created in step 1.</span></span>   
3.  <span data-ttu-id="20c6b-321">Chiamare il metodo <xref:Microsoft.SqlServer.Replication.ReplicationObject.LoadProperties%2A> per recuperare le proprietà rimanenti dell'oggetto.</span><span class="sxs-lookup"><span data-stu-id="20c6b-321">Call the <xref:Microsoft.SqlServer.Replication.ReplicationObject.LoadProperties%2A> method to get the remaining properties of the object.</span></span> <span data-ttu-id="20c6b-322">Se questo metodo restituisce `false`, le proprietà della pubblicazione sono state definite in modo non corretto nel passaggio 2 oppure la pubblicazione non esiste.</span><span class="sxs-lookup"><span data-stu-id="20c6b-322">If this method returns `false`, either the publication properties in step 2 were defined incorrectly or the publication does not exist.</span></span>    
4.  <span data-ttu-id="20c6b-323">Chiamare il metodo <xref:Microsoft.SqlServer.Replication.TransPublication.ValidatePublication%2A> .</span><span class="sxs-lookup"><span data-stu-id="20c6b-323">Call the <xref:Microsoft.SqlServer.Replication.TransPublication.ValidatePublication%2A> method.</span></span> <span data-ttu-id="20c6b-324">Passare quanto segue:</span><span class="sxs-lookup"><span data-stu-id="20c6b-324">Pass the following:</span></span>    
    -   <xref:Microsoft.SqlServer.Replication.ValidationOption>    
    -   <xref:Microsoft.SqlServer.Replication.ValidationMethod>    
    -   <span data-ttu-id="20c6b-325">Un valore booleano che indica se l'agente di distribuzione deve essere arrestato al termine della convalida.</span><span class="sxs-lookup"><span data-stu-id="20c6b-325">A Boolean that indicates whether to stop the Distribution Agent after validation is completed.</span></span>  
  
     <span data-ttu-id="20c6b-326">Gli articoli vengono contrassegnati per la convalida.</span><span class="sxs-lookup"><span data-stu-id="20c6b-326">This marks the articles for validation.</span></span>  
  
5.  <span data-ttu-id="20c6b-327">Se non è già in esecuzione, avviare l'agente di distribuzione per sincronizzare ciascuna sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="20c6b-327">If not already running, start the Distribution Agent to synchronize each subscription.</span></span> <span data-ttu-id="20c6b-328">Per ulteriori informazioni, vedere [Synchronize a Push Subscription](synchronize-a-push-subscription.md) o [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="20c6b-328">For more information, see [Synchronize a Push Subscription](synchronize-a-push-subscription.md) or [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md).</span></span> <span data-ttu-id="20c6b-329">Il risultato dell'operazione di convalida viene scritto nella cronologia dell'agente.</span><span class="sxs-lookup"><span data-stu-id="20c6b-329">The result of the validation operation is written to the agent history.</span></span> <span data-ttu-id="20c6b-330">Per altre informazioni, vedere [Monitoring Replication](monitoring-replication.md).</span><span class="sxs-lookup"><span data-stu-id="20c6b-330">For more information, see [Monitoring Replication](monitoring-replication.md).</span></span>  
  
#### <a name="to-validate-data-in-all-subscriptions-to-a-merge-publication"></a><span data-ttu-id="20c6b-331">Per convalidare i dati in tutte le sottoscrizioni di una pubblicazione di tipo merge</span><span class="sxs-lookup"><span data-stu-id="20c6b-331">To validate data in all subscriptions to a merge publication</span></span>  
  
1.  <span data-ttu-id="20c6b-332">Creare una connessione al server di pubblicazione tramite la classe <xref:Microsoft.SqlServer.Management.Common.ServerConnection> .</span><span class="sxs-lookup"><span data-stu-id="20c6b-332">Create a connection to the Publisher by using the <xref:Microsoft.SqlServer.Management.Common.ServerConnection> class.</span></span>   
2.  <span data-ttu-id="20c6b-333">Creare un'istanza della classe <xref:Microsoft.SqlServer.Replication.MergePublication>.</span><span class="sxs-lookup"><span data-stu-id="20c6b-333">Create an instance of the <xref:Microsoft.SqlServer.Replication.MergePublication> class.</span></span> <span data-ttu-id="20c6b-334">Impostare le proprietà <xref:Microsoft.SqlServer.Replication.Publication.Name%2A> e <xref:Microsoft.SqlServer.Replication.Publication.DatabaseName%2A> per la pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="20c6b-334">Set the <xref:Microsoft.SqlServer.Replication.Publication.Name%2A> and <xref:Microsoft.SqlServer.Replication.Publication.DatabaseName%2A> properties for the publication.</span></span> <span data-ttu-id="20c6b-335">Impostare la proprietà <xref:Microsoft.SqlServer.Replication.ReplicationObject.ConnectionContext%2A> sulla connessione creata nel passaggio 1.</span><span class="sxs-lookup"><span data-stu-id="20c6b-335">Set the <xref:Microsoft.SqlServer.Replication.ReplicationObject.ConnectionContext%2A> property to the connection created in step 1.</span></span>   
3.  <span data-ttu-id="20c6b-336">Chiamare il metodo <xref:Microsoft.SqlServer.Replication.ReplicationObject.LoadProperties%2A> per recuperare le proprietà rimanenti dell'oggetto.</span><span class="sxs-lookup"><span data-stu-id="20c6b-336">Call the <xref:Microsoft.SqlServer.Replication.ReplicationObject.LoadProperties%2A> method to get the remaining properties of the object.</span></span> <span data-ttu-id="20c6b-337">Se questo metodo restituisce `false`, le proprietà della pubblicazione sono state definite in modo non corretto nel passaggio 2 oppure la pubblicazione non esiste.</span><span class="sxs-lookup"><span data-stu-id="20c6b-337">If this method returns `false`, either the publication properties in step 2 were defined incorrectly or the publication does not exist.</span></span>    
4.  <span data-ttu-id="20c6b-338">Chiamare il metodo <xref:Microsoft.SqlServer.Replication.MergePublication.ValidatePublication%2A> .</span><span class="sxs-lookup"><span data-stu-id="20c6b-338">Call the <xref:Microsoft.SqlServer.Replication.MergePublication.ValidatePublication%2A> method.</span></span> <span data-ttu-id="20c6b-339">Passare l'oggetto <xref:Microsoft.SqlServer.Replication.ValidationOption>desiderato.</span><span class="sxs-lookup"><span data-stu-id="20c6b-339">Pass the desired <xref:Microsoft.SqlServer.Replication.ValidationOption>.</span></span>    
5.  <span data-ttu-id="20c6b-340">Eseguire l'agente di merge per avviare la convalida in ciascuna sottoscrizione oppure attendere la successiva esecuzione pianificata dell'agente.</span><span class="sxs-lookup"><span data-stu-id="20c6b-340">Run the Merge Agent for each subscription to start validation, or wait for the next scheduled agent run.</span></span> <span data-ttu-id="20c6b-341">Per ulteriori informazioni, vedere [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) e [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="20c6b-341">For more information, see [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) and [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span></span> <span data-ttu-id="20c6b-342">Il risultato dell'operazione di convalida viene scritto nella cronologia dell'agente, visualizzabile tramite Monitoraggio replica.</span><span class="sxs-lookup"><span data-stu-id="20c6b-342">The result of the validation operation is written to the agent history, which you view by using Replication Monitor.</span></span> <span data-ttu-id="20c6b-343">Per altre informazioni, vedere [Monitoring Replication](monitoring-replication.md).</span><span class="sxs-lookup"><span data-stu-id="20c6b-343">For more information, see [Monitoring Replication](monitoring-replication.md).</span></span>  
  
#### <a name="to-validate-data-in-a-single-subscription-to-a-merge-publication"></a><span data-ttu-id="20c6b-344">Per convalidare i dati in una singola sottoscrizione di una pubblicazione di tipo merge</span><span class="sxs-lookup"><span data-stu-id="20c6b-344">To validate data in a single subscription to a merge publication</span></span>  
  
1.  <span data-ttu-id="20c6b-345">Creare una connessione al server di pubblicazione tramite la classe <xref:Microsoft.SqlServer.Management.Common.ServerConnection> .</span><span class="sxs-lookup"><span data-stu-id="20c6b-345">Create a connection to the Publisher by using the <xref:Microsoft.SqlServer.Management.Common.ServerConnection> class.</span></span>    
2.  <span data-ttu-id="20c6b-346">Creare un'istanza della classe <xref:Microsoft.SqlServer.Replication.MergePublication>.</span><span class="sxs-lookup"><span data-stu-id="20c6b-346">Create an instance of the <xref:Microsoft.SqlServer.Replication.MergePublication> class.</span></span> <span data-ttu-id="20c6b-347">Impostare le proprietà <xref:Microsoft.SqlServer.Replication.Publication.Name%2A> e <xref:Microsoft.SqlServer.Replication.Publication.DatabaseName%2A> per la pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="20c6b-347">Set the <xref:Microsoft.SqlServer.Replication.Publication.Name%2A> and <xref:Microsoft.SqlServer.Replication.Publication.DatabaseName%2A> properties for the publication.</span></span> <span data-ttu-id="20c6b-348">Impostare la proprietà <xref:Microsoft.SqlServer.Replication.ReplicationObject.ConnectionContext%2A> sulla connessione creata nel passaggio 1.</span><span class="sxs-lookup"><span data-stu-id="20c6b-348">Set the <xref:Microsoft.SqlServer.Replication.ReplicationObject.ConnectionContext%2A> property to the connection created in step 1.</span></span>    
3.  <span data-ttu-id="20c6b-349">Chiamare il metodo <xref:Microsoft.SqlServer.Replication.ReplicationObject.LoadProperties%2A> per recuperare le proprietà rimanenti dell'oggetto.</span><span class="sxs-lookup"><span data-stu-id="20c6b-349">Call the <xref:Microsoft.SqlServer.Replication.ReplicationObject.LoadProperties%2A> method to get the remaining properties of the object.</span></span> <span data-ttu-id="20c6b-350">Se questo metodo restituisce `false`, le proprietà della pubblicazione sono state definite in modo non corretto nel passaggio 2 oppure la pubblicazione non esiste.</span><span class="sxs-lookup"><span data-stu-id="20c6b-350">If this method returns `false`, either the publication properties in step 2 were defined incorrectly or the publication does not exist.</span></span>    
4.  <span data-ttu-id="20c6b-351">Chiamare il metodo <xref:Microsoft.SqlServer.Replication.MergePublication.ValidateSubscription%2A> .</span><span class="sxs-lookup"><span data-stu-id="20c6b-351">Call the <xref:Microsoft.SqlServer.Replication.MergePublication.ValidateSubscription%2A> method.</span></span> <span data-ttu-id="20c6b-352">Passare il nome del Sottoscrittore e il database di sottoscrizione da convalidare e l'oggetto <xref:Microsoft.SqlServer.Replication.ValidationOption>desiderato.</span><span class="sxs-lookup"><span data-stu-id="20c6b-352">Pass the name of the Subscriber and subscription database being validated and the desired <xref:Microsoft.SqlServer.Replication.ValidationOption>.</span></span>    
5.  <span data-ttu-id="20c6b-353">Eseguire l'agente di merge per avviare la convalida nella sottoscrizione oppure attendere la successiva esecuzione pianificata dell'agente.</span><span class="sxs-lookup"><span data-stu-id="20c6b-353">Run the Merge Agent for the subscription to start validation, or wait for the next scheduled agent run.</span></span> <span data-ttu-id="20c6b-354">Per ulteriori informazioni, vedere [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) e [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="20c6b-354">For more information, see [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) and [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span></span> <span data-ttu-id="20c6b-355">Il risultato dell'operazione di convalida viene scritto nella cronologia dell'agente, visualizzabile tramite Monitoraggio replica.</span><span class="sxs-lookup"><span data-stu-id="20c6b-355">The result of the validation operation is written to the agent history, which you view by using Replication Monitor.</span></span> <span data-ttu-id="20c6b-356">Per altre informazioni, vedere [Monitoring Replication](monitoring-replication.md).</span><span class="sxs-lookup"><span data-stu-id="20c6b-356">For more information, see [Monitoring Replication](monitoring-replication.md).</span></span>  
  
###  <a name="example-rmo"></a><a name="RMOExample"></a> <span data-ttu-id="20c6b-357">Esempio (RMO)</span><span class="sxs-lookup"><span data-stu-id="20c6b-357">Example (RMO)</span></span>  
 <span data-ttu-id="20c6b-358">In questo esempio tutte le sottoscrizioni di una pubblicazione transazionale vengono contrassegnate per la convalida mediante il conteggio delle righe.</span><span class="sxs-lookup"><span data-stu-id="20c6b-358">This example marks all subscriptions to a transactional publication for rowcount validation.</span></span>  
  
 [!code-csharp[HowTo#rmo_ValidateTranPub](../../snippets/csharp/SQL15/replication/howto/cs/rmotestevelope.cs#rmo_validatetranpub)]  
  
 [!code-vb[HowTo#rmo_vb_ValidateTranPub](../../snippets/visualbasic/SQL15/replication/howto/vb/rmotestenv.vb#rmo_vb_validatetranpub)]  
  
 <span data-ttu-id="20c6b-359">In questo esempio una sottoscrizione specifica di una pubblicazione di tipo merge viene contrassegnata per la convalida mediante il conteggio delle righe.</span><span class="sxs-lookup"><span data-stu-id="20c6b-359">This example marks a specific subscription to a merge publication for rowcount validation.</span></span>  
  
 [!code-csharp[HowTo#rmo_ValidateMergeSub](../../snippets/csharp/SQL15/replication/howto/cs/rmotestevelope.cs#rmo_validatemergesub)]  
  
 [!code-vb[HowTo#rmo_vb_ValidateMergeSub](../../snippets/visualbasic/SQL15/replication/howto/vb/rmotestenv.vb#rmo_vb_validatemergesub)]  
  
  
