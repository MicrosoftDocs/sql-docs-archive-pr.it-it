---
title: Proteggere il database di distribuzione | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- security [SQL Server replication], Distributors
- Distributors [SQL Server replication], security
ms.assetid: 76d78229-0ff2-4aa4-9b4e-ad97534c5296
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: d55f5e214f89b678367124da8342ec9801ab686a
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87623138"
---
# <a name="secure-the-distributor"></a><span data-ttu-id="d5c05-102">Sicurezza del database di distribuzione</span><span class="sxs-lookup"><span data-stu-id="d5c05-102">Secure the Distributor</span></span>
  <span data-ttu-id="d5c05-103">Gli agenti di replica che si connettono al server di distribuzione sono l'agente di lettura log, l'agente snapshot, l'agente di lettura coda, l'agente di distribuzione e l'agente di merge.</span><span class="sxs-lookup"><span data-stu-id="d5c05-103">The following replication agents connect to the Distributor: the Log Reader Agent, Snapshot Agent, Queue Reader Agent, Distribution Agent, and Merge Agent.</span></span> <span data-ttu-id="d5c05-104">È importante fornire un account di accesso appropriato per ognuno di questi agenti seguendo il principio di concedere i diritti minimi necessari nonché proteggere l'archiviazione di tutte le password:</span><span class="sxs-lookup"><span data-stu-id="d5c05-104">It is important to provide an appropriate login for each of these agents while following the principle of granting the minimal rights necessary and also protecting the storage of all passwords:</span></span>  
  
-   <span data-ttu-id="d5c05-105">Per informazioni sulla gestione di account di accesso e password, vedere [Gestire gli account di accesso e le password nella replica](identity-and-access-control-replication.md#manage-logins-and-passwords-in-replication).</span><span class="sxs-lookup"><span data-stu-id="d5c05-105">For information about managing logins and passwords, see [Manage Logins and Passwords in Replication](identity-and-access-control-replication.md#manage-logins-and-passwords-in-replication).</span></span>  
  
-   <span data-ttu-id="d5c05-106">Per informazioni sulle autorizzazioni richieste per ogni agente, vedere [Replication Agent Security Model](replication-agent-security-model.md).</span><span class="sxs-lookup"><span data-stu-id="d5c05-106">For detailed information about the permissions required for each agent, see [Replication Agent Security Model](replication-agent-security-model.md).</span></span>  
  
 <span data-ttu-id="d5c05-107">Oltre a gestire correttamente account di accesso e password, è fondamentale comprendere il ruolo del collegamento del server remoto **repl_distributor** e dell'account **distributor_admin** .</span><span class="sxs-lookup"><span data-stu-id="d5c05-107">In addition to managing logins and passwords appropriately, it is important to understand the role of the **repl_distributor** remote server link and the **distributor_admin** account.</span></span>  
  
## <a name="securing-the-connection-from-the-publisher-to-the-distributor"></a><span data-ttu-id="d5c05-108">Protezione della connessione dal server di pubblicazione al server di distribuzione</span><span class="sxs-lookup"><span data-stu-id="d5c05-108">Securing the Connection from the Publisher to the Distributor</span></span>  
 <span data-ttu-id="d5c05-109">Per supportare la comunicazione necessaria quando le stored procedure amministrative vengono eseguite nel server di pubblicazione e aggiornare le informazioni nel server di distribuzione, il server remoto **repl_distributor**viene configurato automaticamente durante la replica.</span><span class="sxs-lookup"><span data-stu-id="d5c05-109">To support the communication necessary when administrative stored procedures execute at the Publisher and update information at the Distributor, replication automatically configures the remote server **repl_distributor**.</span></span> <span data-ttu-id="d5c05-110">La voce del server remoto **repl_distributor** viene utilizzata per le comunicazioni con il database di distribuzione indipendentemente dal fatto che il database di distribuzione sia contenuto nell'istanza del server di pubblicazione (un server di distribuzione locale) o risieda in un'istanza [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] remota (un server di distribuzione remoto).</span><span class="sxs-lookup"><span data-stu-id="d5c05-110">The **repl_distributor** remote server entry is used for communication to the distribution database regardless of whether the distribution database is contained within the Publisher instance (a local Distributor) or resides within a remote [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance (a remote Distributor).</span></span>  
  
 <span data-ttu-id="d5c05-111">Quando il database di distribuzione è contenuto in un'istanza locale, una password casuale viene generata e configurata automaticamente.</span><span class="sxs-lookup"><span data-stu-id="d5c05-111">When the distribution database is contained on a local instance, a random password is generated and configured automatically.</span></span> <span data-ttu-id="d5c05-112">Quando invece si trova in un'istanza remota, l'amministratore configura una password condivisa durante l'installazione del server di pubblicazione e del server di distribuzione. Tale password viene quindi utilizzata per fornire l'autenticazione del traffico che attraversa il collegamento **repl_distributor** .</span><span class="sxs-lookup"><span data-stu-id="d5c05-112">When the distribution database is located on a remote instance, the administrator configures a shared password during setup of the Publisher and Distributor; this password is then used to provide authentication of traffic that traverses the **repl_distributor** link.</span></span>  
  
 <span data-ttu-id="d5c05-113">Il server di distribuzione utilizza la voce del server remoto **repl_distributor** per verificare che il server chiamante sia configurato come server di pubblicazione nel server di distribuzione, convalida la password fornita dal server di pubblicazione e quindi verifica in fase di esecuzione che la stored procedure sia una stored procedure di replica.</span><span class="sxs-lookup"><span data-stu-id="d5c05-113">The Distributor uses the **repl_distributor** remote server entry to verify that the calling server is configured as a Publisher at the Distributor, validates the password supplied by the Publisher, and validates that the stored procedure is a replication stored procedure during execution.</span></span>  
  
 <span data-ttu-id="d5c05-114">La password configurata per la voce del server remoto **repl_distributor** durante l'installazione viene associata all'account di accesso [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] distributor_admin **di**, che viene aggiunto al ruolo predefinito del server **sysadmin** nel server di distribuzione.</span><span class="sxs-lookup"><span data-stu-id="d5c05-114">The password configured for the **repl_distributor** remote server entry during setup is associated with a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] login, **distributor_admin**, which is added to the **sysadmin** fixed server role at the Distributor.</span></span> <span data-ttu-id="d5c05-115">L'account di accesso **distributor_admin** viene utilizzato dalle stored procedure di replica durante la connessione al server di distribuzione.</span><span class="sxs-lookup"><span data-stu-id="d5c05-115">The **distributor_admin** login is used by replication stored procedures when connecting to the Distributor.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="d5c05-116">Non modificare manualmente la password di **distributor_admin** .</span><span class="sxs-lookup"><span data-stu-id="d5c05-116">Do not change the password for the **distributor_admin** manually.</span></span> <span data-ttu-id="d5c05-117">Utilizzare sempre la stored procedure **sp_changedistributor_password** o le finestre di dialogo **Proprietà database di distribuzione** o **Aggiorna password di replica** di [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], in quanto le modifiche apportate alle password vengono successivamente applicate alle pubblicazioni locali in modo automatico.</span><span class="sxs-lookup"><span data-stu-id="d5c05-117">Always use the **sp_changedistributor_password** stored procedure, or the **Distributor Properties** or **Update Replication Passwords** dialog boxes in [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], because password changes are then applied to local publications automatically.</span></span>  
  
## <a name="snapshot-folder-security"></a><span data-ttu-id="d5c05-118">Sicurezza della cartella snapshot</span><span class="sxs-lookup"><span data-stu-id="d5c05-118">Snapshot Folder Security</span></span>  
 <span data-ttu-id="d5c05-119">Verificare che la condivisione snapshot disponga di accesso in lettura per l'account con il quale viene eseguito l'agente di merge (per la replica di tipo merge) o l'agente di distribuzione (per la replica snapshot o transazionale) e di accesso in scrittura per l'account con il quale viene eseguito l'agente snapshot.</span><span class="sxs-lookup"><span data-stu-id="d5c05-119">Ensure that the snapshot share has read access granted to the account under which the Merge Agent (for merge replication) or Distribution Agent (for snapshot or transactional replication) runs and write access granted to the account under which the Snapshot Agent runs.</span></span> <span data-ttu-id="d5c05-120">Per altre informazioni sulla cartella snapshot, vedere [Proteggere la cartella snapshot](secure-the-snapshot-folder.md).</span><span class="sxs-lookup"><span data-stu-id="d5c05-120">For more information about the snapshot folder, see [Secure the Snapshot Folder](secure-the-snapshot-folder.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="d5c05-121">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="d5c05-121">See Also</span></span>  
 <span data-ttu-id="d5c05-122">[Visualizzare e modificare le impostazioni di sicurezza della replica](view-and-modify-replication-security-settings.md) </span><span class="sxs-lookup"><span data-stu-id="d5c05-122">[View and Modify Replication Security Settings](view-and-modify-replication-security-settings.md) </span></span>  
 <span data-ttu-id="d5c05-123">[Abilitare connessioni crittografate al motore di database &#40;Gestione configurazione SQL Server&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md) </span><span class="sxs-lookup"><span data-stu-id="d5c05-123">[Enable Encrypted Connections to the Database Engine &#40;SQL Server Configuration Manager&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md) </span></span>  
 <span data-ttu-id="d5c05-124">[Replication Security Best Practices](replication-security-best-practices.md) </span><span class="sxs-lookup"><span data-stu-id="d5c05-124">[Replication Security Best Practices](replication-security-best-practices.md) </span></span>  
 [<span data-ttu-id="d5c05-125">Sicurezza replica di SQL Server</span><span class="sxs-lookup"><span data-stu-id="d5c05-125">SQL Server Replication Security</span></span>](view-and-modify-replication-security-settings.md)  
  
  
