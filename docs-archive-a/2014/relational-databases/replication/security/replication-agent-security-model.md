---
title: Modello di sicurezza dell'agente di replica | Microsoft Docs
ms.custom: ''
ms.date: 10/07/2015
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- Snapshot Agent, security
- agents [SQL Server replication], security
- Distribution Agent, security
- logins [SQL Server replication], permissions for agents
- security [SQL Server replication], agent security model
- Log Reader Agent, security
- Queue Reader Agent, security
- Merge Agent, security
- replication [SQL Server], agents and profiles
ms.assetid: 6d09fc8d-843a-4a7a-9812-f093d99d8192
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: da597bf97422f5a0960062b385bc0b67338edfe1
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87623145"
---
# <a name="replication-agent-security-model"></a><span data-ttu-id="9496d-102">Modello di sicurezza dell'agente di replica</span><span class="sxs-lookup"><span data-stu-id="9496d-102">Replication Agent Security Model</span></span>
  <span data-ttu-id="9496d-103">Il modello di sicurezza degli agenti di replica garantisce un controllo dettagliato sugli account usati per eseguire gli agenti e stabilire connessioni: Per ogni agente, è possibile specificare un account diverso.</span><span class="sxs-lookup"><span data-stu-id="9496d-103">The replication agent security model allows for fine-grained control over the accounts under which replication agents run and make connections: A different account can be specified for each agent.</span></span> <span data-ttu-id="9496d-104">Per altre informazioni su come specificare gli account, vedere [Gestire gli account di accesso e le password nella replica](identity-and-access-control-replication.md#manage-logins-and-passwords-in-replication).</span><span class="sxs-lookup"><span data-stu-id="9496d-104">For more information about how to specify accounts, see [Manage Logins and Passwords in Replication](identity-and-access-control-replication.md#manage-logins-and-passwords-in-replication).</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="9496d-105">Quando un membro del ruolo predefinito del server **sysadmin** configura la replica, è possibile configurare gli agenti di replica in modo che rappresentino l'account di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent.</span><span class="sxs-lookup"><span data-stu-id="9496d-105">When a member of the **sysadmin** fixed server role configures replication, replication agents can be configured to impersonate the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent account.</span></span> <span data-ttu-id="9496d-106">A tale scopo è necessario non specificare un account di accesso e una password per un agente di replica. Si tratta comunque di un approccio non consigliato.</span><span class="sxs-lookup"><span data-stu-id="9496d-106">This is done by not specifying a login and password for a replication agent; however, we do not recommend this approach.</span></span> <span data-ttu-id="9496d-107">Ai fini della sicurezza, è consigliabile invece specificare un account per ogni agente dotato delle autorizzazioni minime descritte nella sezione "Autorizzazioni richieste per gli agenti" più avanti in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="9496d-107">Instead, as a security best practice, we recommend that you specify an account for each agent that has the minimum permissions that are described in the section "Permissions That Are Required by Agents" later in this topic.</span></span>  
  
 <span data-ttu-id="9496d-108">Gli agenti di replica, come tutti i file eseguibili, vengono eseguiti nel contesto di un account di Windows.</span><span class="sxs-lookup"><span data-stu-id="9496d-108">Replication agents, like all executables, run under the context of a Windows account.</span></span> <span data-ttu-id="9496d-109">Utilizzano tale account per le connessioni con sicurezza integrata di Windows.</span><span class="sxs-lookup"><span data-stu-id="9496d-109">The agents make Windows Integrated Security connections by using this account.</span></span> <span data-ttu-id="9496d-110">L'account con il quale viene eseguito l'agente dipende dalla modalità di avvio di quest'ultimo:</span><span class="sxs-lookup"><span data-stu-id="9496d-110">The account under which the agent runs depends on how the agent is started:</span></span>  
  
-   <span data-ttu-id="9496d-111">Avvio dell'agente da un processo di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent (impostazione predefinita): quando si utilizza un processo di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent per avviare un agente di replica, l'agente viene eseguito nel contesto di un account specificato al momento della configurazione della replica.</span><span class="sxs-lookup"><span data-stu-id="9496d-111">Starting the agent from a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent job, the default: When a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent job is used to start a replication agent, the agent runs under the context of an account that you specify when you configure replication.</span></span> <span data-ttu-id="9496d-112">Per ulteriori informazioni su [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent e la replica, vedere la sezione "Sicurezza agente in SQL Server Agent" più avanti in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="9496d-112">For more information about [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent and replication, see the section "Agent Security under SQL Server Agent" later in this topic.</span></span> <span data-ttu-id="9496d-113">Per altre informazioni sulle autorizzazioni necessarie per l'account usato per l'esecuzione di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent, vedere [Configurare SQL Server Agent](../../../ssms/agent/configure-sql-server-agent.md).</span><span class="sxs-lookup"><span data-stu-id="9496d-113">For information about the permissions that are required for the account under which [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent runs, see [Configure SQL Server Agent](../../../ssms/agent/configure-sql-server-agent.md).</span></span>  
  
-   <span data-ttu-id="9496d-114">Avvio dell'agente da una riga di comando MS-DOS, direttamente o tramite uno script: l'agente viene eseguito nel contesto dell'account dell'utente che esegue l'agente dalla riga di comando.</span><span class="sxs-lookup"><span data-stu-id="9496d-114">Starting the agent from an MS-DOS command line, either directly or through a script: The agent runs under the context of the account of the user that is running the agent at the command line.</span></span>  
  
-   <span data-ttu-id="9496d-115">Avvio dell'agente da un'applicazione che usa Replication Management Objects (RMO) o un controllo ActiveX: l'agente viene eseguito nel contesto dell'applicazione che chiama gli oggetti RMO o il controllo ActiveX.</span><span class="sxs-lookup"><span data-stu-id="9496d-115">Starting the agent from an application that uses Replication Management Objects (RMO) or an ActiveX control: The agent runs under the context of the application that is calling RMO or the ActiveX control.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="9496d-116">I controlli ActiveX sono deprecati.</span><span class="sxs-lookup"><span data-stu-id="9496d-116">ActiveX controls are deprecated.</span></span>  
  
 <span data-ttu-id="9496d-117">È consigliabile stabilire le connessioni nel contesto della sicurezza integrata di Windows.</span><span class="sxs-lookup"><span data-stu-id="9496d-117">We recommend that connections be made under the context of Windows Integrated Security.</span></span> <span data-ttu-id="9496d-118">Per motivi di compatibilità con le versioni precedenti, è anche possibile utilizzare la sicurezza di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="9496d-118">For backward compatibility, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Security can also be used.</span></span> <span data-ttu-id="9496d-119">Per ulteriori informazioni sulle procedure consigliate, vedere [Replication Security Best Practices](replication-security-best-practices.md).</span><span class="sxs-lookup"><span data-stu-id="9496d-119">For more information about best practices, see [Replication Security Best Practices](replication-security-best-practices.md).</span></span>  
  
## <a name="permissions-that-are-required-by-agents"></a><span data-ttu-id="9496d-120">Autorizzazioni richieste per gli agenti</span><span class="sxs-lookup"><span data-stu-id="9496d-120">Permissions That Are Required by Agents</span></span>  
 <span data-ttu-id="9496d-121">Gli account utilizzati per l'esecuzione e le connessioni degli agenti richiedono varie autorizzazioni.</span><span class="sxs-lookup"><span data-stu-id="9496d-121">The accounts under which agents run and make connections require a variety of permissions.</span></span> <span data-ttu-id="9496d-122">Tali autorizzazioni sono descritte nella tabella seguente.</span><span class="sxs-lookup"><span data-stu-id="9496d-122">These permissions are described in the following table.</span></span> <span data-ttu-id="9496d-123">È consigliabile eseguire ogni agente con un account di Windows differente e assegnare all'account solo le autorizzazioni necessarie.</span><span class="sxs-lookup"><span data-stu-id="9496d-123">We recommend that each agent run under a different Windows account and the account should be granted only the required permissions.</span></span> <span data-ttu-id="9496d-124">Per informazioni sull'elenco di accesso alla pubblicazione, rilevante per numerosi agenti, vedere [Proteggere il server di pubblicazione](secure-the-publisher.md).</span><span class="sxs-lookup"><span data-stu-id="9496d-124">For information about the publication access list (PAL), which is relevant for a number of agents, see [Secure the Publisher](secure-the-publisher.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="9496d-125">Controllo account utente in alcuni sistemi operativi Windows può impedire l'accesso amministrativo alla condivisione snapshot.</span><span class="sxs-lookup"><span data-stu-id="9496d-125">User Account Control (UAC) in some Windows operating systems can prevent administrative access to the snapshot share.</span></span> <span data-ttu-id="9496d-126">Le autorizzazioni per la condivisione snapshot devono pertanto essere concesse in modo esplicito agli account di Windows utilizzati dall'agente snapshot, dall'agente di distribuzione e dall'agente di merge.</span><span class="sxs-lookup"><span data-stu-id="9496d-126">You must therefore explicitly grant snapshot share permissions to the Windows accounts that are used by the Snapshot Agent, Distribution Agent, and Merge Agent.</span></span> <span data-ttu-id="9496d-127">È necessario eseguire questa operazione anche se gli account di Windows sono membri del gruppo Administrators.</span><span class="sxs-lookup"><span data-stu-id="9496d-127">You must do this even if the Windows accounts are members of the Administrators group.</span></span> <span data-ttu-id="9496d-128">Per altre informazioni, vedere [Proteggere la cartella snapshot](secure-the-snapshot-folder.md).</span><span class="sxs-lookup"><span data-stu-id="9496d-128">For more information, see [Secure the Snapshot Folder](secure-the-snapshot-folder.md).</span></span>  
  
|<span data-ttu-id="9496d-129">Agente</span><span class="sxs-lookup"><span data-stu-id="9496d-129">Agent</span></span>|<span data-ttu-id="9496d-130">Autorizzazioni</span><span class="sxs-lookup"><span data-stu-id="9496d-130">Permissions</span></span>|  
|-----------|-----------------|  
|<span data-ttu-id="9496d-131">agente snapshot</span><span class="sxs-lookup"><span data-stu-id="9496d-131">Snapshot Agent</span></span>|<span data-ttu-id="9496d-132">L'account di Windows con cui viene eseguito l'agente viene utilizzato per le connessioni al server di distribuzione.</span><span class="sxs-lookup"><span data-stu-id="9496d-132">The Windows account under which the agent runs is used when it makes connections to the Distributor.</span></span> <span data-ttu-id="9496d-133">Tale account deve:</span><span class="sxs-lookup"><span data-stu-id="9496d-133">This account must:</span></span><br /><br /> <span data-ttu-id="9496d-134">\- Essere almeno un membro del ruolo predefinito del database **db_owner** nel database di distribuzione.</span><span class="sxs-lookup"><span data-stu-id="9496d-134">-At minimum, be a member of the **db_owner** fixed database role in the distribution database.</span></span><br /><br /> <span data-ttu-id="9496d-135">\- Avere le autorizzazioni di lettura, scrittura e modifica per la condivisione snapshot.</span><span class="sxs-lookup"><span data-stu-id="9496d-135">-Have read, write, and modify permissions on the snapshot share.</span></span><br /><br /> <br /><br /> <span data-ttu-id="9496d-136">L'account utilizzato per la connessione al server di pubblicazione deve essere almeno membro del ruolo predefinito del database **db_owner** nel database di pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="9496d-136">The account that is used to connect to the Publisher must at minimum be a member of the **db_owner** fixed database role in the publication database.</span></span>|  
|<span data-ttu-id="9496d-137">Agente di lettura log</span><span class="sxs-lookup"><span data-stu-id="9496d-137">Log Reader Agent</span></span>|<span data-ttu-id="9496d-138">L'account di Windows con cui viene eseguito l'agente viene utilizzato per le connessioni al server di distribuzione.</span><span class="sxs-lookup"><span data-stu-id="9496d-138">The Windows account under which the agent runs is used when it makes connections to the Distributor.</span></span> <span data-ttu-id="9496d-139">Tale account deve essere almeno membro del ruolo predefinito del database **db_owner** nel database di distribuzione.</span><span class="sxs-lookup"><span data-stu-id="9496d-139">This account must at minimum be a member of the **db_owner** fixed database role in the distribution database.</span></span><br /><br /> <span data-ttu-id="9496d-140">L'account utilizzato per la connessione al server di pubblicazione deve essere almeno membro del ruolo predefinito del database **db_owner** nel database di pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="9496d-140">The account that is used to connect to the Publisher must at minimum be a member of the **db_owner** fixed database role in the publication database.</span></span><br /><br /> <span data-ttu-id="9496d-141">Quando si selezionano le `sync_type` Opzioni *solo supporto replica*, *inizializza con backup*o *Inizializza da LSN*, l'agente di lettura log deve essere eseguito dopo l'esecuzione `sp_addsubscription` di, in modo che gli script di configurazione vengano scritti nel database di distribuzione.</span><span class="sxs-lookup"><span data-stu-id="9496d-141">When selecting the `sync_type` options *replication support only*, *initialize with backup*, or *initialize from lsn*, the log reader agent must run after executing `sp_addsubscription`, so that the set-up scripts are written to the distribution database.</span></span> <span data-ttu-id="9496d-142">L'agente di lettura log deve essere in esecuzione con un account membro del ruolo predefinito del server **sysadmin** .</span><span class="sxs-lookup"><span data-stu-id="9496d-142">The log reader agent must be running under an account that is a member of the **sysadmin** fixed server role.</span></span> <span data-ttu-id="9496d-143">Quando l' `sync_type` opzione è impostata su *automatico*, non sono necessarie azioni speciali dell'agente di lettura log.</span><span class="sxs-lookup"><span data-stu-id="9496d-143">When the `sync_type` option is set to *Automatic*, no special log reader agent actions are required.</span></span>|  
|<span data-ttu-id="9496d-144">Agente di distribuzione per una sottoscrizione push</span><span class="sxs-lookup"><span data-stu-id="9496d-144">Distribution Agent for a push subscription</span></span>|<span data-ttu-id="9496d-145">L'account di Windows con cui viene eseguito l'agente viene utilizzato per le connessioni al server di distribuzione.</span><span class="sxs-lookup"><span data-stu-id="9496d-145">The Windows account under which the agent runs is used when it makes connections to the Distributor.</span></span> <span data-ttu-id="9496d-146">Tale account deve:</span><span class="sxs-lookup"><span data-stu-id="9496d-146">This account must:</span></span><br /><br /> <span data-ttu-id="9496d-147">\- Essere almeno un membro del ruolo predefinito del database **db_owner** nel database di distribuzione.</span><span class="sxs-lookup"><span data-stu-id="9496d-147">-At minimum be a member of the **db_owner** fixed database role in the distribution database.</span></span><br /><br /> <span data-ttu-id="9496d-148">\- Essere un membro dell'elenco di accesso alla pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="9496d-148">-Be a member of the PAL.</span></span><br /><br /> <span data-ttu-id="9496d-149">\- Avere le autorizzazioni di lettura per la condivisione snapshot.</span><span class="sxs-lookup"><span data-stu-id="9496d-149">-Have read permissions on the snapshot share.</span></span><br /><br /> <span data-ttu-id="9496d-150">\- Avere le autorizzazioni di lettura per la directory di installazione del provider OLE DB per il Sottoscrittore se la sottoscrizione riguarda un Sottoscrittore non SQL Server.</span><span class="sxs-lookup"><span data-stu-id="9496d-150">-Have read permissions on the installation directory of the OLE DB provider for the Subscriber if the subscription is for a non-SQL Server Subscriber.</span></span><br /><br /> <span data-ttu-id="9496d-151">\- Quando si esegue la replica dei dati line-of-business, l'agente di distribuzione deve avere le autorizzazioni di scrittura per la replica **C:\Programmi\Microsoft SQL Server\XX\COMfolder** dove XX rappresenta l'ID istanza.</span><span class="sxs-lookup"><span data-stu-id="9496d-151">-When replicating LOB data, the distribution agent must have write permissions on the replication **C:\Program Files\Microsoft SQL Server\XX\COMfolder** where XX represents the instanceID.</span></span><br /><br /> <br /><br /> <span data-ttu-id="9496d-152">L'account utilizzato per la connessione al Sottoscrittore deve essere almeno membro del ruolo predefinito del database **db_owner** nel database di sottoscrizione o disporre di autorizzazioni equivalenti se la sottoscrizione riguarda un Sottoscrittore non SQL Server.</span><span class="sxs-lookup"><span data-stu-id="9496d-152">The account that is used to connect to the Subscriber must at minimum be a member of the **db_owner** fixed database role in the subscription database, or have equivalent permissions if the subscription is for a non-SQL Server Subscriber.</span></span><br /><br /> <span data-ttu-id="9496d-153">Nota: quando si usa nell' `-subscriptionstreams >= 2` agente di distribuzione, è necessario concedere anche l' `View Server State` autorizzazione per i sottoscrittori per rilevare i deadlock.</span><span class="sxs-lookup"><span data-stu-id="9496d-153">Note: When using `-subscriptionstreams >= 2` on the distribution agent you must also grant the `View Server State` permission on the subscribers to detect deadlocks.</span></span>|  
|<span data-ttu-id="9496d-154">Agente di distribuzione per una sottoscrizione pull</span><span class="sxs-lookup"><span data-stu-id="9496d-154">Distribution Agent for a pull subscription</span></span>|<span data-ttu-id="9496d-155">L'account di Windows con cui viene eseguito l'agente viene utilizzato per le connessioni al Sottoscrittore.</span><span class="sxs-lookup"><span data-stu-id="9496d-155">The Windows account under which the agent runs is used when it makes connections to the Subscriber.</span></span> <span data-ttu-id="9496d-156">Tale account deve essere almeno membro del ruolo predefinito del database **db_owner** nel database di sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="9496d-156">This account must at minimum be a member of the **db_owner** fixed database role in the subscription database.</span></span> <span data-ttu-id="9496d-157">L'account utilizzato per la connessione al server di distribuzione deve:</span><span class="sxs-lookup"><span data-stu-id="9496d-157">The account that is used to connect to the Distributor must:</span></span><br /><br /> <span data-ttu-id="9496d-158">\- Essere un membro dell'elenco di accesso alla pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="9496d-158">-Be a member of the PAL.</span></span><br /><br /> <span data-ttu-id="9496d-159">\- Avere le autorizzazioni di lettura per la condivisione snapshot.</span><span class="sxs-lookup"><span data-stu-id="9496d-159">-Have read permissions on the snapshot share.</span></span><br /><br /> <span data-ttu-id="9496d-160">\- Quando si esegue la replica dei dati line-of-business, l'agente di distribuzione deve avere le autorizzazioni di scrittura per la replica **C:\Programmi\Microsoft SQL Server\XX\COMfolder** dove XX rappresenta l'ID istanza.</span><span class="sxs-lookup"><span data-stu-id="9496d-160">-When replicating LOB data, the distribution agent must have write permissions on the replication **C:\Program Files\Microsoft SQL Server\XX\COMfolder** where XX represents the instanceID.</span></span><br /><br /> <br /><br /> <span data-ttu-id="9496d-161">Nota: quando si usa nell' `-subscriptionstreams >= 2` agente di distribuzione, è necessario concedere anche l' `View Server State` autorizzazione per i sottoscrittori per rilevare i deadlock.</span><span class="sxs-lookup"><span data-stu-id="9496d-161">Note: When using `-subscriptionstreams >= 2` on the distribution agent you must also grant the `View Server State` permission on the subscribers to detect deadlocks.</span></span>|  
|<span data-ttu-id="9496d-162">Agente di merge per una sottoscrizione push</span><span class="sxs-lookup"><span data-stu-id="9496d-162">Merge Agent for a push subscription</span></span>|<span data-ttu-id="9496d-163">L'account di Windows con cui viene eseguito l'agente viene utilizzato per le connessioni al server di pubblicazione e al server di distribuzione.</span><span class="sxs-lookup"><span data-stu-id="9496d-163">The Windows account under which the agent runs is used when it makes connections to the Publisher and Distributor.</span></span> <span data-ttu-id="9496d-164">Tale account deve:</span><span class="sxs-lookup"><span data-stu-id="9496d-164">This account must:</span></span><br /><br /> <span data-ttu-id="9496d-165">\- Essere almeno un membro del ruolo predefinito del database **db_owner** nel database di distribuzione.</span><span class="sxs-lookup"><span data-stu-id="9496d-165">-At minimum be a member of the **db_owner** fixed database role in the distribution database.</span></span><br /><br /> <span data-ttu-id="9496d-166">\- Essere un membro dell'elenco di accesso alla pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="9496d-166">-Be a member of the PAL.</span></span><br /><br /> <span data-ttu-id="9496d-167">- Essere un account di accesso associato a un utente nel database di pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="9496d-167">-Be a login that is associated with a user in the publication database.</span></span><br /><br /> <span data-ttu-id="9496d-168">\- Avere le autorizzazioni di lettura per la condivisione snapshot.</span><span class="sxs-lookup"><span data-stu-id="9496d-168">-Have read permissions on the snapshot share.</span></span><br /><br /> <br /><br /> <span data-ttu-id="9496d-169">L'account utilizzato per la connessione al Sottoscrittore deve essere almeno membro del ruolo predefinito del database **db_owner** nel database di sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="9496d-169">The account used to connect to the Subscriber must at minimum be a member of the **db_owner** fixed database role in the subscription database.</span></span>|  
|<span data-ttu-id="9496d-170">Agente di merge per una sottoscrizione pull</span><span class="sxs-lookup"><span data-stu-id="9496d-170">Merge Agent for a pull subscription</span></span>|<span data-ttu-id="9496d-171">L'account di Windows con cui viene eseguito l'agente viene utilizzato per le connessioni al Sottoscrittore.</span><span class="sxs-lookup"><span data-stu-id="9496d-171">The Windows account under which the agent runs is used when it makes connections to the Subscriber.</span></span> <span data-ttu-id="9496d-172">Tale account deve essere almeno membro del ruolo predefinito del database **db_owner** nel database di sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="9496d-172">This account must at minimum be a member of the **db_owner** fixed database role in the subscription database.</span></span> <span data-ttu-id="9496d-173">L'account utilizzato per la connessione al server di pubblicazione e al server di distribuzione deve:</span><span class="sxs-lookup"><span data-stu-id="9496d-173">The account that is used to connect to the Publisher and Distributor must:</span></span><br /><br /> <span data-ttu-id="9496d-174">\- Essere un membro dell'elenco di accesso alla pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="9496d-174">-Be a member of the PAL.</span></span><br /><br /> <span data-ttu-id="9496d-175">- Essere un account di accesso associato a un utente nel database di pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="9496d-175">-Be a login associated with a user in the publication database.</span></span><br /><br /> <span data-ttu-id="9496d-176">\- Essere un account di accesso associato a un utente nel database di distribuzione.</span><span class="sxs-lookup"><span data-stu-id="9496d-176">-Be a login associated with a user in the distribution database.</span></span> <span data-ttu-id="9496d-177">L'utente può essere l'utente `Guest`.</span><span class="sxs-lookup"><span data-stu-id="9496d-177">The user can be the `Guest` user.</span></span><br /><br /> <span data-ttu-id="9496d-178">\- Avere le autorizzazioni di lettura per la condivisione snapshot.</span><span class="sxs-lookup"><span data-stu-id="9496d-178">-Have read permissions on the snapshot share.</span></span>|  
|<span data-ttu-id="9496d-179">Agente di lettura coda</span><span class="sxs-lookup"><span data-stu-id="9496d-179">Queue Reader Agent</span></span>|<span data-ttu-id="9496d-180">L'account di Windows con cui viene eseguito l'agente viene utilizzato per le connessioni al server di distribuzione.</span><span class="sxs-lookup"><span data-stu-id="9496d-180">The Windows account under which the agent runs is used when it makes connections to the Distributor.</span></span> <span data-ttu-id="9496d-181">Tale account deve essere almeno membro del ruolo predefinito del database **db_owner** nel database di distribuzione.</span><span class="sxs-lookup"><span data-stu-id="9496d-181">This account must at minimum be a member of the **db_owner** fixed database role in the distribution database.</span></span><br /><br /> <span data-ttu-id="9496d-182">L'account utilizzato per la connessione al server di pubblicazione deve essere almeno membro del ruolo predefinito del database **db_owner** nel database di pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="9496d-182">The account that is used to connect to the Publisher must at minimum be a member of the **db_owner** fixed database role in the publication database.</span></span><br /><br /> <span data-ttu-id="9496d-183">L'account utilizzato per la connessione al Sottoscrittore deve essere almeno membro del ruolo predefinito del database **db_owner** nel database di sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="9496d-183">The account that is used to connect to the Subscriber must at minimum be a member of the **db_owner** fixed database role in the subscription database.</span></span>|  
  
## <a name="agent-security-under-sql-server-agent"></a><span data-ttu-id="9496d-184">Sicurezza agente in SQL Server Agent</span><span class="sxs-lookup"><span data-stu-id="9496d-184">Agent Security Under SQL Server Agent</span></span>  
 <span data-ttu-id="9496d-185">Quando si configura la replica mediante [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], le procedure [!INCLUDE[tsql](../../../includes/tsql-md.md)] o gli oggetti RMO, per impostazione predefinita viene creato un processo di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent per ogni agente.</span><span class="sxs-lookup"><span data-stu-id="9496d-185">When you configure replication by using [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], [!INCLUDE[tsql](../../../includes/tsql-md.md)] procedures, or RMO, a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent job is created by default for each agent.</span></span> <span data-ttu-id="9496d-186">Gli agenti vengono quindi eseguiti nel contesto di un passaggio del processo, indipendentemente dal fatto che l'esecuzione sia continua, in base a una pianificazione o su richiesta.</span><span class="sxs-lookup"><span data-stu-id="9496d-186">Agents then run under the context of a job step, regardless of whether they run continuously, on a schedule, or on demand.</span></span> <span data-ttu-id="9496d-187">È possibile visualizzare tali processi nella cartella **Processi** in [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="9496d-187">You can view these jobs under the **Jobs** folder in [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="9496d-188">Nella tabella seguente sono elencati i nomi dei processi.</span><span class="sxs-lookup"><span data-stu-id="9496d-188">The following table lists the job names.</span></span>  
  
|<span data-ttu-id="9496d-189">Agente</span><span class="sxs-lookup"><span data-stu-id="9496d-189">Agent</span></span>|<span data-ttu-id="9496d-190">Nome processo</span><span class="sxs-lookup"><span data-stu-id="9496d-190">Job name</span></span>|  
|-----------|--------------|  
|<span data-ttu-id="9496d-191">agente snapshot</span><span class="sxs-lookup"><span data-stu-id="9496d-191">Snapshot Agent</span></span>|**\<Publisher>-\<PublicationDatabase>-\<Publication>-\<integer>**|  
|<span data-ttu-id="9496d-192">Agente snapshot per una partizione di una pubblicazione di tipo merge</span><span class="sxs-lookup"><span data-stu-id="9496d-192">Snapshot Agent for a merge publication partition</span></span>|<span data-ttu-id="9496d-193">**Dyn_\<Publisher>-\<PublicationDatabase>-\<Publication>-\<GUID>**</span><span class="sxs-lookup"><span data-stu-id="9496d-193">**Dyn_\<Publisher>-\<PublicationDatabase>-\<Publication>-\<GUID>**</span></span>|  
|<span data-ttu-id="9496d-194">Agente di lettura log</span><span class="sxs-lookup"><span data-stu-id="9496d-194">Log Reader Agent</span></span>|**\<Publisher>-\<PublicationDatabase>-\<integer>**|  
|<span data-ttu-id="9496d-195">Agente di merge per le sottoscrizioni pull</span><span class="sxs-lookup"><span data-stu-id="9496d-195">Merge Agent for pull subscriptions</span></span>|**\<Publisher>-\<PublicationDatabase>-\<Publication>-\<Subscriber>-\<SubscriptionDatabase>-\<integer>**|  
|<span data-ttu-id="9496d-196">Agente di merge per le sottoscrizioni push</span><span class="sxs-lookup"><span data-stu-id="9496d-196">Merge Agent for push subscriptions</span></span>|**\<Publisher>-\<PublicationDatabase>-\<Publication>-\<Subscriber>-\<integer>**|  
|<span data-ttu-id="9496d-197">Agente di distribuzione per le sottoscrizioni push</span><span class="sxs-lookup"><span data-stu-id="9496d-197">Distribution Agent for push subscriptions</span></span>|<span data-ttu-id="9496d-198">**\<Publisher>-\<PublicationDatabase>-\<Publication>-\<Subscriber>-\<integer>** <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="9496d-198">**\<Publisher>-\<PublicationDatabase>-\<Publication>-\<Subscriber>-\<integer>** <sup>1</sup></span></span>|  
|<span data-ttu-id="9496d-199">Agente di distribuzione per le sottoscrizioni pull</span><span class="sxs-lookup"><span data-stu-id="9496d-199">Distribution Agent for pull subscriptions</span></span>|<span data-ttu-id="9496d-200">**\<Publisher>-\<PublicationDatabase>-\<Publication>-\<Subscriber>-\<SubscriptionDatabase>-\<GUID>** <sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="9496d-200">**\<Publisher>-\<PublicationDatabase>-\<Publication>-\<Subscriber>-\<SubscriptionDatabase>-\<GUID>** <sup>2</sup></span></span>|  
|<span data-ttu-id="9496d-201">Agente di distribuzione per le sottoscrizioni push di Sottoscrittori non SQL Server</span><span class="sxs-lookup"><span data-stu-id="9496d-201">Distribution Agent for push subscriptions to non-SQL Server Subscribers</span></span>|**\<Publisher>-\<PublicationDatabase>-\<Publication>-\<Subscriber>-\<integer>**|  
|<span data-ttu-id="9496d-202">Agente di lettura coda</span><span class="sxs-lookup"><span data-stu-id="9496d-202">Queue Reader Agent</span></span>|<span data-ttu-id="9496d-203">**[\<Distributor>].\<integer>**</span><span class="sxs-lookup"><span data-stu-id="9496d-203">**[\<Distributor>].\<integer>**</span></span>|  
  
 <span data-ttu-id="9496d-204"><sup>1</sup> per le sottoscrizioni push di pubblicazioni Oracle, il nome del processo è \* \* \<Publisher> - \<Publisher**> anziché **\<Publisher>-\<PublicationDatabase>** .</span><span class="sxs-lookup"><span data-stu-id="9496d-204"><sup>1</sup> For push subscriptions to Oracle publications, the job name is \*\*\<Publisher>-\<Publisher**> instead of **\<Publisher>-\<PublicationDatabase>**.</span></span>  
  
 <span data-ttu-id="9496d-205"><sup>2</sup> per le sottoscrizioni pull di pubblicazioni Oracle, il nome del processo è \* \* \<Publisher> - \<DistributionDatabase**> anziché **\<Publisher>-\<PublicationDatabase>** .</span><span class="sxs-lookup"><span data-stu-id="9496d-205"><sup>2</sup> For pull subscriptions to Oracle publications, the job name is \*\*\<Publisher>-\<DistributionDatabase**> instead of **\<Publisher>-\<PublicationDatabase>**.</span></span>  
  
 <span data-ttu-id="9496d-206">Durante la configurazione della replica si specificano gli account utilizzati per l'esecuzione degli agenti.</span><span class="sxs-lookup"><span data-stu-id="9496d-206">When you configure replication, you specify accounts under which agents should run.</span></span> <span data-ttu-id="9496d-207">Tutti i passaggi del processo, tuttavia, vengono eseguiti nel contesto di sicurezza di un *proxy*e pertanto la replica esegue internamente i mapping seguenti per gli account dell'agente specificati:</span><span class="sxs-lookup"><span data-stu-id="9496d-207">However, all job steps run under the security context of a *proxy*; therefore, replication performs the following mappings internally for the agent accounts that you specify:</span></span>  
  
-   <span data-ttu-id="9496d-208">Prima di tutto viene eseguito il mapping tra l'account e una credenziale usando l'istruzione [CREATE CREDENTIAL](/sql/t-sql/statements/create-credential-transact-sql) di [!INCLUDE[tsql](../../../includes/tsql-md.md)].</span><span class="sxs-lookup"><span data-stu-id="9496d-208">The account is first mapped to a credential by using the [!INCLUDE[tsql](../../../includes/tsql-md.md)] [CREATE CREDENTIAL](/sql/t-sql/statements/create-credential-transact-sql) statement.</span></span> <span data-ttu-id="9496d-209">I proxy di[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent utilizzano le credenziali per archiviare le informazioni sugli account utente di Windows.</span><span class="sxs-lookup"><span data-stu-id="9496d-209">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent proxies use credentials to store information about Windows user accounts.</span></span>  
  
-   <span data-ttu-id="9496d-210">Viene chiamata la stored procedure [sp_add_proxy](/sql/relational-databases/system-stored-procedures/sp-add-proxy-transact-sql) e le credenziali vengono utilizzate per creare un proxy.</span><span class="sxs-lookup"><span data-stu-id="9496d-210">The [sp_add_proxy](/sql/relational-databases/system-stored-procedures/sp-add-proxy-transact-sql) stored procedure is called, and the credential is used to create a proxy..</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="9496d-211">Queste informazioni vengono fornite allo scopo di illustrare i processi richiesti per l'esecuzione degli agenti nel contesto di sicurezza appropriato.</span><span class="sxs-lookup"><span data-stu-id="9496d-211">This information is provided to help you understand what is involved in running agents with the appropriate security context.</span></span> <span data-ttu-id="9496d-212">Non è in genere necessario interagire direttamente con le credenziali o i proxy creati.</span><span class="sxs-lookup"><span data-stu-id="9496d-212">You should not have to interact directly with the credentials or proxies that have been created.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="9496d-213">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="9496d-213">See Also</span></span>  
 <span data-ttu-id="9496d-214">[Replication Security Best Practices](replication-security-best-practices.md) </span><span class="sxs-lookup"><span data-stu-id="9496d-214">[Replication Security Best Practices](replication-security-best-practices.md) </span></span>  
 <span data-ttu-id="9496d-215">[Sicurezza replica di SQL Server](view-and-modify-replication-security-settings.md) </span><span class="sxs-lookup"><span data-stu-id="9496d-215">[SQL Server Replication Security](view-and-modify-replication-security-settings.md) </span></span>  
 [<span data-ttu-id="9496d-216">Proteggere la cartella snapshot</span><span class="sxs-lookup"><span data-stu-id="9496d-216">Secure the Snapshot Folder</span></span>](secure-the-snapshot-folder.md)  
  
  
