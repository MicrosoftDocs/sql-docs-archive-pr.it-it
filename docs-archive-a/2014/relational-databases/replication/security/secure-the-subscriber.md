---
title: Proteggere il Sottoscrittore | Microsoft Docs
ms.custom: ''
ms.date: 04/26/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- subscriptions [SQL Server replication], security
- Subscribers [SQL Server replication], security
- security [SQL Server replication], Subscribers
ms.assetid: c8f0d62a-8b5d-4a21-9aec-223da52bb708
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 1f03b9a202c3c49f147368460518a579f28dc850
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87635480"
---
# <a name="secure-the-subscriber"></a><span data-ttu-id="fe1ff-102">Sicurezza del Sottoscrittore</span><span class="sxs-lookup"><span data-stu-id="fe1ff-102">Secure the Subscriber</span></span>
  <span data-ttu-id="fe1ff-103">Gli agenti di merge e di distribuzione si connettono al Sottoscrittore.</span><span class="sxs-lookup"><span data-stu-id="fe1ff-103">Merge Agents and Distribution Agents connect to the Subscriber.</span></span> <span data-ttu-id="fe1ff-104">Queste connessioni possono essere stabilite nel contesto di un account di accesso di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] o di Windows.</span><span class="sxs-lookup"><span data-stu-id="fe1ff-104">These connections can be made under the context of a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] login or a Windows login.</span></span> <span data-ttu-id="fe1ff-105">È importante specificare un account di accesso appropriato per questi agenti, attenendosi al principio di concedere i diritti minimi necessari e proteggere l'archiviazione di tutte le password.</span><span class="sxs-lookup"><span data-stu-id="fe1ff-105">It is important to provide an appropriate login for these agents while following the principle of granting the minimal rights necessary and also protecting the storage of all passwords.</span></span> <span data-ttu-id="fe1ff-106">Per informazioni sulle autorizzazioni necessarie per ogni agente, vedere [Replication Agent Security Model](replication-agent-security-model.md).</span><span class="sxs-lookup"><span data-stu-id="fe1ff-106">For information about the permissions required for each agent, see [Replication Agent Security Model](replication-agent-security-model.md).</span></span>  
  
## <a name="distribution-agent"></a><span data-ttu-id="fe1ff-107">Agente di distribuzione</span><span class="sxs-lookup"><span data-stu-id="fe1ff-107">Distribution Agent</span></span>  
 <span data-ttu-id="fe1ff-108">È possibile utilizzare un agente di distribuzione per sottoscrizione, ovvero un agente indipendente in base all'impostazione predefinita per le pubblicazioni create nella Creazione guidata nuova pubblicazione, oppure un agente di distribuzione per coppia di database di pubblicazione e database di sottoscrizione, ovvero un agente condiviso.</span><span class="sxs-lookup"><span data-stu-id="fe1ff-108">There is either one Distribution Agent per subscription (an independent agent, the default for publications created in the New Publication Wizard) or one Distribution Agent per publication database and subscription database pair (a shared agent).</span></span> <span data-ttu-id="fe1ff-109">T</span><span class="sxs-lookup"><span data-stu-id="fe1ff-109">T</span></span>  
  
 <span data-ttu-id="fe1ff-110">Per specificare le informazioni di connessione per le sottoscrizioni push, vedere [Creare una sottoscrizione push](../create-a-push-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="fe1ff-110">To specify connection information for push subscriptions, see [Create a Push Subscription](../create-a-push-subscription.md).</span></span>  
  
 <span data-ttu-id="fe1ff-111">Per specificare le informazioni di connessione per le sottoscrizioni pull, vedere [Creare una sottoscrizione pull](../create-a-pull-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="fe1ff-111">To specify connection information for pull subscriptions, see [Create a Pull Subscription](../create-a-pull-subscription.md)</span></span>  
  
## <a name="merge-agent"></a><span data-ttu-id="fe1ff-112">Agente di merge</span><span class="sxs-lookup"><span data-stu-id="fe1ff-112">Merge Agent</span></span>  
 <span data-ttu-id="fe1ff-113">Per ogni sottoscrizione di tipo merge è disponibile un agente di merge specifico che si connette sia al server di pubblicazione che al Sottoscrittore, aggiornandoli entrambi.</span><span class="sxs-lookup"><span data-stu-id="fe1ff-113">Each merge subscription has its own Merge Agent that connects to and updates both the Publisher and the Subscriber.</span></span>  
  
 <span data-ttu-id="fe1ff-114">Per specificare le informazioni di connessione per le sottoscrizioni push, vedere [Creare una sottoscrizione push](../create-a-push-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="fe1ff-114">To specify connection information for push subscriptions, see [Create a Push Subscription](../create-a-push-subscription.md).</span></span>  
  
 <span data-ttu-id="fe1ff-115">Per specificare le informazioni di connessione per le sottoscrizioni pull, vedere [Creare una sottoscrizione pull](../create-a-pull-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="fe1ff-115">To specify connection information for pull subscriptions, see [Create a Pull Subscription](../create-a-pull-subscription.md).</span></span>  
  
## <a name="immediate-updating-subscriptions"></a><span data-ttu-id="fe1ff-116">Sottoscrizioni ad aggiornamento immediato</span><span class="sxs-lookup"><span data-stu-id="fe1ff-116">Immediate Updating Subscriptions</span></span>  
 <span data-ttu-id="fe1ff-117">Quando si configura una sottoscrizione ad aggiornamento immediato, si specifica un account nel Sottoscrittore con cui vengono stabilite le connessioni al server di pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="fe1ff-117">When you configure an immediate updating subscription, you specify an account at the Subscriber under which connections to the Publisher are made.</span></span> <span data-ttu-id="fe1ff-118">Le connessioni vengono utilizzate dai trigger che si attivano presso il Sottoscrittore e propagano le modifiche al server di pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="fe1ff-118">Connections are used by the triggers that fire at the Subscriber and propagate changes to the Publisher.</span></span> <span data-ttu-id="fe1ff-119">Sono disponibili tre opzioni per il tipo di connessione:</span><span class="sxs-lookup"><span data-stu-id="fe1ff-119">There are three options available for the type of connection:</span></span>  
  
-   <span data-ttu-id="fe1ff-120">Server collegato creato dalla replica. La connessione viene stabilita con le credenziali specificate in fase di configurazione.</span><span class="sxs-lookup"><span data-stu-id="fe1ff-120">A linked server that replication creates; the connection is made with the credentials you specify at configuration time.</span></span>  
  
-   <span data-ttu-id="fe1ff-121">Un server collegato creato dalla replica. La connessione viene eseguita con le credenziali dell'utente che apporta la modifica presso il Sottoscrittore.</span><span class="sxs-lookup"><span data-stu-id="fe1ff-121">A linked server that replication creates; the connection is made with the credentials of the user making the change at the Subscriber.</span></span>  
  
-   <span data-ttu-id="fe1ff-122">Un server collegato o remoto già definito.</span><span class="sxs-lookup"><span data-stu-id="fe1ff-122">A linked server or remote server that you have already defined.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="fe1ff-123">Per specificare le informazioni di connessione, usare la stored procedure [sp_link_publication &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-link-publication-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="fe1ff-123">To specify connection information, use the stored procedure [sp_link_publication &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-link-publication-transact-sql).</span></span> <span data-ttu-id="fe1ff-124">È possibile utilizzare anche la pagina **Account di accesso per sottoscrizioni aggiornabili** della Creazione guidata nuova sottoscrizione che chiama **sp_link_publication**.</span><span class="sxs-lookup"><span data-stu-id="fe1ff-124">You can also use the **Login for Updatable Subscriptions** page of the New Subscription Wizard, which calls **sp_link_publication**.</span></span> <span data-ttu-id="fe1ff-125">In alcune condizioni, questa stored procedure può avere esito negativo se nel Sottoscrittore è in esecuzione [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)] Service Pack 1 (SP1) o versioni successive e nel server di pubblicazione è in esecuzione una versione precedente.</span><span class="sxs-lookup"><span data-stu-id="fe1ff-125">Under certain conditions, this stored procedure can fail if the Subscriber is running [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)] Service Pack 1 (SP1) or later, and the Publisher is running an earlier version.</span></span> <span data-ttu-id="fe1ff-126">Se la stored procedure ha esito negativo in questo scenario, aggiornare il server di pubblicazione a [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)] SP1 o versioni successive.</span><span class="sxs-lookup"><span data-stu-id="fe1ff-126">If the stored procedure fails in this scenario, upgrade the Publisher to [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)] SP1 or later.</span></span>  
  
 <span data-ttu-id="fe1ff-127">Per altre informazioni, vedere [Creare una sottoscrizione aggiornabile di una pubblicazione transazionale](../publish/create-an-updatable-subscription-to-a-transactional-publication.md) e [Visualizzare e modificare le impostazioni di sicurezza della replica](view-and-modify-replication-security-settings.md).</span><span class="sxs-lookup"><span data-stu-id="fe1ff-127">For more information, see [Create an Updatable Subscription to a Transactional Publication](../publish/create-an-updatable-subscription-to-a-transactional-publication.md) and [View and Modify Replication Security Settings](view-and-modify-replication-security-settings.md).</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="fe1ff-128">È consigliabile concedere all'account specificato per la connessione solo le autorizzazioni necessarie per l'inserimento, l'aggiornamento e l'eliminazione dei dati delle viste create dalla replica nel database di pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="fe1ff-128">The account specified for the connection should only be granted permission to insert, update, and delete data on the views that replication creates in the publication database; it should not be given any additional permissions.</span></span> <span data-ttu-id="fe1ff-129">Concedere autorizzazioni nelle viste del database di pubblicazione con il formato dei nomi **syncobj_** _\<HexadecimalNumber>_ all'account configurato presso ogni Sottoscrittore.</span><span class="sxs-lookup"><span data-stu-id="fe1ff-129">Grant permissions on views in the publication database that are named in the form **syncobj_**_\<HexadecimalNumber>_ to the account you configured at each Subscriber.</span></span>  
  
## <a name="queued-updating-subscriptions"></a><span data-ttu-id="fe1ff-130">Sottoscrizioni ad aggiornamento in coda</span><span class="sxs-lookup"><span data-stu-id="fe1ff-130">Queued Updating Subscriptions</span></span>  
 <span data-ttu-id="fe1ff-131">Quando si configurano sottoscrizioni ad aggiornamento in coda, è necessario tenere in considerazione due aspetti relativi alla sicurezza.</span><span class="sxs-lookup"><span data-stu-id="fe1ff-131">When you configure queued updating subscriptions, there are two areas to keep in mind that relate to security:</span></span>  
  
-   <span data-ttu-id="fe1ff-132">Esiste un solo agente di lettura coda per ogni server di distribuzione.</span><span class="sxs-lookup"><span data-stu-id="fe1ff-132">There is only one Queue Reader Agent for each Distributor.</span></span> <span data-ttu-id="fe1ff-133">Per ogni server di distribuzione è consigliabile configurare al massimo una pubblicazione abilitata per le sottoscrizioni ad aggiornamento in coda.</span><span class="sxs-lookup"><span data-stu-id="fe1ff-133">It is recommended that for each Distributor, you configure at most one publication that is enabled for queued updating subscriptions.</span></span>  
  
-   <span data-ttu-id="fe1ff-134">L'agente di lettura coda stabilisce connessioni al server di distribuzione, al server di pubblicazione e a ogni Sottoscrittore:</span><span class="sxs-lookup"><span data-stu-id="fe1ff-134">The Queue Reader agent makes connections to the Distributor, Publisher, and each Subscriber:</span></span>  
  
    -   <span data-ttu-id="fe1ff-135">L'account con cui l'agente viene eseguito e stabilisce connessioni al server di distribuzione viene specificato al momento della creazione dell'agente. Se si utilizza la Creazione guidata nuova pubblicazione, l'agente viene creato quando si crea una pubblicazione abilitata per le sottoscrizioni aggiornabili.</span><span class="sxs-lookup"><span data-stu-id="fe1ff-135">The account under which the agent runs and makes connections to the Distributor is specified when you create the agent (if you use the New Publication Wizard, the agent is created when you create a publication that is enabled for updating subscriptions).</span></span>  
  
    -   <span data-ttu-id="fe1ff-136">L'account con cui l'agente stabilisce connessioni al server di pubblicazione viene specificato quando si configura la distribuzione per un server di pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="fe1ff-136">The account under which the agent makes connections to the Publisher is specified when you configure distribution for a Publisher.</span></span> <span data-ttu-id="fe1ff-137">Specificare l'account di Windows con cui l'agente viene eseguito oppure un account di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="fe1ff-137">Specify the Windows account under which the agent runs or a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] account.</span></span>  
  
    -   <span data-ttu-id="fe1ff-138">L'account con cui l'agente stabilisce connessioni al Sottoscrittore viene specificato quando si crea la sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="fe1ff-138">The account under which the agent makes connections to the Subscriber is specified when you create the subscription.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="fe1ff-139">Utilizzare l'autenticazione di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] per le connessioni ai Sottoscrittori e specificare un diverso account per la connessione a ogni Sottoscrittore.</span><span class="sxs-lookup"><span data-stu-id="fe1ff-139">Use [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Authentication for connections to Subscribers, and specify a different account for the connection to each Subscriber.</span></span> <span data-ttu-id="fe1ff-140">Se si utilizza una sottoscrizione pull, la connessione viene sempre impostata dalla replica in modo da utilizzare l'autenticazione di Windows. Per le sottoscrizioni pull, la replica non può infatti accedere ai metadati nel Sottoscrittore necessari per utilizzare l'autenticazione di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="fe1ff-140">If you use a pull subscription, replication always sets the connection to use Windows Authentication (for pull subscriptions, replication cannot access metadata at the Subscriber required to use [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Authentication).</span></span> <span data-ttu-id="fe1ff-141">In questo caso, modificare la connessione in modo da utilizzare l'autenticazione di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] dopo la configurazione della sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="fe1ff-141">In this case, change the connection to use [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Authentication after the subscription is configured.</span></span>  
  
     <span data-ttu-id="fe1ff-142">Per altre informazioni, vedere Procedura: Creare una sottoscrizione aggiornabile di una pubblicazione transazionale (SQL Server Management Studio) e [Visualizzare e modificare le impostazioni di sicurezza della replica](view-and-modify-replication-security-settings.md).</span><span class="sxs-lookup"><span data-stu-id="fe1ff-142">For more information, see How to: Create an Updating Subscription to a Transactional Publication (SQL Server Management Studio) and [View and Modify Replication Security Settings](view-and-modify-replication-security-settings.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="fe1ff-143">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="fe1ff-143">See Also</span></span>  
 <span data-ttu-id="fe1ff-144">[Abilitare connessioni crittografate al motore di database &#40;Gestione configurazione SQL Server&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md) </span><span class="sxs-lookup"><span data-stu-id="fe1ff-144">[Enable Encrypted Connections to the Database Engine &#40;SQL Server Configuration Manager&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md) </span></span>  
 <span data-ttu-id="fe1ff-145">[Replication Security Best Practices](replication-security-best-practices.md) </span><span class="sxs-lookup"><span data-stu-id="fe1ff-145">[Replication Security Best Practices](replication-security-best-practices.md) </span></span>  
 [<span data-ttu-id="fe1ff-146">Sicurezza replica di SQL Server</span><span class="sxs-lookup"><span data-stu-id="fe1ff-146">SQL Server Replication Security</span></span>](view-and-modify-replication-security-settings.md)  
  
  
