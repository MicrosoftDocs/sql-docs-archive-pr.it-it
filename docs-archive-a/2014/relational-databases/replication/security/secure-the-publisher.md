---
title: Proteggere il server di pubblicazione | Microsoft Docs
ms.custom: ''
ms.date: 03/08/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- logins [SQL Server replication], publication access list
- publications [SQL Server replication], publication access lists
- publication access list (PAL)
- PAL (publication access list)
- Publishers [SQL Server replication], security
- publications [SQL Server replication], security
ms.assetid: 4513a18d-dd6e-407a-b009-49dc9432ec7e
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: dca3f704c43a97c2c34921007341b9bd613676ea
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87635484"
---
# <a name="secure-the-publisher"></a><span data-ttu-id="b01a3-102">Sicurezza del server di pubblicazione</span><span class="sxs-lookup"><span data-stu-id="b01a3-102">Secure the Publisher</span></span>
  <span data-ttu-id="b01a3-103">Gli agenti di replica seguenti si connettono al server di pubblicazione:</span><span class="sxs-lookup"><span data-stu-id="b01a3-103">The following replication agents connect to the Publisher:</span></span>  
  
-   <span data-ttu-id="b01a3-104">Agente di lettura log</span><span class="sxs-lookup"><span data-stu-id="b01a3-104">Log Reader Agent</span></span>  
  
-   <span data-ttu-id="b01a3-105">agente snapshot</span><span class="sxs-lookup"><span data-stu-id="b01a3-105">Snapshot Agent</span></span>  
  
-   <span data-ttu-id="b01a3-106">Agente di lettura coda</span><span class="sxs-lookup"><span data-stu-id="b01a3-106">Queue Reader Agent</span></span>  
  
-   <span data-ttu-id="b01a3-107">Agente di merge</span><span class="sxs-lookup"><span data-stu-id="b01a3-107">Merge Agent</span></span>  
  
 <span data-ttu-id="b01a3-108">È importante specificare un account di accesso appropriato per questi agenti, attenendosi al principio di concedere i diritti minimi necessari e proteggere l'archiviazione di tutte le password.</span><span class="sxs-lookup"><span data-stu-id="b01a3-108">We recommend that you provide an appropriate login for these agents, follow the principle of granting the minimal rights that are required, and protect the storage of all passwords.</span></span> <span data-ttu-id="b01a3-109">Per informazioni sulle autorizzazioni necessarie per ogni agente, vedere [Replication Agent Security Model](replication-agent-security-model.md).</span><span class="sxs-lookup"><span data-stu-id="b01a3-109">For information about the permissions that are required for each agent, see [Replication Agent Security Model](replication-agent-security-model.md).</span></span>  
  
 <span data-ttu-id="b01a3-110">Oltre a gestire gli account di accesso e le password in modo appropriato, è importante comprendere il ruolo dell'elenco di accesso alla pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="b01a3-110">Besides appropriately managing logins and passwords, you should understand the role of the publication access list (PAL).</span></span> <span data-ttu-id="b01a3-111">Questo elenco viene utilizzato per consentire agli account di accedere ai dati di pubblicazione, limitando nel contempo l'accesso ad hoc al database nel server di pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="b01a3-111">The PAL is used to enable logins to access to publication data while restricting ad hoc access to the database at the Publisher.</span></span>  
  
## <a name="publication-access-list"></a><span data-ttu-id="b01a3-112">Elenco di accesso alla pubblicazione</span><span class="sxs-lookup"><span data-stu-id="b01a3-112">Publication Access List</span></span>  
 <span data-ttu-id="b01a3-113">L'elenco di accesso alla pubblicazione costituisce il principale sistema di protezione delle pubblicazioni nel server di pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="b01a3-113">The PAL is the primary mechanism for securing publications at the Publisher.</span></span> <span data-ttu-id="b01a3-114">che funziona in maniera analoga a un elenco di controllo di accesso [!INCLUDE[msCoName](../../../includes/msconame-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="b01a3-114">The PAL functions similarly to a [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Windows access control list.</span></span> <span data-ttu-id="b01a3-115">Quando si crea una pubblicazione, la replica crea un elenco di accesso alla pubblicazione per la pubblicazione creata.</span><span class="sxs-lookup"><span data-stu-id="b01a3-115">When you create a publication, replication creates a PAL for the publication.</span></span> <span data-ttu-id="b01a3-116">Tale elenco può essere configurato per contenere l'elenco degli account di accesso e dei gruppi autorizzati ad accedere alla pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="b01a3-116">The PAL can be configured to contain a list of logins and groups that are granted access to the publication.</span></span> <span data-ttu-id="b01a3-117">Quando un agente si connette al server di pubblicazione o al server di distribuzione e richiede l'accesso a una pubblicazione, i dati di autenticazione dell'elenco di accesso alla pubblicazione vengono confrontati con l'account di accesso al server di pubblicazione specificato dall'agente.</span><span class="sxs-lookup"><span data-stu-id="b01a3-117">When an agent connects to the Publisher or Distributor and requests access to a publication, the authentication information in the PAL is compared to the Publisher login that the agent provides.</span></span> <span data-ttu-id="b01a3-118">Ciò garantisce un maggior livello di sicurezza del server di pubblicazione, impedendo che gli account di accesso del server di pubblicazione e del server di distribuzione vengano utilizzati da uno strumento client per apportare modifiche direttamente nel server di pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="b01a3-118">This process provides additional security for the Publisher by preventing the Publisher and Distributor login from being used by a client tool to perform modifications on the Publisher directly.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="b01a3-119">La replica crea un ruolo sul server di pubblicazione per ogni pubblicazione, in modo da applicare l'appartenenza all'elenco di accesso alla pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="b01a3-119">Replication creates a role on the Publisher for each publication to enforce PAL membership.</span></span> <span data-ttu-id="b01a3-120">Il nome del ruolo è in formato **Msmerge_** _\<PublicationID>_ per la replica di tipo merge e **MSReplPAL_** _\<PublicationDatabaseID>_ **_** _\<PublicationID>_ per la replica transazionale e snapshot.</span><span class="sxs-lookup"><span data-stu-id="b01a3-120">The role has a name in the form **Msmerge_**_\<PublicationID>_ for merge replication and **MSReplPAL_**_\<PublicationDatabaseID>_**_**_\<PublicationID>_ for transactional and snapshot replication.</span></span>  
  
 <span data-ttu-id="b01a3-121">Per impostazione predefinita, nell'elenco di accesso alla pubblicazione sono inclusi gli account di accesso seguenti: i membri del ruolo predefinito del server **sysadmin** al momento della creazione della pubblicazione e l'account di accesso utilizzato per creare la pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="b01a3-121">By default, the following logins are included in the PAL: the members of the **sysadmin** fixed server role at the time the publication is created and the login that is used to create the publication.</span></span> <span data-ttu-id="b01a3-122">Per impostazione predefinita, tutti gli account di accesso membri del ruolo predefinito del server **sysadmin** o del ruolo predefinito del database **db_owner** nel database di pubblicazione possono sottoscrivere una pubblicazione, senza necessità di essere aggiunti esplicitamente all'elenco di accesso alla pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="b01a3-122">By default, all logins that are members of the **sysadmin** fixed server role or the **db_owner** fixed database role on the publication database can subscribe to a publication without being explicitly added to the PAL.</span></span>  
  
 <span data-ttu-id="b01a3-123">Quando si utilizza l'elenco di accesso alla pubblicazione, tenere presenti le indicazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="b01a3-123">When you are using the PAL, consider the following guidelines:</span></span>  
  
-   <span data-ttu-id="b01a3-124">Prima di aggiungere l'account di accesso di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] all'elenco di accesso alla pubblicazione, è necessario associarlo a un utente di database nel database di pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="b01a3-124">You must associate the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] login with a database user in the publication database before adding the login to the PAL.</span></span>  
  
-   <span data-ttu-id="b01a3-125">Attenersi al principio dei privilegi minimi, concedendo agli account nell'elenco di accesso alla pubblicazione solo le autorizzazioni necessarie per eseguire le attività di replica.</span><span class="sxs-lookup"><span data-stu-id="b01a3-125">Follow the principle of least privilege by allowing logins in the PAL only the permissions the logins must have to perform replication tasks.</span></span> <span data-ttu-id="b01a3-126">Non aggiungere gli account di accesso a ruoli predefiniti del database o del server che non sono necessari per la replica.</span><span class="sxs-lookup"><span data-stu-id="b01a3-126">Do not add the logins to any fixed database roles or server roles that are not required for replication.</span></span> <span data-ttu-id="b01a3-127">Per ulteriori informazioni sulle autorizzazioni necessarie, vedere [Replication Agent Security Model](replication-agent-security-model.md) e [Replication Security Best Practices](replication-security-best-practices.md).</span><span class="sxs-lookup"><span data-stu-id="b01a3-127">For more information about the permissions that are required, see [Replication Agent Security Model](replication-agent-security-model.md) and [Replication Security Best Practices](replication-security-best-practices.md).</span></span>  
  
-   <span data-ttu-id="b01a3-128">Se si usano un server di distribuzione remoto, gli account nell'elenco di accesso alla pubblicazione devono essere disponibili sia nel server di pubblicazione che nel server di distribuzione.</span><span class="sxs-lookup"><span data-stu-id="b01a3-128">If a remote Distributor is used, accounts in the PAL must be available at both the Publisher and the Distributor.</span></span> <span data-ttu-id="b01a3-129">L'account deve essere un account di dominio o un account locale definito in entrambi i server.</span><span class="sxs-lookup"><span data-stu-id="b01a3-129">The account must be either a domain account or a local account that is defined at both servers.</span></span> <span data-ttu-id="b01a3-130">Le password associate a entrambi gli account di accesso devono essere identiche.</span><span class="sxs-lookup"><span data-stu-id="b01a3-130">The passwords associated with both logins must be the same.</span></span>  
  
-   <span data-ttu-id="b01a3-131">Se l'elenco di accesso alla pubblicazione contiene account di Windows e il dominio utilizza Active Directory, l'account con cui viene eseguito [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] deve disporre dell'autorizzazione di lettura da Active Directory.</span><span class="sxs-lookup"><span data-stu-id="b01a3-131">If the PAL contains Windows accounts and the domain uses Active Directory, the account under which [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] runs must have permissions to read from Active Directory.</span></span> <span data-ttu-id="b01a3-132">In caso di problemi con gli account di Windows, assicurarsi che l'account utilizzato per l'esecuzione di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] disponga di autorizzazioni sufficienti.</span><span class="sxs-lookup"><span data-stu-id="b01a3-132">If you experience issues with Windows accounts, make sure that the account under which [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] runs has sufficient permissions.</span></span> <span data-ttu-id="b01a3-133">Per ulteriori informazioni, vedere la documentazione di Windows.</span><span class="sxs-lookup"><span data-stu-id="b01a3-133">For more information, see the Windows documentation.</span></span>  
  
 <span data-ttu-id="b01a3-134">Per gestire l'elenco di accesso alla pubblicazione, vedere [Gestire gli account nell'elenco di accesso alla pubblicazione](manage-logins-in-the-publication-access-list.md).</span><span class="sxs-lookup"><span data-stu-id="b01a3-134">To manage the PAL, see [Manage Logins in the Publication Access List](manage-logins-in-the-publication-access-list.md).</span></span>  
  
## <a name="snapshot-agent"></a><span data-ttu-id="b01a3-135">agente snapshot</span><span class="sxs-lookup"><span data-stu-id="b01a3-135">Snapshot Agent</span></span>  
 <span data-ttu-id="b01a3-136">Per ogni pubblicazione esiste un solo agente snapshot.</span><span class="sxs-lookup"><span data-stu-id="b01a3-136">There is one Snapshot Agent for each publication.</span></span> <span data-ttu-id="b01a3-137">Per altre informazioni, vedere [Create a Publication](../publish/create-a-publication.md).</span><span class="sxs-lookup"><span data-stu-id="b01a3-137">For more information, see [Create a Publication](../publish/create-a-publication.md).</span></span>  
  
## <a name="ftp-snapshot-delivery"></a><span data-ttu-id="b01a3-138">Recapito snapshot FTP</span><span class="sxs-lookup"><span data-stu-id="b01a3-138">FTP Snapshot Delivery</span></span>  
 <span data-ttu-id="b01a3-139">Se si specifica che gli snapshot devono essere resi disponibili tramite una condivisione FTP anziché una condivisione UNC, quando si configura l'accesso FTP è necessario specificare un account di accesso e una password.</span><span class="sxs-lookup"><span data-stu-id="b01a3-139">If you specify that snapshots should be made available through an FTP share rather than a UNC share, you must specify a login and password when configuring FTP access.</span></span> <span data-ttu-id="b01a3-140">Per altre informazioni, vedere [Recapitare uno snapshot tramite FTP](../publish/deliver-a-snapshot-through-ftp.md).</span><span class="sxs-lookup"><span data-stu-id="b01a3-140">For more information, see [Deliver a Snapshot Through FTP](../publish/deliver-a-snapshot-through-ftp.md).</span></span>  
  
## <a name="log-reader-agent"></a><span data-ttu-id="b01a3-141">Agente di lettura log</span><span class="sxs-lookup"><span data-stu-id="b01a3-141">Log Reader Agent</span></span>  
 <span data-ttu-id="b01a3-142">Per ogni database pubblicato per la replica transazionale, esiste un solo agente di lettura log.</span><span class="sxs-lookup"><span data-stu-id="b01a3-142">There is one Log Reader Agent for each database published for transactional replication.</span></span> <span data-ttu-id="b01a3-143">Per altre informazioni, vedere [Create a Publication](../publish/create-a-publication.md).</span><span class="sxs-lookup"><span data-stu-id="b01a3-143">For more information, see [Create a Publication](../publish/create-a-publication.md).</span></span>  
  
## <a name="queue-reader-agent"></a><span data-ttu-id="b01a3-144">Agente di lettura coda</span><span class="sxs-lookup"><span data-stu-id="b01a3-144">Queue Reader Agent</span></span>  
 <span data-ttu-id="b01a3-145">Per tutti i server di pubblicazione e le pubblicazioni (che consentono le sottoscrizioni ad aggiornamento in coda) associate a uno specifico database di distribuzione esiste un solo agente di lettura coda.</span><span class="sxs-lookup"><span data-stu-id="b01a3-145">There is one Queue Reader Agent for all Publishers and publications (that allow queued updating subscriptions) associated with a given Distributor.</span></span> <span data-ttu-id="b01a3-146">Per altre informazioni, vedere [Abilitare le sottoscrizioni aggiornabili per le pubblicazioni transazionali](../publish/enable-updating-subscriptions-for-transactional-publications.md).</span><span class="sxs-lookup"><span data-stu-id="b01a3-146">For more information, see [Enable Updating Subscriptions for Transactional Publications](../publish/enable-updating-subscriptions-for-transactional-publications.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="b01a3-147">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="b01a3-147">See Also</span></span>  
 <span data-ttu-id="b01a3-148">[Abilitare connessioni crittografate al motore di database &#40;Gestione configurazione SQL Server&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md) </span><span class="sxs-lookup"><span data-stu-id="b01a3-148">[Enable Encrypted Connections to the Database Engine &#40;SQL Server Configuration Manager&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md) </span></span>  
 <span data-ttu-id="b01a3-149">[Replication Security Best Practices](replication-security-best-practices.md) </span><span class="sxs-lookup"><span data-stu-id="b01a3-149">[Replication Security Best Practices](replication-security-best-practices.md) </span></span>  
 [<span data-ttu-id="b01a3-150">Sicurezza replica di SQL Server</span><span class="sxs-lookup"><span data-stu-id="b01a3-150">SQL Server Replication Security</span></span>](view-and-modify-replication-security-settings.md)  
  
  
