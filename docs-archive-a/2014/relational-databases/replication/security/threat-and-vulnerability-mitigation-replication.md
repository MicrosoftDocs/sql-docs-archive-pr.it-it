---
title: Attenuazione di minacce e vulnerabilità (replica) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- attacks [SQL Server replication]
- threats [SQL Server replication security]
- security [SQL Server replication], threats
- security threats [SQL Server replication]
ms.assetid: 314fe497-56d8-4192-98e9-21b87cf8db04
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: c1a9c2c646f26d0cb61ae3d41ccdbd72551094d4
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87721245"
---
# <a name="threat-and-vulnerability-mitigation-replication"></a><span data-ttu-id="6774a-102">Attenuazione di minacce e vulnerabilità (replica)</span><span class="sxs-lookup"><span data-stu-id="6774a-102">Threat and Vulnerability Mitigation (Replication)</span></span>
  <span data-ttu-id="6774a-103">In questo argomento vengono descritte le tecniche per ridurre le minacce per una topologia di replica.</span><span class="sxs-lookup"><span data-stu-id="6774a-103">This topic describes techniques to reduce threats to a replication topology.</span></span>  
  
## <a name="encryption"></a><span data-ttu-id="6774a-104">Crittografia</span><span class="sxs-lookup"><span data-stu-id="6774a-104">Encryption</span></span>  
 <span data-ttu-id="6774a-105">La crittografia è il processo di conversione dei dati in un formato che non può essere letto senza una chiave speciale e che pertanto consente la lettura dei dati solo al destinatario previsto.</span><span class="sxs-lookup"><span data-stu-id="6774a-105">Encryption is the process of converting data into a form that cannot be read without a special key, so that only the intended recipient can read the data.</span></span> <span data-ttu-id="6774a-106">La replica non prevede la crittografia dei dati archiviati nelle tabelle o inviati tramite le connessioni di rete.</span><span class="sxs-lookup"><span data-stu-id="6774a-106">Replication does not encrypt data stored in tables or sent over network connections.</span></span> <span data-ttu-id="6774a-107">La crittografia è stata volutamente esclusa poiché è disponibile a livello di trasporto in numerose tecnologie, incluse le seguenti tecnologie standard: reti private virtuali (VPN), SSL (Secure Sockets Layer) e IPSEC (IP Security).</span><span class="sxs-lookup"><span data-stu-id="6774a-107">This is by design, because encryption is available at the transport level with a number of technologies, including the following industry standard technologies: Virtual Private Networks (VPN), Secure Sockets Layer (SSL), and IP Security (IPSEC).</span></span> <span data-ttu-id="6774a-108">È consigliabile utilizzare uno di questi metodi di crittografia per le connessioni tra computer in una topologia di replica.</span><span class="sxs-lookup"><span data-stu-id="6774a-108">We recommend using one of these encryption methods for the connections between computers in a replication topology.</span></span> <span data-ttu-id="6774a-109">Per altre informazioni, vedere [Abilitare le connessioni crittografate al motore di database &#40;Gestione configurazione SQL Server&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md).</span><span class="sxs-lookup"><span data-stu-id="6774a-109">For more information, see [Enable Encrypted Connections to the Database Engine &#40;SQL Server Configuration Manager&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md).</span></span> <span data-ttu-id="6774a-110">Per informazioni sull'utilizzo di reti VPN e del protocollo SSL per la replica di dati su Internet, vedere [Securing Replication Over the Internet](securing-replication-over-the-internet.md).</span><span class="sxs-lookup"><span data-stu-id="6774a-110">For information about using VPN and SSL for replicating data over the Internet, see [Securing Replication Over the Internet](securing-replication-over-the-internet.md).</span></span>  
  
 <span data-ttu-id="6774a-111">Se si usa SSL per proteggere le connessioni tra computer in una topologia di replica, specificare un valore pari a **1** o **2** per il parametro **-EncryptionLevel** di ogni agente di replica. È consigliabile usare un valore pari a **2** .</span><span class="sxs-lookup"><span data-stu-id="6774a-111">If you use SSL to secure the connections between computers in a replication topology, specify a value of **1** or **2** for the **-EncryptionLevel** parameter of each replication agent (a value of **2** is recommended).</span></span> <span data-ttu-id="6774a-112">Un valore pari a **1** indica che è utilizzata la crittografia, ma l'agente non verifica che il certificato SSL del server sia firmato da un'autorità emittente attendibile; un valore pari a **2** indica che il certificato viene verificato.</span><span class="sxs-lookup"><span data-stu-id="6774a-112">A value of **1** specifies that encryption is used, but the agent does not verify that the SSL server certificate is signed by a trusted issuer; a value of **2** specifies that the certificate is verified.</span></span> <span data-ttu-id="6774a-113">I parametri degli agenti possono essere specificati nei profili agente e dalla riga di comando.</span><span class="sxs-lookup"><span data-stu-id="6774a-113">Agent parameters can be specified in agent profiles and on the command line.</span></span> <span data-ttu-id="6774a-114">Per altre informazioni, vedere:</span><span class="sxs-lookup"><span data-stu-id="6774a-114">For more information, see:</span></span>  
  
-   [<span data-ttu-id="6774a-115">Usare i profili agenti di replica</span><span class="sxs-lookup"><span data-stu-id="6774a-115">Work with Replication Agent Profiles</span></span>](../agents/replication-agent-profiles.md)  
  
-   [<span data-ttu-id="6774a-116">Visualizzare e modificare i parametri del prompt dei comandi dell'agente di replica &#40;SQL Server Management Studio&#41;</span><span class="sxs-lookup"><span data-stu-id="6774a-116">View and Modify Replication Agent Command Prompt Parameters &#40;SQL Server Management Studio&#41;</span></span>](../agents/view-and-modify-replication-agent-command-prompt-parameters.md)  
  
-   [<span data-ttu-id="6774a-117">Replication Agent Executables Concepts</span><span class="sxs-lookup"><span data-stu-id="6774a-117">Replication Agent Executables Concepts</span></span>](../concepts/replication-agent-executables-concepts.md)  
  
 <span data-ttu-id="6774a-118">Di seguito è indicato il comportamento della replica in relazione alle chiavi master del database, utilizzate per crittografare i dati:</span><span class="sxs-lookup"><span data-stu-id="6774a-118">Replication has the following behavior with respect to database Master Keys, which are used to encrypt data:</span></span>  
  
-   <span data-ttu-id="6774a-119">Se una chiave master è presente in un database coinvolto nella replica (un database di pubblicazione, di sottoscrizione o di distribuzione), le password degli agenti vengono crittografate e decrittografate in tale database utilizzando una chiave simmetrica del database [!INCLUDE[ssSQL11](../../../includes/sssql11-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="6774a-119">If a Master Key is present in a database involved in replication (a publication database, subscription database, or distribution database), replication encrypts and decrypts agent passwords in that database using a [!INCLUDE[ssSQL11](../../../includes/sssql11-md.md)] database symmetric key.</span></span> <span data-ttu-id="6774a-120">Se vengono utilizzate chiavi master, è necessario creare una chiave master in ogni database coinvolto nella replica.</span><span class="sxs-lookup"><span data-stu-id="6774a-120">If Master Keys are used, a Master Key should be created in each database involved in replication.</span></span> <span data-ttu-id="6774a-121">Per ulteriori informazioni sulla creazione di chiavi master, vedere [CREATE MASTER KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-master-key-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="6774a-121">For more information about creating Master Keys, see [CREATE MASTER KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-master-key-transact-sql).</span></span>  
  
-   <span data-ttu-id="6774a-122">La replica delle chiavi master non è supportata.</span><span class="sxs-lookup"><span data-stu-id="6774a-122">Replication does not replicate Master Keys.</span></span> <span data-ttu-id="6774a-123">Se è necessario che la chiave master sia disponibile nel Sottoscrittore, è necessario esportarla dal database di pubblicazione utilizzando il comando BACKUP MASTER KEY, quindi importarla nel database di sottoscrizione mediante RESTORE MASTER KEY.</span><span class="sxs-lookup"><span data-stu-id="6774a-123">If you require the Master Key at the Subscriber, you must export it from the publication database using BACKUP MASTER KEY and then import it into the subscription database using RESTORE MASTER KEY.</span></span> <span data-ttu-id="6774a-124">Per altre informazioni, vedere [BACKUP MASTER KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/backup-master-key-transact-sql) e [RESTORE MASTER KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-master-key-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="6774a-124">For more information, see [BACKUP MASTER KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/backup-master-key-transact-sql) and [RESTORE MASTER KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-master-key-transact-sql).</span></span>  
  
-   <span data-ttu-id="6774a-125">Se viene definita una chiave master per un database di sottoscrizione collegato, specificare la password della chiave master utilizzando il **@db_master_key_password** parametro di [sp_attachsubscription &#40;&#41;Transact-SQL ](/sql/relational-databases/system-stored-procedures/sp-attachsubscription-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="6774a-125">If a Master Key is defined for an attachable subscription database, specify the Master Key password using the **@db_master_key_password** parameter of [sp_attachsubscription &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-attachsubscription-transact-sql).</span></span> <span data-ttu-id="6774a-126">In questo modo è possibile collegare il database al Sottoscrittore.</span><span class="sxs-lookup"><span data-stu-id="6774a-126">This allows the database to be attached at the Subscriber.</span></span>  
  
 <span data-ttu-id="6774a-127">Per ulteriori informazioni sulla crittografia e sulle chiavi master, vedere [Encryption Hierarchy](../../security/encryption/encryption-hierarchy.md).</span><span class="sxs-lookup"><span data-stu-id="6774a-127">For more information about encryption and Master Keys, see [Encryption Hierarchy](../../security/encryption/encryption-hierarchy.md).</span></span>  
  
 <span data-ttu-id="6774a-128">La replica consente di pubblicare dati di colonna crittografati.</span><span class="sxs-lookup"><span data-stu-id="6774a-128">Replication enables you to publish encrypted column data.</span></span> <span data-ttu-id="6774a-129">Per decrittografare e utilizzare tali dati nel Sottoscrittore, la chiave utilizzata per crittografare i dati nel server di pubblicazione deve essere presente anche nel Sottoscrittore.</span><span class="sxs-lookup"><span data-stu-id="6774a-129">To decrypt and use this data at the Subscriber, the key that was used to encrypt the data at the Publisher must also be present on the Subscriber.</span></span> <span data-ttu-id="6774a-130">La replica non rappresenta un meccanismo protetto per il trasporto di chiavi di crittografia.</span><span class="sxs-lookup"><span data-stu-id="6774a-130">Replication does not provide a secure mechanism to transport encryption keys.</span></span> <span data-ttu-id="6774a-131">La chiave di crittografia deve essere ricreata manualmente nel Sottoscrittore.</span><span class="sxs-lookup"><span data-stu-id="6774a-131">You must manually re-create the encryption key at the Subscriber.</span></span> <span data-ttu-id="6774a-132">Per altre informazioni. vedere [Replicare dati in colonne crittografate &#40;SQL Server Management Studio&#41;](replicate-data-in-encrypted-columns-sql-server-management-studio.md).</span><span class="sxs-lookup"><span data-stu-id="6774a-132">For more information, see [Replicate Data in Encrypted Columns &#40;SQL Server Management Studio&#41;](replicate-data-in-encrypted-columns-sql-server-management-studio.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="6774a-133">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="6774a-133">See Also</span></span>  
 <span data-ttu-id="6774a-134">[Identità e controllo di accesso &#40;la replica&#41;](identity-and-access-control-replication.md) </span><span class="sxs-lookup"><span data-stu-id="6774a-134">[Identity and Access Control &#40;Replication&#41;](identity-and-access-control-replication.md) </span></span>  
 [<span data-ttu-id="6774a-135">Distribuzione della replica protetta</span><span class="sxs-lookup"><span data-stu-id="6774a-135">Secure Replication Deployment</span></span>](view-and-modify-replication-security-settings.md)  
  
  
