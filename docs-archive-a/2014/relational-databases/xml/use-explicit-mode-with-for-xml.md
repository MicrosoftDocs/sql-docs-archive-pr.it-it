---
title: Usare la modalità EXPLICIT con FOR XML | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: xml
ms.topic: conceptual
helpviewer_keywords:
- EXPLICIT FOR XML mode
- FOR XML clause, EXPLICIT mode
- FOR XML EXPLICIT mode
ms.assetid: 8b26e8ce-5465-4e7a-b237-98d0f4578ab1
author: rothja
ms.author: jroth
ms.openlocfilehash: 7e3db80333c74166301fcff7bb25edea4aca38a2
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87627664"
---
# <a name="use-explicit-mode-with-for-xml"></a><span data-ttu-id="3feed-102">Utilizzo della modalità EXPLICIT con FOR XML</span><span class="sxs-lookup"><span data-stu-id="3feed-102">Use EXPLICIT Mode with FOR XML</span></span>
  <span data-ttu-id="3feed-103">Come illustrato nell'argomento [Costruzione di codice XML tramite la clausola FOR XML](../xml/for-xml-sql-server.md), le modalità RAW e AUTO forniscono scarso controllo sulla forma del codice XML generato dai risultati della query.</span><span class="sxs-lookup"><span data-stu-id="3feed-103">As described in the topic, [Constructing XML Using FOR XML](../xml/for-xml-sql-server.md), RAW and AUTO mode do not provide much control over the shape of the XML generated from a query result.</span></span> <span data-ttu-id="3feed-104">La modalità EXPLICIT tuttavia offre maggiore flessibilità nella generazione del codice XML desiderato dal risultato di una query.</span><span class="sxs-lookup"><span data-stu-id="3feed-104">However, EXPLICIT mode provides the most flexibility in generating the XML you want from a query result.</span></span>  
  
 <span data-ttu-id="3feed-105">La query in modalità EXPLICIT deve essere formulata in modo tale che le informazioni aggiuntive relative al codice XML, ad esempio la nidificazione desiderata vengano specificate in modo esplicito nell'ambito della query stessa.</span><span class="sxs-lookup"><span data-stu-id="3feed-105">The EXPLICIT mode query must be written in a specific way so that the additional information about the required XML, such as expected nesting in the XML, is explicitly specified as part of the query.</span></span> <span data-ttu-id="3feed-106">In base al codice XML desiderato, la formulazione di query in modalità EXPLICIT può essere un'operazione complessa.</span><span class="sxs-lookup"><span data-stu-id="3feed-106">Depending on the XML you request, writing EXPLICIT mode queries can be cumbersome.</span></span> <span data-ttu-id="3feed-107">L' [uso della modalità PATH](../xml/use-path-mode-with-for-xml.md) con annidamento è un'alternativa più semplice alla scrittura di query in modalità EXPLICIT.</span><span class="sxs-lookup"><span data-stu-id="3feed-107">You may find that [Using PATH Mode](../xml/use-path-mode-with-for-xml.md) with nesting is a simpler alternative to writing EXPLICIT mode queries.</span></span>  
  
 <span data-ttu-id="3feed-108">Poiché in modalità EXPLICIT si descrive il codice XML desiderato nell'ambito della query, è necessario assicurarsi che il codice XML generato sia in formato corretto e valido.</span><span class="sxs-lookup"><span data-stu-id="3feed-108">Because you describe the XML you want as part of the query in EXPLICIT mode, you must ensure that the generated XML is well formed and valid.</span></span>  
  
## <a name="rowset-processing-in-explicit-mode"></a><span data-ttu-id="3feed-109">Elaborazione dei set di righe in modalità EXPLICIT</span><span class="sxs-lookup"><span data-stu-id="3feed-109">Rowset Processing in EXPLICIT Mode</span></span>  
 <span data-ttu-id="3feed-110">La modalità EXPLICIT converte il set di righe risultante dall'esecuzione della query in un documento XML.</span><span class="sxs-lookup"><span data-stu-id="3feed-110">The EXPLICIT mode transforms the rowset that results from the query execution into an XML document.</span></span> <span data-ttu-id="3feed-111">Affinché la modalità EXPLICIT generi il documento XML, è necessario che il set di righe abbia un formato specifico.</span><span class="sxs-lookup"><span data-stu-id="3feed-111">In order for EXPLICIT mode to produce the XML document, the rowset must have a specific format.</span></span> <span data-ttu-id="3feed-112">A questo scopo è necessario formulare la query SELECT in modo tale che restituisca il set di righe, la **tabella universale**, con un formato specifico in modo che la logica di elaborazione possa creare il codice XML desiderato.</span><span class="sxs-lookup"><span data-stu-id="3feed-112">This requires that you write the SELECT query to produce the rowset, the **universal table**, with a specific format so the processing logic can then produce the XML you want.</span></span>  
  
 <span data-ttu-id="3feed-113">Innanzitutto, la query deve produrre le due colonne di metadati seguenti:</span><span class="sxs-lookup"><span data-stu-id="3feed-113">First, the query must produce the following two metadata columns:</span></span>  
  
-   <span data-ttu-id="3feed-114">La prima colonna deve contenere il numero di tag e il tipo Integer dell'elemento corrente. Il nome della colonna deve essere **Tag**.</span><span class="sxs-lookup"><span data-stu-id="3feed-114">The first column must provide the tag number, integer type, of the current element, and the column name must be **Tag**.</span></span> <span data-ttu-id="3feed-115">La query deve fornire un numero di tag univoco per ogni elemento che verrà creato dal set di righe.</span><span class="sxs-lookup"><span data-stu-id="3feed-115">Your query must provide a unique tag number for each element that will be constructed from the rowset.</span></span>  
  
-   <span data-ttu-id="3feed-116">La seconda colonna deve contenere il numero di tag dell'elemento padre. Il nome della colonna deve essere **Parent**.</span><span class="sxs-lookup"><span data-stu-id="3feed-116">The second column must provide a tag number of the parent element, and this column name must be **Parent**.</span></span> <span data-ttu-id="3feed-117">In questo modo, le colonne Tag e Parent forniscono informazioni di gerarchia.</span><span class="sxs-lookup"><span data-stu-id="3feed-117">In this way, the Tag and the Parent column provide hierarchy information.</span></span>  
  
 <span data-ttu-id="3feed-118">I valori di queste colonne di metadati, con le informazioni contenute nei nomi di colonna, vengono utilizzati per produrre il codice XML desiderato.</span><span class="sxs-lookup"><span data-stu-id="3feed-118">These metadata column values, together with the information in the column names, are used to produce the XML you want.</span></span> <span data-ttu-id="3feed-119">Si noti che nella query è necessario fornire i nomi delle colonne in modo specifico.</span><span class="sxs-lookup"><span data-stu-id="3feed-119">Note that your query must provide column names in a specific way.</span></span> <span data-ttu-id="3feed-120">Si noti anche che un valore 0 o NULL nella colonna **Parent** indica che l'elemento corrispondente non ha un elemento padre.</span><span class="sxs-lookup"><span data-stu-id="3feed-120">Also note that a 0 or NULL in the **Parent** column indicates that the corresponding element has no parent.</span></span> <span data-ttu-id="3feed-121">L'elemento viene aggiunto al codice XML come elemento di livello principale.</span><span class="sxs-lookup"><span data-stu-id="3feed-121">The element is added to the XML as a top-level element.</span></span>  
  
 <span data-ttu-id="3feed-122">Per comprendere il modo in cui la tabella universale generata da una query viene elaborata per generare il codice XML risultante, si supponga di aver creato una query che produce la tabella universale seguente:</span><span class="sxs-lookup"><span data-stu-id="3feed-122">To understand how the universal table generated by a query is processed into generating XML result, assume that you have written a query that produces this universal table:</span></span>  
  
 <span data-ttu-id="3feed-123">![Tabella universale di esempio](../../database-engine/media/xmlutable.gif "Tabella universale di esempio")</span><span class="sxs-lookup"><span data-stu-id="3feed-123">![Sample universal table](../../database-engine/media/xmlutable.gif "Sample universal table")</span></span>  
  
 <span data-ttu-id="3feed-124">Dalla tabella universale si noti quanto segue:</span><span class="sxs-lookup"><span data-stu-id="3feed-124">Note the following about this universal table:</span></span>  
  
-   <span data-ttu-id="3feed-125">Le prime due colonne sono **Tag** e **Parent** e sono colonne di metadati.</span><span class="sxs-lookup"><span data-stu-id="3feed-125">The first two columns are **Tag** and **Parent** and are meta columns.</span></span> <span data-ttu-id="3feed-126">Questi valori determinano la gerarchia.</span><span class="sxs-lookup"><span data-stu-id="3feed-126">These values determine the hierarchy.</span></span>  
  
-   <span data-ttu-id="3feed-127">I nomi delle colonne sono formulati in un modo specifico, descritto di seguito in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="3feed-127">The column names are specified in a certain way, as described later in this topic.</span></span>  
  
-   <span data-ttu-id="3feed-128">Durante la generazione del codice XML da questa tabella universale, i dati della tabella vengono partizionati verticalmente in gruppi di colonne.</span><span class="sxs-lookup"><span data-stu-id="3feed-128">In generating the XML from this universal table, the data in this table is partitioned vertically into column groups.</span></span> <span data-ttu-id="3feed-129">Il raggruppamento viene determinato in base al valore di **Tag** e ai nomi delle colonne.</span><span class="sxs-lookup"><span data-stu-id="3feed-129">The grouping is determined based on the **Tag** value and the column names.</span></span> <span data-ttu-id="3feed-130">Nella generazione del codice XML, la logica di elaborazione seleziona un gruppo di colonne per riga e costruisce un elemento.</span><span class="sxs-lookup"><span data-stu-id="3feed-130">In constructing XML, the processing logic selects one group of columns for each row and constructs an element.</span></span> <span data-ttu-id="3feed-131">In questo esempio avviene quanto segue:</span><span class="sxs-lookup"><span data-stu-id="3feed-131">The following applies in this example:</span></span>  
  
    -   <span data-ttu-id="3feed-132">Per il valore 1 della colonna **Tag** nella prima riga, le colonne i cui nomi includono lo stesso numero di tag, **Customer!1!cid** e **Customer!1!name**, formano un gruppo.</span><span class="sxs-lookup"><span data-stu-id="3feed-132">For **Tag** column value 1 in the first row, the columns whose names include the same tag number, **Customer!1!cid** and **Customer!1!name**, form a group.</span></span> <span data-ttu-id="3feed-133">Queste colonne vengono utilizzate per l'elaborazione della riga e si può notare che la forma dell'elemento generato è <`Customer id=... name=...`>.</span><span class="sxs-lookup"><span data-stu-id="3feed-133">These columns are used in processing the row, and you may have noticed that the shape of the generated element is <`Customer id=... name=...`>.</span></span> <span data-ttu-id="3feed-134">Il formato del nome di colonna è descritto di seguito in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="3feed-134">Column name format is described later in this topic.</span></span>  
  
    -   <span data-ttu-id="3feed-135">Per le righe con valore 2 nella colonna **Tag**, le colonne **Order!2!id** e **Order!2!date** formano un gruppo che viene quindi usato per la costruzione di elementi, <`Order id=... date=... /`>.</span><span class="sxs-lookup"><span data-stu-id="3feed-135">For rows with **Tag** column value 2, columns **Order!2!id** and **Order!2!date** form a group that is then used in constructing elements, <`Order id=... date=... /`>.</span></span>  
  
    -   <span data-ttu-id="3feed-136">Per le righe con valore 3 nella colonna **Tag** , le colonne **OrderDetail!3!id!id** e **OrderDetail!3!pid!idref** formano un gruppo.</span><span class="sxs-lookup"><span data-stu-id="3feed-136">For rows with **Tag** column value 3, columns **OrderDetail!3!id!id** and **OrderDetail!3!pid!idref** form a group.</span></span> <span data-ttu-id="3feed-137">Ognuna di queste righe genera un elemento <`OrderDetail id=... pid=...`> da queste colonne.</span><span class="sxs-lookup"><span data-stu-id="3feed-137">Each of these rows generates an element, <`OrderDetail id=... pid=...`>, from these columns.</span></span>  
  
-   <span data-ttu-id="3feed-138">Si noti che nella generazione della gerarchia XML le righe vengono elaborate in ordine.</span><span class="sxs-lookup"><span data-stu-id="3feed-138">Note that in generating XML hierarchy, the rows are processed in order.</span></span> <span data-ttu-id="3feed-139">La gerarchia XML viene determinata come descritto di seguito:</span><span class="sxs-lookup"><span data-stu-id="3feed-139">The XML hierarchy is determined as shown in the following:</span></span>  
  
    -   <span data-ttu-id="3feed-140">La prima riga specifica il valore 1 di **Tag** e il valore NULL di **Parent** .</span><span class="sxs-lookup"><span data-stu-id="3feed-140">The first row specifies **Tag** value 1 and **Parent** value NULL.</span></span> <span data-ttu-id="3feed-141">L'elemento corrispondente, <`Customer`>, viene pertanto aggiunto nel codice XML come elemento di livello principale.</span><span class="sxs-lookup"><span data-stu-id="3feed-141">Therefore, the corresponding element, <`Customer`> element, is added as a top-level element in the XML.</span></span>  
  
        ```  
        <Customer cid="C1" name="Janine">  
        ```  
  
    -   <span data-ttu-id="3feed-142">La seconda riga identifica il valore 2 di **Tag** e il valore 1 di **Parent** .</span><span class="sxs-lookup"><span data-stu-id="3feed-142">The second row identifies **Tag** value 2 and **Parent** value 1.</span></span> <span data-ttu-id="3feed-143">L'elemento <`Order`> viene pertanto aggiunto come elemento figlio dell'elemento <`Customer`>.</span><span class="sxs-lookup"><span data-stu-id="3feed-143">Therefore, the element, <`Order`> element, is added as a child of the <`Customer`> element.</span></span>  
  
        ```  
        <Customer cid="C1" name="Janine">  
           <Order id="O1" date="1/20/1996">  
        ```  
  
    -   <span data-ttu-id="3feed-144">Le due righe successive identificano il valore 3 di **Tag** e il valore 2 di **Parent** .</span><span class="sxs-lookup"><span data-stu-id="3feed-144">The next two rows identify **Tag** value 3 and **Parent** value 2.</span></span> <span data-ttu-id="3feed-145">I due elementi <`OrderDetail`> vengono pertanto aggiunti come elementi figlio dell'elemento <`Order`>.</span><span class="sxs-lookup"><span data-stu-id="3feed-145">Therefore, the two elements, <`OrderDetail`> elements, are added as children of the <`Order`> element.</span></span>  
  
        ```  
        <Customer cid="C1" name="Janine">  
           <Order id="O1" date="1/20/1996">  
              <OrderDetail id="OD1" pid="P1"/>  
              <OrderDetail id="OD2" pid="P2"/>  
        ```  
  
    -   <span data-ttu-id="3feed-146">L'ultima riga identifica 2 come valore di **Tag** e 1 come valore di **Parent** .</span><span class="sxs-lookup"><span data-stu-id="3feed-146">The last row identifies 2 as the **Tag** number and 1 as the **Parent** tag number.</span></span> <span data-ttu-id="3feed-147">Un altro elemento figlio <`Order`> viene pertanto aggiunto all'elemento padre <`Customer`>.</span><span class="sxs-lookup"><span data-stu-id="3feed-147">Therefore, another <`Order`> element child is added to the <`Customer`> parent element.</span></span>  
  
        ```  
        <Customer cid="C1" name="Janine">  
           <Order id="O1" date="1/20/1996">  
              <OrderDetail id="OD1" pid="P1"/>  
              <OrderDetail id="OD2" pid="P2"/>  
           </Order>  
           <Order id="O2" date="3/29/1997">  
        </Customer>  
        ```  
  
 <span data-ttu-id="3feed-148">Per riassumere, per generare il codice XML desiderato in modalità EXPLICIT vengono usati i valori presenti nelle colonne di metadati **Tag** e **Parent** , le informazioni specificate nei nomi delle colonne e l'ordinamento corretto delle righe.</span><span class="sxs-lookup"><span data-stu-id="3feed-148">To summarize, the values in the **Tag** and **Parent** meta columns, the information provided in the column names, and the correct ordering of the rows produce the XML you want when you use EXPLICIT mode.</span></span>  
  
### <a name="universal-table-row-ordering"></a><span data-ttu-id="3feed-149">Ordinamento delle righe della tabella universale</span><span class="sxs-lookup"><span data-stu-id="3feed-149">Universal Table Row Ordering</span></span>  
 <span data-ttu-id="3feed-150">Nella generazione del codice XML, le righe della tabella universale vengono elaborate in ordine.</span><span class="sxs-lookup"><span data-stu-id="3feed-150">In constructing the XML, the rows in the universal table are processed in order.</span></span> <span data-ttu-id="3feed-151">Per recuperare le istanze figlio corrette associate al rispettivo elemento padre, è pertanto necessario che le righe del set vengano ordinate in modo tale che il nodo dell'elemento padre sia seguito immediatamente dagli elementi figlio.</span><span class="sxs-lookup"><span data-stu-id="3feed-151">Therefore, to retrieve the correct children instances associated with their parent, the rows in the rowset must be ordered so that each parent node is immediately followed by its children.</span></span>  
  
## <a name="specifying-column-names-in-a-universal-table"></a><span data-ttu-id="3feed-152">Specifica dei nomi delle colonne in una tabella universale</span><span class="sxs-lookup"><span data-stu-id="3feed-152">Specifying Column Names in a Universal Table</span></span>  
 <span data-ttu-id="3feed-153">Quando si scrivono query in modalità EXPLICIT è necessario specificare i nomi delle colonne nel set di righe risultante utilizzando il formato specificato di seguito.</span><span class="sxs-lookup"><span data-stu-id="3feed-153">When writing EXPLICIT mode queries, column names in the resulting rowset must be specified by using this format.</span></span> <span data-ttu-id="3feed-154">I nomi delle colonne forniscono informazioni di trasformazione, fra cui nomi di elementi e attributi e altre informazioni, specificate utilizzando direttive.</span><span class="sxs-lookup"><span data-stu-id="3feed-154">They provide transformation information including element and attribute names and other additional information, specified by using directives.</span></span>  
  
 <span data-ttu-id="3feed-155">Il formato generale è il seguente:</span><span class="sxs-lookup"><span data-stu-id="3feed-155">This is the general format:</span></span>  
  
```  
  
ElementName!TagNumber!AttributeName!Directive  
```  
  
 <span data-ttu-id="3feed-156">Di seguito è fornita la descrizione delle parti del formato.</span><span class="sxs-lookup"><span data-stu-id="3feed-156">Following is the description of the parts of the format.</span></span>  
  
 <span data-ttu-id="3feed-157">*ElementName*</span><span class="sxs-lookup"><span data-stu-id="3feed-157">*ElementName*</span></span>  
 <span data-ttu-id="3feed-158">Identificatore generico risultante dell'elemento.</span><span class="sxs-lookup"><span data-stu-id="3feed-158">Is the resulting generic identifier of the element.</span></span> <span data-ttu-id="3feed-159">Ad esempio, se **Customers** viene specificato come *ElementName*, verrà generato l'elemento \<Customers>.</span><span class="sxs-lookup"><span data-stu-id="3feed-159">For example, if **Customers** is specified as *ElementName*, the \<Customers> element is generated.</span></span>  
  
 <span data-ttu-id="3feed-160">*TagNumber*</span><span class="sxs-lookup"><span data-stu-id="3feed-160">*TagNumber*</span></span>  
 <span data-ttu-id="3feed-161">È un valore di tag univoco assegnato a un elemento.</span><span class="sxs-lookup"><span data-stu-id="3feed-161">Is a unique tag value assigned to an element.</span></span> <span data-ttu-id="3feed-162">Questo valore, insieme alle due colonne di metadati **Tag** e **Parent**, determina l'annidamento degli elementi nel codice XML risultante.</span><span class="sxs-lookup"><span data-stu-id="3feed-162">This value, with the help of the two metadata columns, **Tag** and **Parent**, determines the nesting of the elements in the resulting XML.</span></span>  
  
 <span data-ttu-id="3feed-163">*AttributeName*</span><span class="sxs-lookup"><span data-stu-id="3feed-163">*AttributeName*</span></span>  
 <span data-ttu-id="3feed-164">Indica il nome dell'attributo da costruire nell'argomento *ElementName*specificato.</span><span class="sxs-lookup"><span data-stu-id="3feed-164">Provides the name of the attribute to construct in the specified *ElementName*.</span></span> <span data-ttu-id="3feed-165">Ciò si verifica quando *Directive* non viene specificato.</span><span class="sxs-lookup"><span data-stu-id="3feed-165">This is the behavior if *Directive* is not specified.</span></span>  
  
 <span data-ttu-id="3feed-166">Se per *Directive* viene specificato **xml**, **cdata**oppure **element**, questo valore viene usato per costruire un elemento figlio di *ElementName*, al quale viene aggiunto il valore della colonna.</span><span class="sxs-lookup"><span data-stu-id="3feed-166">If *Directive* is specified and it is **xml**, **cdata**, or **element**, this value is used to construct an element child of *ElementName*, and the column value is added to it.</span></span>  
  
 <span data-ttu-id="3feed-167">Se si specifica *Directive*, *AttributeName* può essere vuoto.</span><span class="sxs-lookup"><span data-stu-id="3feed-167">If you specify the *Directive*, the *AttributeName* can be empty.</span></span> <span data-ttu-id="3feed-168">Ad esempio, ElementName!TagNumber!!Directive.</span><span class="sxs-lookup"><span data-stu-id="3feed-168">For example, ElementName!TagNumber!!Directive.</span></span> <span data-ttu-id="3feed-169">In questo caso, il valore della colonna è direttamente contenuto da *ElementName*.</span><span class="sxs-lookup"><span data-stu-id="3feed-169">In this case, the column value is directly contained by the *ElementName*.</span></span>  
  
 <span data-ttu-id="3feed-170">*Directive*</span><span class="sxs-lookup"><span data-stu-id="3feed-170">*Directive*</span></span>  
 <span data-ttu-id="3feed-171">*Directive* è facoltativo e può essere usato per specificare altre informazioni per la generazione del codice XML.</span><span class="sxs-lookup"><span data-stu-id="3feed-171">*Directive* is optional and you can use it to provide additional information for construction of the XML.</span></span> <span data-ttu-id="3feed-172">*Directive* svolge due funzioni.</span><span class="sxs-lookup"><span data-stu-id="3feed-172">*Directive* has two purposes.</span></span>  
  
 <span data-ttu-id="3feed-173">Il primo è la codifica dei valori come ID, IDREF e IDREFS.</span><span class="sxs-lookup"><span data-stu-id="3feed-173">One of the purposes is to encode values as ID, IDREF, and IDREFS.</span></span> <span data-ttu-id="3feed-174">È possibile specificare le parole chiave **ID**, **IDREF**e **IDREFS** come valori di *Directive*.</span><span class="sxs-lookup"><span data-stu-id="3feed-174">You can specify **ID**, **IDREF**, and **IDREFS** keywords as *Directives*.</span></span> <span data-ttu-id="3feed-175">Queste direttive sovrascrivono i tipi di attributo,</span><span class="sxs-lookup"><span data-stu-id="3feed-175">These directives overwrite the attribute types.</span></span> <span data-ttu-id="3feed-176">consentendo di creare collegamenti tra più documenti.</span><span class="sxs-lookup"><span data-stu-id="3feed-176">This allows you to create intra-document links.</span></span>  
  
 <span data-ttu-id="3feed-177">È anche possibile usare *Directive* per definire il mapping tra i dati di tipo stringa e il codice XML.</span><span class="sxs-lookup"><span data-stu-id="3feed-177">Also, you can use *Directive* to indicate how to map the string data to XML.</span></span> <span data-ttu-id="3feed-178">Le parole chiave **hide**, **element, elementxsinil**, **xml**, **xmltext**e **cdata** possono essere usate come valori di *Directive*.</span><span class="sxs-lookup"><span data-stu-id="3feed-178">The **hide**, **element, elementxsinil**, **xml**, **xmltext**, and **cdata** keywords can be used as the *Directive*.</span></span> <span data-ttu-id="3feed-179">La direttiva **hide** nasconde il nodo.</span><span class="sxs-lookup"><span data-stu-id="3feed-179">The **hide** directive hides the node.</span></span> <span data-ttu-id="3feed-180">È utile quando si recuperano i valori solo a scopo di ordinamento, ma non si desidera che vengano inseriti nel codice XML risultante.</span><span class="sxs-lookup"><span data-stu-id="3feed-180">This is useful when you retrieve values only for sorting purposes, but you do not want them in the resulting XML.</span></span>  
  
 <span data-ttu-id="3feed-181">La direttiva **element** genera un elemento contenuto anziché un attributo.</span><span class="sxs-lookup"><span data-stu-id="3feed-181">The **element** directive generates a contained element instead of an attribute.</span></span> <span data-ttu-id="3feed-182">I dati contenuti vengono codificati come entità.</span><span class="sxs-lookup"><span data-stu-id="3feed-182">The contained data is encoded as an entity.</span></span> <span data-ttu-id="3feed-183">Ad esempio, il carattere **<** viene convertito in &lt;.</span><span class="sxs-lookup"><span data-stu-id="3feed-183">For example, the **<** character becomes &lt;.</span></span> <span data-ttu-id="3feed-184">Per i valori di colonna NULL non vengono generati elementi.</span><span class="sxs-lookup"><span data-stu-id="3feed-184">For NULL column values, no element is generated.</span></span> <span data-ttu-id="3feed-185">Se si vuole che venga generato un elemento anche per i valori di colonna NULL è possibile specificare la direttiva **elementxsinil** .</span><span class="sxs-lookup"><span data-stu-id="3feed-185">If you want an element generated for null column values, you can specify the **elementxsinil** directive.</span></span> <span data-ttu-id="3feed-186">Verrà generato un elemento con attributo xsi:nil=TRUE.</span><span class="sxs-lookup"><span data-stu-id="3feed-186">This will generate an element that has the attribute xsi:nil=TRUE.</span></span>  
  
 <span data-ttu-id="3feed-187">La direttiva **xml** equivale a una direttiva **element** , ma non viene eseguita alcuna codifica di entità.</span><span class="sxs-lookup"><span data-stu-id="3feed-187">The **xml** directive is the same as an **element** directive, except that no entity encoding occurs.</span></span> <span data-ttu-id="3feed-188">Si noti che è possibile combinare la direttiva **element** con **ID**, **IDREF**o **IDREFS**, mentre la direttiva **xml** può essere usata solo con **hide**.</span><span class="sxs-lookup"><span data-stu-id="3feed-188">Note that the **element** directive can be combined with **ID**, **IDREF**, or **IDREFS**, whereas the **xml** directive is not allowed with any other directive, except **hide**.</span></span>  
  
 <span data-ttu-id="3feed-189">La direttiva **cdata** contiene i dati inserendoli in una sezione CDATA.</span><span class="sxs-lookup"><span data-stu-id="3feed-189">The **cdata** directive contains the data by wrapping it with a CDATA section.</span></span> <span data-ttu-id="3feed-190">Il contenuto non viene codificato come entità.</span><span class="sxs-lookup"><span data-stu-id="3feed-190">The content is not entity encoded.</span></span> <span data-ttu-id="3feed-191">I dati originali devono essere di tipo testo, ad esempio **varchar**, **nvarchar**, **text**o **ntext**.</span><span class="sxs-lookup"><span data-stu-id="3feed-191">The original data type must be a text type such as **varchar**, **nvarchar**, **text**, or **ntext**.</span></span> <span data-ttu-id="3feed-192">Questa direttiva può essere usa solo con **hide**.</span><span class="sxs-lookup"><span data-stu-id="3feed-192">This directive can be used only with **hide**.</span></span> <span data-ttu-id="3feed-193">Se si usa questa direttiva, non è necessario specificare *AttributeName* .</span><span class="sxs-lookup"><span data-stu-id="3feed-193">When this directive is used, *AttributeName* must not be specified.</span></span>  
  
 <span data-ttu-id="3feed-194">Nella maggior parte dei casi è consentito combinare le direttive tra questi due gruppi, ma non è possibile combinarle tra loro.</span><span class="sxs-lookup"><span data-stu-id="3feed-194">Combining directives between these two groups is allowed in most cases, but combining them among themselves is not allowed.</span></span>  
  
 <span data-ttu-id="3feed-195">Se *Directive* e *AttributeName* non vengono specificati, ad esempio, **Customer!1**, è implicita una direttiva **element** , ad esempio **Customer!1!!element**e i dati di colonna sono contenuti in *ElementName*.</span><span class="sxs-lookup"><span data-stu-id="3feed-195">If the *Directive* and the *AttributeName* is not specified, for example, **Customer!1**, an **element** directive is implied, such as **Customer!1!!element**, and column data is contained in the *ElementName*.</span></span>  
  
 <span data-ttu-id="3feed-196">Se si specifica la direttiva **xmltext** il contenuto della colonna viene inserito in un unico tag che viene integrato con il resto del documento.</span><span class="sxs-lookup"><span data-stu-id="3feed-196">If the **xmltext** directive is specified, the column content is wrapped in a single tag that is integrated with the rest of the document.</span></span> <span data-ttu-id="3feed-197">Questa direttiva risulta utile nel recupero dei dati XML di overflow (non utilizzati) archiviati in una colonna tramite OPENXML.</span><span class="sxs-lookup"><span data-stu-id="3feed-197">This directive is useful in fetching overflow, unconsumed, XML data stored in a column by OPENXML.</span></span> <span data-ttu-id="3feed-198">Per altre informazioni, vedere [OPENXML &#40;SQL Server&#41;](../xml/openxml-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="3feed-198">For more information, see [OPENXML &#40;SQL Server&#41;](../xml/openxml-sql-server.md).</span></span>  
  
 <span data-ttu-id="3feed-199">Se si specifica *AttributeName* il nome del tag viene sostituito dal nome specificato.</span><span class="sxs-lookup"><span data-stu-id="3feed-199">If *AttributeName* is specified, the tag name is replaced by the specified name.</span></span> <span data-ttu-id="3feed-200">In caso contrario, l'attributo viene aggiunto all'elenco corrente di attributi degli elementi che lo racchiudono inserendo il contenuto all'inizio dell'oggetto di contenimento senza codifica di entità.</span><span class="sxs-lookup"><span data-stu-id="3feed-200">Otherwise, the attribute is appended to the current list of attributes of the enclosing elements by putting the content at the beginning of the containment without entity encoding.</span></span> <span data-ttu-id="3feed-201">La colonna con questa direttiva deve essere di tipo testo, ad esempio **varchar**, **nvarchar**, **char**, **nchar**, **text**o **ntext**.</span><span class="sxs-lookup"><span data-stu-id="3feed-201">The column with this directive must be a text type, such as **varchar**, **nvarchar**, **char**, **nchar**, **text**, or **ntext**.</span></span> <span data-ttu-id="3feed-202">Questa direttiva può essere usa solo con **hide**.</span><span class="sxs-lookup"><span data-stu-id="3feed-202">This directive can be used only with **hide**.</span></span> <span data-ttu-id="3feed-203">Risulta particolarmente utile per il recupero dei dati di overflow archiviati in una colonna.</span><span class="sxs-lookup"><span data-stu-id="3feed-203">This directive is useful in fetching overflow data stored in a column.</span></span> <span data-ttu-id="3feed-204">Se il contenuto non è in un formato XML corretto, il funzionamento non è prevedibile.</span><span class="sxs-lookup"><span data-stu-id="3feed-204">If the content is not a well-formed XML, the behavior is undefined.</span></span>  
  
## <a name="in-this-section"></a><span data-ttu-id="3feed-205">Contenuto della sezione</span><span class="sxs-lookup"><span data-stu-id="3feed-205">In This Section</span></span>  
 <span data-ttu-id="3feed-206">Negli esempi seguenti viene illustrato l'utilizzo della modalità EXPLICIT.</span><span class="sxs-lookup"><span data-stu-id="3feed-206">The following examples illustrate the use of EXPLICIT mode.</span></span>  
  
-   [<span data-ttu-id="3feed-207">Esempio: Recupero di informazioni sui dipendenti</span><span class="sxs-lookup"><span data-stu-id="3feed-207">Example: Retrieving Employee Information</span></span>](../xml/example-retrieving-employee-information.md)  
  
-   [<span data-ttu-id="3feed-208">Esempio: Specifica della direttiva ELEMENT</span><span class="sxs-lookup"><span data-stu-id="3feed-208">Example: Specifying the ELEMENT Directive</span></span>](../xml/example-specifying-the-element-directive.md)  
  
-   [<span data-ttu-id="3feed-209">Esempio: Specifica della direttiva ELEMENTXSINIL</span><span class="sxs-lookup"><span data-stu-id="3feed-209">Example: Specifying the ELEMENTXSINIL Directive</span></span>](../xml/example-specifying-the-elementxsinil-directive.md)  
  
-   [<span data-ttu-id="3feed-210">Esempio: Creazione di elementi di pari livello con la modalità EXPLICIT</span><span class="sxs-lookup"><span data-stu-id="3feed-210">Example: Constructing Siblings with EXPLICIT Mode</span></span>](../xml/example-constructing-siblings-with-explicit-mode.md)  
  
-   [<span data-ttu-id="3feed-211">Esempio: Specifica delle direttive ID e IDREF</span><span class="sxs-lookup"><span data-stu-id="3feed-211">Example: Specifying the ID and IDREF Directives</span></span>](../xml/example-specifying-the-id-and-idref-directives.md)  
  
-   [<span data-ttu-id="3feed-212">Esempio: Specifica delle direttive ID e IDREFS</span><span class="sxs-lookup"><span data-stu-id="3feed-212">Example: Specifying the ID and IDREFS Directives</span></span>](../xml/example-specifying-the-id-and-idrefs-directives.md)  
  
-   [<span data-ttu-id="3feed-213">Esempio: Specifica della direttiva HIDE</span><span class="sxs-lookup"><span data-stu-id="3feed-213">Example: Specifying the HIDE Directive</span></span>](../xml/example-specifying-the-hide-directive.md)  
  
-   [<span data-ttu-id="3feed-214">Esempio: Specifica della direttiva ELEMENT e della codifica di entità</span><span class="sxs-lookup"><span data-stu-id="3feed-214">Example: Specifying the ELEMENT Directive and Entity Encoding</span></span>](../xml/example-specifying-the-element-directive-and-entity-encoding.md)  
  
-   [<span data-ttu-id="3feed-215">Esempio: Specifica della direttiva CDATA</span><span class="sxs-lookup"><span data-stu-id="3feed-215">Example: Specifying the CDATA Directive</span></span>](../xml/example-specifying-the-cdata-directive.md)  
  
-   [<span data-ttu-id="3feed-216">Esempio: Specifica della direttiva XMLTEXT</span><span class="sxs-lookup"><span data-stu-id="3feed-216">Example: Specifying the XMLTEXT Directive</span></span>](../xml/example-specifying-the-xmltext-directive.md)  
  
## <a name="see-also"></a><span data-ttu-id="3feed-217">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="3feed-217">See Also</span></span>  
 <span data-ttu-id="3feed-218">[Utilizzo della modalità RAW con FOR XML](../xml/use-raw-mode-with-for-xml.md) </span><span class="sxs-lookup"><span data-stu-id="3feed-218">[Use RAW Mode with FOR XML](../xml/use-raw-mode-with-for-xml.md) </span></span>  
 <span data-ttu-id="3feed-219">[Utilizzo della modalità AUTO con FOR XML](../xml/use-auto-mode-with-for-xml.md) </span><span class="sxs-lookup"><span data-stu-id="3feed-219">[Use AUTO Mode with FOR XML](../xml/use-auto-mode-with-for-xml.md) </span></span>  
 <span data-ttu-id="3feed-220">[Utilizzare la modalità PATH con FOR XML](../xml/use-path-mode-with-for-xml.md) </span><span class="sxs-lookup"><span data-stu-id="3feed-220">[Use PATH Mode with FOR XML](../xml/use-path-mode-with-for-xml.md) </span></span>  
 <span data-ttu-id="3feed-221">[SELECT &#40;Transact-SQL&#41;](/sql/t-sql/queries/select-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="3feed-221">[SELECT &#40;Transact-SQL&#41;](/sql/t-sql/queries/select-transact-sql) </span></span>  
 [<span data-ttu-id="3feed-222">FOR XML &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="3feed-222">FOR XML &#40;SQL Server&#41;</span></span>](../xml/for-xml-sql-server.md)  
  
  
