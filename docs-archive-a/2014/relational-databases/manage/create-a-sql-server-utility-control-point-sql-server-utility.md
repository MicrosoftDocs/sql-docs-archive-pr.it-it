---
title: Creare un punto di controllo di Utilità SQL Server (Utilità SQL Server) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: configuration
ms.topic: conceptual
f1_keywords:
- SQL12.SWB.create.ucp.progress.F1
- SQL12.SWB.create.ucp.welcome.F1
- SQL12.SWB.create.ucp.Summary.F1
- SQL12.SWB.create.ucp.validation.F1
- SQL12.SWB.create.ucp.instancename.F1
- SQL12.SWB.create.ucp.agentconfiguration.F1
helpviewer_keywords:
- Create UCP
- UCP
ms.assetid: d5335124-1625-47ce-b4ac-36078967158c
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 833c83868230c2ac05514db666bd4cab629d9588
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87625395"
---
# <a name="create-a-sql-server-utility-control-point-sql-server-utility"></a><span data-ttu-id="22893-102">Creazione di un punto di controllo dell'utilità di SQL Server (Utilità SQL Server)</span><span class="sxs-lookup"><span data-stu-id="22893-102">Create a SQL Server Utility Control Point (SQL Server Utility)</span></span>
  <span data-ttu-id="22893-103">Un'organizzazione può avere più istanze di Utilità [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] e ogni istanza di Utilità [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] può gestire molte istanze di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] e applicazioni livello dati.</span><span class="sxs-lookup"><span data-stu-id="22893-103">An enterprise can have multiple [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Utilities, and each [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Utility can manage many instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] and data-tier applications.</span></span> <span data-ttu-id="22893-104">Ogni istanza di Utilità [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ha soltanto un punto di controllo dell'utilità.</span><span class="sxs-lookup"><span data-stu-id="22893-104">Every [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Utility has one and only one utility control point (UCP).</span></span> <span data-ttu-id="22893-105">È necessario creare un nuovo punto di controllo dell'utilità per Utilità [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="22893-105">You must create a new UCP for each [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Utility.</span></span> <span data-ttu-id="22893-106">Ogni istanza gestita di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] e ogni applicazione livello dati è membro di una sola istanza di Utilità [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ed è gestita da un singolo punto di controllo dell'utilità.</span><span class="sxs-lookup"><span data-stu-id="22893-106">Each managed instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] and every data-tier application is a member of one and only one [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Utility, and is managed by a single UCP.</span></span>

 <span data-ttu-id="22893-107">Il punto di controllo dell'utilità raccoglie informazioni sulla configurazione e sulle prestazioni delle istanze gestite di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ogni 15 minuti.</span><span class="sxs-lookup"><span data-stu-id="22893-107">The UCP collects configuration and performance information from managed instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] every 15 minutes.</span></span> <span data-ttu-id="22893-108">Queste informazioni vengono archiviate nel data warehouse di gestione dell'utilità (UMDW) nel punto di controllo dell'utilità; il nome del file UMDW è sysutility_mdw.</span><span class="sxs-lookup"><span data-stu-id="22893-108">This information is stored in the utility management data warehouse (UMDW) on the UCP; the UMDW file name is sysutility_mdw.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="22893-109">vengono confrontati con i criteri per consentire l'identificazione di colli di bottiglia nell'utilizzo delle risorse e le possibilità di consolidamento.</span><span class="sxs-lookup"><span data-stu-id="22893-109">performance data is compared to policies to help identify resource use bottlenecks and consolidation opportunities.</span></span>

## <a name="before-you-begin"></a><span data-ttu-id="22893-110">Prima di iniziare</span><span class="sxs-lookup"><span data-stu-id="22893-110">Before You Begin</span></span>
 <span data-ttu-id="22893-111">Prima di creare un punto di controllo dell'utilità, esaminare i requisiti e le indicazioni seguenti.</span><span class="sxs-lookup"><span data-stu-id="22893-111">Before you create a UCP, review the following requirements and recommendations.</span></span>

 <span data-ttu-id="22893-112">In questa versione il punto di controllo dell'utilità e tutte le istanze gestite di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] devono soddisfare i requisiti seguenti:</span><span class="sxs-lookup"><span data-stu-id="22893-112">In this release, the UCP and all managed instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] must satisfy the following requirements:</span></span>

-   [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="22893-113">deve essere la versione 10.50 o successiva.</span><span class="sxs-lookup"><span data-stu-id="22893-113">must be version 10.50 or higher.</span></span>

-   <span data-ttu-id="22893-114">L'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] deve essere di tipo [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span><span class="sxs-lookup"><span data-stu-id="22893-114">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance type must be [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span></span>

-   <span data-ttu-id="22893-115">Utilità [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] deve operare all'interno di un solo dominio Windows o in domini con relazioni di trust bidirezionali.</span><span class="sxs-lookup"><span data-stu-id="22893-115">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Utility must operate within a single Windows domain, or across domains with two-way trust relationships.</span></span>

-   <span data-ttu-id="22893-116">Gli account del servizio di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] per il punto di controllo dell'utilità e per tutte le istanze gestite di SQL Server devono disporre dell'autorizzazione di lettura impostata per gli utenti in Active Directory.</span><span class="sxs-lookup"><span data-stu-id="22893-116">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] service accounts on the UCP and all managed instances of SQL Server must have read permission to Users in Active Directory.</span></span>

 <span data-ttu-id="22893-117">In questa versione il punto di controllo dell'utilità deve soddisfare i requisiti seguenti:</span><span class="sxs-lookup"><span data-stu-id="22893-117">In this release, the UCP must satisfy the following requirements:</span></span>

-   <span data-ttu-id="22893-118">L'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] deve essere un'edizione supportata.</span><span class="sxs-lookup"><span data-stu-id="22893-118">The instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] must be a supported edition.</span></span> <span data-ttu-id="22893-119">Per un elenco delle funzionalità supportate dalle edizioni di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], vedere [Features Supported by the Editions of SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span><span class="sxs-lookup"><span data-stu-id="22893-119">For a list of features that are supported by the editions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], see [Features Supported by the Editions of SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span></span>

-   <span data-ttu-id="22893-120">È consigliabile collocare il punto di controllo dell'utilità in un'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]che applica la distinzione tra maiuscole e minuscole.</span><span class="sxs-lookup"><span data-stu-id="22893-120">We recommend that the UCP is hosted by a case-sensitive instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>

 <span data-ttu-id="22893-121">Per la pianificazione della capacità del computer del punto di controllo dell'utilità, tenere presenti i seguenti consigli:</span><span class="sxs-lookup"><span data-stu-id="22893-121">Consider the following recommendations for capacity planning on the UCP computer:</span></span>

-   <span data-ttu-id="22893-122">In uno scenario tipico lo spazio su disco utilizzato dal database UMDW (sysutility_mdw) nel punto di controllo dell'utilità è di circa 2 GB per istanza gestita di SQL Server per anno.</span><span class="sxs-lookup"><span data-stu-id="22893-122">In a typical scenario, disk space used by the UMDW database (sysutility_mdw) on the UCP is approximately 2 GB per managed instance of SQL Server per year.</span></span> <span data-ttu-id="22893-123">Questa stima può variare a seconda del numero di oggetti di database e di sistema raccolti dall'istanza gestita.</span><span class="sxs-lookup"><span data-stu-id="22893-123">This estimate can vary depending on the number of database and system objects collected by the managed instance.</span></span> <span data-ttu-id="22893-124">Lo spazio occupato su disco da UMDW (sysutility_mdw) aumenta più rapidamente durante i primi due giorni.</span><span class="sxs-lookup"><span data-stu-id="22893-124">The UMDW (sysutility_mdw) disk space growth rate is highest during the first two days.</span></span>

-   <span data-ttu-id="22893-125">In uno scenario tipico lo spazio su disco utilizzato dal database msdb nel punto di controllo dell'utilità è di circa 20 MB per istanza gestita di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="22893-125">In a typical scenario, disk space used by msdb on the UCP is approximately 20 MB per managed instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="22893-126">Si tenga presente che questa stima può variare a seconda dei criteri di utilizzo delle risorse e del numero di oggetti di database e di sistema raccolti dall'istanza gestita.</span><span class="sxs-lookup"><span data-stu-id="22893-126">Note that this estimate can vary depending on the resource utilization policies and the number of database and system objects collected by the managed instance.</span></span> <span data-ttu-id="22893-127">In generale, l'utilizzo dello spazio su disco aumenta con l'aumentare del numero di violazioni dei criteri e della durata dell'intervallo di tempo per le risorse volatili.</span><span class="sxs-lookup"><span data-stu-id="22893-127">In general, disk space usage increases as the number of policy violations increases and the duration of the moving time window for volatile resources increases.</span></span>

-   <span data-ttu-id="22893-128">Si noti che la rimozione di un'istanza gestita dal punto di controllo dell'utilità non riduce lo spazio su disco utilizzato dai database del punto di controllo dell'utilità fino allo scadere dei periodi di memorizzazione dei dati per l'istanza gestita.</span><span class="sxs-lookup"><span data-stu-id="22893-128">Note that removing a managed instance from the UCP will not reduce the disk space used by UCP databases until expiration of data retention periods for the managed instance.</span></span>

 <span data-ttu-id="22893-129">In questa versione tutte le istanze gestite di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] devono soddisfare i requisiti seguenti:</span><span class="sxs-lookup"><span data-stu-id="22893-129">In this release, all managed instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] must satisfy the following requirements:</span></span>

-   <span data-ttu-id="22893-130">Se il punto di controllo dell'utilità è ospitato in un'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]che non applica la distinzione tra maiuscole e minuscole, è preferibile che anche le istanze gestite di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] non applichino la distinzione tra maiuscole e minuscole.</span><span class="sxs-lookup"><span data-stu-id="22893-130">We recommend that if the UCP is hosted by a case-insensitive instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], then managed instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] should also be case-insensitive.</span></span>

-   <span data-ttu-id="22893-131">I dati FILESTREAM non sono supportati per il monitoraggio di Utilità [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="22893-131">FILESTREAM data are not supported for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Utility monitoring.</span></span>

 <span data-ttu-id="22893-132">Per ulteriori informazioni, vedere la pagina relativa alle [specifiche di capacità massima per SQL Server](../../sql-server/maximum-capacity-specifications-for-sql-server.md) e [funzionalità supportate dalle edizioni di SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span><span class="sxs-lookup"><span data-stu-id="22893-132">For more information, see [Maximum Capacity Specifications for SQL Server](../../sql-server/maximum-capacity-specifications-for-sql-server.md) and [Features Supported by the Editions of SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span></span>

### <a name="remove-previous-utility-control-points-before-installing-a-new-one"></a><span data-ttu-id="22893-133">Rimuovere i punti di controllo dell'utilità precedenti prima di installarne uno nuovo</span><span class="sxs-lookup"><span data-stu-id="22893-133">Remove Previous Utility Control Points Before Installing a New One</span></span>
 <span data-ttu-id="22893-134">Per installare un punto di controllo dell'utilità in un'istanza di SQL Server precedentemente configurata come punto di controllo dell'utilità è necessario innanzitutto rimuovere tutte le istanze gestite di SQL Server e rimuovere il punto di controllo dell'utilità.</span><span class="sxs-lookup"><span data-stu-id="22893-134">If you are installing a utility control point (UCP) on an instance of SQL Server that was ever configured as a UCP, you must remove all managed instances of SQL Server and remove the UCP before doing so.</span></span> <span data-ttu-id="22893-135">A questo scopo, eseguire la stored procedure **sp_sysutility_ucp_remove** .</span><span class="sxs-lookup"><span data-stu-id="22893-135">You do this by running the **sp_sysutility_ucp_remove** stored procedure.</span></span>

 <span data-ttu-id="22893-136">Prima di eseguire la stored procedure, tenere presente i requisiti seguenti:</span><span class="sxs-lookup"><span data-stu-id="22893-136">Before you run the procedure, note the following requirements:</span></span>

-   <span data-ttu-id="22893-137">È necessario eseguire la procedura in un computer configurato come punto di controllo dell'utilità.</span><span class="sxs-lookup"><span data-stu-id="22893-137">This procedure must be run on a computer that is a UCP.</span></span>

-   <span data-ttu-id="22893-138">La procedura deve essere eseguita da un utente che disponga di autorizzazioni sysadmin, le stesse necessarie per la creazione di un punto di controllo dell'utilità.</span><span class="sxs-lookup"><span data-stu-id="22893-138">This procedure must be run by a user with sysadmin permissions, the same permissions required to create a UCP.</span></span>

-   <span data-ttu-id="22893-139">Tutte le istanze gestite di SQL Server devono essere rimosse dal punto di controllo dell'utilità,</span><span class="sxs-lookup"><span data-stu-id="22893-139">All managed instances of SQL Server must be removed from the UCP.</span></span> <span data-ttu-id="22893-140">che rappresenta un'istanza gestita di SQL Server.</span><span class="sxs-lookup"><span data-stu-id="22893-140">Note that the UCP is a managed instance of SQL Server.</span></span> <span data-ttu-id="22893-141">Per altre informazioni, vedere [Procedura: Rimuovere un'istanza di SQL Server da Utilità SQL Server](https://go.microsoft.com/fwlink/?LinkId=169392).</span><span class="sxs-lookup"><span data-stu-id="22893-141">For more information, see [How to: Remove an Instance of SQL Server from the SQL Server Utility](https://go.microsoft.com/fwlink/?LinkId=169392).</span></span>

 <span data-ttu-id="22893-142">Utilizzare questa procedura per rimuovere un punto di controllo dell'utilità di SQL Server da Utilità SQL Server.</span><span class="sxs-lookup"><span data-stu-id="22893-142">Use this procedure to remove a SQL Server UCP from the SQL Server Utility.</span></span> <span data-ttu-id="22893-143">Al termine dell'operazione sarà nuovamente possibile creare un punto di controllo dell'utilità nell'istanza di SQL Server.</span><span class="sxs-lookup"><span data-stu-id="22893-143">After the operation is complete, a UCP can be created on the instance of SQL Server again.</span></span>

 <span data-ttu-id="22893-144">Utilizzare SQL Server Management Studio per connettersi al punto di controllo dell'utilità, quindi eseguire lo script seguente:</span><span class="sxs-lookup"><span data-stu-id="22893-144">Use SQL Server Management Studio to connect to the UCP, then run this script:</span></span>

```sql
EXEC msdb.dbo.sp_sysutility_ucp_remove;
```

> [!NOTE]
>  <span data-ttu-id="22893-145">Se l'istanza di SQL Server in cui è stato rimosso il punto di controllo dell'utilità dispone di un set di raccolta dati non appartenente all'utilità, il database sysutility_mdw non viene eliminato dalla procedura.</span><span class="sxs-lookup"><span data-stu-id="22893-145">If the instance of SQL Server where the UCP was removed has a non-Utility data collection set, the sysutility_mdw database is not dropped by the procedure.</span></span> <span data-ttu-id="22893-146">In tal caso, è necessario eliminare manualmente il database sysutility_mdw prima di creare nuovamente il punto di controllo dell'utilità.</span><span class="sxs-lookup"><span data-stu-id="22893-146">If this is the case, the sysutility_mdw database must be dropped manually before the UCP can be created again.</span></span>

 <span data-ttu-id="22893-147">Ogni istanza gestita di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] e ogni applicazione livello dati è membro di una sola istanza di Utilità [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ed è gestita da un singolo punto di controllo dell'utilità.</span><span class="sxs-lookup"><span data-stu-id="22893-147">Each managed instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] and every data-tier application is a member of one and only one [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Utility, and is managed by a single UCP.</span></span> <span data-ttu-id="22893-148">Per altre informazioni sui concetti di Utilità [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , vedere [Attività e funzionalità di Utilità SQL Server](sql-server-utility-features-and-tasks.md).</span><span class="sxs-lookup"><span data-stu-id="22893-148">For more information about [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Utility concepts, see [SQL Server Utility Features and Tasks](sql-server-utility-features-and-tasks.md).</span></span>

 <span data-ttu-id="22893-149">Un punto di controllo dell'utilità è il punto centrale ragionevole di Utilità [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="22893-149">A UCP is the central reasoning point of the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Utility.</span></span> <span data-ttu-id="22893-150">Usando il punto di controllo dell'utilità, è possibile visualizzare le informazioni sulla configurazione e sulle prestazioni raccolte dalle istanze gestite di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] e dalle applicazioni livello dati di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ed eseguire attività generali di pianificazione della capacità.</span><span class="sxs-lookup"><span data-stu-id="22893-150">Using the UCP, you can view configuration and performance information collected from managed instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] and [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] data-tier applications, and perform general capacity planning activities.</span></span> <span data-ttu-id="22893-151">Il punto di controllo dell'utilità è il punto di avvio per la registrazione e la rimozione di istanze di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] da Utilità [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="22893-151">The UCP is the launch point for enrolling and removing instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] from the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Utility.</span></span>

 <span data-ttu-id="22893-152">Dopo aver registrato le istanze di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] in Utilità [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , è possibile monitorare l'integrità delle risorse per le istanze gestite di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] e le applicazioni livello dati per identificare le opportunità di consolidamento e isolare i colli di bottiglia delle risorse.</span><span class="sxs-lookup"><span data-stu-id="22893-152">After enrolling instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] in the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Utility, you can monitor resource health for managed instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] and data-tier applications to identify consolidation opportunities and isolate resource bottlenecks.</span></span> <span data-ttu-id="22893-153">Per altre informazioni, vedere [Monitoraggio di istanze di SQL Server in Utilità SQL Server](monitor-instances-of-sql-server-in-the-sql-server-utility.md).</span><span class="sxs-lookup"><span data-stu-id="22893-153">For more information, see [Monitor Instances of SQL Server in the SQL Server Utility](monitor-instances-of-sql-server-in-the-sql-server-utility.md).</span></span>

> [!IMPORTANT]
>  <span data-ttu-id="22893-154">L'esecuzione side-by-side del set di raccolta di Utilità [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] e dei set di raccolta non appartenenti a Utilità [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] è supportata.</span><span class="sxs-lookup"><span data-stu-id="22893-154">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Utility collection set is supported side-by-side with non- [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Utility collection sets.</span></span> <span data-ttu-id="22893-155">Ciò significa che un'istanza gestita di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] può essere monitorata da altri set di raccolta anche se l'istanza è membro di un'utilità di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="22893-155">That is, a managed instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] can be monitored by other collection sets while it is a member of a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Utility.</span></span> <span data-ttu-id="22893-156">Si noti tuttavia che tutti i set di raccolta sull'istanza gestita caricheranno i propri dati nel data warehouse di gestione di Utilità di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="22893-156">Note, however, that all collection sets on the managed instance will upload their data to the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Utility management data warehouse.</span></span> <span data-ttu-id="22893-157">Per altre informazioni, vedere [Considerazioni per l'esecuzione di set di raccolta dell'utilità e non appartenenti all'utilità nella stessa istanza di SQL Server](run-utility-and-non-utility-collection-sets-on-same-sql-instance.md) e [Configure Your Utility Control Point Data Warehouse &#40;SQL Server Utility&#41;](configure-your-utility-control-point-data-warehouse-sql-server-utility.md) (Configurare il data warehouse del punto di controllo dell'utilità -Utilità SQL Server).</span><span class="sxs-lookup"><span data-stu-id="22893-157">For more information, see [Considerations for Running Utility and non-Utility Collection Sets on the Same Instance of SQL Server](run-utility-and-non-utility-collection-sets-on-same-sql-instance.md) and [Configure Your Utility Control Point Data Warehouse &#40;SQL Server Utility&#41;](configure-your-utility-control-point-data-warehouse-sql-server-utility.md).</span></span>

## <a name="wizard-steps"></a><span data-ttu-id="22893-158">Passaggi della procedura guidata</span><span class="sxs-lookup"><span data-stu-id="22893-158">Wizard Steps</span></span>
 ![](../../database-engine/media/create-ucp.gif "Create_UCP")

 <span data-ttu-id="22893-159">Nelle sezioni seguenti sono fornite le informazioni su ogni pagina del flusso di lavoro della procedura guidata per creare un nuovo punto di controllo dell'utilità di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="22893-159">The following sections provide information about each page in the wizard work flow to create a new [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] UCP.</span></span> <span data-ttu-id="22893-160">Per avviare la procedura guidata per creare un nuovo punto di controllo dell'utilità, aprire il riquadro Esplora utilità dal menu Visualizza in SSMS e quindi fare clic sul pulsante ![](../../database-engine/media/create-ucp.gif "Create_UCP") **Crea punto di controllo dell'utilità** nella parte superiore del riquadro Esplora utilità.</span><span class="sxs-lookup"><span data-stu-id="22893-160">To launch the wizard to create a new UCP, open the Utility Explorer pane from the View menu in SSMS, then click on the ![](../../database-engine/media/create-ucp.gif "Create_UCP") **Create UCP** button at the top of the Utility Explorer pane.</span></span>

 <span data-ttu-id="22893-161">Fare clic su un collegamento nell'elenco riportato di seguito per passare ai dettagli per una pagina della procedura guidata.</span><span class="sxs-lookup"><span data-stu-id="22893-161">Click on a link in the list below to navigate to details for a page in the Wizard.</span></span>

 <span data-ttu-id="22893-162">Per ulteriori informazioni su uno script di PowerShell per questa operazione, vedere l' [esempio](#PowerShell_create_UCP).</span><span class="sxs-lookup"><span data-stu-id="22893-162">For more information about a PowerShell script of this operation, see the [example](#PowerShell_create_UCP).</span></span>

-   [<span data-ttu-id="22893-163">Introduzione alla procedura guidata Crea punto di controllo dell'utilità</span><span class="sxs-lookup"><span data-stu-id="22893-163">Introduction to Create UCP Wizard</span></span>](#Welcome)

-   [<span data-ttu-id="22893-164">Specifica istanza</span><span class="sxs-lookup"><span data-stu-id="22893-164">Specify Instance</span></span>](#Instance_name)

-   [<span data-ttu-id="22893-165">Finestra di dialogo della connessione</span><span class="sxs-lookup"><span data-stu-id="22893-165">Connection Dialog</span></span>](#Connection_dialog)

-   [<span data-ttu-id="22893-166">Account set di raccolta utilità</span><span class="sxs-lookup"><span data-stu-id="22893-166">Utility Collection Set Account</span></span>](#Agent_configuration)

-   [<span data-ttu-id="22893-167">Regole di convalida</span><span class="sxs-lookup"><span data-stu-id="22893-167">Validation Rules</span></span>](#Validation_rules)

-   [<span data-ttu-id="22893-168">Summary</span><span class="sxs-lookup"><span data-stu-id="22893-168">Summary</span></span>](#Summary)

-   [<span data-ttu-id="22893-169">Creazione del punto di controllo dell'utilità</span><span class="sxs-lookup"><span data-stu-id="22893-169">Creating the Utility Control Point</span></span>](#Creating_UCP)

##  <a name="introduction-to-create-ucp-wizard"></a><a name="Welcome"></a> <span data-ttu-id="22893-170">Introduzione alla procedura guidata Crea punto di controllo dell'utilità</span><span class="sxs-lookup"><span data-stu-id="22893-170">Introduction to Create UCP Wizard</span></span>
 <span data-ttu-id="22893-171">Se si apre Esplora utilità e non è presente alcun punto di controllo dell'utilità connesso, è necessario connettersi a uno di quelli presenti o crearne uno nuovo.</span><span class="sxs-lookup"><span data-stu-id="22893-171">If you open Utility Explorer and there is no connected utility control point, you must connect to one or create a new one.</span></span>

 <span data-ttu-id="22893-172">**Connessione a un punto di controllo dell'utilità esistente**: se è già presente un punto di controllo dell'utilità nella distribuzione, è possibile connettersi a questo punto facendo clic sul pulsante ![](../../database-engine/media/connect-to-utility.gif "Connetti a utilità")**Connetti a utilità** nella parte superiore del riquadro Esplora utilità.</span><span class="sxs-lookup"><span data-stu-id="22893-172">**Connect to existing UCP** - If there is already a utility control point in your deployment, you can connect to it by clicking the ![](../../database-engine/media/connect-to-utility.gif "Connect_to_Utility")**Connect to Utility** button at the top of the Utility Explorer pane.</span></span> <span data-ttu-id="22893-173">Per connettersi a un punto di controllo dell'utilità esistente, è necessario disporre delle credenziali di amministratore o essere membro del ruolo Utility Reader.</span><span class="sxs-lookup"><span data-stu-id="22893-173">To connect to an existing UCP, you must have administrator credentials or be a member of the Utility Reader role.</span></span> <span data-ttu-id="22893-174">Si noti che può esistere un solo punto di controllo dell'utilità per Utilità [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ed è possibile essere connessi a un solo punto di controllo dell'utilità da un'istanza di SSMS.</span><span class="sxs-lookup"><span data-stu-id="22893-174">Note that there can only be one UCP per [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Utility and you can only be connected to one UCP from an instance of SSMS.</span></span>

 <span data-ttu-id="22893-175">**Creazione di un nuovo punto di controllo dell'utilità**: per creare un nuovo punto di controllo dell'utilità, fare clic sul pulsante ![](../../database-engine/media/create-ucp.gif "Create_UCP")**Crea punto di controllo dell'utilità** nella parte superiore del riquadro Esplora utilità.</span><span class="sxs-lookup"><span data-stu-id="22893-175">**Create a new UCP** - To create a new utility control point, click the ![](../../database-engine/media/create-ucp.gif "Create_UCP")**Create UCP** button at the top of the Utility Explorer pane.</span></span> <span data-ttu-id="22893-176">Per creare un nuovo punto di controllo dell'utilità, è necessario specificare il nome dell'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] e fornire le credenziali di amministratore nella finestra di dialogo della connessione.</span><span class="sxs-lookup"><span data-stu-id="22893-176">To create a new UCP, you must specify the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance name and provide administrator credentials in the connection dialog.</span></span> <span data-ttu-id="22893-177">Si tenga presente che per ogni istanza di Utilità [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] può esistere un solo punto di controllo dell'utilità.</span><span class="sxs-lookup"><span data-stu-id="22893-177">Note that there can only be one UCP per [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Utility.</span></span>

##  <a name="specify-instance"></a><a name="Instance_name"></a> <span data-ttu-id="22893-178">Specifica istanza</span><span class="sxs-lookup"><span data-stu-id="22893-178">Specify Instance</span></span>
 <span data-ttu-id="22893-179">Specificare le informazioni seguenti sul punto di controllo dell'utilità che si desidera creare:</span><span class="sxs-lookup"><span data-stu-id="22893-179">Specify the following information about the UCP you are creating:</span></span>

-   <span data-ttu-id="22893-180">**Nome istanza**: per selezionare un'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] dalla finestra di dialogo della connessione, fare clic su **Connetti**. Specificare il nome del computer e il nome dell'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] nel formato NomeComputer\NomeIstanza.</span><span class="sxs-lookup"><span data-stu-id="22893-180">**Instance Name** - To select an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] from the connection dialog, click **Connect...**. Provide the computer name and the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance name in the format ComputerName\InstanceName.</span></span>

-   <span data-ttu-id="22893-181">**Nome utilità** : specificare un nome che verrà usato per identificare Utilità [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] in rete.</span><span class="sxs-lookup"><span data-stu-id="22893-181">**Utility Name** - Specify a name that will be used to identify the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Utility on the network.</span></span>

 <span data-ttu-id="22893-182">Scegliere **Avanti**per continuare.</span><span class="sxs-lookup"><span data-stu-id="22893-182">To continue, click **Next**.</span></span>

##  <a name="connection-dialog"></a><a name="Connection_dialog"></a> <span data-ttu-id="22893-183">Finestra di dialogo di connessione</span><span class="sxs-lookup"><span data-stu-id="22893-183">Connection Dialog</span></span>
 <span data-ttu-id="22893-184">Nella finestra di dialogo Connetti al server, verificare il tipo di server, il nome del computer e il nome dell'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="22893-184">On the Connect to Server dialog box, verify the server type, computer name, and [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance name information.</span></span> <span data-ttu-id="22893-185">Per altre informazioni, vedere [Connetti al server &#40;Motore di database&#41;](../../ssms/f1-help/connect-to-server-database-engine.md).</span><span class="sxs-lookup"><span data-stu-id="22893-185">For more information, see [Connect to Server &#40;Database Engine&#41;](../../ssms/f1-help/connect-to-server-database-engine.md).</span></span>

> [!NOTE]
>  <span data-ttu-id="22893-186">Se la connessione è crittografata, verrà utilizzata tale connessione.</span><span class="sxs-lookup"><span data-stu-id="22893-186">If the connection is encrypted, the encrypted connection will be used.</span></span> <span data-ttu-id="22893-187">Se la connessione non è crittografata, Utilità [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] si riconnetterà utilizzando una connessione crittografata.</span><span class="sxs-lookup"><span data-stu-id="22893-187">If the connection is not encrypted, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Utility will reconnect using an encrypted connection.</span></span>

 <span data-ttu-id="22893-188">Per continuare, fare clic su **Connetti**.</span><span class="sxs-lookup"><span data-stu-id="22893-188">To continue, click **Connect...**.</span></span>

##  <a name="utility-collection-set-account"></a><a name="Agent_configuration"></a> <span data-ttu-id="22893-189">Account set di raccolta utilità</span><span class="sxs-lookup"><span data-stu-id="22893-189">Utility Collection Set Account</span></span>
 <span data-ttu-id="22893-190">Specificare un account di dominio di Windows per eseguire il set di raccolta di Utilità [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="22893-190">Specify a Windows domain account to run the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Utility collection set.</span></span> <span data-ttu-id="22893-191">Questo account viene utilizzato come account proxy di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent per il set di raccolta di Utilità [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="22893-191">This account is used as the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent proxy account for the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Utility collection set.</span></span> <span data-ttu-id="22893-192">In alternativa, è possibile utilizzare l'account del servizio [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent esistente.</span><span class="sxs-lookup"><span data-stu-id="22893-192">Alternatively, you can use the existing [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent service account.</span></span> <span data-ttu-id="22893-193">Per soddisfare i requisiti della convalida, utilizzare le linee guida seguenti per specificare l'account.</span><span class="sxs-lookup"><span data-stu-id="22893-193">To pass validation requirements, use the following guidelines to specify the account.</span></span>

 <span data-ttu-id="22893-194">Se si specifica l'account del servizio [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent:</span><span class="sxs-lookup"><span data-stu-id="22893-194">If you specify the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent service account option:</span></span>

-   <span data-ttu-id="22893-195">L'account del servizio [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent deve essere un account di dominio di Windows che non è un account incorporato come LocalSystem, NetworkService o LocalService.</span><span class="sxs-lookup"><span data-stu-id="22893-195">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent service account must be a Windows domain account that is not a built-in account like LocalSystem, NetworkService, or LocalService.</span></span>

 <span data-ttu-id="22893-196">Scegliere **Avanti**per continuare.</span><span class="sxs-lookup"><span data-stu-id="22893-196">To continue, click **Next**.</span></span>

##  <a name="validation-rules"></a><a name="Validation_rules"></a> <span data-ttu-id="22893-197">Regole di convalida</span><span class="sxs-lookup"><span data-stu-id="22893-197">Validation Rules</span></span>
 <span data-ttu-id="22893-198">In questa versione di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]le condizioni seguenti devono essere vere per l'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] in cui verrà creato il punto di controllo dell'utilità:</span><span class="sxs-lookup"><span data-stu-id="22893-198">In this release of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], the following conditions must be true on the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] where the UCP will be created:</span></span>

|<span data-ttu-id="22893-199">Regola di convalida</span><span class="sxs-lookup"><span data-stu-id="22893-199">Validation rule</span></span>|<span data-ttu-id="22893-200">Azione correttiva</span><span class="sxs-lookup"><span data-stu-id="22893-200">Corrective action</span></span>|
|---------------------|-----------------------|
|<span data-ttu-id="22893-201">È necessario disporre dei privilegi di amministratore per l'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] in cui sarà creato il punto di controllo dell'utilità.</span><span class="sxs-lookup"><span data-stu-id="22893-201">You must have administrator privileges on the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] where the utility control point will be created.</span></span>|<span data-ttu-id="22893-202">Accedere con un account con privilegi di amministratore per l'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="22893-202">Log on with an account that has administrator privileges on the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>|
|<span data-ttu-id="22893-203">La versione di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] deve essere 10.50 o successiva.</span><span class="sxs-lookup"><span data-stu-id="22893-203">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] version must be 10.50 or higher.</span></span>|<span data-ttu-id="22893-204">Specificare un'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] diversa per ospitare il punto di controllo dell'utilità.</span><span class="sxs-lookup"><span data-stu-id="22893-204">Specify a different instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to host the UCP.</span></span>|
|<span data-ttu-id="22893-205">L'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] deve essere un'edizione supportata.</span><span class="sxs-lookup"><span data-stu-id="22893-205">The instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] must be a supported edition.</span></span> <span data-ttu-id="22893-206">Per un elenco delle funzionalità supportate dalle edizioni di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], vedere [Features Supported by the Editions of SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span><span class="sxs-lookup"><span data-stu-id="22893-206">For a list of features that are supported by the editions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], see [Features Supported by the Editions of SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span></span>|<span data-ttu-id="22893-207">Specificare un'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] diversa per ospitare il punto di controllo dell'utilità.</span><span class="sxs-lookup"><span data-stu-id="22893-207">Specify a different instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to host the UCP.</span></span>|
|<span data-ttu-id="22893-208">L'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] non deve essere un'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] registrata con altri punti di controllo dell'utilità di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="22893-208">The instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] must not be an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] enrolled with any other [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] UCP.</span></span>|<span data-ttu-id="22893-209">Specificare un'istanza diversa di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] per ospitare il punto di controllo dell'utilità o annullare la registrazione di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] dal punto di controllo dell'utilità dove è attualmente un'istanza gestita di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="22893-209">Specify a different instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to host the UCP, or unenroll the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] from the UCP where it is currently a managed instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>|
|<span data-ttu-id="22893-210">L'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] non può ospitare già un punto di controllo dell'utilità.</span><span class="sxs-lookup"><span data-stu-id="22893-210">The instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] cannot already be host to a utility control point.</span></span>|<span data-ttu-id="22893-211">Specificare un'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] diversa per ospitare il punto di controllo dell'utilità.</span><span class="sxs-lookup"><span data-stu-id="22893-211">Specify a different instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to host the UCP.</span></span>|
|<span data-ttu-id="22893-212">L'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] specificata deve avere TCP/IP abilitato.</span><span class="sxs-lookup"><span data-stu-id="22893-212">The specified instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] should have TCP/IP enabled.</span></span>|<span data-ttu-id="22893-213">Abilitare TCP/IP per l'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]specificata.</span><span class="sxs-lookup"><span data-stu-id="22893-213">Enable TCP/IP for the specified instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>|
|<span data-ttu-id="22893-214">L'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] non può includere un database denominato "sysutility_mdw".</span><span class="sxs-lookup"><span data-stu-id="22893-214">The instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] cannot have a database named "sysutility_mdw."</span></span>|<span data-ttu-id="22893-215">L'operazione di creazione del punto di controllo dell'utilità creerà un data warehouse di gestione dell'utilità (UMDW) denominato "sysutility_mdw".</span><span class="sxs-lookup"><span data-stu-id="22893-215">The create UCP operation will create a utility management data warehouse (UMDW) named "sysutility_mdw."</span></span> <span data-ttu-id="22893-216">Per eseguire questa operazione, è necessario che il nome non sia presente nel computer quando le regole di convalida vengono eseguite.</span><span class="sxs-lookup"><span data-stu-id="22893-216">The operation requires that the name does not exist on the computer at the time that validation rules are run.</span></span> <span data-ttu-id="22893-217">Per continuare, è necessario rimuovere o rinominare qualsiasi database denominato "sysutility_mdw".</span><span class="sxs-lookup"><span data-stu-id="22893-217">To continue, you must remove or rename any database named "sysutility_mdw."</span></span> <span data-ttu-id="22893-218">Per altre informazioni sulle operazioni di ridenominazione, vedere [ALTER DATABASE &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-database-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="22893-218">For more information about renaming operations, see [ALTER DATABASE &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-database-transact-sql).</span></span>|
|<span data-ttu-id="22893-219">È necessario arrestare i set di raccolta nell'istanza specificata di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="22893-219">Collection sets on the specified instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] must be stopped.</span></span>|<span data-ttu-id="22893-220">Arrestare i set di raccolta preesistenti mentre viene creato il punto di controllo dell'utilità nell'istanza specificata di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="22893-220">Stop pre-existing collection sets while the UCP is created on the specified instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="22893-221">Se l'agente di raccolta dati è disabilitato, abilitarlo, arrestare qualsiasi set di raccolta dati eseguito, quindi eseguire nuovamente le regole di convalida per l'operazione di creazione del punto di controllo dell'utilità.</span><span class="sxs-lookup"><span data-stu-id="22893-221">If the data collector is disabled, enable it, stop any running collection sets, then re-run validation rules for the Create UCP operation.</span></span><br /><br /> <span data-ttu-id="22893-222">Per abilitare l'agente di raccolta dati:</span><span class="sxs-lookup"><span data-stu-id="22893-222">To enable the data collector:</span></span><br /><br /> <span data-ttu-id="22893-223">In Esplora oggetti espandere il nodo **Gestione** .</span><span class="sxs-lookup"><span data-stu-id="22893-223">In Object Explorer, expand the **Management** node.</span></span><br /><br /> <span data-ttu-id="22893-224">Fare clic con il pulsante destro del mouse su **Raccolta dati**, quindi scegliere **Abilita raccolta dati**.</span><span class="sxs-lookup"><span data-stu-id="22893-224">Right-click **Data Collection**, and then click **Enable Data Collection**.</span></span><br /><br /> <span data-ttu-id="22893-225">Per arrestare un set di raccolta:</span><span class="sxs-lookup"><span data-stu-id="22893-225">To stop a collection set:</span></span><br /><br /> <span data-ttu-id="22893-226">In Esplora oggetti espandere il nodo Gestione, espandere **Raccolta dati**, quindi **Set di raccolta dati di sistema**.</span><span class="sxs-lookup"><span data-stu-id="22893-226">In Object Explorer, expand the Management node, expand **Data Collection**, and then expand **System Data Collection Sets**.</span></span><br /><br /> <span data-ttu-id="22893-227">Fare clic con il pulsante destro del mouse sul set di raccolta che si vuole arrestare e quindi scegliere **Arresta set di raccolta dati**.</span><span class="sxs-lookup"><span data-stu-id="22893-227">Right-click the collection set that you want to stop, and then click **Stop Data Collection Set**.</span></span><br /><br /> <span data-ttu-id="22893-228">In una finestra di messaggio verrà visualizzato il risultato di questa azione, mentre un cerchio rosso sull'icona del set di raccolta indicherà che il set di raccolta è stato arrestato.</span><span class="sxs-lookup"><span data-stu-id="22893-228">A message box will display the result of this action, and a red circle on the icon for the collection set indicates that the collection set has stopped.</span></span>|
|<span data-ttu-id="22893-229">È necessario avviare il servizio [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent nell'istanza specificata.</span><span class="sxs-lookup"><span data-stu-id="22893-229">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent service on the specified instance must be started.</span></span> <span data-ttu-id="22893-230">Se l'istanza specificata di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] è un'istanza del cluster di failover di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , è necessario configurare il servizio [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent in modo che venga avviato manualmente.</span><span class="sxs-lookup"><span data-stu-id="22893-230">If the specified instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] failover cluster instance, the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent service must be configured to start manually.</span></span> <span data-ttu-id="22893-231">In caso contrario, il servizio [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent deve essere configurato in modo che venga avviato automaticamente.</span><span class="sxs-lookup"><span data-stu-id="22893-231">Otherwise, the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent service must be configured to start automatically.</span></span>|<span data-ttu-id="22893-232">Avviare il servizio [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent.</span><span class="sxs-lookup"><span data-stu-id="22893-232">Start the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent service.</span></span> <span data-ttu-id="22893-233">Se l'istanza specificata di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] è un'istanza del cluster di failover di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , configurare il servizio [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent in modo che venga avviato manualmente.</span><span class="sxs-lookup"><span data-stu-id="22893-233">If the specified instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] failover cluster instance, configure the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent service to start manually.</span></span> <span data-ttu-id="22893-234">In caso contrario, configurare il servizio [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent in modo che venga avviato automaticamente.</span><span class="sxs-lookup"><span data-stu-id="22893-234">Otherwise, configure the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent service to start automatically.</span></span>|
|<span data-ttu-id="22893-235">È necessario configurare correttamente WMI.</span><span class="sxs-lookup"><span data-stu-id="22893-235">WMI must be configured correctly.</span></span>|<span data-ttu-id="22893-236">Per risolvere i problemi di configurazione WMI, vedere [Attività e funzionalità di Utilità SQL Server](../../database-engine/troubleshoot-the-sql-server-utility.md).</span><span class="sxs-lookup"><span data-stu-id="22893-236">To troubleshoot WMI configuration, see [Troubleshoot the SQL Server Utility](../../database-engine/troubleshoot-the-sql-server-utility.md).</span></span>|
|<span data-ttu-id="22893-237">L'account proxy di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent non può essere un account predefinito, come Servizio di rete.</span><span class="sxs-lookup"><span data-stu-id="22893-237">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent proxy account cannot be a built-in account, like Network Service.</span></span>|<span data-ttu-id="22893-238">Se l'account proxy di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent è un account predefinito, come Servizio di rete, riassegnare l'account a un account di dominio di Windows sysadmin.</span><span class="sxs-lookup"><span data-stu-id="22893-238">If the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent proxy account is a built-in account, like Network Service, re-assign the account to a Windows domain account that is sysadmin.</span></span>|
|<span data-ttu-id="22893-239">Se si seleziona l'opzione relativa all'account proxy, l'account proxy di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent deve essere un account di dominio di Windows valido.</span><span class="sxs-lookup"><span data-stu-id="22893-239">If you select the proxy account option, the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent proxy account must be a valid Windows domain account.</span></span>|<span data-ttu-id="22893-240">Specificare un account di dominio di Windows valido.</span><span class="sxs-lookup"><span data-stu-id="22893-240">Specify a valid Windows domain account.</span></span> <span data-ttu-id="22893-241">Per verificare che l'account sia valido, accedere all'istanza specificata di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] utilizzando l'account di dominio di Windows.</span><span class="sxs-lookup"><span data-stu-id="22893-241">To ensure that the account is valid, logon to the specified instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] using the Windows domain account.</span></span>|
|<span data-ttu-id="22893-242">Se si seleziona l'opzione relativa all'account del servizio, l'account del servizio di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent non può essere un account predefinito, come Servizio di rete.</span><span class="sxs-lookup"><span data-stu-id="22893-242">If you select the service account option, the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent service account cannot be a built-in account, like Network Service.</span></span>|<span data-ttu-id="22893-243">Se l'account del servizio di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent è un account predefinito, come Servizio di rete, riassegnare l'account a un account di dominio di Windows.</span><span class="sxs-lookup"><span data-stu-id="22893-243">If the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent service account is a built-in account, like Network Service, re-assign the account to a Windows domain account.</span></span>|
|<span data-ttu-id="22893-244">Se si seleziona l'opzione relativa all'account del servizio, l'account del servizio [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent deve essere un account di dominio di Windows valido.</span><span class="sxs-lookup"><span data-stu-id="22893-244">If you select the service account option, the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent service account must be a valid Windows domain account.</span></span>|<span data-ttu-id="22893-245">Specificare un account di dominio di Windows valido.</span><span class="sxs-lookup"><span data-stu-id="22893-245">Specify a valid Windows domain account.</span></span> <span data-ttu-id="22893-246">Per verificare che l'account sia valido, accedere all'istanza specificata di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] utilizzando l'account di dominio di Windows.</span><span class="sxs-lookup"><span data-stu-id="22893-246">To ensure that the account is valid, logon to the specified instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] using the Windows domain account.</span></span>|

 <span data-ttu-id="22893-247">Se alcune condizioni hanno dato risultati negativi nella convalida, correggere i problemi rilevati, quindi fare clic su **Riesegui convalida** per verificare la configurazione del computer.</span><span class="sxs-lookup"><span data-stu-id="22893-247">If there are failed conditions in the validation results, correct the blocking issues and then click **Rerun Validation** to verify the computer configuration.</span></span>

 <span data-ttu-id="22893-248">Per salvare il report di convalida, fare clic su **Salva report** , quindi specificare un percorso per il file.</span><span class="sxs-lookup"><span data-stu-id="22893-248">To save the validation report, click **Save Report** then specify a location for the file.</span></span>

 <span data-ttu-id="22893-249">Scegliere **Avanti**per continuare.</span><span class="sxs-lookup"><span data-stu-id="22893-249">To continue, click **Next**.</span></span>

##  <a name="summary"></a><a name="Summary"></a> <span data-ttu-id="22893-250">Riepilogo</span><span class="sxs-lookup"><span data-stu-id="22893-250">Summary</span></span>
 <span data-ttu-id="22893-251">Nella pagina di riepilogo vengono visualizzate le informazioni fornite sul punto di controllo dell'utilità:</span><span class="sxs-lookup"><span data-stu-id="22893-251">The summary page displays the information that you provided about the UCP:</span></span>

-   <span data-ttu-id="22893-252">Il nome dell'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] che ospita il punto di controllo dell'utilità.</span><span class="sxs-lookup"><span data-stu-id="22893-252">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance name that hosts the UCP.</span></span>

-   <span data-ttu-id="22893-253">Il nome dell'istanza di Utilità [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="22893-253">The name of the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Utility.</span></span>

-   <span data-ttu-id="22893-254">Il nome dell'account utente che verrà utilizzato per eseguire i processi per la raccolta dei dati di Utilità [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="22893-254">The name of the account that will be used to run jobs for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Utility data collection.</span></span>

 <span data-ttu-id="22893-255">Per modificare le impostazioni di configurazione del punto di controllo dell'utilità, fare clic su **Indietro**.</span><span class="sxs-lookup"><span data-stu-id="22893-255">To change UCP configuration settings, click **Previous**.</span></span> <span data-ttu-id="22893-256">Scegliere **Avanti**per continuare.</span><span class="sxs-lookup"><span data-stu-id="22893-256">To continue, click **Next**.</span></span>

##  <a name="creating-the-utility-control-point"></a><a name="Creating_UCP"></a> <span data-ttu-id="22893-257">Creazione del punto di controllo dell'utilità</span><span class="sxs-lookup"><span data-stu-id="22893-257">Creating the Utility Control Point</span></span>
 <span data-ttu-id="22893-258">Durante l'operazione per la creazione del punto di controllo dell'utilità, nella procedura guidata verranno visualizzati i passaggi e lo stato:</span><span class="sxs-lookup"><span data-stu-id="22893-258">During the operation to create the UCP, the wizard will display the steps and provide status:</span></span>

-   <span data-ttu-id="22893-259">Preparazione dell'istanza [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] per la creazione del punto di controllo dell'utilità.</span><span class="sxs-lookup"><span data-stu-id="22893-259">Preparing the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance for UCP creation.</span></span>

-   <span data-ttu-id="22893-260">Creazione del data warehouse di gestione dell'utilità.</span><span class="sxs-lookup"><span data-stu-id="22893-260">Creating the utility management data warehouse (UMDW).</span></span>

-   <span data-ttu-id="22893-261">Inizializzazione del data warehouse di gestione dell'utilità di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] . Il nome file del data warehouse di gestione dell'utilità è sysutility_mdw.</span><span class="sxs-lookup"><span data-stu-id="22893-261">Initializing the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] UMDW; the UMDW file name is sysutility_mdw.</span></span>

-   <span data-ttu-id="22893-262">Configurazione del punto di controllo dell'utilità.</span><span class="sxs-lookup"><span data-stu-id="22893-262">Configuring the UCP.</span></span>

-   <span data-ttu-id="22893-263">Configurazione del set di raccolta di Utilità [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="22893-263">Configuring the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Utility collection set.</span></span>

 <span data-ttu-id="22893-264">Per salvare un report sull'operazione di creazione del punto di controllo dell'utilità, fare clic su **Salva report** , quindi specificare un percorso per il file.</span><span class="sxs-lookup"><span data-stu-id="22893-264">To save a report about the create UCP operation, click **Save Report** then specify a location for the file.</span></span>

 <span data-ttu-id="22893-265">Per completare la procedura guidata, fare clic su **Fine**.</span><span class="sxs-lookup"><span data-stu-id="22893-265">To complete the wizard, click **Finish**.</span></span>

 <span data-ttu-id="22893-266">Dopo aver completato la procedura guidata per la creazione del punto di controllo dell'utilità, nel riquadro di navigazione Esplora utilità in SSMS viene visualizzato un nodo per il punto di controllo dell'utilità al di sotto del quale sono presenti i nodi Applicazioni del livello dati distribuite, Istanze gestite e Amministrazione utilità.</span><span class="sxs-lookup"><span data-stu-id="22893-266">After completing the Create UCP Wizard, the Utility Explorer navigation pane in SSMS displays a node for the UCP with nodes under it for Deployed Data-tier Applications, Managed Instances, and Utility Administration.</span></span> <span data-ttu-id="22893-267">Il punto di controllo dell'utilità diventa automaticamente un'istanza gestita.</span><span class="sxs-lookup"><span data-stu-id="22893-267">The UCP automatically becomes a managed instance.</span></span>

 <span data-ttu-id="22893-268">Il processo di raccolta dati inizia immediatamente, ma possono essere necessari fino a 30 minuti affinché i dati vengano visualizzati nel dashboard e i punti di visualizzazione nel riquadro del contenuto Esplora utilità.</span><span class="sxs-lookup"><span data-stu-id="22893-268">The data collection process begins immediately, but it can take up to 30 minutes for data to first appear in the dashboard and viewpoints in the Utility Explorer content pane.</span></span> <span data-ttu-id="22893-269">La raccolta dati continua una volta ogni 15 minuti.</span><span class="sxs-lookup"><span data-stu-id="22893-269">Data collection continues once every 15 minutes.</span></span> <span data-ttu-id="22893-270">I dati iniziali proverranno dal punto di controllo dell'utilità stesso.</span><span class="sxs-lookup"><span data-stu-id="22893-270">Initial data will be from the UCP itself.</span></span> <span data-ttu-id="22893-271">Il punto di controllo dell'utilità è pertanto la prima istanza gestita di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] in Utilità [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="22893-271">That is, the UCP is the first managed instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] in the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Utility.</span></span>

 <span data-ttu-id="22893-272">Per visualizzare il dashboard, fare clic su **Visualizza** , selezionare quindi **Contenuto Esplora utilità** nel menu SSMS.</span><span class="sxs-lookup"><span data-stu-id="22893-272">To display the dashboard, click **View** then select **Utility Explorer Content** from the SSMS menu.</span></span> <span data-ttu-id="22893-273">Per aggiornare i dati, fare clic con il pulsante destro del mouse sul nome dell'utilità nel riquadro Esplora utilità e scegliere **Aggiorna**.</span><span class="sxs-lookup"><span data-stu-id="22893-273">To refresh data, right-click the utility name in the Utility Explorer pane, then select **Refresh**.</span></span>

 <span data-ttu-id="22893-274">Per altre informazioni su come registrare istanze aggiuntive di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] in Utilità [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], vedere [Registrare un'istanza di SQL Server &#40;Utilità SQL Server&#41;](enroll-an-instance-of-sql-server-sql-server-utility.md).</span><span class="sxs-lookup"><span data-stu-id="22893-274">For more information about how to enroll additional instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] into the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Utility, see [Enroll an Instance of SQL Server &#40;SQL Server Utility&#41;](enroll-an-instance-of-sql-server-sql-server-utility.md).</span></span> <span data-ttu-id="22893-275">Per rimuovere il punto di controllo dell'utilità come istanza gestita da Utilità [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , selezionare **Istanze gestite** nel riquadro **Esplora utilità** per popolare la visualizzazione elenco di istanze gestite, fare clic con il pulsante destro del mouse sul nome dell'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] nella visualizzazione elenco **Contenuto Esplora utilità** e quindi scegliere **Rendi istanza non gestita**.</span><span class="sxs-lookup"><span data-stu-id="22893-275">To remove the UCP as a managed instance from the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Utility, select **Managed Instances** in the **Utility Explorer** pane to populate the list view of managed instances, right-click on the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance name in the **Utility Explorer Content** list view, then select **Make Instance Unmanaged**.</span></span>

##  <a name="create-a-new-utility-control-point-using-powershell"></a><a name="PowerShell_create_UCP"></a> <span data-ttu-id="22893-276">Creazione di un nuovo punto di controllo dell'utilità utilizzando PowerShell</span><span class="sxs-lookup"><span data-stu-id="22893-276">Create a New Utility Control Point Using PowerShell</span></span>
 <span data-ttu-id="22893-277">Utilizzare l'esempio seguente per creare un nuovo punto di controllo dell'utilità:</span><span class="sxs-lookup"><span data-stu-id="22893-277">Use the following example to create a new utility control point:</span></span>

```powershell
$UtilityInstance = new-object -Type Microsoft.SqlServer.Management.Smo.Server "ComputerName\UCP-Name";
$SqlStoreConnection = new-object -Type Microsoft.SqlServer.Management.Sdk.Sfc.SqlStoreConnection $UtilityInstance.ConnectionContext.SqlConnectionObject;
$Utility = [Microsoft.SqlServer.Management.Utility.Utility]::CreateUtility("Utility", $SqlStoreConnection, "ProxyAccount", "ProxyAccountPassword");
```

## <a name="see-also"></a><span data-ttu-id="22893-278">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="22893-278">See Also</span></span>
 <span data-ttu-id="22893-279">[Utilità SQL Server funzionalità e le attività](sql-server-utility-features-and-tasks.md) [risolvono i utilità SQL Server](../../database-engine/troubleshoot-the-sql-server-utility.md)</span><span class="sxs-lookup"><span data-stu-id="22893-279">[SQL Server Utility Features and Tasks](sql-server-utility-features-and-tasks.md) [Troubleshoot the SQL Server Utility](../../database-engine/troubleshoot-the-sql-server-utility.md)</span></span>
