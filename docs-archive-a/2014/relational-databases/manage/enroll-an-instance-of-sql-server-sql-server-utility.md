---
title: Registrare un'istanza di SQL Server (Utilità SQL Server) | Microsoft Docs
ms.custom: ''
ms.date: 05/24/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: configuration
ms.topic: conceptual
f1_keywords:
- SQL12.SWB.makemanaged.agentaccount.F1
- SQL12.SWB.makemanaged.Summary.F1
- SQL12.SWB.makemanaged.enrolling.F1
- SQL12.SWB.makemanaged.progress.F1
- SQL12.SWB.makemanaged.instancename.F1
- SQL12.SWB.makemanaged.welcome.F1
- SQL12.SWB.makemanaged.validation.F1
helpviewer_keywords:
- Enroll instance
ms.assetid: a801c619-611b-4e82-a8d8-d1e01691b7a1
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: d3806c70b20e605a71d8d8005f5da103196ebcad
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87628676"
---
# <a name="enroll-an-instance-of-sql-server-sql-server-utility"></a><span data-ttu-id="400e4-102">Registrare un'istanza di SQL Server (Utilità SQL Server)</span><span class="sxs-lookup"><span data-stu-id="400e4-102">Enroll an Instance of SQL Server (SQL Server Utility)</span></span>
  <span data-ttu-id="400e4-103">È possibile registrare un'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] in un'utilità esistente di Utilità [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] per monitorarne le prestazioni e la configurazione come istanza gestita di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="400e4-103">Enroll an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] into an existing [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Utility to monitor its performance and configuration as a managed instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="400e4-104">Il punto di controllo dell'utilità raccoglie informazioni sulla configurazione e sulle prestazioni delle istanze gestite di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ogni 15 minuti.</span><span class="sxs-lookup"><span data-stu-id="400e4-104">The utility control point (UCP) collects configuration and performance information from managed instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] every 15 minutes.</span></span> <span data-ttu-id="400e4-105">Queste informazioni vengono archiviate nel data warehouse di gestione dell'utilità (UMDW) nel punto di controllo dell'utilità; il nome del file UMDW è sysutility_mdw.</span><span class="sxs-lookup"><span data-stu-id="400e4-105">This information is stored in the utility management data warehouse (UMDW) on the UCP; the UMDW file name is sysutility_mdw.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="400e4-106">vengono confrontati con i criteri per consentire l'identificazione di colli di bottiglia nell'utilizzo delle risorse e le possibilità di consolidamento.</span><span class="sxs-lookup"><span data-stu-id="400e4-106">performance data is compared to policies to help identify resource use bottlenecks and consolidation opportunities.</span></span>  
  
 <span data-ttu-id="400e4-107">In questa versione il punto di controllo dell'utilità e tutte le istanze gestite di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] devono soddisfare i requisiti seguenti:</span><span class="sxs-lookup"><span data-stu-id="400e4-107">In this release, the UCP and all managed instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] must satisfy the following requirements:</span></span>  
  
-   [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="400e4-108">deve essere la versione 10.50 o successiva.</span><span class="sxs-lookup"><span data-stu-id="400e4-108">must be version 10.50 or higher.</span></span>  
  
-   <span data-ttu-id="400e4-109">L'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] deve essere di tipo [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span><span class="sxs-lookup"><span data-stu-id="400e4-109">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance type must be [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span></span>  
  
-   <span data-ttu-id="400e4-110">Utilità [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] deve funzionare all'interno di un solo dominio Windows o in domini con relazioni di trust bidirezionali.</span><span class="sxs-lookup"><span data-stu-id="400e4-110">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Utility must operate within a single Windows domain, or domains with two-way trust relationships.</span></span>  
  
-   <span data-ttu-id="400e4-111">Gli account del servizio di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] per il punto di controllo dell'utilità e per tutte le istanze gestite di SQL Server devono disporre dell'autorizzazione di lettura impostata per gli utenti in Active Directory.</span><span class="sxs-lookup"><span data-stu-id="400e4-111">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] service accounts on the UCP and all managed instances of SQL Server must have read permission to Users in Active Directory.</span></span>  
  
-   <span data-ttu-id="400e4-112">L'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] da registrare non può essere SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="400e4-112">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance to enroll cannot be SQL Azure.</span></span>  
  
 <span data-ttu-id="400e4-113">In questa versione il punto di controllo dell'utilità deve soddisfare i requisiti seguenti:</span><span class="sxs-lookup"><span data-stu-id="400e4-113">In this release, the UCP must satisfy the following requirements:</span></span>  
  
-   <span data-ttu-id="400e4-114">L'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] deve essere un'edizione supportata.</span><span class="sxs-lookup"><span data-stu-id="400e4-114">The instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] must be a supported edition.</span></span> <span data-ttu-id="400e4-115">Per un elenco delle funzionalità supportate dalle edizioni di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], vedere [Features Supported by the Editions of SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span><span class="sxs-lookup"><span data-stu-id="400e4-115">For a list of features that are supported by the editions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], see [Features Supported by the Editions of SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span></span>  
  
-   <span data-ttu-id="400e4-116">È consigliabile collocare il punto di controllo dell'utilità in un'istanza di SQL Server che applica la distinzione tra maiuscole e minuscole.</span><span class="sxs-lookup"><span data-stu-id="400e4-116">We recommend that the UCP is hosted by a case-sensitive instance of SQL Server.</span></span>  
  
-   <span data-ttu-id="400e4-117">Per la pianificazione della capacità del computer del punto di controllo dell'utilità, tenere presenti i seguenti consigli:</span><span class="sxs-lookup"><span data-stu-id="400e4-117">Consider the following recommendations for capacity planning on the UCP computer:</span></span>  
  
    -   <span data-ttu-id="400e4-118">In uno scenario tipico lo spazio su disco utilizzato dal database UMDW (sysutility_mdw) nel punto di controllo dell'utilità è di circa 2 GB per istanza gestita di SQL Server per anno.</span><span class="sxs-lookup"><span data-stu-id="400e4-118">In a typical scenario, disk space used by the UMDW database (sysutility_mdw) on the UCP is approximately 2 GB per managed instance of SQL Server per year.</span></span> <span data-ttu-id="400e4-119">Questa stima può variare a seconda del numero di oggetti di database e di sistema raccolti dall'istanza gestita.</span><span class="sxs-lookup"><span data-stu-id="400e4-119">This estimate can vary depending on the number of database and system objects collected by the managed instance.</span></span> <span data-ttu-id="400e4-120">Lo spazio occupato su disco da UMDW (sysutility_mdw) aumenta più rapidamente durante i primi due giorni.</span><span class="sxs-lookup"><span data-stu-id="400e4-120">The UMDW (sysutility_mdw) disk space growth rate is highest during the first two days.</span></span>  
  
    -   <span data-ttu-id="400e4-121">In uno scenario tipico lo spazio su disco utilizzato dal database msdb nel punto di controllo dell'utilità è di circa 20 MB per istanza gestita di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="400e4-121">In a typical scenario, disk space used by msdb on the UCP is approximately 20 MB per managed instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="400e4-122">Si tenga presente che questa stima può variare a seconda dei criteri di utilizzo delle risorse e del numero di oggetti di database e di sistema raccolti dall'istanza gestita.</span><span class="sxs-lookup"><span data-stu-id="400e4-122">Note that this estimate can vary depending on the resource utilization policies and the number of database and system objects collected by the managed instance.</span></span> <span data-ttu-id="400e4-123">In generale, l'utilizzo dello spazio su disco aumenta con l'aumentare del numero di violazioni dei criteri e della durata dell'intervallo di tempo per le risorse volatili.</span><span class="sxs-lookup"><span data-stu-id="400e4-123">In general, disk space usage increases as the number of policy violations increases and the duration of the moving time window for volatile resources increases.</span></span>  
  
    -   <span data-ttu-id="400e4-124">Si noti che la rimozione di un'istanza gestita dal punto di controllo dell'utilità non riduce lo spazio su disco utilizzato dai database del punto di controllo dell'utilità fino allo scadere dei periodi di memorizzazione dei dati per l'istanza gestita.</span><span class="sxs-lookup"><span data-stu-id="400e4-124">Note that removing a managed instance from the UCP will not reduce the disk space used by UCP databases until expiration of data retention periods for the managed instance.</span></span>  
  
 <span data-ttu-id="400e4-125">In questa versione tutte le istanze gestite di SQL Server devono soddisfare i requisiti seguenti:</span><span class="sxs-lookup"><span data-stu-id="400e4-125">In this release, all managed instances of SQL Server must satisfy the following requirements:</span></span>  
  
-   <span data-ttu-id="400e4-126">Se il punto di controllo dell'utilità è ospitato in un'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]che non applica la distinzione tra maiuscole e minuscole, è consigliabile che anche le istanze gestite di SQL Server non applichino la distinzione tra maiuscole e minuscole.</span><span class="sxs-lookup"><span data-stu-id="400e4-126">We recommend that if the UCP is hosted by a case-insensitive instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], then managed instances of SQL Server should also be case-insensitive.</span></span>  
  
-   <span data-ttu-id="400e4-127">I dati FILESTREAM non sono supportati per il monitoraggio di Utilità [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="400e4-127">FILESTREAM data are not supported for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Utility monitoring.</span></span>  
  
 <span data-ttu-id="400e4-128">Per ulteriori informazioni, vedere la pagina relativa alle [specifiche di capacità massima per SQL Server](../../sql-server/maximum-capacity-specifications-for-sql-server.md) e [funzionalità supportate dalle edizioni di SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span><span class="sxs-lookup"><span data-stu-id="400e4-128">For more information, see [Maximum Capacity Specifications for SQL Server](../../sql-server/maximum-capacity-specifications-for-sql-server.md) and [Features Supported by the Editions of SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span></span>  
  
 <span data-ttu-id="400e4-129">Per altre informazioni sui concetti di Utilità [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , vedere [Attività e funzionalità di Utilità SQL Server](sql-server-utility-features-and-tasks.md).</span><span class="sxs-lookup"><span data-stu-id="400e4-129">For more information about [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Utility concepts, see [SQL Server Utility Features and Tasks](sql-server-utility-features-and-tasks.md).</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="400e4-130">L'esecuzione side-by-side del set di raccolta di Utilità [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] e dei set di raccolta non appartenenti a Utilità [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] è supportata.</span><span class="sxs-lookup"><span data-stu-id="400e4-130">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Utility collection set is supported side-by-side with non- [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Utility collection sets.</span></span> <span data-ttu-id="400e4-131">Ciò significa che un'istanza gestita di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] può essere monitorata da altri set di raccolta anche se l'istanza è membro di un'utilità di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="400e4-131">That is, a managed instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] can be monitored by other collection sets while it is a member of a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Utility.</span></span> <span data-ttu-id="400e4-132">Si noti tuttavia che tutti i set di raccolta sull'istanza gestita caricheranno i propri dati nel data warehouse di gestione dell'utilità.</span><span class="sxs-lookup"><span data-stu-id="400e4-132">Note, however, that all collection sets on the managed instance upload their data to the utility management data warehouse.</span></span> <span data-ttu-id="400e4-133">Per altre informazioni, vedere [Considerazioni per l'esecuzione di set di raccolta dell'utilità e non appartenenti all'utilità nella stessa istanza di SQL Server](run-utility-and-non-utility-collection-sets-on-same-sql-instance.md) e [Configure Your Utility Control Point Data Warehouse &#40;SQL Server Utility&#41;](configure-your-utility-control-point-data-warehouse-sql-server-utility.md) (Configurare il data warehouse del punto di controllo dell'utilità -Utilità SQL Server).</span><span class="sxs-lookup"><span data-stu-id="400e4-133">For more information, see [Considerations for Running Utility and non-Utility Collection Sets on the Same Instance of SQL Server](run-utility-and-non-utility-collection-sets-on-same-sql-instance.md) and [Configure Your Utility Control Point Data Warehouse &#40;SQL Server Utility&#41;](configure-your-utility-control-point-data-warehouse-sql-server-utility.md).</span></span>  
  
## <a name="wizard-steps"></a><span data-ttu-id="400e4-134">Passaggi della procedura guidata</span><span class="sxs-lookup"><span data-stu-id="400e4-134">Wizard Steps</span></span>  
 <span data-ttu-id="400e4-135">Nelle sezioni seguenti sono fornite informazioni dettagliate su ogni pagina del flusso di lavoro della procedura guidata.</span><span class="sxs-lookup"><span data-stu-id="400e4-135">The following sections provide detailed information about each page in the Wizard work flow.</span></span> <span data-ttu-id="400e4-136">Fare clic su un collegamento nell'elenco riportato di seguito per passare ai dettagli per una pagina della procedura guidata:</span><span class="sxs-lookup"><span data-stu-id="400e4-136">Click on a link to navigate to details for a page in the Wizard.</span></span> <span data-ttu-id="400e4-137">Per altre informazioni su uno script di PowerShell per questa operazione, vedere l' [esempio](#PowerShell_enroll)relativo a PowerShell.</span><span class="sxs-lookup"><span data-stu-id="400e4-137">For more information about a PowerShell script of this operation, see the PowerShell [example](#PowerShell_enroll).</span></span>  
  
-   [<span data-ttu-id="400e4-138">Introduzione alla procedura guidata Registra istanza</span><span class="sxs-lookup"><span data-stu-id="400e4-138">Introduction to Enroll Instance Wizard</span></span>](#Welcome)  
  
-   [<span data-ttu-id="400e4-139">Specificare l'istanza di SQL Server</span><span class="sxs-lookup"><span data-stu-id="400e4-139">Specify the Instance of SQL Server</span></span>](#Instance_name)  
  
-   [<span data-ttu-id="400e4-140">Finestra di dialogo della connessione</span><span class="sxs-lookup"><span data-stu-id="400e4-140">Connection Dialog</span></span>](#Connection_dialog)  
  
-   [<span data-ttu-id="400e4-141">Account set di raccolta utilità</span><span class="sxs-lookup"><span data-stu-id="400e4-141">Utility Collection Set Account</span></span>](#Proxy_configuration)  
  
-   [<span data-ttu-id="400e4-142">Convalida istanza di SQL Server</span><span class="sxs-lookup"><span data-stu-id="400e4-142">SQL Server Instance Validation</span></span>](#Validation_rules)  
  
-   [<span data-ttu-id="400e4-143">Riepilogo della registrazione dell'istanza</span><span class="sxs-lookup"><span data-stu-id="400e4-143">Summary of Instance Enrollment</span></span>](#Summary)  
  
-   [<span data-ttu-id="400e4-144">Registrazione dell'istanza di SQL Server</span><span class="sxs-lookup"><span data-stu-id="400e4-144">Enrolling the Instance of SQL Server</span></span>](#Enrolling)  
  
##  <a name="introduction-to-enroll-instance-wizard"></a><a name="Welcome"></a> <span data-ttu-id="400e4-145">Introduzione alla procedura guidata Registra istanza</span><span class="sxs-lookup"><span data-stu-id="400e4-145">Introduction to Enroll Instance Wizard</span></span>  
 <span data-ttu-id="400e4-146">Per avviare la procedura guidata, espandere l'albero in Esplora utilità fino a visualizzare un punto di controllo dell'utilità, fare clic con il pulsante destro del mouse su **Istanze gestite** e scegliere **Aggiungi istanza gestita**.</span><span class="sxs-lookup"><span data-stu-id="400e4-146">To launch the Wizard, expand the Utility Explorer tree on a utility control point, right-click on **Managed Instances**, and select **Add Managed Instance...**.</span></span>  
  
 <span data-ttu-id="400e4-147">Scegliere **Avanti**per continuare.</span><span class="sxs-lookup"><span data-stu-id="400e4-147">To continue, click **Next**.</span></span>  
  
##  <a name="specify-the-instance-of-sql-server"></a><a name="Instance_name"></a> <span data-ttu-id="400e4-148">Specificare l'istanza di SQL Server</span><span class="sxs-lookup"><span data-stu-id="400e4-148">Specify the Instance of SQL Server</span></span>  
 <span data-ttu-id="400e4-149">Per selezionare un'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] dalla finestra di dialogo della connessione, fare clic su **Connetti**. Specificare il nome del computer e il nome dell'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] nel formato NomeComputer\NomeIstanza.</span><span class="sxs-lookup"><span data-stu-id="400e4-149">To select an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] from the connection dialog box, click **Connect...**. Provide the computer name and the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance name in the format ComputerName\InstanceName.</span></span> <span data-ttu-id="400e4-150">Per altre informazioni, vedere [Connetti al server &#40;Motore di database&#41;](../../ssms/f1-help/connect-to-server-database-engine.md).</span><span class="sxs-lookup"><span data-stu-id="400e4-150">For more information, see [Connect to Server &#40;Database Engine&#41;](../../ssms/f1-help/connect-to-server-database-engine.md).</span></span>  
  
 <span data-ttu-id="400e4-151">Scegliere **Avanti**per continuare.</span><span class="sxs-lookup"><span data-stu-id="400e4-151">To continue, click **Next**.</span></span>  
  
##  <a name="connection-dialog"></a><a name="Connection_dialog"></a> <span data-ttu-id="400e4-152">Finestra di dialogo di connessione</span><span class="sxs-lookup"><span data-stu-id="400e4-152">Connection Dialog</span></span>  
 <span data-ttu-id="400e4-153">Nella finestra di dialogo Connetti al server, verificare il tipo di server, il nome del computer e il nome dell'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="400e4-153">On the Connect to Server dialog box, verify the server type, computer name, and [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance name information.</span></span> <span data-ttu-id="400e4-154">Per altre informazioni, vedere [Connetti al server &#40;Motore di database&#41;](../../ssms/f1-help/connect-to-server-database-engine.md).</span><span class="sxs-lookup"><span data-stu-id="400e4-154">For more information, see [Connect to Server &#40;Database Engine&#41;](../../ssms/f1-help/connect-to-server-database-engine.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="400e4-155">Se la connessione è crittografata, verrà utilizzata tale connessione.</span><span class="sxs-lookup"><span data-stu-id="400e4-155">If the connection is encrypted, the encrypted connection is used.</span></span> <span data-ttu-id="400e4-156">Se la connessione non è crittografata, Utilità [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] si riconnetterà utilizzando una connessione crittografata.</span><span class="sxs-lookup"><span data-stu-id="400e4-156">If the connection is not encrypted, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Utility reconnects using an encrypted connection.</span></span>  
  
 <span data-ttu-id="400e4-157">Per continuare, fare clic su **Connetti**.</span><span class="sxs-lookup"><span data-stu-id="400e4-157">To continue, click **Connect...**.</span></span>  
  
##  <a name="utility-collection-set-account"></a><a name="Proxy_configuration"></a> <span data-ttu-id="400e4-158">Account set di raccolta utilità</span><span class="sxs-lookup"><span data-stu-id="400e4-158">Utility Collection Set Account</span></span>  
 <span data-ttu-id="400e4-159">Specificare un account di dominio di Windows per eseguire il set di raccolta di Utilità [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="400e4-159">Specify a Windows domain account to run the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Utility collection set.</span></span> <span data-ttu-id="400e4-160">Questo account viene utilizzato come account proxy di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent per il set di raccolta di Utilità [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="400e4-160">This account is used as the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent proxy account for the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Utility collection set.</span></span> <span data-ttu-id="400e4-161">In alternativa, è possibile utilizzare l'account del servizio [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent esistente.</span><span class="sxs-lookup"><span data-stu-id="400e4-161">Alternatively, you can use the existing [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent service account.</span></span> <span data-ttu-id="400e4-162">Per soddisfare i requisiti della convalida, utilizzare le linee guida seguenti per specificare l'account.</span><span class="sxs-lookup"><span data-stu-id="400e4-162">To pass validation requirements, use the following guidelines to specify the account.</span></span>  
  
 <span data-ttu-id="400e4-163">Se si specifica l'account del servizio [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent:</span><span class="sxs-lookup"><span data-stu-id="400e4-163">If you specify the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent service account option:</span></span>  
  
-   <span data-ttu-id="400e4-164">L'account del servizio [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent deve essere un account di dominio di Windows che non è un account incorporato come LocalSystem, NetworkService o LocalService.</span><span class="sxs-lookup"><span data-stu-id="400e4-164">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent service account must be a Windows domain account that is not a built-in account like LocalSystem, NetworkService, or LocalService.</span></span>  
  
 <span data-ttu-id="400e4-165">Scegliere **Avanti**per continuare.</span><span class="sxs-lookup"><span data-stu-id="400e4-165">To continue, click **Next**.</span></span>  
  
##  <a name="sql-server-instance-validation"></a><a name="Validation_rules"></a> <span data-ttu-id="400e4-166">Convalida istanza di SQL Server</span><span class="sxs-lookup"><span data-stu-id="400e4-166">SQL Server Instance Validation</span></span>  
 <span data-ttu-id="400e4-167">In questa versione le condizioni seguenti devono essere vere affinché l'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] venga registrata in Utilità [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] :</span><span class="sxs-lookup"><span data-stu-id="400e4-167">In this release, the following conditions must be true on the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to be enrolled into the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Utility:</span></span>  
  
|<span data-ttu-id="400e4-168">Condizione</span><span class="sxs-lookup"><span data-stu-id="400e4-168">Condition</span></span>|<span data-ttu-id="400e4-169">Azione correttiva</span><span class="sxs-lookup"><span data-stu-id="400e4-169">Corrective Action</span></span>|  
|---------------|-----------------------|  
|<span data-ttu-id="400e4-170">È necessario avere i privilegi di amministratore per l'istanza specificata di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] e il punto di controllo dell'utilità.</span><span class="sxs-lookup"><span data-stu-id="400e4-170">You must have administrator privileges on the specified instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] and on the UCP.</span></span>|<span data-ttu-id="400e4-171">Accedere con un account con privilegi di amministratore per l'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] specificata e per il punto di controllo dell'utilità.</span><span class="sxs-lookup"><span data-stu-id="400e4-171">Log on with an account that has administrator privileges on the specified instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] and on the UCP.</span></span>|  
|<span data-ttu-id="400e4-172">L'edizione di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] deve supportare la registrazione dell'istanza.</span><span class="sxs-lookup"><span data-stu-id="400e4-172">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] edition must support instance enrollment.</span></span>|<span data-ttu-id="400e4-173">Per un elenco delle funzionalità supportate dalle edizioni di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], vedere [Features Supported by the Editions of SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span><span class="sxs-lookup"><span data-stu-id="400e4-173">For a list of features that are supported by the editions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], see [Features Supported by the Editions of SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span></span>|  
|<span data-ttu-id="400e4-174">TCP/IP deve essere abilitato nel punto di controllo dell'utilità di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="400e4-174">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] UCP should have TCP/IP enabled.</span></span>|<span data-ttu-id="400e4-175">Abilitare TCP/IP nel punto di controllo dell'utilità di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="400e4-175">Enable TCP/IP on the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] UCP.</span></span>|  
|<span data-ttu-id="400e4-176">L'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] non può essere già registrata con nessun altro punto di controllo dell'utilità di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="400e4-176">The instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] cannot already be enrolled with any other [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] UCP.</span></span>|<span data-ttu-id="400e4-177">Se l'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] specificata è già gestita come parte di un'istanza di Utilità [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] esistente, non è possibile registrarla con un altro punto di controllo dell'utilità.</span><span class="sxs-lookup"><span data-stu-id="400e4-177">If the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] you specify is already managed as part of an existing [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Utility, you cannot enroll it with a different UCP.</span></span>|  
|<span data-ttu-id="400e4-178">L'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] non può essere già un punto di controllo dell'utilità.</span><span class="sxs-lookup"><span data-stu-id="400e4-178">The instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] cannot already be a UCP.</span></span>|<span data-ttu-id="400e4-179">Se l'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] specificata è già un punto di controllo dell'utilità diverso dal punto di controllo dell'utilità al quale si è connessi, non è possibile registrarla in questo punto di controllo dell'utilità.</span><span class="sxs-lookup"><span data-stu-id="400e4-179">If the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] you specify is already a UCP that is different than the UCP you are connected to, you cannot enroll it in this UCP.</span></span>|  
|<span data-ttu-id="400e4-180">L'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] deve avere set di raccolta di Utilità [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] installati.</span><span class="sxs-lookup"><span data-stu-id="400e4-180">The instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] must have [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Utility collection sets installed.</span></span>|<span data-ttu-id="400e4-181">Ripetere l'installazione dell'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="400e4-181">Re-install the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>|  
|<span data-ttu-id="400e4-182">È necessario arrestare i set di raccolta nell'istanza specificata di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="400e4-182">Collection sets on the specified instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] must be stopped.</span></span>|<span data-ttu-id="400e4-183">Arrestare i set di raccolta preesistenti nell'istanza specificata di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="400e4-183">Stop pre-existing collection sets on the specified instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="400e4-184">Se l'agente di raccolta dati è disabilitato, abilitarlo, arrestare qualsiasi set di raccolta dati eseguito, quindi eseguire nuovamente le regole di convalida per l'operazione di creazione del punto di controllo dell'utilità.</span><span class="sxs-lookup"><span data-stu-id="400e4-184">If the data collector is disabled, enable it, stop any running collection sets, then re-run validation rules for the Create UCP operation.</span></span><br /><br /> <span data-ttu-id="400e4-185">Per abilitare l'agente di raccolta dati:</span><span class="sxs-lookup"><span data-stu-id="400e4-185">To enable the data collector:</span></span><br /><br /> <span data-ttu-id="400e4-186">In Esplora oggetti espandere il nodo **Gestione** .</span><span class="sxs-lookup"><span data-stu-id="400e4-186">In Object Explorer, expand the **Management** node.</span></span><br /><br /> <span data-ttu-id="400e4-187">Fare clic con il pulsante destro del mouse su **Raccolta dati**, quindi scegliere **Abilita raccolta dati**.</span><span class="sxs-lookup"><span data-stu-id="400e4-187">Right-click **Data Collection**, and then click **Enable Data Collection**.</span></span><br /><br /> <span data-ttu-id="400e4-188">Per arrestare un set di raccolta:</span><span class="sxs-lookup"><span data-stu-id="400e4-188">To stop a collection set:</span></span><br /><br /> <span data-ttu-id="400e4-189">In Esplora oggetti espandere il nodo Gestione, espandere **Raccolta dati**, quindi **Set di raccolta dati di sistema**.</span><span class="sxs-lookup"><span data-stu-id="400e4-189">In Object Explorer, expand the Management node, expand **Data Collection**, and then expand **System Data Collection Sets**.</span></span><br /><br /> <span data-ttu-id="400e4-190">Fare clic con il pulsante destro del mouse sul set di raccolta che si vuole arrestare e quindi scegliere **Arresta set di raccolta dati**.</span><span class="sxs-lookup"><span data-stu-id="400e4-190">Right-click the collection set that you want to stop, and then click **Stop Data Collection Set**.</span></span><br /><br /> <span data-ttu-id="400e4-191">In una finestra di messaggio verrà visualizzato il risultato di questa azione, mentre un cerchio rosso sull'icona del set di raccolta indicherà che il set di raccolta è stato arrestato.</span><span class="sxs-lookup"><span data-stu-id="400e4-191">A message box will display the result of this action, and a red circle on the icon for the collection set indicates that the collection set has stopped.</span></span>|  
|<span data-ttu-id="400e4-192">È necessario avviare il servizio [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent nell'istanza specificata di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="400e4-192">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent service on the specified instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] must be started.</span></span>|<span data-ttu-id="400e4-193">Avviare il servizio [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent sull'istanza specificata di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="400e4-193">Start the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent service on the specified instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="400e4-194">Se l'istanza specificata di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] è un'istanza del cluster di failover di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , configurare il servizio [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent in modo che venga avviato manualmente.</span><span class="sxs-lookup"><span data-stu-id="400e4-194">If the specified instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] failover cluster instance, configure the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent service to start manually.</span></span> <span data-ttu-id="400e4-195">In caso contrario, configurare il servizio [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent in modo che venga avviato automaticamente.</span><span class="sxs-lookup"><span data-stu-id="400e4-195">Otherwise, configure the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent service to start automatically.</span></span>|  
|<span data-ttu-id="400e4-196">È necessario che il servizio [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent nel punto di controllo dell'utilità sia avviato.</span><span class="sxs-lookup"><span data-stu-id="400e4-196">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent service on the UCP must be started.</span></span>|<span data-ttu-id="400e4-197">Avviare il servizio [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent nel punto di controllo dell'utilità.</span><span class="sxs-lookup"><span data-stu-id="400e4-197">Start the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent service on the UCP.</span></span> <span data-ttu-id="400e4-198">Se il punto di controllo dell'utilità di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] è un'istanza del cluster di failover di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , configurare il servizio [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent in modo che venga avviato manualmente.</span><span class="sxs-lookup"><span data-stu-id="400e4-198">If the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] UCP is a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] failover cluster instance, configure the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent service to start manually.</span></span> <span data-ttu-id="400e4-199">In caso contrario, configurare il servizio [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent in modo che venga avviato automaticamente.</span><span class="sxs-lookup"><span data-stu-id="400e4-199">Otherwise, configure the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent service to start automatically.</span></span>|  
|<span data-ttu-id="400e4-200">È necessario configurare correttamente WMI.</span><span class="sxs-lookup"><span data-stu-id="400e4-200">WMI must be configured correctly.</span></span>|<span data-ttu-id="400e4-201">Per risolvere i problemi di configurazione WMI, vedere [Attività e funzionalità di Utilità SQL Server](../../database-engine/troubleshoot-the-sql-server-utility.md).</span><span class="sxs-lookup"><span data-stu-id="400e4-201">To troubleshoot WMI configuration, see [Troubleshoot the SQL Server Utility](../../database-engine/troubleshoot-the-sql-server-utility.md).</span></span>|  
|<span data-ttu-id="400e4-202">L'account proxy di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent deve essere un account di dominio di Windows valido nel punto di controllo dell'utilità.</span><span class="sxs-lookup"><span data-stu-id="400e4-202">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent proxy account must be a valid Windows domain account on the UCP.</span></span>|<span data-ttu-id="400e4-203">Specificare un account di dominio di Windows valido.</span><span class="sxs-lookup"><span data-stu-id="400e4-203">Specify a valid Windows domain account.</span></span> <span data-ttu-id="400e4-204">Per verificare che l'account sia valido, accedere al punto di controllo dell'utilità utilizzando l'account di dominio di Windows.</span><span class="sxs-lookup"><span data-stu-id="400e4-204">To ensure that the account is valid, logon to the UCP using the Windows domain account.</span></span>|  
|<span data-ttu-id="400e4-205">Se si seleziona l'opzione relativa all'account proxy, l'account proxy di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent deve essere un account di dominio di Windows valido nell'istanza specificata di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="400e4-205">If you select the proxy account option, the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent proxy account must be a valid Windows domain account on the specified instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>|<span data-ttu-id="400e4-206">Specificare un account di dominio di Windows valido.</span><span class="sxs-lookup"><span data-stu-id="400e4-206">Specify a valid Windows domain account.</span></span> <span data-ttu-id="400e4-207">Per verificare che l'account sia valido, accedere all'istanza specificata di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] utilizzando l'account di dominio di Windows.</span><span class="sxs-lookup"><span data-stu-id="400e4-207">To ensure that the account is valid, logon to the specified instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] using the Windows domain account.</span></span>|  
|<span data-ttu-id="400e4-208">L'account del servizio [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent non può essere un account incorporato, come Servizio di rete.</span><span class="sxs-lookup"><span data-stu-id="400e4-208">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent service account cannot be a built-in account, like Network Service.</span></span>|<span data-ttu-id="400e4-209">Assegnare nuovamente l'account a un account di dominio di Windows.</span><span class="sxs-lookup"><span data-stu-id="400e4-209">Re-assign the account to a Windows domain account.</span></span> <span data-ttu-id="400e4-210">Per verificare che l'account sia valido, accedere all'istanza specificata di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] utilizzando l'account di dominio di Windows.</span><span class="sxs-lookup"><span data-stu-id="400e4-210">To ensure that the account is valid, logon to the specified instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] using the Windows domain account.</span></span>|  
|<span data-ttu-id="400e4-211">L'account del servizio [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent deve essere un account di dominio di Windows valido nel punto di controllo dell'utilità.</span><span class="sxs-lookup"><span data-stu-id="400e4-211">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent service account must be a valid Windows domain account on the UCP.</span></span>|<span data-ttu-id="400e4-212">Specificare un account di dominio di Windows valido.</span><span class="sxs-lookup"><span data-stu-id="400e4-212">Specify a valid Windows domain account.</span></span> <span data-ttu-id="400e4-213">Per verificare che l'account sia valido, accedere al punto di controllo dell'utilità utilizzando l'account di dominio di Windows.</span><span class="sxs-lookup"><span data-stu-id="400e4-213">To ensure that the account is valid, logon to the UCP using the Windows domain account.</span></span>|  
|<span data-ttu-id="400e4-214">Se si seleziona l'opzione relativa all'account del servizio, l'account del servizio [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent deve essere un account di dominio di Windows valido nell'istanza specificata di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="400e4-214">If you select the service account option, the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent service account must be a valid Windows domain account on the specified instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>|<span data-ttu-id="400e4-215">Specificare un account di dominio di Windows valido.</span><span class="sxs-lookup"><span data-stu-id="400e4-215">Specify a valid Windows domain account.</span></span> <span data-ttu-id="400e4-216">Per verificare che l'account sia valido, accedere all'istanza specificata di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] utilizzando l'account di dominio di Windows.</span><span class="sxs-lookup"><span data-stu-id="400e4-216">To ensure that the account is valid, logon to the specified instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] using the Windows domain account.</span></span>|  
  
 <span data-ttu-id="400e4-217">Se alcune condizioni hanno dato risultati negativi nella convalida, correggere i problemi rilevati, quindi fare clic su **Riesegui convalida** per verificare la configurazione del computer.</span><span class="sxs-lookup"><span data-stu-id="400e4-217">If there are failed conditions in the validation results, correct the blocking issues and then click **Rerun Validation** to verify the computer configuration.</span></span>  
  
 <span data-ttu-id="400e4-218">Per salvare il report di convalida, fare clic su **Salva report** , quindi specificare un percorso per il file.</span><span class="sxs-lookup"><span data-stu-id="400e4-218">To save the validation report, click **Save Report** then specify a location for the file.</span></span>  
  
 <span data-ttu-id="400e4-219">Scegliere **Avanti**per continuare.</span><span class="sxs-lookup"><span data-stu-id="400e4-219">To continue, click **Next**.</span></span>  
  
##  <a name="summary-of-instance-enrollment"></a><a name="Summary"></a> <span data-ttu-id="400e4-220">Riepilogo della registrazione dell'istanza</span><span class="sxs-lookup"><span data-stu-id="400e4-220">Summary of Instance Enrollment</span></span>  
 <span data-ttu-id="400e4-221">Nella pagina di riepilogo sono elencate informazioni sull'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] da aggiungere a Utilità [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="400e4-221">The summary page lists the information about the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to add to the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Utility.</span></span>  
  
 <span data-ttu-id="400e4-222">Impostazioni istanza gestita</span><span class="sxs-lookup"><span data-stu-id="400e4-222">Managed Instance Settings:</span></span>  
  
-   <span data-ttu-id="400e4-223">Nome istanza di SQL Server: NomeComputer\NomeIstanza</span><span class="sxs-lookup"><span data-stu-id="400e4-223">SQL Server Instance Name: ComputerName\InstanceName</span></span>  
  
-   <span data-ttu-id="400e4-224">Account set di raccolta utilità: NomeDominio\NomeUtente</span><span class="sxs-lookup"><span data-stu-id="400e4-224">Utility Collection Set Account: DomainName\UserName</span></span>  
  
 <span data-ttu-id="400e4-225">Scegliere **Avanti**per continuare.</span><span class="sxs-lookup"><span data-stu-id="400e4-225">To continue, click **Next**.</span></span>  
  
##  <a name="enrolling-the-instance-of-sql-server"></a><a name="Enrolling"></a> <span data-ttu-id="400e4-226">Registrazione dell'istanza di SQL Server</span><span class="sxs-lookup"><span data-stu-id="400e4-226">Enrolling the Instance of SQL Server</span></span>  
 <span data-ttu-id="400e4-227">Nella pagina di registrazione viene indicato lo stato dell'operazione:</span><span class="sxs-lookup"><span data-stu-id="400e4-227">The Enrolling page provides status of the operation:</span></span>  
  
-   <span data-ttu-id="400e4-228">Preparazione dell'istanza per la registrazione.</span><span class="sxs-lookup"><span data-stu-id="400e4-228">Preparing the instance for enrollment.</span></span>  
  
-   <span data-ttu-id="400e4-229">Creazione della directory cache per i dati raccolti.</span><span class="sxs-lookup"><span data-stu-id="400e4-229">Creating the cache directory for the collected data.</span></span>  
  
-   <span data-ttu-id="400e4-230">Configurazione del set di raccolta dell'utilità.</span><span class="sxs-lookup"><span data-stu-id="400e4-230">Configuring the utility collection set.</span></span>  
  
 <span data-ttu-id="400e4-231">Per salvare un report sull'operazione di registrazione, fare clic su **Salva report** , quindi specificare un percorso per il file.</span><span class="sxs-lookup"><span data-stu-id="400e4-231">To save a report about the enroll operation, click **Save Report** then specify a location for the file.</span></span>  
  
 <span data-ttu-id="400e4-232">Per completare la procedura guidata, fare clic su **Fine**.</span><span class="sxs-lookup"><span data-stu-id="400e4-232">To complete the Wizard, click **Finish**.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="400e4-233">Se si utilizza l'Autenticazione di SQL Server per connettersi all'istanza di SQL Server per eseguire la registrazione e si specifica un account proxy che appartiene a un dominio Active Directory diverso dal dominio in cui si trova il punto di controllo dell'utilità, la convalida dell'istanza riesce, ma l'operazione di registrazione non riesce con il messaggio di errore seguente:</span><span class="sxs-lookup"><span data-stu-id="400e4-233">If you use SQL Server Authentication to connect to the instance of SQL Server to enroll, and you specify a proxy account that belongs to a different Active Directory domain than the domain where the UCP is located, instance validation succeeds, but the enrollment operation fails with the following error message:</span></span>  
>   
>  <span data-ttu-id="400e4-234">Eccezione durante l'esecuzione di un'istruzione o un batch Transact-SQL.</span><span class="sxs-lookup"><span data-stu-id="400e4-234">An exception occurred while executing a Transact-SQL statement or batch.</span></span> <span data-ttu-id="400e4-235">(Microsoft.SqlServer.ConnectionInfo)</span><span class="sxs-lookup"><span data-stu-id="400e4-235">(Microsoft.SqlServer.ConnectionInfo)</span></span>  
>   
>  <span data-ttu-id="400e4-236">Ulteriori informazioni:  Impossibile ottenere informazioni relative al gruppo/utente di Windows NT '\<DomainName\AccountName>', codice di errore 0x5.</span><span class="sxs-lookup"><span data-stu-id="400e4-236">Additional information:  Could not obtain information about Windows NT group/user '\<DomainName\AccountName>', error code 0x5.</span></span> <span data-ttu-id="400e4-237">(Microsoft SQL Server, Errore: 15404)</span><span class="sxs-lookup"><span data-stu-id="400e4-237">(Microsoft SQL Server, Error: 15404)</span></span>  
>   
>  <span data-ttu-id="400e4-238">Per altre informazioni sulla risoluzione di questo errore, vedere [Attività e funzionalità di Utilità SQL Server](../../database-engine/troubleshoot-the-sql-server-utility.md).</span><span class="sxs-lookup"><span data-stu-id="400e4-238">For more information about troubleshooting this failure, see [Troubleshoot the SQL Server Utility](../../database-engine/troubleshoot-the-sql-server-utility.md).</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="400e4-239">Non modificare le proprietà del set di raccolta "Informazioni utilità" in un'istanza gestita di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] e non abilitare/disabilitare manualmente la raccolta dati, in quanto viene controllata da un processo dell'agente Utilità.</span><span class="sxs-lookup"><span data-stu-id="400e4-239">Do not change any properties of the "Utility Information" collection set on a managed instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], and do not turn data collection on/off manually, as data collection is controlled by a Utility agent job.</span></span>  
  
 <span data-ttu-id="400e4-240">Dopo avere completato la Registrazione guidata istanza, fare clic sul nodo **Istanze gestite** nel riquadro di navigazione di **Esplora utilità** in SSMS.</span><span class="sxs-lookup"><span data-stu-id="400e4-240">After completing the Enroll Instance Wizard, click on the **Managed Instances** node in the **Utility Explorer Navigation** pane in SSMS.</span></span> <span data-ttu-id="400e4-241">Le istanze registrate di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] vengono visualizzate nella visualizzazione elenco nel riquadro **Contenuto Esplora utilità** .</span><span class="sxs-lookup"><span data-stu-id="400e4-241">Enrolled instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] are displayed in the list view in **Utility Explorer Content** pane.</span></span>  
  
 <span data-ttu-id="400e4-242">Il processo di raccolta dati inizia immediatamente, ma possono essere necessari fino a 30 minuti affinché i dati vengano visualizzati nel dashboard e i punti di visualizzazione nel riquadro del contenuto Esplora utilità.</span><span class="sxs-lookup"><span data-stu-id="400e4-242">The data collection process begins immediately, but it can take up to 30 minutes for data to first appear in the dashboard and viewpoints in the Utility Explorer content pane.</span></span> <span data-ttu-id="400e4-243">La raccolta dati continua una volta ogni 15 minuti.</span><span class="sxs-lookup"><span data-stu-id="400e4-243">Data collection continues one time every 15 minutes.</span></span> <span data-ttu-id="400e4-244">Per aggiornare i dati, fare clic con il pulsante destro del mouse sul nodo **Istanze gestite** nel riquadro di navigazione di **Esplora utilità**, scegliere quindi **Aggiorna[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] o fare clic con il pulsante destro del mouse sul nome dell'istanza di** nella visualizzazione elenco, quindi scegliere **Aggiorna**.</span><span class="sxs-lookup"><span data-stu-id="400e4-244">To refresh data, right-click the **Managed Instances** node the **Utility Explorer Navigation** pane, then select **Refresh**, or right-click on the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance name in the list view, then select **Refresh**.</span></span>  
  
 <span data-ttu-id="400e4-245">Per rimuovere le istanze gestite da Utilità [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , selezionare **Istanze gestite** nel riquadro di navigazione di **Esplora utilità** per popolare la visualizzazione elenco di istanze gestite, fare clic con il pulsante destro del mouse sul nome dell'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] nella visualizzazione elenco in **Contenuto Esplora utilità** , quindi scegliere **Rendi istanza non gestita**.</span><span class="sxs-lookup"><span data-stu-id="400e4-245">To remove managed instances from the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Utility, select **Managed Instances** in the **Utility Explorer Navigation** pane to populate the list view of managed instances, right-click on the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance name in the **Utility Explorer Content** list view, then select **Make Instance Unmanaged**.</span></span>  
  
##  <a name="enroll-an-instance-of-sql-server-using-powershell"></a><a name="PowerShell_enroll"></a> <span data-ttu-id="400e4-246">Registrazione di un'istanza di SQL Server tramite PowerShell</span><span class="sxs-lookup"><span data-stu-id="400e4-246">Enroll an Instance of SQL Server using PowerShell</span></span>  
 <span data-ttu-id="400e4-247">Usare l'esempio seguente per registrare un'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] in un'istanza di Utilità [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] esistente:</span><span class="sxs-lookup"><span data-stu-id="400e4-247">Use the following example to enroll an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] into an existing [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Utility:</span></span>  
  
```powershell
$UtilityInstance = new-object -Type Microsoft.SqlServer.Management.Smo.Server "ComputerName\UCP-Name";  
$SqlStoreConnection = new-object -Type Microsoft.SqlServer.Management.Sdk.Sfc.SqlStoreConnection $UtilityInstance.ConnectionContext.SqlConnectionObject;  
$Utility = [Microsoft.SqlServer.Management.Utility.Utility]::Connect($SqlStoreConnection);  
$Instance = new-object -Type Microsoft.SqlServer.Management.Smo.Server "ComputerName\ManagedInstanceName";  
$InstanceConnection = new-object -Type Microsoft.SqlServer.Management.Sdk.Sfc.SqlStoreConnection $Instance.ConnectionContext.SqlConnectionObject;  
$ManagedInstance = $Utility.EnrollInstance($InstanceConnection, "ProxyAccount", "ProxyPassword");  
```  
  
## <a name="see-also"></a><span data-ttu-id="400e4-248">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="400e4-248">See Also</span></span>  
 <span data-ttu-id="400e4-249">[Attività e funzionalità di Utilità SQL Server](sql-server-utility-features-and-tasks.md) </span><span class="sxs-lookup"><span data-stu-id="400e4-249">[SQL Server Utility Features and Tasks](sql-server-utility-features-and-tasks.md) </span></span>  
 <span data-ttu-id="400e4-250">[Monitoraggio di istanze di SQL Server in Utilità SQL Server](monitor-instances-of-sql-server-in-the-sql-server-utility.md) </span><span class="sxs-lookup"><span data-stu-id="400e4-250">[Monitor Instances of SQL Server in the SQL Server Utility](monitor-instances-of-sql-server-in-the-sql-server-utility.md) </span></span>  
 [<span data-ttu-id="400e4-251">Attività e funzionalità di Utilità SQL Server</span><span class="sxs-lookup"><span data-stu-id="400e4-251">Troubleshoot the SQL Server Utility</span></span>](../../database-engine/troubleshoot-the-sql-server-utility.md)  
  
  
