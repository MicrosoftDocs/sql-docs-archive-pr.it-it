---
title: Aggiornare la ricerca full-text | Microsoft Docs
ms.custom: ''
ms.date: 03/08/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: search
ms.topic: conceptual
helpviewer_keywords:
- full-text search [SQL Server], installing
- migrating full-text indexes [SQL Server]
- upgrading Full-Text Search
- installing Full-Text Search
- full-text search [SQL Server], upgrading
ms.assetid: 2fee4691-f2b5-472f-8ccc-fa625b654520
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: d2bdf0bdee452101bbafb8108426faf6604e7626
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87635469"
---
# <a name="upgrade-full-text-search"></a><span data-ttu-id="ae5d5-102">Aggiornamento della ricerca full-text</span><span class="sxs-lookup"><span data-stu-id="ae5d5-102">Upgrade Full-Text Search</span></span>
  <span data-ttu-id="ae5d5-103">L'aggiornamento della ricerca full-text a [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] viene effettuato in fase di installazione e durante il collegamento, il ripristino o la copia dei file di database e dei cataloghi full-text di una versione precedente di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] mediante la Copia guidata database.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-103">Upgrading full-text search to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] is done during setup and when database files and full-text catalogs from the earlier version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] are attached, restored, or copied using the Copy Database Wizard.</span></span>  
  
 <span data-ttu-id="ae5d5-104">In questo argomento si illustrano i seguenti aspetti dell'aggiornamento della ricerca full-text:</span><span class="sxs-lookup"><span data-stu-id="ae5d5-104">This topic discusses the following aspects of upgrading full-text search:</span></span>  
  
-   [<span data-ttu-id="ae5d5-105">Aggiornamento di un'istanza del server</span><span class="sxs-lookup"><span data-stu-id="ae5d5-105">Upgrading a Server Instance</span></span>](#Upgrade_Server)  
  
-   [<span data-ttu-id="ae5d5-106">Opzioni di aggiornamento full-text</span><span class="sxs-lookup"><span data-stu-id="ae5d5-106">Full-Text Upgrade Options</span></span>](#FT_Upgrade_Options)  
  
-   [<span data-ttu-id="ae5d5-107">Considerazioni per la scelta di un'opzione di aggiornamento full-text</span><span class="sxs-lookup"><span data-stu-id="ae5d5-107">Considerations for Choosing a Full-Text Upgrade Option</span></span>](#Choosing_Upgade_Option)  
  
-   [<span data-ttu-id="ae5d5-108">Migrazione degli indici full-text durante l'aggiornamento di un database a SQL Server 2014</span><span class="sxs-lookup"><span data-stu-id="ae5d5-108">Migrating Full-Text Indexes When Upgrading a Database to SQL Server 2014</span></span>](#Upgrade_Db)  
  
-   [<span data-ttu-id="ae5d5-109">Considerazioni per il ripristino di un catalogo full-text di SQL Server 2005 in SQL Server 2014</span><span class="sxs-lookup"><span data-stu-id="ae5d5-109">Considerations for Restoring a SQL Server 2005 Full-Text Catalog to SQL Server 2014</span></span>](#Considerations_for_Restore)  
  
-   [<span data-ttu-id="ae5d5-110">Collegamento di un database di SQL Server 2005 a SQL Server 2014</span><span class="sxs-lookup"><span data-stu-id="ae5d5-110">Attaching a SQL Server 2005 database to SQL Server 2014</span></span>](#Attaching_2005_ft_catalogs)  
  
##  <a name="upgrading-a-server-instance"></a><a name="Upgrade_Server"></a><span data-ttu-id="ae5d5-111">Aggiornamento di un'istanza del server</span><span class="sxs-lookup"><span data-stu-id="ae5d5-111">Upgrading a Server Instance</span></span>  
 <span data-ttu-id="ae5d5-112">Per un aggiornamento sul posto, un'istanza di [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] viene installata in modalità side-by-side con la versione precedente di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], quindi viene eseguita la migrazione dei dati.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-112">For an in-place upgrade, an instance of [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] is set up side-by-side with the old version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], and data is migrated.</span></span> <span data-ttu-id="ae5d5-113">Se nella versione precedente di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] è installata la ricerca full-text, viene installata automaticamente una nuova versione della ricerca full-text.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-113">If the old version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] had full-text search installed, a new version of full-text search is automatically installed.</span></span> <span data-ttu-id="ae5d5-114">L'installazione side-by-side implica l'esistenza di ognuno dei componenti seguenti a livello di istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ae5d5-114">Side-by-side install means that each of the following components exists at the instance-level of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="ae5d5-115">Word breaker, stemmer e filtri</span><span class="sxs-lookup"><span data-stu-id="ae5d5-115">Word breakers, stemmers, and filters</span></span>  
 <span data-ttu-id="ae5d5-116">In ogni istanza viene utilizzato ora un proprio set di word breaker, stemmer e filtri, anziché ricorrere alla versione di tali componenti disponibile nel sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-116">Each instance now uses its own set of word breakers, stemmers, and filters, rather than relying on the operating system version of these components.</span></span> <span data-ttu-id="ae5d5-117">A livello di istanza, inoltre, la registrazione e la configurazione di questi componenti risulta più semplice.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-117">These components are also easier to register and configure at a per-instance level.</span></span> <span data-ttu-id="ae5d5-118">Per altre informazioni, vedere [Configurazione e gestione di word breaker e stemmer per la ricerca](configure-and-manage-word-breakers-and-stemmers-for-search.md) e [Configurazione e gestione di filtri per la ricerca](configure-and-manage-filters-for-search.md).</span><span class="sxs-lookup"><span data-stu-id="ae5d5-118">For more information, see [Configure and Manage Word Breakers and Stemmers for Search](configure-and-manage-word-breakers-and-stemmers-for-search.md) and [Configure and Manage Filters for Search](configure-and-manage-filters-for-search.md).</span></span>  
  
 <span data-ttu-id="ae5d5-119">Host del daemon di filtri</span><span class="sxs-lookup"><span data-stu-id="ae5d5-119">Filter daemon host</span></span>  
 <span data-ttu-id="ae5d5-120">Gli host del daemon di filtri full-text sono processi che consentono di caricare e controllare in modo sicuro i componenti estensibili esterni utilizzati per indici e query, quali word breaker, stemmer e filtri, senza compromettere l'integrità del motore di ricerca full-text.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-120">The full-text filter daemon hosts are processes that safely load and drive extensible external components used for index and query, such as word breakers, stemmers, and filters, without compromising the integrity of the Full-Text Engine.</span></span> <span data-ttu-id="ae5d5-121">In un'istanza del server viene utilizzato un processo a thread multipli per tutti i filtri a thread multipli e un processo a thread singolo per tutti i filtri a thread singolo.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-121">A server instance uses a multithreaded process for all multithreaded filters and a single-threaded process for all single-threaded filters.</span></span>  
  
> [!NOTE]  
>  [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] <span data-ttu-id="ae5d5-122">ha introdotto un account del servizio per l'utilità di avvio FDHOST (MSSQLFDLauncher).</span><span class="sxs-lookup"><span data-stu-id="ae5d5-122">introduced a service account for the FDHOST Launcher service (MSSQLFDLauncher).</span></span> <span data-ttu-id="ae5d5-123">Questo servizio propaga le informazioni sull'account del servizio nei processi dell'host del daemon di filtri di un'istanza specifica di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ae5d5-123">This service propagates the service account information to the filter daemon host processes of a specific instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="ae5d5-124">Per informazioni sulla configurazione dell'account del servizio, vedere [Impostazione dell'account del servizio dell'Utilità di avvio del daemon di filtri full-text](set-the-service-account-for-the-full-text-filter-daemon-launcher.md).</span><span class="sxs-lookup"><span data-stu-id="ae5d5-124">For information about setting the service account, see [Set the Service Account for the Full-text Filter Daemon Launcher](set-the-service-account-for-the-full-text-filter-daemon-launcher.md).</span></span>  
  
 <span data-ttu-id="ae5d5-125">In [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]ogni indice full-text risiede in un catalogo full-text che appartiene a un filegroup, dispone di un percorso fisico e viene considerato un file di database.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-125">In [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], each full-text index resides in a full-text catalog that belongs to a filegroup, has a physical path, and is treated as a database file.</span></span> <span data-ttu-id="ae5d5-126">In [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] e versioni successive un catalogo full-text è un oggetto logico o virtuale che contiene un gruppo di indici full-text.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-126">In [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] and later versions, a full-text catalog is a logical or virtual object that contains a group of full-text indexes.</span></span> <span data-ttu-id="ae5d5-127">Pertanto, un nuovo catalogo full-text non viene considerato un file di database con un percorso fisico.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-127">Therefore, a new full-text catalog is not treated as a database file with a physical path.</span></span> <span data-ttu-id="ae5d5-128">Tuttavia, durante l'aggiornamento di un catalogo full-text contenente file di dati viene creato un nuovo filegroup nello stesso disco</span><span class="sxs-lookup"><span data-stu-id="ae5d5-128">However, during upgrade of any full-text catalog that contains data files, a new filegroup is created on same disk.</span></span> <span data-ttu-id="ae5d5-129">mantenendo in questo modo il vecchio comportamento I/O su disco dopo l'aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-129">This maintains the old disk I/O behavior after upgrade.</span></span> <span data-ttu-id="ae5d5-130">Tutti gli indici full-text di quel catalogo vengono posizionati nel nuovo filegroup se esiste il percorso radice.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-130">Any full-text index from that catalog is placed in the new filegroup if the root path exists.</span></span> <span data-ttu-id="ae5d5-131">Se il percorso precedente del catalogo full-text non è valido, l'indice full-text rimane nello stesso filegroup della tabella di base o nel filegroup primario nel caso di una tabella partizionata.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-131">If the old full-text catalog path is invalid, the upgrade keeps the full-text index in the same filegroup as the base table or, for a partitioned table, in the primary filegroup.</span></span>  
  
> [!NOTE]  
>  [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]<span data-ttu-id="ae5d5-132">Le [!INCLUDE[tsql](../../includes/tsql-md.md)] istruzioni DDL che specificano cataloghi full-text continuano a funzionare correttamente.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-132">[!INCLUDE[tsql](../../includes/tsql-md.md)] DDL statements that specify full-text catalogs continue to work correctly.</span></span>  
  
##  <a name="full-text-upgrade-options"></a><a name="FT_Upgrade_Options"></a><span data-ttu-id="ae5d5-133">Opzioni di aggiornamento full-text</span><span class="sxs-lookup"><span data-stu-id="ae5d5-133">Full-Text Upgrade Options</span></span>  
 <span data-ttu-id="ae5d5-134">Quando si aggiorna un'istanza del server in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], l'interfaccia utente consente di scegliere una delle opzioni di aggiornamento full-text seguenti.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-134">When upgrading a server instance to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], the user interface allows you to choose one of the following full-text upgrade options.</span></span>  
  
 <span data-ttu-id="ae5d5-135">Importa</span><span class="sxs-lookup"><span data-stu-id="ae5d5-135">Import</span></span>  
 <span data-ttu-id="ae5d5-136">I cataloghi full-text vengono importati.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-136">Full-text catalogs are imported.</span></span> <span data-ttu-id="ae5d5-137">In genere, l'importazione è molto più veloce della ricompilazione.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-137">Typically, import is significantly faster than rebuild.</span></span> <span data-ttu-id="ae5d5-138">Se ad esempio si utilizza solo una CPU, l'importazione è di circa 10 volte più veloce della ricompilazione.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-138">For example, when using only one CPU, import runs about 10 times faster than rebuild.</span></span> <span data-ttu-id="ae5d5-139">Un catalogo full-text importato, tuttavia, non utilizza i nuovi word breaker installati nella versione più recente di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ae5d5-139">However, an imported full-text catalog does not use the new word breakers installed with the latest version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="ae5d5-140">Ricompilare i cataloghi full-text per garantire la coerenza nei risultati delle query.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-140">To ensure consistency in query results, full-text catalogs have to be rebuilt.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="ae5d5-141">La ricompilazione può essere eseguita in modalità a thread multipli e, nel caso in cui siano disponibili più di 10 CPU, può risultare più veloce dell'importazione se si consente alla ricompilazione di utilizzare tutte le CPU.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-141">Rebuild can run in multi-threaded mode, and if more than 10 CPUs are available, rebuild might run faster than import if you allow rebuild to use all of the CPUs.</span></span>  
  
 <span data-ttu-id="ae5d5-142">Se un catalogo full-text non è disponibile, gli indici full-text associati vengono ricreati.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-142">If a full-text catalog is not available, the associated full-text indexes are rebuilt.</span></span> <span data-ttu-id="ae5d5-143">Questa opzione è disponibile solo per i database di [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="ae5d5-143">This option is available for only [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] databases.</span></span>  
  
 <span data-ttu-id="ae5d5-144">Per informazioni sull'impatto dell'importazione di un indice full-text, vedere "Considerazioni per la scelta di un'opzione di aggiornamento full-text" più avanti in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-144">For information about the impact of importing full-text index, see "Considerations for Choosing a Full-Text Upgrade Option," later in this topic.</span></span>  
  
 <span data-ttu-id="ae5d5-145">Ricompilazione</span><span class="sxs-lookup"><span data-stu-id="ae5d5-145">Rebuild</span></span>  
 <span data-ttu-id="ae5d5-146">I cataloghi full-text vengono ricompilati utilizzando i nuovi word breaker ottimizzati.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-146">Full-text catalogs are rebuilt using the new and enhanced word breakers.</span></span> <span data-ttu-id="ae5d5-147">La ricompilazione degli indici può richiedere tempo. Dopo l'aggiornamento, inoltre, potrebbe essere necessaria una quantità significativa di CPU e di memoria.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-147">Rebuilding indexes can take a while, and a significant amount of CPU and memory might be required after the upgrade.</span></span>  
  
 <span data-ttu-id="ae5d5-148">Reset</span><span class="sxs-lookup"><span data-stu-id="ae5d5-148">Reset</span></span>  
 <span data-ttu-id="ae5d5-149">I cataloghi full-text vengono ripristinati.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-149">Full-text catalogs are reset.</span></span> <span data-ttu-id="ae5d5-150">Quando si esegue l'aggiornamento da [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], i file dei cataloghi full-text vengono rimossi, ma i metadati per i cataloghi full-text e gli indici full-text vengono mantenuti.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-150">When upgrading from [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], full-text catalog files are removed, but the metadata for full-text catalogs and full-text indexes is retained.</span></span> <span data-ttu-id="ae5d5-151">Dopo l'aggiornamento, in tutti gli indici full-text il rilevamento delle modifiche viene disabilitato e le ricerche per indicizzazione non vengono avviate automaticamente.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-151">After being upgraded, all full-text indexes are disabled for change tracking and crawls are not started automatically.</span></span> <span data-ttu-id="ae5d5-152">Il catalogo resterà vuoto fino a quando non si eseguirà manualmente un popolamento completo al termine dell'aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-152">The catalog will remain empty until you manually issue a full population, after the upgrade completes.</span></span>  
  
##  <a name="considerations-for-choosing-a-full-text-upgrade-option"></a><a name="Choosing_Upgade_Option"></a><span data-ttu-id="ae5d5-153">Considerazioni per la scelta di un'opzione di aggiornamento full-text</span><span class="sxs-lookup"><span data-stu-id="ae5d5-153">Considerations for Choosing a Full-Text Upgrade Option</span></span>  
 <span data-ttu-id="ae5d5-154">Quando si sceglie l'opzione di aggiornamento, considerare gli elementi seguenti:</span><span class="sxs-lookup"><span data-stu-id="ae5d5-154">When choosing the upgrade option for your upgrade, consider the following:</span></span>  
  
-   <span data-ttu-id="ae5d5-155">È richiesta coerenza nei risultati delle query?</span><span class="sxs-lookup"><span data-stu-id="ae5d5-155">Do you require consistency in query results?</span></span>  
  
     [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] <span data-ttu-id="ae5d5-156">offre nuovi word breaker da usare per la ricerca full-text e semantica.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-156">installs new word breakers for use by Full-Text and Semantic Search.</span></span> <span data-ttu-id="ae5d5-157">I word breaker vengono utilizzati sia in fase di indicizzazione che di esecuzione delle query.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-157">The word breakers are used both at indexing time and at query time.</span></span> <span data-ttu-id="ae5d5-158">Se non si ricompilano i cataloghi full-text, i risultati di ricerca potrebbero risultare incoerenti.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-158">If you do not rebuild the full-text catalogs, your search results may be inconsistent.</span></span> <span data-ttu-id="ae5d5-159">Se si esegue una query full-text che esegue la ricerca di una frase divisa in modo diverso dal word breaker in una versione precedente di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] rispetto a quello corrente, è possibile che si verifichi il mancato recupero di una riga o documento contenente la frase.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-159">If you issue a full-text query that looks for a phrase that is broken differently by the word breaker in a previous version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] and the current word breaker, a document or row containing the phrase might not be retrieved.</span></span> <span data-ttu-id="ae5d5-160">Questo problema si verifica perché le frasi indicizzate sono state divise in base a una logica diversa da quella utilizzata dalla query.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-160">This is because the indexed phrases were broken using different logic than the query is using.</span></span> <span data-ttu-id="ae5d5-161">Per risolvere il problema, ripopolare (ricompilare) i cataloghi full-text con i nuovi word breaker in modo che il comportamento in fase di indicizzazione e di esecuzione delle query sia lo stesso.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-161">The solution is to repopulate (rebuild) the full-text catalogs with the new word breakers so that index time and query time behavior are identical.</span></span> <span data-ttu-id="ae5d5-162">A tale scopo, è possibile scegliere l'opzione Ricompila oppure scegliere l'opzione Importa e avviare manualmente la ricompilazione.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-162">You can choose the Rebuild option to accomplish this, or you can rebuild manually after choosing the Import option.</span></span>  
  
-   <span data-ttu-id="ae5d5-163">Eventuale presenza di indici full-text compilati in colonne chiave full-text di tipo integer</span><span class="sxs-lookup"><span data-stu-id="ae5d5-163">Were any full-text indexes built on integer full-text key columns?</span></span>  
  
     <span data-ttu-id="ae5d5-164">Con la ricompilazione vengono eseguite ottimizzazioni interne che in alcuni casi migliorano le prestazioni di esecuzione delle query dell'indice full-text aggiornato.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-164">Rebuilding performs internal optimizations that improve the query performance of the upgraded full-text index in some cases.</span></span> <span data-ttu-id="ae5d5-165">In particolare, se si dispone di cataloghi full-text che contengono indici full-text per i quali la colonna chiave full-text della tabella di base è un tipo di dati integer, la ricompilazione consente di ottenere prestazioni ideali delle query full-text dopo l'aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-165">Specifically, if you have full-text catalogs that contain full-text indexes for which the full-text key column of the base table is an integer data type, rebuilding achieves ideal performance of full-text queries after upgrade.</span></span> <span data-ttu-id="ae5d5-166">In questo caso, è consigliabile usare l'opzione **Ricompila** .</span><span class="sxs-lookup"><span data-stu-id="ae5d5-166">In this case, we highly recommend you to use the **Rebuild** option.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="ae5d5-167">Per gli indici full-text in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]è consigliabile che la colonna utilizzata come chiave full-text sia un tipo di dati integer.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-167">For full-text indexes in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], we recommend that the column serving as the full-text key be an integer data type.</span></span> <span data-ttu-id="ae5d5-168">Per altre informazioni, vedere [Miglioramento delle prestazioni di indici full-text](improve-the-performance-of-full-text-indexes.md).</span><span class="sxs-lookup"><span data-stu-id="ae5d5-168">For more information, see [Improve the Performance of Full-Text Indexes](improve-the-performance-of-full-text-indexes.md).</span></span>  
  
-   <span data-ttu-id="ae5d5-169">Priorità della disponibilità online dell'istanza del server</span><span class="sxs-lookup"><span data-stu-id="ae5d5-169">What is the priority for getting your server instance online?</span></span>  
  
     <span data-ttu-id="ae5d5-170">L'importazione o la ricompilazione durante l'aggiornamento richiede l'utilizzo di molte risorse della CPU ritardando in questo modo l'aggiornamento del resto dell'istanza del server e la disponibilità online dell'istanza stessa.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-170">Importing or rebuilding during upgrade takes a lot of CPU resources, which delays getting the rest of the server instance upgraded and online.</span></span> <span data-ttu-id="ae5d5-171">Se la disponibilità online dell'istanza del server è essenziale e si desidera eseguire un popolamento manuale dopo l'aggiornamento, è consigliabile utilizzare l'opzione **Reimposta** .</span><span class="sxs-lookup"><span data-stu-id="ae5d5-171">If getting the server instance online as soon as possible is important and if you are willing to run a manual population after the upgrade, **Reset** is suitable.</span></span>  
  
## <a name="ensuring-consistent-query-results-after-importing-a-sql-server-2005-full-text-index"></a><span data-ttu-id="ae5d5-172">Garanzia di coerenza dei risultati delle query dopo l'importazione di un indice full-text di SQL Server 2005</span><span class="sxs-lookup"><span data-stu-id="ae5d5-172">Ensuring Consistent Query Results after Importing a SQL Server 2005 Full-Text Index</span></span>  
 <span data-ttu-id="ae5d5-173">Se un catalogo full-text viene importato durante l'aggiornamento di un database da [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] a [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], potrebbero verificarsi mancate corrispondenze tra la query e il contenuto dell'indice full-text a causa di differenze nel comportamento dei vecchi e dei nuovi word breaker.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-173">If a full-text catalog was imported when upgrading a [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] database to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], mismatches between the query and the full-text index content might occur because of differences in the behavior of the old and new word breakers.</span></span> <span data-ttu-id="ae5d5-174">In tal caso, per garantire una totale corrispondenza tra le query e il contenuto dell'indice full-text, utilizzare una delle opzioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="ae5d5-174">In this case, to guarantee a total match between queries and the full-text index content, choose one of the following options:</span></span>  
  
-   <span data-ttu-id="ae5d5-175">Ricompilare il catalogo full-text che contiene l'indice full-text ([ALTER FULLTEXT CATALOG](/sql/t-sql/statements/alter-fulltext-catalog-transact-sql)*nome_catalogo* REBUILD)</span><span class="sxs-lookup"><span data-stu-id="ae5d5-175">Rebuild the full-text catalog that contains the full-text index ([ALTER FULLTEXT CATALOG](/sql/t-sql/statements/alter-fulltext-catalog-transact-sql)*catalog_name* REBUILD)</span></span>  
  
-   <span data-ttu-id="ae5d5-176">Eseguire un'istruzione FULL POPULATION sull'indice full-text ([ALTER FULLTEXT INDEX](/sql/t-sql/statements/alter-fulltext-index-transact-sql) ON *nome_tabella* START FULL POPULATION).</span><span class="sxs-lookup"><span data-stu-id="ae5d5-176">Issue a FULL POPULATION on the full-text index ([ALTER FULLTEXT INDEX](/sql/t-sql/statements/alter-fulltext-index-transact-sql) ON *table_name* START FULL POPULATION).</span></span>  
  
 <span data-ttu-id="ae5d5-177">Per altre informazioni sui word breaker, vedere [Configurazione e gestione di word breaker e stemmer per la ricerca](configure-and-manage-word-breakers-and-stemmers-for-search.md).</span><span class="sxs-lookup"><span data-stu-id="ae5d5-177">For more information about word breakers, see [Configure and Manage Word Breakers and Stemmers for Search](configure-and-manage-word-breakers-and-stemmers-for-search.md).</span></span>  
  
## <a name="upgrading-noise-word-files-to-stoplists"></a><span data-ttu-id="ae5d5-178">Aggiornamento di file di parole non significative agli elenchi corrispondenti</span><span class="sxs-lookup"><span data-stu-id="ae5d5-178">Upgrading Noise-Word Files to Stoplists</span></span>  
 <span data-ttu-id="ae5d5-179">I file di parole non significative di [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] sono stati sostituiti da elenchi di parole non significative in [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-179">[!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] noise words have been replaced by stopwords in [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] and later versions.</span></span> <span data-ttu-id="ae5d5-180">Quando un database viene aggiornato a [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] da [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], i file delle parole non significative non vengono più utilizzati.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-180">When a database is upgraded to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] from [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], the noise-word files are no longer used.</span></span> <span data-ttu-id="ae5d5-181">Tali file vengono tuttavia archiviati nella cartella FTDATA\FTNoiseThesaurusBak e possono essere utilizzati in seguito durante l'aggiornamento o la compilazione degli elenchi di parole non significative corrispondenti di [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="ae5d5-181">However, the old noise-word files are stored in the FTDATA\ FTNoiseThesaurusBak folder, and you can use them later when updating or building the corresponding [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] stoplists.</span></span>  
  
 <span data-ttu-id="ae5d5-182">Dopo l'aggiornamento da [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]:</span><span class="sxs-lookup"><span data-stu-id="ae5d5-182">After upgrading from [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]:</span></span>  
  
-   <span data-ttu-id="ae5d5-183">Se nell'installazione di [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]non sono mai stati aggiunti, modificati o eliminati file di parole non significative, l'elenco di parole non significative di sistema dovrebbe soddisfare le esigenze dell'utente.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-183">If you never added, modified, or deleted any noise-word files in your installation of [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], the system stoplist should meet your needs.</span></span>  
  
-   <span data-ttu-id="ae5d5-184">Se i file di parole non significative sono stati modificati in [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], tali modifiche vengono perse durante l'aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-184">If your noise-word files were modified in [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], those modifications are lost during upgrade.</span></span> <span data-ttu-id="ae5d5-185">Per ricreare tali aggiornamenti, è possibile rieseguire manualmente le modifiche apportate nell'elenco di parole non significative di [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] corrispondente.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-185">To re-create those updates, you must manually recreate those modifications in the corresponding [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] stoplist.</span></span> <span data-ttu-id="ae5d5-186">Per altre informazioni, vedere [ALTER FULLTEXT STOPLIST &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-fulltext-stoplist-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="ae5d5-186">For more information, see [ALTER FULLTEXT STOPLIST &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-fulltext-stoplist-transact-sql).</span></span>  
  
-   <span data-ttu-id="ae5d5-187">Se non si desidera applicare alcuna parola non significativa agli indici full-text (ad esempio, se sono stati eliminati o cancellati i file di parole non significative nell'installazione di [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]), è necessario disabilitare l'elenco di parole non significative per ogni indice full-text aggiornato.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-187">If you do not want to apply any stopwords to your full-text indexes (for example, if you deleted or erased your noise-word files in your [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] installation), you must turn off the stoplist for each upgraded full-text index.</span></span> <span data-ttu-id="ae5d5-188">Eseguire l'istruzione [!INCLUDE[tsql](../../includes/tsql-md.md)] riportata di seguito, sostituendo *database* con il nome del database aggiornato e *table* con il nome della *tabella*:</span><span class="sxs-lookup"><span data-stu-id="ae5d5-188">Run the following [!INCLUDE[tsql](../../includes/tsql-md.md)] statement (replacing *database* with the name of the upgraded database and *table* with the name of the *table*):</span></span>  
  
    ```  
    Use database;   
    ALTER FULLTEXT INDEX ON table  
       SET STOPLIST OFF;  
    GO  
    ```  
  
     <span data-ttu-id="ae5d5-189">La clausola STOPLIST OFF rimuove l'applicazione di filtri alle parole non significative e attiva la popolazione della tabella senza filtrare le parole considerate non significative.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-189">The STOPLIST OFF clause removes stop-word filtering, and it will trigger a population of the table, without filtering any words considered to be noise.</span></span>  
  
## <a name="backup-and-imported-full-text-catalogs"></a><span data-ttu-id="ae5d5-190">Backup e cataloghi full-text importati</span><span class="sxs-lookup"><span data-stu-id="ae5d5-190">Backup and Imported Full-Text Catalogs</span></span>  
 <span data-ttu-id="ae5d5-191">Per i cataloghi full-text ricompilati o reimpostati durante l'aggiornamento e per i nuovi cataloghi full-text, il catalogo full-text è un concetto logico e non risiede in un filegroup.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-191">For full-text catalogs that are rebuilt or reset during upgrade (and for new full-text catalogs), the fulltext catalog is a logical concept and does not reside in a filegroup.</span></span> <span data-ttu-id="ae5d5-192">Per eseguire il backup di un catalogo full-text in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], è pertanto necessario identificare ogni filegroup contenente un indice full-text del catalogo ed eseguirne il backup uno alla volta.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-192">Therefore, to back up a full-text catalog in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], you must identify every filegroup that contains a full-text index of the catalog and back each of them up, one by one.</span></span> <span data-ttu-id="ae5d5-193">Per altre informazioni, vedere [Backup e ripristino di indici e cataloghi full-text](back-up-and-restore-full-text-catalogs-and-indexes.md).</span><span class="sxs-lookup"><span data-stu-id="ae5d5-193">For more information, see [Back Up and Restore Full-Text Catalogs and Indexes](back-up-and-restore-full-text-catalogs-and-indexes.md).</span></span>  
  
 <span data-ttu-id="ae5d5-194">I cataloghi full-text importati da [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]rappresentano ancora file di database nel proprio filegroup.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-194">For full-text catalogs that have been imported from [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], the full-text catalog is still a database file in its own filegroup.</span></span> <span data-ttu-id="ae5d5-195">Il processo di backup di [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] continua a essere applicato per i cataloghi full-text ad eccezione del fatto che il servizio MSFTESQL non esiste in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ae5d5-195">The [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] backup process for full-text catalogs still applies except that the MSFTESQL service does not exist in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span></span> <span data-ttu-id="ae5d5-196">Per informazioni sul processo in [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] , vedere [Backup e ripristino di cataloghi full-text](https://go.microsoft.com/fwlink/?LinkId=209154) nella documentazione online di SQL Server 2005.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-196">For information about the [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] process, see [Backing Up and Restoring Full-Text Catalogs](https://go.microsoft.com/fwlink/?LinkId=209154) in SQL Server 2005 Books Online.</span></span>  
  
##  <a name="migrating-full-text-indexes-when-upgrading-a-database-to-sscurrent"></a><a name="Upgrade_Db"></a><span data-ttu-id="ae5d5-197">Migrazione degli indici full-text durante l'aggiornamento di un database a[!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]</span><span class="sxs-lookup"><span data-stu-id="ae5d5-197">Migrating Full-Text Indexes When Upgrading a Database to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]</span></span>  
 <span data-ttu-id="ae5d5-198">I file di database e i cataloghi full-text di una versione precedente di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] possono essere aggiornati a un'istanza del server di [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] esistente mediante il collegamento, il ripristino o la Copia guidata database.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-198">Database files and full-text catalogs from a previous version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] can be upgraded to an existing [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] server instance by using attach, restore, or the Copy Database Wizard.</span></span> [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] <span data-ttu-id="ae5d5-199">Gli indici full-text, se presenti, vengono importati, reimpostati o ricompilati.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-199">full-text indexes, if any, are either imported, reset, or rebuilt.</span></span> <span data-ttu-id="ae5d5-200">La proprietà del server **upgrade_option** consente di controllare l'opzione di aggiornamento full-text usata dall'istanza del server durante questi aggiornamenti del database.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-200">The **upgrade_option** server property controls which full-text upgrade option the server instance uses during these database upgrades.</span></span>  
  
 <span data-ttu-id="ae5d5-201">Una volta collegato, ripristinato o copiato un database di [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], il database viene reso immediatamente disponibile e viene aggiornato automaticamente.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-201">After you attach, restore, or copy any [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] database to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], the database becomes available immediately and is then automatically upgraded.</span></span> <span data-ttu-id="ae5d5-202">A seconda della quantità di dati indicizzati, l'importazione può richiedere diverse ore, mentre la ricompilazione può risultare dieci volte più lunga.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-202">Depending the amount of data being indexed, importing can take several hours, and rebuilding can take up to ten times longer.</span></span> <span data-ttu-id="ae5d5-203">Si noti inoltre che quando l'opzione di aggiornamento è impostata sull'importazione, se non è disponibile un catalogo full-text vengono ricompilati gli indici full-text associati.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-203">Note also that when the upgrade option is set to import, if a full-text catalog is not available, the associated full-text indexes are rebuilt.</span></span>  
  
 <span data-ttu-id="ae5d5-204">**Per modificare il comportamento dell'aggiornamento full-text in un'istanza del server**</span><span class="sxs-lookup"><span data-stu-id="ae5d5-204">**To change full-text upgrade behavior on a server instance**</span></span>  
  
-   [!INCLUDE[tsql](../../includes/tsql-md.md)]<span data-ttu-id="ae5d5-205">: Usare l' **azione \_ opzione di aggiornamento** di [SP \_ FULLTEXT \_ Service](/sql/relational-databases/system-stored-procedures/sp-fulltext-service-transact-sql)</span><span class="sxs-lookup"><span data-stu-id="ae5d5-205">: Use the **upgrade\_option** action of [sp\_fulltext\_service](/sql/relational-databases/system-stored-procedures/sp-fulltext-service-transact-sql)</span></span>  
  
-   [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] <span data-ttu-id="ae5d5-206">**:** Usare l'opzione di **aggiornamento full-text** della finestra di dialogo **Proprietà server** .</span><span class="sxs-lookup"><span data-stu-id="ae5d5-206">**:** Use the **Full-Text Upgrade Option** of the **Server Properties** dialog box.</span></span> <span data-ttu-id="ae5d5-207">Per altre informazioni, vedere [Gestione e monitoraggio della ricerca full-text per un'istanza del server](manage-and-monitor-full-text-search-for-a-server-instance.md).</span><span class="sxs-lookup"><span data-stu-id="ae5d5-207">For more information, see [Manage and Monitor Full-Text Search for a Server Instance](manage-and-monitor-full-text-search-for-a-server-instance.md).</span></span>  
  
##  <a name="considerations-for-restoring-a-ssversion2005-full-text-catalog-to-sscurrent"></a><a name="Considerations_for_Restore"></a> <span data-ttu-id="ae5d5-208">Considerazioni per il ripristino di un catalogo full-text di [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]</span><span class="sxs-lookup"><span data-stu-id="ae5d5-208">Considerations for Restoring a [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] Full-Text Catalog to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]</span></span>  
 <span data-ttu-id="ae5d5-209">Un metodo di aggiornamento dei dati full-text da un database di [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] a [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] consiste nel ripristinare il backup completo di un database in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ae5d5-209">One method of upgrading fulltext data from a [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] database to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] is to restore a full database backup to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span></span>  
  
 <span data-ttu-id="ae5d5-210">Durante l'importazione di un catalogo di [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] è possibile eseguire il backup e ripristinare il file di database e di catalogo.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-210">While importing a [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] full-text catalog, you can back up and restore the database and the catalog file.</span></span> <span data-ttu-id="ae5d5-211">Il comportamento è uguale a quello di [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]:</span><span class="sxs-lookup"><span data-stu-id="ae5d5-211">The behavior is the same as in [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]:</span></span>  
  
-   <span data-ttu-id="ae5d5-212">Il backup completo del database includerà il catalogo full-text.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-212">The full database backup will include the full-text catalog.</span></span> <span data-ttu-id="ae5d5-213">Per fare riferimento al catalogo full-text, usare il relativo nome file di [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] , sysft_+*nome-catalogo*.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-213">To refer to the full-text catalog, use its [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] file name, sysft_+*catalog-name*.</span></span>  
  
-   <span data-ttu-id="ae5d5-214">Se il catalogo full-text è offline, il backup non verrà eseguito correttamente.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-214">If the full-text catalog is offline, the backup will fail.</span></span>  
  
 <span data-ttu-id="ae5d5-215">Per altre informazioni sul backup e il ripristino dei cataloghi full-text di [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] , vedere [Backup e ripristino di cataloghi full-text](https://go.microsoft.com/fwlink/?LinkId=121052) e [Backup e ripristino di file e cataloghi full-text](https://go.microsoft.com/fwlink/?LinkId=121053)nella documentazione online di [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="ae5d5-215">For more information about backing up and restoring [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] full-text catalogs, see [Backing Up and Restoring Full-Text Catalogs](https://go.microsoft.com/fwlink/?LinkId=121052) and [File Backup and Restore and Full-Text Catalogs](https://go.microsoft.com/fwlink/?LinkId=121053)in [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] Books Online.</span></span>  
  
 <span data-ttu-id="ae5d5-216">Quando viene ripristinato il database in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], viene creato un nuovo file di database per il catalogo full-text.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-216">When the database is restored on [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], a new database file will be created for the full-text catalog.</span></span> <span data-ttu-id="ae5d5-217">Il nome predefinito di questo file è ftrow_*nome-catalogo*.ndf.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-217">The default name of this file is ftrow_*catalog-name*.ndf.</span></span> <span data-ttu-id="ae5d5-218">Se ad esempio *nome-catalogo* è `cat1`, il nome predefinito del database di [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] sarà `ftrow_cat1.ndf`.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-218">For example, if you *catalog-name* is `cat1`, the default name of the [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] database file would be `ftrow_cat1.ndf`.</span></span> <span data-ttu-id="ae5d5-219">Tuttavia, se il nome predefinito è già in uso nella directory di destinazione, il nuovo file di database sarà denominato nome `ftrow_` *-Catalogo-* `{` *GUID* `}.ndf` , dove *GUID* è l'identificatore univoco globale del nuovo file.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-219">But if the default name is already being used in the target directory, the new database file would be named `ftrow_`*catalog-name*`{`*GUID*`}.ndf`, where *GUID* is the Globally Unique Identifier of the new file.</span></span>  
  
 <span data-ttu-id="ae5d5-220">Dopo l'importazione dei cataloghi, **sys.database_files** e **sys.master_files**vengono aggiornati in modo da rimuovere le voci di catalogo e la colonna **path** in **sys.fulltext_catalogs** viene impostata su NULL.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-220">After the catalogs have been imported, the **sys.database_files** and **sys.master_file**s are updated to remove the catalog entries and the **path** column in **sys.fulltext_catalogs** is set to NULL.</span></span>  
  
 <span data-ttu-id="ae5d5-221">**Per eseguire il backup di un database**</span><span class="sxs-lookup"><span data-stu-id="ae5d5-221">**To back up a database**</span></span>  
  
-   [<span data-ttu-id="ae5d5-222">Backup completo del database &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="ae5d5-222">Full Database Backups &#40;SQL Server&#41;</span></span>](../backup-restore/full-database-backups-sql-server.md)  
  
-   <span data-ttu-id="ae5d5-223">[Backup del Log delle transazioni & #40;SQL Server & #41;](../backup-restore/transaction-log-backups-sql-server.md) (solo modello di recupero con registrazione completa)</span><span class="sxs-lookup"><span data-stu-id="ae5d5-223">[Transaction Log Backups &#40;SQL Server&#41;](../backup-restore/transaction-log-backups-sql-server.md) (full recovery model only)</span></span>  
  
 <span data-ttu-id="ae5d5-224">**Per ripristinare un backup del database**</span><span class="sxs-lookup"><span data-stu-id="ae5d5-224">**To restore a database backup**</span></span>  
  
-   [<span data-ttu-id="ae5d5-225">Ripristini di database completi &#40;modello di recupero con registrazione minima&#41;</span><span class="sxs-lookup"><span data-stu-id="ae5d5-225">Complete Database Restores &#40;Simple Recovery Model&#41;</span></span>](../backup-restore/complete-database-restores-simple-recovery-model.md)  
  
-   [<span data-ttu-id="ae5d5-226">Ripristini di database completi &#40;modello di recupero con registrazione completa&#41;</span><span class="sxs-lookup"><span data-stu-id="ae5d5-226">Complete Database Restores &#40;Full Recovery Model&#41;</span></span>](../backup-restore/complete-database-restores-full-recovery-model.md)  
  
### <a name="example"></a><span data-ttu-id="ae5d5-227">Esempio</span><span class="sxs-lookup"><span data-stu-id="ae5d5-227">Example</span></span>  
 <span data-ttu-id="ae5d5-228">Nell'esempio seguente viene utilizzata la clausola MOVE nell'istruzione [RESTORE](/sql/t-sql/statements/restore-statements-transact-sql) per ripristinare un database di [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] denominato `ftdb1`.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-228">The following example uses the MOVE clause in the [RESTORE](/sql/t-sql/statements/restore-statements-transact-sql) statement, to restore a [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] database named `ftdb1`.</span></span> <span data-ttu-id="ae5d5-229">I file di database, di log e di catalogo di [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] vengono spostati nei nuovi percorsi nell'istanza del server di [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] , come segue:</span><span class="sxs-lookup"><span data-stu-id="ae5d5-229">The [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] database, log, and catalog files are moved to new locations on the [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] server instance, as follows:</span></span>  
  
-   <span data-ttu-id="ae5d5-230">Il file di database, `ftdb1.mdf`, viene spostato in `C:\Program Files\Microsoft SQL Server\MSSQL.1MSSQL12.MSSQLSERVER\MSSQL\DATA\ftdb1.mdf`.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-230">The database file, `ftdb1.mdf`, is moved to `C:\Program Files\Microsoft SQL Server\MSSQL.1MSSQL12.MSSQLSERVER\MSSQL\DATA\ftdb1.mdf`.</span></span>  
  
-   <span data-ttu-id="ae5d5-231">Il file di log, `ftdb1_log.ldf` , viene spostato in una directory di log nell'unità disco di log, *log_drive* `:\` *log_directory* `\ftdb1_log.ldf` .</span><span class="sxs-lookup"><span data-stu-id="ae5d5-231">The log file, `ftdb1_log.ldf`, is moved to a log directory on your log disk drive, *log_drive*`:\`*log_directory*`\ftdb1_log.ldf`.</span></span>  
  
-   <span data-ttu-id="ae5d5-232">I file di catalogo che corrispondono al catalogo `sysft_cat90` vengono spostati in `C:\temp`.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-232">The catalog files that correspond to the `sysft_cat90` catalog are moved to `C:\temp`.</span></span> <span data-ttu-id="ae5d5-233">Dopo essere stati importati, gli indici full-text vengono automaticamente posizionati in un file di database, C:\ftrow_sysft_cat90.ndf, e C:\temp verrà eliminato.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-233">After the full-text indexes are imported, they will automatically be placed in a database file, C:\ftrow_sysft_cat90.ndf, and the C:\temp will be deleted.</span></span>  
  
```  
RESTORE DATABASE [ftdb1] FROM  DISK = N'C:\temp\ftdb1.bak' WITH  FILE = 1,  
   MOVE N'ftdb1' TO N'C:\Program Files\Microsoft SQL Server\MSSQL12.MSSQLSERVER\MSSQL\DATA\ftdb1.mdf',  
    MOVE N'ftdb1_log' TO N'log_drive:\log_directory\ftdb1_log.ldf',  
    MOVE N'sysft_cat90' TO N'C:\temp';  
```  
  
##  <a name="attaching-a-sql-server-2005-database-to-sscurrent"></a><a name="Attaching_2005_ft_catalogs"></a><span data-ttu-id="ae5d5-234">Connessione di un database SQL Server 2005 a[!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]</span><span class="sxs-lookup"><span data-stu-id="ae5d5-234">Attaching a SQL Server 2005 Database to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]</span></span>  
 <span data-ttu-id="ae5d5-235">In [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] e versioni successive, un catalogo full-text è un concetto logico che fa riferimento a un gruppo di indici full-text.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-235">In [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] and later versions, a full-text catalog is a logical concept that refers to a group of full-text indexes.</span></span> <span data-ttu-id="ae5d5-236">Il catalogo full-text è un oggetto virtuale che non appartiene ad alcun filegroup.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-236">The full-text catalog is a virtual object that does not belong to any filegroup.</span></span> <span data-ttu-id="ae5d5-237">Tuttavia, quando si collega un database di [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] contenente file di cataloghi full-text in un'istanza del server di [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] , i file di catalogo vengono collegati dal percorso precedente insieme agli altri file del database, come in [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ae5d5-237">However, when you attach a [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] database that contains full-text catalog files onto a [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] server instance, the catalog files are attached from their previous location along with the other database files, the same as in [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)].</span></span>  
  
 <span data-ttu-id="ae5d5-238">Lo stato di ogni catalogo full-text collegato in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] corrisponde a quello di quando il database è scollegato da [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ae5d5-238">The state of each attached full-text catalog on [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] is the same as when the database was detached from [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)].</span></span> <span data-ttu-id="ae5d5-239">Se il popolamento dell'indice full-text è stato sospeso mediante un'operazione di scollegamento, esso viene ripreso in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]e l'indice full-text viene reso disponibile per la ricerca full-text.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-239">If any full-text index population was suspended by the detach operation, the population is resumed on [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], and the full-text index becomes available for full-text search.</span></span>  
  
 <span data-ttu-id="ae5d5-240">Se in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] non è possibile trovare un file del catalogo full-text o se il file full-text è stato spostato durante l'operazione di collegamento senza specificare un nuovo percorso, il comportamento dipende dall'opzione di aggiornamento full-text selezionata.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-240">If [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] cannot find a full-text catalog file or if the full-text file was moved during the attach operation without specifying a new location, the behavior depends on the selected full-text upgrade option.</span></span> <span data-ttu-id="ae5d5-241">Se l'opzione di aggiornamento full-text è **Importa** o **Ricompila**, il catalogo full-text collegato viene ricompilato.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-241">If the full-text upgrade option is **Import** or **Rebuild**, the attached full-text catalog is rebuilt.</span></span> <span data-ttu-id="ae5d5-242">Se l'opzione di aggiornamento full-text è **Reimposta**, il catalogo full-text collegato viene reimpostato.</span><span class="sxs-lookup"><span data-stu-id="ae5d5-242">If the full-text upgrade option is **Reset**, the attached full-text catalog is reset.</span></span>  
  
 <span data-ttu-id="ae5d5-243">Per altre informazioni sul collegamento e scollegamento di un database, vedere [Collegamento e scollegamento di un database &#40;SQL Server&#41;](../databases/database-detach-and-attach-sql-server.md), [CREATE DATABASE &#40;SQL Server Transact-SQL&#41;](/sql/t-sql/statements/create-database-sql-server-transact-sql), [sp_attach_db](/sql/relational-databases/system-stored-procedures/sp-attach-db-transact-sql) e [sp_detach_db &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-detach-db-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="ae5d5-243">For more information about detaching and attaching a database, see [Database Detach and Attach &#40;SQL Server&#41;](../databases/database-detach-and-attach-sql-server.md), [CREATE DATABASE &#40;SQL Server Transact-SQL&#41;](/sql/t-sql/statements/create-database-sql-server-transact-sql), [sp_attach_db](/sql/relational-databases/system-stored-procedures/sp-attach-db-transact-sql), and [sp_detach_db &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-detach-db-transact-sql).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ae5d5-244">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="ae5d5-244">See Also</span></span>  
 <span data-ttu-id="ae5d5-245">[Introduzione alla ricerca full-text](get-started-with-full-text-search.md) </span><span class="sxs-lookup"><span data-stu-id="ae5d5-245">[Get Started with Full-Text Search](get-started-with-full-text-search.md) </span></span>  
 <span data-ttu-id="ae5d5-246">[Configurare e gestire Word breaker e stemmer per la ricerca](configure-and-manage-word-breakers-and-stemmers-for-search.md) </span><span class="sxs-lookup"><span data-stu-id="ae5d5-246">[Configure and Manage Word Breakers and Stemmers for Search](configure-and-manage-word-breakers-and-stemmers-for-search.md) </span></span>  
 [<span data-ttu-id="ae5d5-247">Configurare e gestire filtri per la ricerca</span><span class="sxs-lookup"><span data-stu-id="ae5d5-247">Configure and Manage Filters for Search</span></span>](configure-and-manage-filters-for-search.md)  
  
  
