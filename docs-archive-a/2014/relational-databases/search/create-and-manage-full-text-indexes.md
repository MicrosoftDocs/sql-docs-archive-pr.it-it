---
title: Creare e gestire indici full-text | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: search
ms.topic: conceptual
helpviewer_keywords:
- full-text indexes [SQL Server], about
ms.assetid: f8a98486-5438-44a8-b454-9e6ecbc74f83
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 603b5e6b929259dc8b1408c0c2a1afab383446e1
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87716216"
---
# <a name="create-and-manage-full-text-indexes"></a><span data-ttu-id="d828e-102">Creazione e gestione di indici full-text</span><span class="sxs-lookup"><span data-stu-id="d828e-102">Create and Manage Full-Text Indexes</span></span>
  <span data-ttu-id="d828e-103">Le informazioni contenute negli indici full-text vengono utilizzate dal motore di ricerca full-text per compilare query full-text che consentono di cercare rapidamente parole o combinazioni di parole specifiche in una tabella.</span><span class="sxs-lookup"><span data-stu-id="d828e-103">The information in full-text indexes is used by the Full-Text Engine to compile full-text queries that can quickly search a table for particular words or combinations of words.</span></span> <span data-ttu-id="d828e-104">In un indice full-text vengono archiviate informazioni su parole significative e sulla relativa posizione all'interno di una o più colonne di una tabella di database.</span><span class="sxs-lookup"><span data-stu-id="d828e-104">A full-text index stores information about significant words and their location within one or more columns of a database table.</span></span> <span data-ttu-id="d828e-105">Un indice full-text è un tipo speciale di indice funzionale basato su token compilato e gestito dal motore di ricerca full-text per [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d828e-105">A full-text index is a special type of token-based functional index that is built and maintained by the Full-Text Engine for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="d828e-106">Il processo di compilazione di un indice full-text è diverso da quello di altri tipi di indici.</span><span class="sxs-lookup"><span data-stu-id="d828e-106">The process of building a full-text index differs from building other types of indexes.</span></span> <span data-ttu-id="d828e-107">Anziché creare un albero B basato su un valore archiviato in una riga specifica, il motore di ricerca full-text compila una struttura con indice invertito, compresso e in pila dai singoli token dal testo indicizzato.</span><span class="sxs-lookup"><span data-stu-id="d828e-107">Instead of constructing a B-tree structure based on a value stored in a particular row, the Full-Text Engine builds an inverted, stacked, compressed index structure based on individual tokens from the text being indexed.</span></span>  <span data-ttu-id="d828e-108">Le dimensioni di un indice full-text sono limitate solo dalle risorse di memoria disponibili del computer in cui viene eseguita l'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="d828e-108">The size of a full-text index is limited only by the available memory resources of the computer on which the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is running.</span></span>  
  
 <span data-ttu-id="d828e-109">A partire da [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)]gli indici full-text sono integrati nel Motore di database anziché risiedere nel file system come nelle versioni precedenti di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d828e-109">Beginning in [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)], the full-text indexes are integrated with the Database Engine, instead of residing in the file system as in previous versions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="d828e-110">Per un nuovo database, il catalogo full-text è ora un oggetto virtuale che non appartiene ad alcun filegroup. Si tratta semplicemente di un concetto logico che fa riferimento a un gruppo di indici full-text.</span><span class="sxs-lookup"><span data-stu-id="d828e-110">For a new database, the full-text catalog is now a virtual object that does not belong to any filegroup; it is merely a logical concept that refers to a group of the full-text indexes.</span></span> <span data-ttu-id="d828e-111">Si noti tuttavia che durante l'aggiornamento di un database di [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] , ovvero qualsiasi catalogo full-text contenente file di dati, viene creato un nuovo filegroup. Per altre informazioni, vedere [Aggiornamento della ricerca full-text](upgrade-full-text-search.md).</span><span class="sxs-lookup"><span data-stu-id="d828e-111">Note, however, that during upgrade of a [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] database, any full-text catalog that contains data files, a new filegroup is created; for more information, see [Upgrade Full-Text Search](upgrade-full-text-search.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="d828e-112">In [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] e versioni successive, il motore di ricerca full-text si trova nel processo di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] anziché in un servizio distinto.</span><span class="sxs-lookup"><span data-stu-id="d828e-112">In [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] and later versions, the Full-Text Engine resides in the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] process, rather than in a separate service.</span></span> <span data-ttu-id="d828e-113">L'integrazione del motore di ricerca full-text nel Motore di database consente di ottimizzare la gestibilità della ricerca full-text, l'esecuzione delle query miste e le prestazioni generali.</span><span class="sxs-lookup"><span data-stu-id="d828e-113">Integrating the Full-Text Engine into the Database Engine improves full-text manageability, optimization of mixed query, and overall performance.</span></span>  
  
 <span data-ttu-id="d828e-114">È consentito un solo indice full-text per tabella.</span><span class="sxs-lookup"><span data-stu-id="d828e-114">Only one full-text index is allowed per table.</span></span> <span data-ttu-id="d828e-115">Per creare un indice full-text su una tabella, quest'ultima deve contenere una colonna singola, univoca e non Null.</span><span class="sxs-lookup"><span data-stu-id="d828e-115">For a full-text index to be created on a table, the table must have a single, unique nonnull column.</span></span> <span data-ttu-id="d828e-116">È possibile compilare un indice full-text su colonne di tipo `char`, `varchar`, `nchar`, `nvarchar`, `text`, `ntext`, `image`, `xml`, `varbinary` e `varbinary(max)` che possono essere indicizzate per la ricerca full-text.</span><span class="sxs-lookup"><span data-stu-id="d828e-116">You can build a full-text index on columns of type `char`, `varchar`, `nchar`, `nvarchar`, `text`, `ntext`, `image`, `xml`, `varbinary`, and `varbinary(max)` can be indexed for full-text search.</span></span> <span data-ttu-id="d828e-117">La creazione di un indice full-text in colonne con tipo di dati `varbinary`, `varbinary(max)`o `image` o `xml` richiede la specifica di una colonna del tipo.</span><span class="sxs-lookup"><span data-stu-id="d828e-117">Creating a full-text index on a column whose data type is  `varbinary`, `varbinary(max)`, `image`, or `xml` requires that you specify a type column.</span></span> <span data-ttu-id="d828e-118">Una *colonna del tipo* è una colonna di tabella in cui è possibile archiviare l'estensione file (doc, pdf, xls e così via) del documento in ogni riga.</span><span class="sxs-lookup"><span data-stu-id="d828e-118">A *type column* is a table column in which you store the file extension (.doc, .pdf, .xls, and so forth) of the document in each row.</span></span>  
  
 <span data-ttu-id="d828e-119">Il processo di creazione e gestione di un indice full-text è definito *popolamento* (noto anche come *ricerca per indicizzazione*).</span><span class="sxs-lookup"><span data-stu-id="d828e-119">The process of creating and maintaining a full-text index is called a *population* (also known as a *crawl*).</span></span> <span data-ttu-id="d828e-120">Sono disponibili tre tipi di popolamento dell'indice full-text: popolamento completo, popolamento basato sul rilevamento delle modifiche e popolamento incrementale basato su timestamp.</span><span class="sxs-lookup"><span data-stu-id="d828e-120">There are three types of full-text index population: full population, change tracking-based population, and incremental timestamp-based population.</span></span> <span data-ttu-id="d828e-121">Per altre informazioni sugli indici full-text, vedere [Popolamento degli indici full-text](populate-full-text-indexes.md).</span><span class="sxs-lookup"><span data-stu-id="d828e-121">For more information, see [Populate Full-Text Indexes](populate-full-text-indexes.md).</span></span>  
  
##  <a name="common-tasks"></a><a name="tasks"></a><span data-ttu-id="d828e-122">Attività comuni</span><span class="sxs-lookup"><span data-stu-id="d828e-122">Common Tasks</span></span>  
 <span data-ttu-id="d828e-123">**Per creare un indice full-text**</span><span class="sxs-lookup"><span data-stu-id="d828e-123">**To create a full-text index**</span></span>  
  
-   [<span data-ttu-id="d828e-124">CREATE FULLTEXT INDEX &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="d828e-124">CREATE FULLTEXT INDEX &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/create-fulltext-index-transact-sql)  
  
 <span data-ttu-id="d828e-125">**Per modificare un indice full-text**</span><span class="sxs-lookup"><span data-stu-id="d828e-125">**To alter a full-text index**</span></span>  
  
-   [<span data-ttu-id="d828e-126">ALTER FULLTEXT INDEX &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="d828e-126">ALTER FULLTEXT INDEX &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/alter-fulltext-index-transact-sql)  
  
 <span data-ttu-id="d828e-127">**Per eliminare un indice full-text**</span><span class="sxs-lookup"><span data-stu-id="d828e-127">**To drop a full-text index**</span></span>  
  
-   [<span data-ttu-id="d828e-128">DROP FULLTEXT INDEX &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="d828e-128">DROP FULLTEXT INDEX &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/drop-fulltext-index-transact-sql)  
  
 [<span data-ttu-id="d828e-129">Contenuto dell'articolo</span><span class="sxs-lookup"><span data-stu-id="d828e-129">In This Topic</span></span>](#top)  
  
##  <a name="full-text-index-structure"></a><a name="structure"></a><span data-ttu-id="d828e-130">Struttura dell'indice full-text</span><span class="sxs-lookup"><span data-stu-id="d828e-130">Full-Text Index Structure</span></span>  
 <span data-ttu-id="d828e-131">Comprendere a fondo la struttura di un indice full-text è fondamentale per comprendere il funzionamento del motore di ricerca full-text.</span><span class="sxs-lookup"><span data-stu-id="d828e-131">A good understanding of the structure of a full-text index will help you understand how the Full-Text Engine works.</span></span> <span data-ttu-id="d828e-132">In questo argomento viene usato come esempio l'estratto seguente della tabella **Document** in [!INCLUDE[ssSampleDBCoShort](../../includes/sssampledbcoshort-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="d828e-132">This topic uses the following excerpt of the **Document** table in [!INCLUDE[ssSampleDBCoShort](../../includes/sssampledbcoshort-md.md)] as an example table.</span></span> <span data-ttu-id="d828e-133">In questo estratto sono visualizzate solo due colonne, la colonna **DocumentID** e la colonna **Title** , e tre righe della tabella.</span><span class="sxs-lookup"><span data-stu-id="d828e-133">This excerpt shows only two columns, the **DocumentID** column and the **Title** column, and three rows from the table.</span></span>  
  
 <span data-ttu-id="d828e-134">In questo esempio si suppone che nella colonna **Title** sia stato creato un indice full-text.</span><span class="sxs-lookup"><span data-stu-id="d828e-134">For this example, we will assume that a full-text index has been created on the **Title** column.</span></span>  
  
|<span data-ttu-id="d828e-135">DocumentID</span><span class="sxs-lookup"><span data-stu-id="d828e-135">DocumentID</span></span>|<span data-ttu-id="d828e-136">Titolo</span><span class="sxs-lookup"><span data-stu-id="d828e-136">Title</span></span>|  
|----------------|-----------|  
|<span data-ttu-id="d828e-137">1</span><span class="sxs-lookup"><span data-stu-id="d828e-137">1</span></span>|<span data-ttu-id="d828e-138">Crank Arm and Tire Maintenance</span><span class="sxs-lookup"><span data-stu-id="d828e-138">Crank Arm and Tire Maintenance</span></span>|  
|<span data-ttu-id="d828e-139">2</span><span class="sxs-lookup"><span data-stu-id="d828e-139">2</span></span>|<span data-ttu-id="d828e-140">Front Reflector Bracket and Reflector Assembly 3</span><span class="sxs-lookup"><span data-stu-id="d828e-140">Front Reflector Bracket and Reflector Assembly 3</span></span>|  
|<span data-ttu-id="d828e-141">3</span><span class="sxs-lookup"><span data-stu-id="d828e-141">3</span></span>|<span data-ttu-id="d828e-142">Front Reflector Bracket Installation</span><span class="sxs-lookup"><span data-stu-id="d828e-142">Front Reflector Bracket Installation</span></span>|  
  
 <span data-ttu-id="d828e-143">Nella tabella seguente, Fragment 1, viene illustrato il contenuto dell'indice full-text creato nella colonna **Title** della tabella **Document** .</span><span class="sxs-lookup"><span data-stu-id="d828e-143">For example, the following table, which shows Fragment 1, depicts the contents of the full-text index created on the **Title** column of the **Document** table.</span></span> <span data-ttu-id="d828e-144">Gli indici full-text contengono più informazioni rispetto a quelle riportate in questa tabella.</span><span class="sxs-lookup"><span data-stu-id="d828e-144">Full-text indexes contain more information than is presented in this table.</span></span> <span data-ttu-id="d828e-145">La tabella è una rappresentazione logica di un indice full-text e ha solo scopo illustrativo.</span><span class="sxs-lookup"><span data-stu-id="d828e-145">The table is a logical representation of a full-text index and is provided for demonstration purposes only.</span></span> <span data-ttu-id="d828e-146">Per ottimizzare l'utilizzo del disco, le righe vengono archiviate in un formato compresso.</span><span class="sxs-lookup"><span data-stu-id="d828e-146">The rows are stored in a compressed format to optimize disk usage.</span></span>  
  
 <span data-ttu-id="d828e-147">Si noti che i dati sono stati invertiti dai documenti originali.</span><span class="sxs-lookup"><span data-stu-id="d828e-147">Notice that the data has been inverted from the original documents.</span></span> <span data-ttu-id="d828e-148">Questa inversione è dovuta al fatto che per le parole chiave viene eseguito il mapping agli ID documento.</span><span class="sxs-lookup"><span data-stu-id="d828e-148">Inversion occurs because the keywords are mapped to the document IDs.</span></span> <span data-ttu-id="d828e-149">Per questo motivo, un indice full-text viene spesso definito come un indice invertito.</span><span class="sxs-lookup"><span data-stu-id="d828e-149">For this reason, a full-text index is often referred to as an inverted index.</span></span>  
  
 <span data-ttu-id="d828e-150">Si noti inoltre che la parola chiave "and" è stata rimossa dall'indice full-text,</span><span class="sxs-lookup"><span data-stu-id="d828e-150">Also notice that the keyword "and" has been removed from the full-text index.</span></span> <span data-ttu-id="d828e-151">trattandosi di una parola non significativa, e che la rimozione di tali parole da un indice full-text può contribuire a risparmiare spazio su disco, migliorando di conseguenza le prestazioni delle query.</span><span class="sxs-lookup"><span data-stu-id="d828e-151">This is done because "and" is a stopword, and removing stopwords from a full-text index can lead to substantial savings in disk space thereby improving query performance.</span></span> <span data-ttu-id="d828e-152">Per altre informazioni sulle parole non significative e sugli elenchi di parole non significative, vedere [Configurare e gestire parole non significative ed elenchi di parole non significative per la ricerca full-text](configure-and-manage-stopwords-and-stoplists-for-full-text-search.md).</span><span class="sxs-lookup"><span data-stu-id="d828e-152">For more information about stopwords, see [Configure and Manage Stopwords and Stoplists for Full-Text Search](configure-and-manage-stopwords-and-stoplists-for-full-text-search.md).</span></span>  
  
 <span data-ttu-id="d828e-153">**Frammento 1**</span><span class="sxs-lookup"><span data-stu-id="d828e-153">**Fragment 1**</span></span>  
  
|<span data-ttu-id="d828e-154">Parola chiave</span><span class="sxs-lookup"><span data-stu-id="d828e-154">Keyword</span></span>|<span data-ttu-id="d828e-155">ColId</span><span class="sxs-lookup"><span data-stu-id="d828e-155">ColId</span></span>|<span data-ttu-id="d828e-156">DocId</span><span class="sxs-lookup"><span data-stu-id="d828e-156">DocId</span></span>|<span data-ttu-id="d828e-157">Occorrenza</span><span class="sxs-lookup"><span data-stu-id="d828e-157">Occurrence</span></span>|  
|-------------|-----------|-----------|----------------|  
|<span data-ttu-id="d828e-158">Crank</span><span class="sxs-lookup"><span data-stu-id="d828e-158">Crank</span></span>|<span data-ttu-id="d828e-159">1</span><span class="sxs-lookup"><span data-stu-id="d828e-159">1</span></span>|<span data-ttu-id="d828e-160">1</span><span class="sxs-lookup"><span data-stu-id="d828e-160">1</span></span>|<span data-ttu-id="d828e-161">1</span><span class="sxs-lookup"><span data-stu-id="d828e-161">1</span></span>|  
|<span data-ttu-id="d828e-162">Arm</span><span class="sxs-lookup"><span data-stu-id="d828e-162">Arm</span></span>|<span data-ttu-id="d828e-163">1</span><span class="sxs-lookup"><span data-stu-id="d828e-163">1</span></span>|<span data-ttu-id="d828e-164">1</span><span class="sxs-lookup"><span data-stu-id="d828e-164">1</span></span>|<span data-ttu-id="d828e-165">2</span><span class="sxs-lookup"><span data-stu-id="d828e-165">2</span></span>|  
|<span data-ttu-id="d828e-166">Tire</span><span class="sxs-lookup"><span data-stu-id="d828e-166">Tire</span></span>|<span data-ttu-id="d828e-167">1</span><span class="sxs-lookup"><span data-stu-id="d828e-167">1</span></span>|<span data-ttu-id="d828e-168">1</span><span class="sxs-lookup"><span data-stu-id="d828e-168">1</span></span>|<span data-ttu-id="d828e-169">4</span><span class="sxs-lookup"><span data-stu-id="d828e-169">4</span></span>|  
|<span data-ttu-id="d828e-170">Manutenzione</span><span class="sxs-lookup"><span data-stu-id="d828e-170">Maintenance</span></span>|<span data-ttu-id="d828e-171">1</span><span class="sxs-lookup"><span data-stu-id="d828e-171">1</span></span>|<span data-ttu-id="d828e-172">1</span><span class="sxs-lookup"><span data-stu-id="d828e-172">1</span></span>|<span data-ttu-id="d828e-173">5</span><span class="sxs-lookup"><span data-stu-id="d828e-173">5</span></span>|  
|<span data-ttu-id="d828e-174">Front</span><span class="sxs-lookup"><span data-stu-id="d828e-174">Front</span></span>|<span data-ttu-id="d828e-175">1</span><span class="sxs-lookup"><span data-stu-id="d828e-175">1</span></span>|<span data-ttu-id="d828e-176">2</span><span class="sxs-lookup"><span data-stu-id="d828e-176">2</span></span>|<span data-ttu-id="d828e-177">1</span><span class="sxs-lookup"><span data-stu-id="d828e-177">1</span></span>|  
|<span data-ttu-id="d828e-178">Front</span><span class="sxs-lookup"><span data-stu-id="d828e-178">Front</span></span>|<span data-ttu-id="d828e-179">1</span><span class="sxs-lookup"><span data-stu-id="d828e-179">1</span></span>|<span data-ttu-id="d828e-180">3</span><span class="sxs-lookup"><span data-stu-id="d828e-180">3</span></span>|<span data-ttu-id="d828e-181">1</span><span class="sxs-lookup"><span data-stu-id="d828e-181">1</span></span>|  
|<span data-ttu-id="d828e-182">Reflector</span><span class="sxs-lookup"><span data-stu-id="d828e-182">Reflector</span></span>|<span data-ttu-id="d828e-183">1</span><span class="sxs-lookup"><span data-stu-id="d828e-183">1</span></span>|<span data-ttu-id="d828e-184">2</span><span class="sxs-lookup"><span data-stu-id="d828e-184">2</span></span>|<span data-ttu-id="d828e-185">2</span><span class="sxs-lookup"><span data-stu-id="d828e-185">2</span></span>|  
|<span data-ttu-id="d828e-186">Reflector</span><span class="sxs-lookup"><span data-stu-id="d828e-186">Reflector</span></span>|<span data-ttu-id="d828e-187">1</span><span class="sxs-lookup"><span data-stu-id="d828e-187">1</span></span>|<span data-ttu-id="d828e-188">2</span><span class="sxs-lookup"><span data-stu-id="d828e-188">2</span></span>|<span data-ttu-id="d828e-189">5</span><span class="sxs-lookup"><span data-stu-id="d828e-189">5</span></span>|  
|<span data-ttu-id="d828e-190">Reflector</span><span class="sxs-lookup"><span data-stu-id="d828e-190">Reflector</span></span>|<span data-ttu-id="d828e-191">1</span><span class="sxs-lookup"><span data-stu-id="d828e-191">1</span></span>|<span data-ttu-id="d828e-192">3</span><span class="sxs-lookup"><span data-stu-id="d828e-192">3</span></span>|<span data-ttu-id="d828e-193">2</span><span class="sxs-lookup"><span data-stu-id="d828e-193">2</span></span>|  
|<span data-ttu-id="d828e-194">Bracket</span><span class="sxs-lookup"><span data-stu-id="d828e-194">Bracket</span></span>|<span data-ttu-id="d828e-195">1</span><span class="sxs-lookup"><span data-stu-id="d828e-195">1</span></span>|<span data-ttu-id="d828e-196">2</span><span class="sxs-lookup"><span data-stu-id="d828e-196">2</span></span>|<span data-ttu-id="d828e-197">3</span><span class="sxs-lookup"><span data-stu-id="d828e-197">3</span></span>|  
|<span data-ttu-id="d828e-198">Bracket</span><span class="sxs-lookup"><span data-stu-id="d828e-198">Bracket</span></span>|<span data-ttu-id="d828e-199">1</span><span class="sxs-lookup"><span data-stu-id="d828e-199">1</span></span>|<span data-ttu-id="d828e-200">3</span><span class="sxs-lookup"><span data-stu-id="d828e-200">3</span></span>|<span data-ttu-id="d828e-201">3</span><span class="sxs-lookup"><span data-stu-id="d828e-201">3</span></span>|  
|<span data-ttu-id="d828e-202">Assembly</span><span class="sxs-lookup"><span data-stu-id="d828e-202">Assembly</span></span>|<span data-ttu-id="d828e-203">1</span><span class="sxs-lookup"><span data-stu-id="d828e-203">1</span></span>|<span data-ttu-id="d828e-204">2</span><span class="sxs-lookup"><span data-stu-id="d828e-204">2</span></span>|<span data-ttu-id="d828e-205">6</span><span class="sxs-lookup"><span data-stu-id="d828e-205">6</span></span>|  
|<span data-ttu-id="d828e-206">3</span><span class="sxs-lookup"><span data-stu-id="d828e-206">3</span></span>|<span data-ttu-id="d828e-207">1</span><span class="sxs-lookup"><span data-stu-id="d828e-207">1</span></span>|<span data-ttu-id="d828e-208">2</span><span class="sxs-lookup"><span data-stu-id="d828e-208">2</span></span>|<span data-ttu-id="d828e-209">7</span><span class="sxs-lookup"><span data-stu-id="d828e-209">7</span></span>|  
|<span data-ttu-id="d828e-210">Installazione</span><span class="sxs-lookup"><span data-stu-id="d828e-210">Installation</span></span>|<span data-ttu-id="d828e-211">1</span><span class="sxs-lookup"><span data-stu-id="d828e-211">1</span></span>|<span data-ttu-id="d828e-212">3</span><span class="sxs-lookup"><span data-stu-id="d828e-212">3</span></span>|<span data-ttu-id="d828e-213">4</span><span class="sxs-lookup"><span data-stu-id="d828e-213">4</span></span>|  
  
 <span data-ttu-id="d828e-214">La colonna **Parola chiave** contiene la rappresentazione di un singolo token estratto al momento dell'indicizzazione.</span><span class="sxs-lookup"><span data-stu-id="d828e-214">The **Keyword** column contains a representation of a single token extracted at indexing time.</span></span> <span data-ttu-id="d828e-215">I word breaker stabiliscono il modo in cui un token viene determinato.</span><span class="sxs-lookup"><span data-stu-id="d828e-215">Word breakers determine what makes up a token.</span></span>  
  
 <span data-ttu-id="d828e-216">La colonna **ColId** contiene un valore che corrisponde a una particolare colonna con indicizzazione full-text.</span><span class="sxs-lookup"><span data-stu-id="d828e-216">The **ColId** column contains a value that corresponds to a particular column that is full-text indexed.</span></span>  
  
 <span data-ttu-id="d828e-217">La `DocId` colonna contiene valori per un numero intero a otto byte che esegue il mapping a un particolare valore della chiave full-text in una tabella con indicizzazione full-text.</span><span class="sxs-lookup"><span data-stu-id="d828e-217">The `DocId` column contains values for an eight-byte integer that maps to a particular full-text key value in a full-text indexed table.</span></span> <span data-ttu-id="d828e-218">Questo mapping è necessario se la chiave full-text non è un tipo di dati integer.</span><span class="sxs-lookup"><span data-stu-id="d828e-218">This mapping is necessary when the full-text key is not an integer data type.</span></span> <span data-ttu-id="d828e-219">In questi casi, i mapping tra i valori e i valori della chiave full-text `DocId` vengono mantenuti in una tabella separata denominata tabella di mapping docid.</span><span class="sxs-lookup"><span data-stu-id="d828e-219">In such cases, mappings between full-text key values and `DocId` values are maintained in a separate table called the DocId Mapping table.</span></span> <span data-ttu-id="d828e-220">Per eseguire una query per questi mapping usare la stored procedure di sistema [sp_fulltext_keymappings](/sql/relational-databases/system-stored-procedures/sp-fulltext-keymappings-transact-sql) .</span><span class="sxs-lookup"><span data-stu-id="d828e-220">To query for these mappings use the [sp_fulltext_keymappings](/sql/relational-databases/system-stored-procedures/sp-fulltext-keymappings-transact-sql) system stored procedure.</span></span> <span data-ttu-id="d828e-221">Per soddisfare una condizione di ricerca, è necessario creare un join tra i valori DocId della tabella precedente e la tabella DocId Mapping per recuperare le righe dalla tabella di base su cui viene eseguita la query.</span><span class="sxs-lookup"><span data-stu-id="d828e-221">To satisfy a search condition, DocId values from the above table need to be joined with the DocId Mapping table to retrieve rows from the base table being queried.</span></span> <span data-ttu-id="d828e-222">Se il valore della chiave full-text della tabella di base è di tipo integer, il valore viene utilizzato direttamente come DocId e non è necessario alcun mapping.</span><span class="sxs-lookup"><span data-stu-id="d828e-222">If the full-text key value of the base table is an integer type, the value directly serves as the DocId and no mapping is necessary.</span></span> <span data-ttu-id="d828e-223">Pertanto, l'utilizzo di valori chiave full-text di tipo integer può contribuire all'ottimizzazione delle query full-text.</span><span class="sxs-lookup"><span data-stu-id="d828e-223">Therefore, using integer full-text key values can help optimize full-text queries.</span></span>  
  
 <span data-ttu-id="d828e-224">La colonna **Occurrence** contiene un valore di tipo integer.</span><span class="sxs-lookup"><span data-stu-id="d828e-224">The **Occurrence** column contains an integer value.</span></span> <span data-ttu-id="d828e-225">Per ogni valore DocId è presente un elenco di valori di occorrenza corrispondenti agli offset relativi di una particolare parola chiave all'interno di DocId.</span><span class="sxs-lookup"><span data-stu-id="d828e-225">For each DocId value, there is a list of occurrence values that correspond to the relative word offsets of the particular keyword within that DocId.</span></span> <span data-ttu-id="d828e-226">I valori di occorrenza sono utili per determinare le corrispondenze di frase o prossimità, ad esempio frasi con valori di occorrenza numericamente adiacenti.</span><span class="sxs-lookup"><span data-stu-id="d828e-226">Occurrence values are useful in determining phrase or proximity matches, for example, phrases have numerically adjacent occurrence values.</span></span> <span data-ttu-id="d828e-227">Sono inoltre utili per calcolare i punteggi di pertinenza, ad esempio il numero di occorrenze di una parola chiave in un DocId può essere utilizzato per l'assegnazione del punteggio.</span><span class="sxs-lookup"><span data-stu-id="d828e-227">They are also useful in computing relevance scores; for example, the number of occurrences of a keyword in a DocId may be used in scoring.</span></span>  
  
 [<span data-ttu-id="d828e-228">Contenuto dell'articolo</span><span class="sxs-lookup"><span data-stu-id="d828e-228">In This Topic</span></span>](#top)  
  
##  <a name="full-text-index-fragments"></a><a name="fragments"></a><span data-ttu-id="d828e-229">Frammenti di indice full-text</span><span class="sxs-lookup"><span data-stu-id="d828e-229">Full-Text Index Fragments</span></span>  
 <span data-ttu-id="d828e-230">L'indice full-text logico viene in genere suddiviso tra più tabelle interne.</span><span class="sxs-lookup"><span data-stu-id="d828e-230">The logical full-text index is usually split across multiple internal tables.</span></span> <span data-ttu-id="d828e-231">Ogni tabella interna viene definita un frammento di indice full-text.</span><span class="sxs-lookup"><span data-stu-id="d828e-231">Each internal table is called a full-text index fragment.</span></span> <span data-ttu-id="d828e-232">Alcuni di questi frammenti potrebbero contenere dati più recenti di altri.</span><span class="sxs-lookup"><span data-stu-id="d828e-232">Some of these fragments might contain newer data than others.</span></span> <span data-ttu-id="d828e-233">Ad esempio, se un utente aggiorna la riga seguente il cui DocId è 3 e per la tabella è impostato il rilevamento automatico delle modifiche, viene creato un nuovo frammento.</span><span class="sxs-lookup"><span data-stu-id="d828e-233">For example, if a user updates the following row whose DocId is 3 and the table is auto change-tracked, a new fragment is created.</span></span>  
  
|<span data-ttu-id="d828e-234">DocumentID</span><span class="sxs-lookup"><span data-stu-id="d828e-234">DocumentID</span></span>|<span data-ttu-id="d828e-235">Titolo</span><span class="sxs-lookup"><span data-stu-id="d828e-235">Title</span></span>|  
|----------------|-----------|  
|<span data-ttu-id="d828e-236">3</span><span class="sxs-lookup"><span data-stu-id="d828e-236">3</span></span>|<span data-ttu-id="d828e-237">Rear Reflector</span><span class="sxs-lookup"><span data-stu-id="d828e-237">Rear Reflector</span></span>|  
  
 <span data-ttu-id="d828e-238">Nell'esempio seguente, Fragment 2, il frammento contiene dati più recenti su DocId 3, rispetto a Fragment 1.</span><span class="sxs-lookup"><span data-stu-id="d828e-238">In the following example, which shows Fragment 2, the fragment contains newer data about DocId 3 compared to Fragment 1.</span></span> <span data-ttu-id="d828e-239">Pertanto, quando viene eseguita una query per "Rear Reflector" i dati di Fragment 2 vengono utilizzati per DocId 3.</span><span class="sxs-lookup"><span data-stu-id="d828e-239">Therefore, when the user queries for "Rear Reflector" the data from Fragment 2 is used for DocId 3.</span></span> <span data-ttu-id="d828e-240">Ogni frammento viene contrassegnato con un timestamp di creazione su cui è possibile eseguire query tramite la vista del catalogo [sys.fulltext_index_fragments](/sql/relational-databases/system-catalog-views/sys-fulltext-index-fragments-transact-sql) .</span><span class="sxs-lookup"><span data-stu-id="d828e-240">Each fragment is marked with a creation timestamp that can be queried by using the [sys.fulltext_index_fragments](/sql/relational-databases/system-catalog-views/sys-fulltext-index-fragments-transact-sql) catalog view.</span></span>  
  
 <span data-ttu-id="d828e-241">**Frammento 2**</span><span class="sxs-lookup"><span data-stu-id="d828e-241">**Fragment 2**</span></span>  
  
|<span data-ttu-id="d828e-242">Parola chiave</span><span class="sxs-lookup"><span data-stu-id="d828e-242">Keyword</span></span>|<span data-ttu-id="d828e-243">ColId</span><span class="sxs-lookup"><span data-stu-id="d828e-243">ColId</span></span>|<span data-ttu-id="d828e-244">DocId</span><span class="sxs-lookup"><span data-stu-id="d828e-244">DocId</span></span>|<span data-ttu-id="d828e-245">Occ</span><span class="sxs-lookup"><span data-stu-id="d828e-245">Occ</span></span>|  
|-------------|-----------|-----------|---------|  
|<span data-ttu-id="d828e-246">Rear</span><span class="sxs-lookup"><span data-stu-id="d828e-246">Rear</span></span>|<span data-ttu-id="d828e-247">1</span><span class="sxs-lookup"><span data-stu-id="d828e-247">1</span></span>|<span data-ttu-id="d828e-248">3</span><span class="sxs-lookup"><span data-stu-id="d828e-248">3</span></span>|<span data-ttu-id="d828e-249">1</span><span class="sxs-lookup"><span data-stu-id="d828e-249">1</span></span>|  
|<span data-ttu-id="d828e-250">Reflector</span><span class="sxs-lookup"><span data-stu-id="d828e-250">Reflector</span></span>|<span data-ttu-id="d828e-251">1</span><span class="sxs-lookup"><span data-stu-id="d828e-251">1</span></span>|<span data-ttu-id="d828e-252">3</span><span class="sxs-lookup"><span data-stu-id="d828e-252">3</span></span>|<span data-ttu-id="d828e-253">2</span><span class="sxs-lookup"><span data-stu-id="d828e-253">2</span></span>|  
  
 <span data-ttu-id="d828e-254">Come si può vedere da Fragment 2, le query full-text devono essere eseguite internamente su ogni frammento e le voci più obsolete devono essere eliminate.</span><span class="sxs-lookup"><span data-stu-id="d828e-254">As can be seen from Fragment 2, full-text queries need to query each fragment internally and discard older entries.</span></span> <span data-ttu-id="d828e-255">Un numero eccessivo di frammenti di indice full-text nell'indice full-text può causare un calo sensibile delle prestazioni di esecuzione delle query.</span><span class="sxs-lookup"><span data-stu-id="d828e-255">Therefore, too many full-text index fragments in the full-text index can lead to substantial degradation in query performance.</span></span> <span data-ttu-id="d828e-256">Per ridurre il numero di frammenti, riorganizzare il catalogo full-text tramite l'opzione REORGANIZE dell'istruzione [ALTER FULLTEXT CATALOG](/sql/t-sql/statements/alter-fulltext-catalog-transact-sql)[!INCLUDE[tsql](../../includes/tsql-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="d828e-256">To reduce the number of fragments, reorganize the fulltext catalog by using the REORGANIZE option of the [ALTER FULLTEXT CATALOG](/sql/t-sql/statements/alter-fulltext-catalog-transact-sql)[!INCLUDE[tsql](../../includes/tsql-md.md)] statement.</span></span> <span data-ttu-id="d828e-257">Questa istruzione consente di eseguire un' *unione nell'indice master*, ovvero un'unione dei frammenti in un singolo frammento più grande e la rimozione di tutte le voci obsolete dall'indice full-text.</span><span class="sxs-lookup"><span data-stu-id="d828e-257">This statement performs a *master merge*, which merges the fragments into a single larger fragment and removes all obsolete entries from the full-text index.</span></span>  
  
 <span data-ttu-id="d828e-258">Dopo essere stato riorganizzato, l'indice di esempio dovrebbe contenere le righe seguenti:</span><span class="sxs-lookup"><span data-stu-id="d828e-258">After being reorganized, the example index would contain the following rows:</span></span>  
  
|<span data-ttu-id="d828e-259">Parola chiave</span><span class="sxs-lookup"><span data-stu-id="d828e-259">Keyword</span></span>|<span data-ttu-id="d828e-260">ColId</span><span class="sxs-lookup"><span data-stu-id="d828e-260">ColId</span></span>|<span data-ttu-id="d828e-261">DocId</span><span class="sxs-lookup"><span data-stu-id="d828e-261">DocId</span></span>|<span data-ttu-id="d828e-262">Occ</span><span class="sxs-lookup"><span data-stu-id="d828e-262">Occ</span></span>|  
|-------------|-----------|-----------|---------|  
|<span data-ttu-id="d828e-263">Crank</span><span class="sxs-lookup"><span data-stu-id="d828e-263">Crank</span></span>|<span data-ttu-id="d828e-264">1</span><span class="sxs-lookup"><span data-stu-id="d828e-264">1</span></span>|<span data-ttu-id="d828e-265">1</span><span class="sxs-lookup"><span data-stu-id="d828e-265">1</span></span>|<span data-ttu-id="d828e-266">1</span><span class="sxs-lookup"><span data-stu-id="d828e-266">1</span></span>|  
|<span data-ttu-id="d828e-267">Arm</span><span class="sxs-lookup"><span data-stu-id="d828e-267">Arm</span></span>|<span data-ttu-id="d828e-268">1</span><span class="sxs-lookup"><span data-stu-id="d828e-268">1</span></span>|<span data-ttu-id="d828e-269">1</span><span class="sxs-lookup"><span data-stu-id="d828e-269">1</span></span>|<span data-ttu-id="d828e-270">2</span><span class="sxs-lookup"><span data-stu-id="d828e-270">2</span></span>|  
|<span data-ttu-id="d828e-271">Tire</span><span class="sxs-lookup"><span data-stu-id="d828e-271">Tire</span></span>|<span data-ttu-id="d828e-272">1</span><span class="sxs-lookup"><span data-stu-id="d828e-272">1</span></span>|<span data-ttu-id="d828e-273">1</span><span class="sxs-lookup"><span data-stu-id="d828e-273">1</span></span>|<span data-ttu-id="d828e-274">4</span><span class="sxs-lookup"><span data-stu-id="d828e-274">4</span></span>|  
|<span data-ttu-id="d828e-275">Manutenzione</span><span class="sxs-lookup"><span data-stu-id="d828e-275">Maintenance</span></span>|<span data-ttu-id="d828e-276">1</span><span class="sxs-lookup"><span data-stu-id="d828e-276">1</span></span>|<span data-ttu-id="d828e-277">1</span><span class="sxs-lookup"><span data-stu-id="d828e-277">1</span></span>|<span data-ttu-id="d828e-278">5</span><span class="sxs-lookup"><span data-stu-id="d828e-278">5</span></span>|  
|<span data-ttu-id="d828e-279">Front</span><span class="sxs-lookup"><span data-stu-id="d828e-279">Front</span></span>|<span data-ttu-id="d828e-280">1</span><span class="sxs-lookup"><span data-stu-id="d828e-280">1</span></span>|<span data-ttu-id="d828e-281">2</span><span class="sxs-lookup"><span data-stu-id="d828e-281">2</span></span>|<span data-ttu-id="d828e-282">1</span><span class="sxs-lookup"><span data-stu-id="d828e-282">1</span></span>|  
|<span data-ttu-id="d828e-283">Rear</span><span class="sxs-lookup"><span data-stu-id="d828e-283">Rear</span></span>|<span data-ttu-id="d828e-284">1</span><span class="sxs-lookup"><span data-stu-id="d828e-284">1</span></span>|<span data-ttu-id="d828e-285">3</span><span class="sxs-lookup"><span data-stu-id="d828e-285">3</span></span>|<span data-ttu-id="d828e-286">1</span><span class="sxs-lookup"><span data-stu-id="d828e-286">1</span></span>|  
|<span data-ttu-id="d828e-287">Reflector</span><span class="sxs-lookup"><span data-stu-id="d828e-287">Reflector</span></span>|<span data-ttu-id="d828e-288">1</span><span class="sxs-lookup"><span data-stu-id="d828e-288">1</span></span>|<span data-ttu-id="d828e-289">2</span><span class="sxs-lookup"><span data-stu-id="d828e-289">2</span></span>|<span data-ttu-id="d828e-290">2</span><span class="sxs-lookup"><span data-stu-id="d828e-290">2</span></span>|  
|<span data-ttu-id="d828e-291">Reflector</span><span class="sxs-lookup"><span data-stu-id="d828e-291">Reflector</span></span>|<span data-ttu-id="d828e-292">1</span><span class="sxs-lookup"><span data-stu-id="d828e-292">1</span></span>|<span data-ttu-id="d828e-293">2</span><span class="sxs-lookup"><span data-stu-id="d828e-293">2</span></span>|<span data-ttu-id="d828e-294">5</span><span class="sxs-lookup"><span data-stu-id="d828e-294">5</span></span>|  
|<span data-ttu-id="d828e-295">Reflector</span><span class="sxs-lookup"><span data-stu-id="d828e-295">Reflector</span></span>|<span data-ttu-id="d828e-296">1</span><span class="sxs-lookup"><span data-stu-id="d828e-296">1</span></span>|<span data-ttu-id="d828e-297">3</span><span class="sxs-lookup"><span data-stu-id="d828e-297">3</span></span>|<span data-ttu-id="d828e-298">2</span><span class="sxs-lookup"><span data-stu-id="d828e-298">2</span></span>|  
|<span data-ttu-id="d828e-299">Bracket</span><span class="sxs-lookup"><span data-stu-id="d828e-299">Bracket</span></span>|<span data-ttu-id="d828e-300">1</span><span class="sxs-lookup"><span data-stu-id="d828e-300">1</span></span>|<span data-ttu-id="d828e-301">2</span><span class="sxs-lookup"><span data-stu-id="d828e-301">2</span></span>|<span data-ttu-id="d828e-302">3</span><span class="sxs-lookup"><span data-stu-id="d828e-302">3</span></span>|  
|<span data-ttu-id="d828e-303">Assembly</span><span class="sxs-lookup"><span data-stu-id="d828e-303">Assembly</span></span>|<span data-ttu-id="d828e-304">1</span><span class="sxs-lookup"><span data-stu-id="d828e-304">1</span></span>|<span data-ttu-id="d828e-305">2</span><span class="sxs-lookup"><span data-stu-id="d828e-305">2</span></span>|<span data-ttu-id="d828e-306">6</span><span class="sxs-lookup"><span data-stu-id="d828e-306">6</span></span>|  
|<span data-ttu-id="d828e-307">3</span><span class="sxs-lookup"><span data-stu-id="d828e-307">3</span></span>|<span data-ttu-id="d828e-308">1</span><span class="sxs-lookup"><span data-stu-id="d828e-308">1</span></span>|<span data-ttu-id="d828e-309">2</span><span class="sxs-lookup"><span data-stu-id="d828e-309">2</span></span>|<span data-ttu-id="d828e-310">7</span><span class="sxs-lookup"><span data-stu-id="d828e-310">7</span></span>|  
  
 [<span data-ttu-id="d828e-311">Contenuto dell'articolo</span><span class="sxs-lookup"><span data-stu-id="d828e-311">In This Topic</span></span>](#top)  
  
  
