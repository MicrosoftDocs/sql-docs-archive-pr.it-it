---
title: Linee guida per le operazioni sugli indici online | Microsoft Docs
ms.custom: ''
ms.date: 11/11/2016
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: table-view-index
ms.topic: conceptual
helpviewer_keywords:
- clustered indexes, online operations
- online index operations
- indexes [SQL Server], online operations
- disk space [SQL Server], indexes
- nonclustered indexes [SQL Server], online operations
- transaction logs [SQL Server], indexes
ms.assetid: d82942e0-4a86-4b34-a65f-9f143ebe85ce
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 907fe6a826607fe1cb403ad9b8debe6faf6771fc
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87637315"
---
# <a name="guidelines-for-online-index-operations"></a><span data-ttu-id="ed57a-102">Linee guida per operazioni di indice online</span><span class="sxs-lookup"><span data-stu-id="ed57a-102">Guidelines for Online Index Operations</span></span>
  <span data-ttu-id="ed57a-103">Quando si eseguono operazioni sugli indici online sono da ritenersi valide le linee guida seguenti:</span><span class="sxs-lookup"><span data-stu-id="ed57a-103">When you perform online index operations, the following guidelines apply:</span></span>  
  
-   <span data-ttu-id="ed57a-104">Gli indici cluster devono essere creati, ricompilati o eliminati offline quando la tabella sottostante contiene i tipi di dati LOB (Large Object) seguenti: `image` , **ntext**e `text` .</span><span class="sxs-lookup"><span data-stu-id="ed57a-104">Clustered indexes must be created, rebuilt, or dropped offline when the underlying table contains the following large object (LOB) data types: `image`, **ntext**, and `text`.</span></span>  
  
-   <span data-ttu-id="ed57a-105">Non è possibile creare, ricompilare o eliminare online indici su tabelle temporanee locali.</span><span class="sxs-lookup"><span data-stu-id="ed57a-105">Indexes on local temp tables cannot be created, rebuilt, or dropped online.</span></span> <span data-ttu-id="ed57a-106">Questa limitazione non è valida per gli indici su tabelle temporanee globali.</span><span class="sxs-lookup"><span data-stu-id="ed57a-106">This restriction does not apply to indexes on global temp tables.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="ed57a-107">Le operazioni sugli indici online sono disponibili solo in alcune edizioni di [!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ed57a-107">Online index operations are not available in every edition of [!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="ed57a-108">Per un elenco delle funzionalità supportate dalle edizioni di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], vedere [Features Supported by the Editions of SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span><span class="sxs-lookup"><span data-stu-id="ed57a-108">For a list of features that are supported by the editions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], see [Features Supported by the Editions of SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span></span>  
  
 <span data-ttu-id="ed57a-109">Nella tabella seguente sono riportate le operazioni sugli indici che è possibile eseguire online e gli indici che sono esclusi da queste operazioni online.</span><span class="sxs-lookup"><span data-stu-id="ed57a-109">The following table shows the index operations that can be performed online and the indexes that are excluded from these online operations.</span></span> <span data-ttu-id="ed57a-110">Sono inoltre incluse ulteriori limitazioni.</span><span class="sxs-lookup"><span data-stu-id="ed57a-110">Additional restrictions are also included.</span></span>  
  
|<span data-ttu-id="ed57a-111">Operazione su indice online</span><span class="sxs-lookup"><span data-stu-id="ed57a-111">Online index operation</span></span>|<span data-ttu-id="ed57a-112">Indici esclusi</span><span class="sxs-lookup"><span data-stu-id="ed57a-112">Excluded indexes</span></span>|<span data-ttu-id="ed57a-113">Altre limitazioni</span><span class="sxs-lookup"><span data-stu-id="ed57a-113">Other restrictions</span></span>|  
|----------------------------|----------------------|------------------------|  
|<span data-ttu-id="ed57a-114">ALTER INDEX REBUILD</span><span class="sxs-lookup"><span data-stu-id="ed57a-114">ALTER INDEX REBUILD</span></span>|<span data-ttu-id="ed57a-115">Indice cluster disabilitato o vista indicizzata disabilitata</span><span class="sxs-lookup"><span data-stu-id="ed57a-115">Disabled clustered index or disabled indexed view</span></span><br /><br /> <span data-ttu-id="ed57a-116">Indice XML</span><span class="sxs-lookup"><span data-stu-id="ed57a-116">XML index</span></span> <br /><br /><span data-ttu-id="ed57a-117">Indice columnstore</span><span class="sxs-lookup"><span data-stu-id="ed57a-117">Columnstore index</span></span><br /><br /> <span data-ttu-id="ed57a-118">Indice di una tabella temporanea locale</span><span class="sxs-lookup"><span data-stu-id="ed57a-118">Index on a local temp table</span></span>|<span data-ttu-id="ed57a-119">L'operazione può avere esito negativo se la tabella contiene un indice escluso e si utilizza la parola chiave ALL.</span><span class="sxs-lookup"><span data-stu-id="ed57a-119">Specifying the keyword ALL may cause the operation to fail when the table contains an excluded index.</span></span><br /><br /> <span data-ttu-id="ed57a-120">Sono applicabili ulteriori restrizioni nella ricompilazione di indici disabilitati.</span><span class="sxs-lookup"><span data-stu-id="ed57a-120">Additional restrictions on rebuilding disabled indexes apply.</span></span> <span data-ttu-id="ed57a-121">Per altre informazioni, vedere [Disabilitazione di indici e vincoli](disable-indexes-and-constraints.md).</span><span class="sxs-lookup"><span data-stu-id="ed57a-121">For more information, see [Disable Indexes and Constraints](disable-indexes-and-constraints.md).</span></span>|  
|<span data-ttu-id="ed57a-122">CREATE INDEX</span><span class="sxs-lookup"><span data-stu-id="ed57a-122">CREATE INDEX</span></span>|<span data-ttu-id="ed57a-123">Indice XML</span><span class="sxs-lookup"><span data-stu-id="ed57a-123">XML index</span></span><br /><br /> <span data-ttu-id="ed57a-124">Indice cluster univoco iniziale su una vista</span><span class="sxs-lookup"><span data-stu-id="ed57a-124">Initial unique clustered index on a view</span></span><br /><br /> <span data-ttu-id="ed57a-125">Indice di una tabella temporanea locale</span><span class="sxs-lookup"><span data-stu-id="ed57a-125">Index on a local temp table</span></span>||  
|<span data-ttu-id="ed57a-126">CREATE INDEX WITH DROP_EXISTING</span><span class="sxs-lookup"><span data-stu-id="ed57a-126">CREATE INDEX WITH DROP_EXISTING</span></span>|<span data-ttu-id="ed57a-127">Indice cluster disabilitato o vista indicizzata disabilitata</span><span class="sxs-lookup"><span data-stu-id="ed57a-127">Disabled clustered index or disabled indexed view</span></span><br /><br /> <span data-ttu-id="ed57a-128">Indice di una tabella temporanea locale</span><span class="sxs-lookup"><span data-stu-id="ed57a-128">Index on a local temp table</span></span><br /><br /> <span data-ttu-id="ed57a-129">Indice XML</span><span class="sxs-lookup"><span data-stu-id="ed57a-129">XML index</span></span>||  
|<span data-ttu-id="ed57a-130">DROP INDEX</span><span class="sxs-lookup"><span data-stu-id="ed57a-130">DROP INDEX</span></span>|<span data-ttu-id="ed57a-131">Indice disabilitato</span><span class="sxs-lookup"><span data-stu-id="ed57a-131">Disabled index</span></span><br /><br /> <span data-ttu-id="ed57a-132">Indice XML</span><span class="sxs-lookup"><span data-stu-id="ed57a-132">XML index</span></span><br /><br /> <span data-ttu-id="ed57a-133">Indice non cluster</span><span class="sxs-lookup"><span data-stu-id="ed57a-133">Nonclustered index</span></span><br /><br /> <span data-ttu-id="ed57a-134">Indice di una tabella temporanea locale</span><span class="sxs-lookup"><span data-stu-id="ed57a-134">Index on a local temp table</span></span>|<span data-ttu-id="ed57a-135">Non è possibile specificare più indici in una singola istruzione.</span><span class="sxs-lookup"><span data-stu-id="ed57a-135">Multiple indexes cannot be specified within a single statement.</span></span>|  
|<span data-ttu-id="ed57a-136">ALTER TABLE ADD CONSTRAINT (PRIMARY KEY o UNIQUE)</span><span class="sxs-lookup"><span data-stu-id="ed57a-136">ALTER TABLE ADD CONSTRAINT (PRIMARY KEY or UNIQUE)</span></span>|<span data-ttu-id="ed57a-137">Indice di una tabella temporanea locale</span><span class="sxs-lookup"><span data-stu-id="ed57a-137">Index on a local temp table</span></span><br /><br /> <span data-ttu-id="ed57a-138">Indice cluster</span><span class="sxs-lookup"><span data-stu-id="ed57a-138">Clustered index</span></span>|<span data-ttu-id="ed57a-139">È consentito l'utilizzo di una sola clausola secondaria alla volta.</span><span class="sxs-lookup"><span data-stu-id="ed57a-139">Only one subclause is allowed at a time.</span></span> <span data-ttu-id="ed57a-140">Ad esempio, non è possibile aggiungere ed eliminare vincoli PRIMARY KEY o UNIQUE nella stessa istruzione ALTER TABLE.</span><span class="sxs-lookup"><span data-stu-id="ed57a-140">For example, you cannot add and drop PRIMARY KEY or UNIQUE constraints in the same ALTER TABLE statement.</span></span>|  
||||  
  
 <span data-ttu-id="ed57a-141">Non è possibile modificare, troncare o eliminare la tabella sottostante mentre è in corso un'operazione su un indice online.</span><span class="sxs-lookup"><span data-stu-id="ed57a-141">The underlying table cannot be modified, truncated, or dropped while an online index operation is in process.</span></span>  
  
 <span data-ttu-id="ed57a-142">L'impostazione di un'opzione online (ON oppure OFF) specificata durante la creazione o l'eliminazione di un indice cluster viene applicata a tutti gli indici non cluster che devono essere ricompilati.</span><span class="sxs-lookup"><span data-stu-id="ed57a-142">The online option setting (ON or OFF) specified when you create or drop a clustered index is applied to any nonclustered indexes that must be rebuilt.</span></span> <span data-ttu-id="ed57a-143">Ad esempio, se l'indice cluster viene compilato online utilizzando CREATE INDEX WITH DROP_EXISTING, ONLINE=ON, anche tutti gli indici non cluster associati vengono ricreati online.</span><span class="sxs-lookup"><span data-stu-id="ed57a-143">For example, if the clustered index is built online by using CREATE INDEX WITH DROP_EXISTING, ONLINE=ON, all associated nonclustered indexes are re-created online also.</span></span>  
  
 <span data-ttu-id="ed57a-144">Quando si crea o si ricompila un indice UNIQUE online, il generatore dell'indice e una transazione utente simultanea potrebbero tentare di inserire la stessa chiave, causando una violazione di univocità.</span><span class="sxs-lookup"><span data-stu-id="ed57a-144">When you create or rebuild a UNIQUE index online, the index builder and a concurrent user transaction may try to insert the same key, therefore violating uniqueness.</span></span> <span data-ttu-id="ed57a-145">Se una riga immessa da un utente viene inserita nel nuovo indice (destinazione) prima che la riga originale della tabella di origine venga spostata nel nuovo indice, l'operazione sull'indice online avrà esito negativo.</span><span class="sxs-lookup"><span data-stu-id="ed57a-145">If a row entered by a user is inserted into the new index (target) before the original row from the source table is moved to the new index, the online index operation will fail.</span></span>  
  
 <span data-ttu-id="ed57a-146">Un'operazione su un indice online può in rari casi provocare un deadlock quando interagisce con aggiornamenti al database a causa di attività dell'utente o dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="ed57a-146">Although not common, the online index operation can cause a deadlock when it interacts with database updates because of user or application activities.</span></span> <span data-ttu-id="ed57a-147">In questi rari casi, il [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] selezionerà l'attività dell'utente o dell'applicazione come vittima del deadlock.</span><span class="sxs-lookup"><span data-stu-id="ed57a-147">In these rare cases, the [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] will select the user or application activity as a deadlock victim.</span></span>  
  
 <span data-ttu-id="ed57a-148">È possibile eseguire operazioni DDL sugli indici online simultanee sulla stessa tabella o vista solo quando si stanno creando più indici nuovi non cluster oppure si stanno riorganizzando indici non cluster.</span><span class="sxs-lookup"><span data-stu-id="ed57a-148">You can perform concurrent online index DDL operations on the same table or view only when you are creating multiple new nonclustered indexes, or reorganizing nonclustered indexes.</span></span> <span data-ttu-id="ed57a-149">Qualsiasi altra operazione sugli indici online eseguita nello stesso istante avrà esito negativo.</span><span class="sxs-lookup"><span data-stu-id="ed57a-149">All other online index operations performed at the same time fail.</span></span> <span data-ttu-id="ed57a-150">Ad esempio, non è possibile creare un nuovo indice online durante la ricompilazione di un indice online esistente sulla stessa tabella.</span><span class="sxs-lookup"><span data-stu-id="ed57a-150">For example, you cannot create a new index online while rebuilding an existing index online on the same table.</span></span>  
  
 <span data-ttu-id="ed57a-151">Non è possibile eseguire un'operazione online se un indice contiene una colonna di tipo di oggetti di grandi dimensioni e nella stessa transazione sono presenti operazioni di aggiornamento prima di questa operazione online.</span><span class="sxs-lookup"><span data-stu-id="ed57a-151">An online operation cannot be performed when an index contains a column of the large object type, and in the same transaction there are update operations before this online operation.</span></span> <span data-ttu-id="ed57a-152">Per risolvere questo problema, posizionare l'operazione online all'esterno della transazione o prima degli aggiornamenti all'interno della transazione.</span><span class="sxs-lookup"><span data-stu-id="ed57a-152">To work around this issue, place the online operation outside the transaction or place it before any updates in the transaction.</span></span>  
  
## <a name="disk-space-considerations"></a><span data-ttu-id="ed57a-153">Considerazioni sullo spazio su disco</span><span class="sxs-lookup"><span data-stu-id="ed57a-153">Disk Space Considerations</span></span>  
 <span data-ttu-id="ed57a-154">I requisiti dello spazio su disco sono generalmente gli stessi per operazioni sugli indici online e offline.</span><span class="sxs-lookup"><span data-stu-id="ed57a-154">Generally, disk space requirements are the same for online and offline index operations.</span></span> <span data-ttu-id="ed57a-155">Un'eccezione è costituita dallo spazio su disco aggiuntivo richiesto dall'indice di mapping temporaneo.</span><span class="sxs-lookup"><span data-stu-id="ed57a-155">An exception is additional disk space required by the temporary mapping index.</span></span> <span data-ttu-id="ed57a-156">Questo indice temporaneo è utilizzato nelle operazioni sugli indici online che creano, ricompilano o eliminano un indice cluster.</span><span class="sxs-lookup"><span data-stu-id="ed57a-156">This temporary index is used in online index operations that create, rebuild, or drop a clustered index.</span></span> <span data-ttu-id="ed57a-157">L'eliminazione di un indice cluster online richiede lo stesso spazio che è necessario per la creazione di un indice cluster online.</span><span class="sxs-lookup"><span data-stu-id="ed57a-157">Dropping a clustered index online requires as much space as creating a clustered index online.</span></span> <span data-ttu-id="ed57a-158">Per altre informazioni, vedere [Disk Space Requirements for Index DDL Operations](disk-space-requirements-for-index-ddl-operations.md).</span><span class="sxs-lookup"><span data-stu-id="ed57a-158">For more information, see [Disk Space Requirements for Index DDL Operations](disk-space-requirements-for-index-ddl-operations.md).</span></span>  
  
## <a name="performance-considerations"></a><span data-ttu-id="ed57a-159">Considerazioni sulle prestazioni</span><span class="sxs-lookup"><span data-stu-id="ed57a-159">Performance Considerations</span></span>  
 <span data-ttu-id="ed57a-160">Sebbene le operazioni sugli indici online consentano l'esecuzione di attività simultanee di aggiornamento utente, le operazioni sugli indici impiegheranno più tempo se l'attività di aggiornamento genera un notevole carico.</span><span class="sxs-lookup"><span data-stu-id="ed57a-160">Although online index operations permit concurrent user update activity, the index operations will take longer if the update activity is very heavy.</span></span> <span data-ttu-id="ed57a-161">Le operazioni sugli indici online saranno generalmente più lente delle operazioni sugli indici offline equivalenti, indipendentemente dal livello di attività di aggiornamento simultanee.</span><span class="sxs-lookup"><span data-stu-id="ed57a-161">Typically, online index operations will be slower than equivalent offline index operations regardless of the concurrent update activity level.</span></span>  
  
 <span data-ttu-id="ed57a-162">Dato che durante le operazioni sugli indici online vengono mantenute sia la struttura di origine che quella di destinazione, l'utilizzo di risorse per l'inserimento, l'aggiornamento e l'eliminazione delle transazioni viene aumentato, potenzialmente fino al doppio.</span><span class="sxs-lookup"><span data-stu-id="ed57a-162">Because both the source and target structures are maintained during the online index operation, the resource usage for insert, update, and delete transactions is increased, potentially up to double.</span></span> <span data-ttu-id="ed57a-163">Ciò può causare una riduzione delle prestazioni e un maggior utilizzo di risorse durante l'operazione sugli indici, specialmente del tempo CPU.</span><span class="sxs-lookup"><span data-stu-id="ed57a-163">This could cause a decrease in performance and greater resource usage, especially CPU time, during the index operation.</span></span> <span data-ttu-id="ed57a-164">Le operazioni sugli indici online vengono registrate completamente.</span><span class="sxs-lookup"><span data-stu-id="ed57a-164">Online index operations are fully logged.</span></span>  
  
 <span data-ttu-id="ed57a-165">Sebbene le operazioni online siano consigliabili, è opportuno valutare l'ambiente e i requisiti specifici,</span><span class="sxs-lookup"><span data-stu-id="ed57a-165">Although we recommend online operations, you should evaluate your environment and specific requirements.</span></span> <span data-ttu-id="ed57a-166">in base ai quali l'esecuzione delle operazioni sugli indici offline potrebbe essere la soluzione ottimale.</span><span class="sxs-lookup"><span data-stu-id="ed57a-166">It may be optimal to run index operations offline.</span></span> <span data-ttu-id="ed57a-167">In quest'ultimo caso gli utenti avrebbero un accesso limitato ai dati durante l'operazione, la quale però terminerebbe più rapidamente e utilizzerebbe meno risorse.</span><span class="sxs-lookup"><span data-stu-id="ed57a-167">In doing this, users have restricted access to the data during the operation, but the operation finishes faster and uses fewer resources.</span></span>  
  
 <span data-ttu-id="ed57a-168">Nei computer multiprocessore che eseguono [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]le istruzioni per gli indici, analogamente ad altre query, possono utilizzare più processori per eseguire le operazioni di analisi e ordinamento associate all'istruzione.</span><span class="sxs-lookup"><span data-stu-id="ed57a-168">On multiprocessor computers that are running [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], index statements may use more processors to perform the scan and sort operations associated with the index statement just like other queries do.</span></span> <span data-ttu-id="ed57a-169">È possibile utilizzare l'opzione dell'indice MAXDOP per controllare il numero di processori dedicati all'operazione di indice online.</span><span class="sxs-lookup"><span data-stu-id="ed57a-169">You can use the MAXDOP index option to control the number of processors dedicated to the online index operation.</span></span> <span data-ttu-id="ed57a-170">In questo modo è possibile bilanciare le risorse utilizzate dall'operazione sugli indici con quelle occupate dagli utenti simultanei.</span><span class="sxs-lookup"><span data-stu-id="ed57a-170">In this way, you can balance the resources that are used by index operation with those of the concurrent users.</span></span> <span data-ttu-id="ed57a-171">Per altre informazioni, vedere [Configurazione di operazioni parallele sugli indici](configure-parallel-index-operations.md).</span><span class="sxs-lookup"><span data-stu-id="ed57a-171">For more information, see [Configure Parallel Index Operations](configure-parallel-index-operations.md).</span></span> <span data-ttu-id="ed57a-172">Per ulteriori informazioni sulle edizioni di SQL Server che supportano le operazioni indicizzate parallele, vedere [funzionalità supportate dalle edizioni di SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span><span class="sxs-lookup"><span data-stu-id="ed57a-172">For more information about the editions of SQL Server that support Parallel indexed operations, see [Features Supported by the Editions of SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span></span>  
  
 <span data-ttu-id="ed57a-173">Poiché al termine dell'esecuzione dell'operazione sugli indici viene mantenuto un blocco S o Sch-M, è necessario prestare particolare attenzione quando si esegue un'operazione sugli indici online all'interno di una transazione utente esplicita, ad esempio un blocco BEGIN TRANSACTION...COMMIT.</span><span class="sxs-lookup"><span data-stu-id="ed57a-173">Because an S-lock or Sch-M lock is held in the final phase of the index operation, be careful when you run an online index operation inside an explicit user transaction, such as BEGIN TRANSACTION...COMMIT block.</span></span> <span data-ttu-id="ed57a-174">Una tale operazione causa il mantenimento del blocco fino alla fine della transazione, impedendo quindi la concorrenza degli utenti.</span><span class="sxs-lookup"><span data-stu-id="ed57a-174">Doing this causes the lock to be held until the end of the transaction, therefore impeding user concurrency.</span></span>  
  
 <span data-ttu-id="ed57a-175">La ricompilazione degli indici online può aumentare la frammentazione quando è consentita l'esecuzione con le opzioni `MAX DOP > 1` e `ALLOW_PAGE_LOCKS = OFF` .</span><span class="sxs-lookup"><span data-stu-id="ed57a-175">Online index rebuilding may increase fragmentation when it is allowed to run with `MAX DOP > 1` and `ALLOW_PAGE_LOCKS = OFF` options.</span></span> <span data-ttu-id="ed57a-176">Per altre informazioni, vedere [Funzionamento: Ricompilazione di indici online - Possibilità di aumento della frammentazione](https://blogs.msdn.com/b/psssql/archive/2012/09/05/how-it-works-online-index-rebuild-can-cause-increased-fragmentation.aspx).</span><span class="sxs-lookup"><span data-stu-id="ed57a-176">For more information, see [How It Works: Online Index Rebuild - Can Cause Increased Fragmentation](https://blogs.msdn.com/b/psssql/archive/2012/09/05/how-it-works-online-index-rebuild-can-cause-increased-fragmentation.aspx).</span></span>  
  
## <a name="transaction-log-considerations"></a><span data-ttu-id="ed57a-177">Considerazioni sul log delle transazioni</span><span class="sxs-lookup"><span data-stu-id="ed57a-177">Transaction Log Considerations</span></span>  
 <span data-ttu-id="ed57a-178">Operazioni sugli indici su larga scala, eseguite online oppure offline, possono generare volumi di dati elevati i quali possono esaurire rapidamente lo spazio disponibile nel log delle transazioni.</span><span class="sxs-lookup"><span data-stu-id="ed57a-178">Large-scale index operations, performed offline or online, can generate large data loads that can cause the transaction log to quickly fill.</span></span> <span data-ttu-id="ed57a-179">Per garantire la possibilità di eseguire il rollback dell'operazione sugli indici, non è possibile troncare il log delle transazioni fino al completamento dell'operazione. È tuttavia possibile eseguire il backup del log durante l'operazione sugli indici.</span><span class="sxs-lookup"><span data-stu-id="ed57a-179">To make sure that the index operation can be rolled back, the transaction log cannot be truncated until the index operation has been completed; however, the log can be backed up during the index operation.</span></span> <span data-ttu-id="ed57a-180">È pertanto necessario che il log delle transazioni abbia spazio sufficiente per archiviare sia le transazioni dell'operazione sugli indici sia tutte le transazioni utente simultanee per l'intera durata dell'operazione sugli indici.</span><span class="sxs-lookup"><span data-stu-id="ed57a-180">Therefore, the transaction log must have sufficient space to store both the index operation transactions and any concurrent user transactions for the duration of the index operation.</span></span> <span data-ttu-id="ed57a-181">Per altre informazioni, vedere [Spazio su disco per il log delle transazioni per operazioni sugli indici](transaction-log-disk-space-for-index-operations.md).</span><span class="sxs-lookup"><span data-stu-id="ed57a-181">For more information, see [Transaction Log Disk Space for Index Operations](transaction-log-disk-space-for-index-operations.md).</span></span>  
  
## <a name="related-content"></a><span data-ttu-id="ed57a-182">Contenuto correlato</span><span class="sxs-lookup"><span data-stu-id="ed57a-182">Related Content</span></span>  
 [<span data-ttu-id="ed57a-183">Funzionamento delle operazioni sugli indici online</span><span class="sxs-lookup"><span data-stu-id="ed57a-183">How Online Index Operations Work</span></span>](how-online-index-operations-work.md)  
  
 [<span data-ttu-id="ed57a-184">Eseguire operazioni online sugli indici</span><span class="sxs-lookup"><span data-stu-id="ed57a-184">Perform Index Operations Online</span></span>](perform-index-operations-online.md)  
  
 [<span data-ttu-id="ed57a-185">ALTER INDEX &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="ed57a-185">ALTER INDEX &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/alter-index-transact-sql)  
  
 [<span data-ttu-id="ed57a-186">CREATE INDEX &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="ed57a-186">CREATE INDEX &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/create-index-transact-sql)  
  
  
