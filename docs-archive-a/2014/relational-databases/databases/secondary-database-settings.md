---
title: Impostazioni database secondario | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: ''
ms.topic: conceptual
f1_keywords:
- sql12.swb.databaseproperties.logshipping.settings.dest.f1
ms.assetid: f992ffc9-ee42-43fe-acec-512032f0ded1
author: stevestein
ms.author: sstein
ms.openlocfilehash: 265d6beda830e2090392918ae14d10c8b7752d02
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87627789"
---
# <a name="secondary-database-settings"></a><span data-ttu-id="16168-102">Impostazioni database secondario</span><span class="sxs-lookup"><span data-stu-id="16168-102">Secondary Database Settings</span></span>
  <span data-ttu-id="16168-103">Utilizzare questa finestra di dialogo per configurare e modificare le proprietà di un database secondario nella configurazione per il log shipping.</span><span class="sxs-lookup"><span data-stu-id="16168-103">Use this dialog box to configure and to modify the properties of a secondary database in the log shipping configuration.</span></span>  
  
 <span data-ttu-id="16168-104">Per approfondimenti sui concetti correlati al log shipping, vedere [Informazioni sul log shipping &#40;SQL Server&#41;](../../database-engine/log-shipping/about-log-shipping-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="16168-104">For an explanation of log shipping concepts, see [About Log Shipping &#40;SQL Server&#41;](../../database-engine/log-shipping/about-log-shipping-sql-server.md).</span></span>  
  
## <a name="options"></a><span data-ttu-id="16168-105">Opzioni</span><span class="sxs-lookup"><span data-stu-id="16168-105">Options</span></span>  
 <span data-ttu-id="16168-106">**Istanza del server secondario**</span><span class="sxs-lookup"><span data-stu-id="16168-106">**Secondary server instance**</span></span>  
 <span data-ttu-id="16168-107">Visualizza il nome dell'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] attualmente configurata come server secondario nella configurazione per il log shipping.</span><span class="sxs-lookup"><span data-stu-id="16168-107">Displays the name of the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] currently configured to be a secondary server in the log shipping configuration.</span></span>  
  
 <span data-ttu-id="16168-108">**Database secondario**</span><span class="sxs-lookup"><span data-stu-id="16168-108">**Secondary database**</span></span>  
 <span data-ttu-id="16168-109">Visualizza il nome del database secondario nella configurazione per il log shipping.</span><span class="sxs-lookup"><span data-stu-id="16168-109">Displays the name of the secondary database for the log shipping configuration.</span></span> <span data-ttu-id="16168-110">Quando si aggiunge un nuovo database secondario a una configurazione per il log shipping, è possibile scegliere un database nell'elenco o digitare il nome di un nuovo database nella casella.</span><span class="sxs-lookup"><span data-stu-id="16168-110">When adding a new secondary database to a log shipping configuration, you can choose a database from the list or type the name of a new of the database into the box.</span></span> <span data-ttu-id="16168-111">Se si specifica direttamente il nome di un nuovo database, è necessario selezionare un'opzione nella scheda **Inizializzazione** per ripristinare un backup completo del database primario in quello secondario.</span><span class="sxs-lookup"><span data-stu-id="16168-111">If you enter the name of a new database, you must select an option on the **Initialization** tab that restores a full database backup of the primary database into the secondary database.</span></span> <span data-ttu-id="16168-112">Il nuovo database viene creato durante l'operazione di ripristino.</span><span class="sxs-lookup"><span data-stu-id="16168-112">The new database is created as part of the restore operation.</span></span>  
  
 <span data-ttu-id="16168-113">**Connettere**</span><span class="sxs-lookup"><span data-stu-id="16168-113">**Connect**</span></span>  
 <span data-ttu-id="16168-114">Consente di eseguire la connessione a un'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] da utilizzare come server secondario nella configurazione per il log shipping.</span><span class="sxs-lookup"><span data-stu-id="16168-114">Connect to an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] for use as a secondary server in the log shipping configuration.</span></span> <span data-ttu-id="16168-115">È necessario che l'account utilizzato per la connessione sia membro del ruolo predefinito del server sysadmin nell'istanza del server secondario.</span><span class="sxs-lookup"><span data-stu-id="16168-115">The account used to connect must be a member of the sysadmin fixed server role on the secondary server instance.</span></span>  
  
 <span data-ttu-id="16168-116">**Scheda Inizializzazione**</span><span class="sxs-lookup"><span data-stu-id="16168-116">**Initialize tab**</span></span>  
 <span data-ttu-id="16168-117">descritte di seguito:</span><span class="sxs-lookup"><span data-stu-id="16168-117">The options are as follows:</span></span>  
  
 <span data-ttu-id="16168-118">**Sì, genera un backup completo del database primario e ripristinalo nel database secondario**</span><span class="sxs-lookup"><span data-stu-id="16168-118">**Yes, generate a full backup of the primary database and restore it to the secondary database**</span></span>  
 <span data-ttu-id="16168-119">Se si seleziona questa opzione, [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] configura il database secondario eseguendo il backup del database primario e ripristinandolo nel server secondario.</span><span class="sxs-lookup"><span data-stu-id="16168-119">Have [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] configure your secondary database by backing up the primary database and restoring it on the secondary server.</span></span> <span data-ttu-id="16168-120">Se nella casella **Database secondario** è stato specificato il nome di un nuovo database, quest'ultimo verrà creato durante l'operazione di ripristino.</span><span class="sxs-lookup"><span data-stu-id="16168-120">If you entered a new database name in the **Secondary database** box, the database will be created as part of the restore operation.</span></span>  
  
 <span data-ttu-id="16168-121">**Opzioni di ripristino**</span><span class="sxs-lookup"><span data-stu-id="16168-121">**Restore Options**</span></span>  
 <span data-ttu-id="16168-122">Fare clic su questo pulsante se si desidera ripristinare i dati e i file di log del database secondario in percorsi diversi da quelli predefiniti nel server secondario.</span><span class="sxs-lookup"><span data-stu-id="16168-122">Click if you want to restore the data and log files for the secondary database into nondefault locations on the secondary server.</span></span>  
  
 <span data-ttu-id="16168-123">Questo pulsante consente di aprire la finestra di dialogo **Opzioni di ripristino**</span><span class="sxs-lookup"><span data-stu-id="16168-123">This button opens the **Restore Options** dialog box.</span></span> <span data-ttu-id="16168-124">in cui è possibile specificare i percorsi di cartelle diverse da quelle predefinite in cui si desidera che siano contenuti il database secondario e i relativi log.</span><span class="sxs-lookup"><span data-stu-id="16168-124">There, you can specify paths to nondefault folders where you want the secondary database and its log to reside.</span></span> <span data-ttu-id="16168-125">È necessario specificare entrambe le cartelle.</span><span class="sxs-lookup"><span data-stu-id="16168-125">If you specify either folder, you must specify both.</span></span>  
  
 <span data-ttu-id="16168-126">I percorsi devono fare riferimento a unità locali del server secondario</span><span class="sxs-lookup"><span data-stu-id="16168-126">The paths must refer to drives that are local to the secondary server.</span></span> <span data-ttu-id="16168-127">e devono iniziare con una lettera di unità locale e due punti (ad esempio, `C:`).</span><span class="sxs-lookup"><span data-stu-id="16168-127">Also, the paths must begin with a local drive letter and colon (for example, `C:`).</span></span> <span data-ttu-id="16168-128">Le lettere di unità relative a connessioni di rete e i percorsi di rete non sono consentiti.</span><span class="sxs-lookup"><span data-stu-id="16168-128">Mapped drive letters or network paths are invalid.</span></span>  
  
 <span data-ttu-id="16168-129">Se si fa clic sul pulsante **Opzioni di ripristino** e in seguito si decide di utilizzare le cartelle predefinite, è consigliabile annullare la finestra di dialogo **Opzioni di ripristino** .</span><span class="sxs-lookup"><span data-stu-id="16168-129">If you click the **Restore Options** button and then decide that you want to use the default folders, we recommend that you cancel the **Restore Options** dialog box.</span></span> <span data-ttu-id="16168-130">Se sono già stati specificati percorsi diversi e si decide invece di utilizzare quelli predefiniti, fare di nuovo clic su **Opzioni di ripristino** , cancellare il contenuto delle caselle di testo e quindi fare clic su OK.</span><span class="sxs-lookup"><span data-stu-id="16168-130">If you have already specified nondefault locations and now want to use the default locations instead, click **Restore Options** again, clear the text boxes, and click OK.</span></span>  
  
 <span data-ttu-id="16168-131">**Sì, ripristina un backup esistente del database primario nel database secondario**</span><span class="sxs-lookup"><span data-stu-id="16168-131">**Yes, restore an existing backup of the primary database to the secondary database**</span></span>  
 <span data-ttu-id="16168-132">Se si seleziona questa opzione, [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)] utilizza un backup esistente del database primario per inizializzare il database secondario.</span><span class="sxs-lookup"><span data-stu-id="16168-132">Have [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)] use an existing backup of your primary database to initialize the secondary database.</span></span> <span data-ttu-id="16168-133">Digitare il percorso del backup desiderato nella casella **File di backup** .</span><span class="sxs-lookup"><span data-stu-id="16168-133">Type the location of that backup in the **Backup file** box.</span></span> <span data-ttu-id="16168-134">Se nella casella Database secondario è stato specificato il nome di un nuovo database, quest'ultimo verrà creato durante l'operazione di ripristino.</span><span class="sxs-lookup"><span data-stu-id="16168-134">If you entered a new database name in the Secondary database box, the database will be created as part of the restore operation.</span></span>  
  
 <span data-ttu-id="16168-135">**File di backup**</span><span class="sxs-lookup"><span data-stu-id="16168-135">**Backup file**</span></span>  
 <span data-ttu-id="16168-136">Se si sceglie l'opzione **Sì, ripristina un backup esistente del database primario nel database secondario**, digitare il percorso e il nome del file del backup completo del database che si desidera usare per inizializzare il database secondario.</span><span class="sxs-lookup"><span data-stu-id="16168-136">Type the path and filename of the full database backup you want to use to initialize the secondary database if you chose the **Yes, restore and existing backup of the primary database to the secondary database option**.</span></span>  
  
 <span data-ttu-id="16168-137">**Opzioni di ripristino**</span><span class="sxs-lookup"><span data-stu-id="16168-137">**Restore Options**</span></span>  
 <span data-ttu-id="16168-138">Vedere la descrizione di questo pulsante più indietro in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="16168-138">See the description of this button earlier in this topic.</span></span>  
  
 <span data-ttu-id="16168-139">**No, il database secondario è già inizializzato**</span><span class="sxs-lookup"><span data-stu-id="16168-139">**No, the secondary database is initialized**</span></span>  
 <span data-ttu-id="16168-140">Consente di specificare che il database secondario è già inizializzato e pronto ad accettare backup dei log delle transazioni del database primario.</span><span class="sxs-lookup"><span data-stu-id="16168-140">Specify that the secondary database is already initialized and ready to accept transaction log backups from the primary database.</span></span> <span data-ttu-id="16168-141">Questa opzione non è disponibile se è stato digitato il nome di un database nuovo nella casella **Database secondario** .</span><span class="sxs-lookup"><span data-stu-id="16168-141">This option is not available if you typed a new database name in the **Secondary database** box.</span></span>  
  
 <span data-ttu-id="16168-142">**Scheda Copia file**</span><span class="sxs-lookup"><span data-stu-id="16168-142">**Copy Files tab**</span></span>  
 <span data-ttu-id="16168-143">descritte di seguito:</span><span class="sxs-lookup"><span data-stu-id="16168-143">The options are as follows:</span></span>  
  
 <span data-ttu-id="16168-144">**Cartella di destinazione per i file copiati**</span><span class="sxs-lookup"><span data-stu-id="16168-144">**Destination folder for copied files**</span></span>  
 <span data-ttu-id="16168-145">Consente di specificare il percorso in cui devono essere copiati i backup dei log delle transazioni per il ripristino nel database secondario.</span><span class="sxs-lookup"><span data-stu-id="16168-145">Type the path to which transaction log backups should be copied for restoration to the secondary database.</span></span> <span data-ttu-id="16168-146">Si tratta in genere di un percorso locale che fa riferimento a una cartella nel server secondario.</span><span class="sxs-lookup"><span data-stu-id="16168-146">This is usually a local path to a folder located on the secondary server.</span></span> <span data-ttu-id="16168-147">Se la cartella si trova in un altro server, è comunque necessario specificarne il percorso UNC.</span><span class="sxs-lookup"><span data-stu-id="16168-147">If the folder is located on another server, however, you must specify a UNC path to the folder.</span></span> <span data-ttu-id="16168-148">L'account del servizio [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] dell'istanza del server secondario deve disporre delle autorizzazioni di lettura per tale cartella.</span><span class="sxs-lookup"><span data-stu-id="16168-148">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] service account of the secondary server instance must have Read permissions on this folder.</span></span> <span data-ttu-id="16168-149">È inoltre necessario concedere le autorizzazioni di lettura e scrittura per la condivisione di rete agli account proxy con cui verranno eseguiti i processi di copia e ripristino nelle istanze del server secondario.</span><span class="sxs-lookup"><span data-stu-id="16168-149">You must also grant read and write permissions on this network share to the proxy accounts under which the copy and restore jobs will run at the secondary server instances.</span></span> <span data-ttu-id="16168-150">Per impostazione predefinita, si tratta dell'account del servizio SQL Server Agent dell'istanza del server secondario. I membri del ruolo sysadmin possono tuttavia scegliere altri account proxy per l'esecuzione dei processi.</span><span class="sxs-lookup"><span data-stu-id="16168-150">By default, this is the SQL Server Agent service account of the secondary server instance, but a sysadmin can choose other proxy accounts for the jobs.</span></span>  
  
 <span data-ttu-id="16168-151">**Elimina i file copiati dopo**</span><span class="sxs-lookup"><span data-stu-id="16168-151">**Delete copied files after**</span></span>  
 <span data-ttu-id="16168-152">Consente di specificare per quanto tempo i file di backup dei log delle transazioni che sono stati copiati devono rimanere nella cartella di destinazione prima di essere eliminati.</span><span class="sxs-lookup"><span data-stu-id="16168-152">Choose the length of time you want the copied transaction log backup files to remain in the destination folder before being deleted.</span></span>  
  
 <span data-ttu-id="16168-153">**Nome processo**</span><span class="sxs-lookup"><span data-stu-id="16168-153">**Job name**</span></span>  
 <span data-ttu-id="16168-154">Visualizza il nome del processo di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent utilizzato per copiare i file di backup dei log delle transazioni dal server primario al server secondario.</span><span class="sxs-lookup"><span data-stu-id="16168-154">Displays the name of the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent job used to copy transaction log backup files from the primary server to the secondary server.</span></span> <span data-ttu-id="16168-155">Al momento della prima creazione di tale processo è possibile modificarne il nome nell'apposita casella.</span><span class="sxs-lookup"><span data-stu-id="16168-155">When first creating this job, you can change the name by typing in the box.</span></span>  
  
 <span data-ttu-id="16168-156">**Pianificare**</span><span class="sxs-lookup"><span data-stu-id="16168-156">**Schedule**</span></span>  
 <span data-ttu-id="16168-157">Visualizza la pianificazione corrente del processo di SQL Server Agent utilizzato per copiare i file di backup dei log delle transazioni dal server primario a quello secondario.</span><span class="sxs-lookup"><span data-stu-id="16168-157">Displays the current schedule for the SQL Server Agent copy job to copy transaction log backups from the primary server to the secondary server.</span></span> <span data-ttu-id="16168-158">Fare clic su **Pianificazione**per apportarvi modifiche.</span><span class="sxs-lookup"><span data-stu-id="16168-158">You can modify this schedule by clicking **Schedule...**.</span></span>  
  
 <span data-ttu-id="16168-159">**Pianificazione**</span><span class="sxs-lookup"><span data-stu-id="16168-159">**Schedule...**</span></span>  
 <span data-ttu-id="16168-160">Consente di modificare i parametri del processo di SQL Server Agent utilizzato per copiare i file di backup dei log delle transazioni dal server primario a quello secondario.</span><span class="sxs-lookup"><span data-stu-id="16168-160">Modify the parameters of the SQL Server Agent job that copies transaction log backups from the primary server to the secondary server.</span></span>  
  
 <span data-ttu-id="16168-161">**Disabilita questo processo**</span><span class="sxs-lookup"><span data-stu-id="16168-161">**Disable this job**</span></span>  
 <span data-ttu-id="16168-162">Consente di sospendere il processo di SQL Server Agent utilizzato per la copia.</span><span class="sxs-lookup"><span data-stu-id="16168-162">Suspend the SQL Server Agent copy job.</span></span>  
  
 <span data-ttu-id="16168-163">**Scheda Ripristina log delle transazioni**</span><span class="sxs-lookup"><span data-stu-id="16168-163">**Restore Transaction Log tab**</span></span>  
 <span data-ttu-id="16168-164">descritte di seguito:</span><span class="sxs-lookup"><span data-stu-id="16168-164">The options are as follows:</span></span>  
  
 <span data-ttu-id="16168-165">**Disconnetti utenti dal database per il ripristino dei backup**</span><span class="sxs-lookup"><span data-stu-id="16168-165">**Disconnect users in the database when restoring backups**</span></span>  
 <span data-ttu-id="16168-166">Consente di disconnettere automaticamente gli utenti dal database secondario durante le operazioni di ripristino dei backup dei log delle transazioni.</span><span class="sxs-lookup"><span data-stu-id="16168-166">Automatically disconnect users from the secondary database while transaction log backups are being restored.</span></span>  
  
 <span data-ttu-id="16168-167">**Modalità nessun recupero**</span><span class="sxs-lookup"><span data-stu-id="16168-167">**No recovery mode**</span></span>  
 <span data-ttu-id="16168-168">Consente di lasciare il database secondario in modalità NORECOVERY.</span><span class="sxs-lookup"><span data-stu-id="16168-168">Leave the secondary database in NORECOVERY mode.</span></span>  
  
 <span data-ttu-id="16168-169">**Modalità standby**</span><span class="sxs-lookup"><span data-stu-id="16168-169">**Standby mode**</span></span>  
 <span data-ttu-id="16168-170">Consente di lasciare il database secondario in modalità STANDBY.</span><span class="sxs-lookup"><span data-stu-id="16168-170">Leave the secondary database in STANDBY mode.</span></span> <span data-ttu-id="16168-171">Questa modalità consente di eseguire esclusivamente operazioni di sola lettura sul database.</span><span class="sxs-lookup"><span data-stu-id="16168-171">This mode will allow read-only operations to be performed on the database.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="16168-172">Se si modifica la modalità di recupero di un database secondario esistente, ad esempio da **Modalità nessun recupero** a **Modalità standby**, la modifica viene applicata solo dopo che il backup del log successivo è stato ripristinato nel database.</span><span class="sxs-lookup"><span data-stu-id="16168-172">If you change the recovery mode of an existing secondary database, for example, from **No recovery mode** to **Standby mode**, the change takes effect only after the next log backup is restored to the database.</span></span>  
  
 <span data-ttu-id="16168-173">**Ritardo minimo per il ripristino dei backup**</span><span class="sxs-lookup"><span data-stu-id="16168-173">**Delay restoring backups at least**</span></span>  
 <span data-ttu-id="16168-174">Consente di scegliere l'eventuale ritardo per il ripristino dei backup dei log delle transazioni nel server secondario.</span><span class="sxs-lookup"><span data-stu-id="16168-174">Choose the delay before transaction log backups are restored to the secondary database, if any.</span></span>  
  
 <span data-ttu-id="16168-175">**Invia avviso se il ripristino non viene eseguito entro**</span><span class="sxs-lookup"><span data-stu-id="16168-175">**Alert if no restore occurs within**</span></span>  
 <span data-ttu-id="16168-176">Consente di scegliere la quantità di tempo da attendere prima che venga generato un avviso se il ripristino dei log delle transazioni non viene eseguito.</span><span class="sxs-lookup"><span data-stu-id="16168-176">Choose the amount of time you want log shipping to wait before raising an alert that no transaction log restores have occurred.</span></span>  
  
 <span data-ttu-id="16168-177">**Nome processo**</span><span class="sxs-lookup"><span data-stu-id="16168-177">**Job name**</span></span>  
 <span data-ttu-id="16168-178">Visualizza il nome del processo di SQL Server Agent utilizzato per ripristinare i backup dei log delle transazioni nel database secondario.</span><span class="sxs-lookup"><span data-stu-id="16168-178">Displays the name of the SQL Server Agent job used to restore transaction log backups to the secondary database.</span></span> <span data-ttu-id="16168-179">Al momento della prima creazione di tale processo è possibile modificarne il nome nell'apposita casella.</span><span class="sxs-lookup"><span data-stu-id="16168-179">When first creating this job, you can change the name by typing in the box.</span></span>  
  
 <span data-ttu-id="16168-180">**Pianificare**</span><span class="sxs-lookup"><span data-stu-id="16168-180">**Schedule**</span></span>  
 <span data-ttu-id="16168-181">Visualizza la pianificazione corrente del processo di SQL Server Agent utilizzato per ripristinare i backup dei log delle transazioni nel database secondario.</span><span class="sxs-lookup"><span data-stu-id="16168-181">Displays the current schedule for the SQL Server Agent job used for restoring transaction log backups to the secondary database.</span></span> <span data-ttu-id="16168-182">Fare clic su **Pianificazione**per apportarvi modifiche.</span><span class="sxs-lookup"><span data-stu-id="16168-182">You can modify this option by clicking **Schedule...**.</span></span>  
  
 <span data-ttu-id="16168-183">**Pianificazione**</span><span class="sxs-lookup"><span data-stu-id="16168-183">**Schedule...**</span></span>  
 <span data-ttu-id="16168-184">Consente di modificare i parametri relativi al processo di SQL Server Agent utilizzato per il ripristino.</span><span class="sxs-lookup"><span data-stu-id="16168-184">Modify the parameters associate with the SQL Server Agent restore job.</span></span>  
  
 <span data-ttu-id="16168-185">**Disabilita questo processo**</span><span class="sxs-lookup"><span data-stu-id="16168-185">**Disable this job**</span></span>  
 <span data-ttu-id="16168-186">Consente di sospendere le operazioni di ripristino nel database secondario.</span><span class="sxs-lookup"><span data-stu-id="16168-186">Suspend restore operations to the secondary database.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="16168-187">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="16168-187">See Also</span></span>  
 <span data-ttu-id="16168-188">[Backup e ripristino di database SQL Server](../backup-restore/back-up-and-restore-of-sql-server-databases.md) </span><span class="sxs-lookup"><span data-stu-id="16168-188">[Back Up and Restore of SQL Server Databases](../backup-restore/back-up-and-restore-of-sql-server-databases.md) </span></span>  
 [<span data-ttu-id="16168-189">Informazioni sul log shipping &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="16168-189">About Log Shipping &#40;SQL Server&#41;</span></span>](../../database-engine/log-shipping/about-log-shipping-sql-server.md)  
  
  
