---
title: Avviare e usare Ottimizzazione guidata motore di database | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: performance
ms.topic: conceptual
f1_keywords:
- sql12.dta.advancedtuningoptions.f1
- sql12.dta.general.f1
- sql12.dta.tuningoptions.f1
- sql12.dta.workload.f1
- sql12.dta.progress.f1
- sql12.dta.options.f1
helpviewer_keywords:
- Database Engine Tuning Advisor [SQL Server], starting
ms.assetid: a4e3226a-3917-4ec8-bdf0-472879d231c9
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 46f8e49de657d7021d846c7e57022a580b877f8e
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87716284"
---
# <a name="start-and-use-the-database-engine-tuning-advisor"></a><span data-ttu-id="ca1ae-102">Avvio e utilizzo di Ottimizzazione guidata motore di database</span><span class="sxs-lookup"><span data-stu-id="ca1ae-102">Start and Use the Database Engine Tuning Advisor</span></span>
  <span data-ttu-id="ca1ae-103">In questo argomento viene descritto come avviare e utilizzare Ottimizzazione guidata motore di database in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ca1ae-103">This topic describes how to start and use Database Engine Tuning Advisor in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span></span> <span data-ttu-id="ca1ae-104">Per informazioni su come visualizzare e usare i risultati dopo l'ottimizzazione di un database, vedere [Visualizzare e utilizzare l'output di Ottimizzazione guidata motore di database](database-engine-tuning-advisor.md).</span><span class="sxs-lookup"><span data-stu-id="ca1ae-104">For information about how to view and work with the results after you tune a database, see [View and Work with the Output from the Database Engine Tuning Advisor](database-engine-tuning-advisor.md).</span></span>  
  
##  <a name="initialize-the-database-engine-tuning-advisor"></a><a name="Initialize"></a> <span data-ttu-id="ca1ae-105">Inizializzare Ottimizzazione guidata motore di database</span><span class="sxs-lookup"><span data-stu-id="ca1ae-105">Initialize the Database Engine Tuning Advisor</span></span>  
 <span data-ttu-id="ca1ae-106">Al primo utilizzo, è necessario che lo strumento Ottimizzazione guidata motore di database sia avviato da un utente membro del ruolo predefinito del server **sysadmin** .</span><span class="sxs-lookup"><span data-stu-id="ca1ae-106">On first use, a user who is member of the **sysadmin** fixed server role must initialize the Database Engine Tuning Advisor.</span></span> <span data-ttu-id="ca1ae-107">Questa operazione viene richiesta perché è necessario creare diverse tabelle di sistema nel database `msdb` per supportare operazioni di ottimizzazione.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-107">This is because several system tables must be created in the `msdb` database to support tuning operations.</span></span> <span data-ttu-id="ca1ae-108">L'inizializzazione consente anche agli utenti membri del ruolo predefinito del database **db_owner** di ottimizzare carichi di lavoro nelle tabelle dei database di cui sono proprietari.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-108">Initialization also enables users that are members of the **db_owner** fixed database role to tune workloads on tables in databases that they own.</span></span>  
  
 <span data-ttu-id="ca1ae-109">Un utente con le autorizzazioni di amministratore di sistema deve eseguire una delle azioni seguenti.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-109">A user that has system administrator permissions must perform either of the following actions:</span></span>  
  
-   <span data-ttu-id="ca1ae-110">Utilizzare l'interfaccia utente grafica di Ottimizzazione guidata motore di database per connettersi a un'istanza di [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ca1ae-110">Use the Database Engine Tuning Advisor graphical user interface to connect to an instance of [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span></span> <span data-ttu-id="ca1ae-111">Per ulteriori informazioni, vedere [Avviare Ottimizzazione guidata motore di database](#Start) più avanti in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-111">For more information, see [Start the Database Engine Tuning Advisor](#Start) later in this topic.</span></span>  
  
-   <span data-ttu-id="ca1ae-112">Utilizzare l'utilità **dta** per ottimizzare il primo carico di lavoro.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-112">Use the **dta** utility to tune the first workload.</span></span> <span data-ttu-id="ca1ae-113">Per ulteriori informazioni, vedere [Utilizzare l'utilità dta](#dta) , più avanti in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-113">For more information, see [Use the dta Utility](#dta) later in this topic.</span></span>  
  
##  <a name="start-the-database-engine-tuning-advisor"></a><a name="Start"></a> <span data-ttu-id="ca1ae-114">Avviare Ottimizzazione guidata motore di database</span><span class="sxs-lookup"><span data-stu-id="ca1ae-114">Start the Database Engine Tuning Advisor</span></span>  
 <span data-ttu-id="ca1ae-115">Esistono diverse modalità per avviare l'interfaccia utente grafica (GUI) di Ottimizzazione guidata motore di database e supportare l'ottimizzazione dei database in vari scenari.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-115">You can start the Database Engine Tuning Advisor graphical user interface (GUI) in several different ways to support database tuning in a variety of scenarios.</span></span> <span data-ttu-id="ca1ae-116">Ottimizzazione guidata motore di database può essere avviato: dal menu **Start** , dal menu **Strumenti** di [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], dall'editor di query in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]e dal menu **Strumenti** di [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ca1ae-116">The different ways to start Database Engine Tuning Advisor include: from the **Start** menu, from the **Tools** menu in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], from the Query Editor in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], and from the **Tools** menu in [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)].</span></span> <span data-ttu-id="ca1ae-117">Quando Ottimizzazione guidata motore di database viene avviato per la prima volta, viene visualizzata la finestra di dialogo **Connetti al server** in cui è possibile specificare l'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] a cui si desidera connettersi.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-117">When you first start Database Engine Tuning Advisor, the application displays a **Connect to Server** dialog box where you can specify the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance to which you want to connect.</span></span>  
  
> [!WARNING]  
>  <span data-ttu-id="ca1ae-118">Non avviare Ottimizzazione guidata motore di database quando [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] è in esecuzione in modalità utente singolo.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-118">Do not start Database Engine Tuning Advisor when [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is running in single-user mode.</span></span> <span data-ttu-id="ca1ae-119">Se l'applicazione viene avviata mentre il server è in modalità utente singolo, verrà restituito un errore e Ottimizzazione guidata motore di database non verrà avviata.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-119">If you attempt to start it while the server is in single-user mode, an error will be returned and Database Engine Tuning Advisor will not start.</span></span> <span data-ttu-id="ca1ae-120">Per altre informazioni sulla modalità utente singolo, vedere [Avvio di SQL Server in modalità utente singolo](../../database-engine/configure-windows/start-sql-server-in-single-user-mode.md).</span><span class="sxs-lookup"><span data-stu-id="ca1ae-120">For more information about single-user mode, see [Start SQL Server in Single-User Mode](../../database-engine/configure-windows/start-sql-server-in-single-user-mode.md).</span></span>  
  
#### <a name="to-start-database-engine-tuning-advisor-from-the-windows-start-menu"></a><span data-ttu-id="ca1ae-121">Per avviare Ottimizzazione guidata motore di database dal menu Start di Windows</span><span class="sxs-lookup"><span data-stu-id="ca1ae-121">To start Database Engine Tuning Advisor from the Windows Start menu</span></span>  
  
1.  <span data-ttu-id="ca1ae-122">Nel menu **Start** scegliere **Tutti i programmi**, **Microsoft SQL Server 2005**, **Strumenti per le prestazioni**e fare clic su **Ottimizzazione guidata motore di database**.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-122">On the **Start** menu, point to **All Programs**, point to **Microsoft SQL Server**, point to **Performance Tools**, and then click **Database Engine Tuning Advisor**.</span></span>  
  
#### <a name="to-start-the-database-engine-tuning-advisor-in-sql-server-management-studio"></a><span data-ttu-id="ca1ae-123">Per avviare Ottimizzazione guidata motore di database in SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="ca1ae-123">To start the Database Engine Tuning Advisor in SQL Server Management Studio</span></span>  
  
1.  <span data-ttu-id="ca1ae-124">Scegliere **Ottimizzazione guidata motore di database** dal menu **Strumenti** di [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ca1ae-124">On the [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] **Tools** menu, click **Database Engine Tuning Advisor**.</span></span>  
  
#### <a name="to-start-the-database-engine-tuning-advisor-from-the-sql-server-management-studio-query-editor"></a><span data-ttu-id="ca1ae-125">Per avviare Ottimizzazione guidata motore di database dall'Editor di query di SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="ca1ae-125">To start the Database Engine Tuning Advisor from the SQL Server Management Studio Query Editor</span></span>  
  
1.  <span data-ttu-id="ca1ae-126">Aprire un file script [!INCLUDE[tsql](../../includes/tsql-md.md)] in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ca1ae-126">Open a [!INCLUDE[tsql](../../includes/tsql-md.md)] script file in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="ca1ae-127">Per altre informazioni, vedere [Editor di query e di testo &#40;SQL Server Management Studio&#41;](../scripting/query-and-text-editors-sql-server-management-studio.md).</span><span class="sxs-lookup"><span data-stu-id="ca1ae-127">For more information, see [Query and Text Editors &#40;SQL Server Management Studio&#41;](../scripting/query-and-text-editors-sql-server-management-studio.md).</span></span>  
  
2.  <span data-ttu-id="ca1ae-128">Selezionare una query nello script [!INCLUDE[tsql](../../includes/tsql-md.md)] o selezionare l'intero script, fare clic con il pulsante destro del mouse sulla selezione e scegliere **Analizza query in Ottimizzazione guidata motore di database**.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-128">Select a query in the [!INCLUDE[tsql](../../includes/tsql-md.md)] script, or select the entire script, right-click the selection, and choose **Analyze Query in Database Engine Tuning Advisor**.</span></span> <span data-ttu-id="ca1ae-129">Viene aperta l'interfaccia utente grafica di Ottimizzazione guidata motore di database e lo script viene importato come file XML del carico di lavoro.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-129">The Database Engine Tuning Advisor GUI opens and imports the script as an XML file workload.</span></span> <span data-ttu-id="ca1ae-130">Per ottimizzare le query [!INCLUDE[tsql](../../includes/tsql-md.md)] selezionate come carico di lavoro è possibile specificare un nome di sessione e le opzioni di ottimizzazione.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-130">You can specify a session name and tuning options to tune the selected [!INCLUDE[tsql](../../includes/tsql-md.md)] queries as your workload.</span></span>  
  
#### <a name="to-start-the-database-engine-tuning-advisor-in-sql-server-profiler"></a><span data-ttu-id="ca1ae-131">Per avviare Ottimizzazione guidata motore di database in SQL Server Profiler</span><span class="sxs-lookup"><span data-stu-id="ca1ae-131">To start the Database Engine Tuning Advisor in SQL Server Profiler</span></span>  
  
1.  <span data-ttu-id="ca1ae-132">Scegliere **Ottimizzazione guidata motore di database** dal menu **Strumenti**di SQL Server Profiler.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-132">On the SQL Server Profiler **Tools** menu, click **Database Engine Tuning Advisor**.</span></span>  
  
##  <a name="create-a-workload"></a><a name="Create"></a> <span data-ttu-id="ca1ae-133">Creare un carico di lavoro</span><span class="sxs-lookup"><span data-stu-id="ca1ae-133">Create a Workload</span></span>  
 <span data-ttu-id="ca1ae-134">Un carico di lavoro è un set di istruzioni [!INCLUDE[tsql](../../includes/tsql-md.md)] eseguite sui database che si desidera ottimizzare.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-134">A workload is a set of [!INCLUDE[tsql](../../includes/tsql-md.md)] statements that execute against a database or databases that you want to tune.</span></span> <span data-ttu-id="ca1ae-135">In Ottimizzazione guidata motore di database questi carichi di lavoro vengono analizzati allo scopo di fornire indicazioni sugli indici o sulle strategie di partizionamento che consentono di migliorare le prestazioni di esecuzione delle query nel server.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-135">Database Engine Tuning Advisor analyzes these workloads to recommend indexes or partitioning strategies that will improve your server's query performance.</span></span>  
  
 <span data-ttu-id="ca1ae-136">È possibile creare un carico di lavoro con uno dei metodi seguenti:</span><span class="sxs-lookup"><span data-stu-id="ca1ae-136">You can create a workload by using one of the following methods.</span></span>  
  
-   <span data-ttu-id="ca1ae-137">Utilizzare la cache dei piani come carico di lavoro.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-137">Use the plan cache as a workload.</span></span> <span data-ttu-id="ca1ae-138">In questo modo, è possibile evitare di dover creare manualmente un carico di lavoro.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-138">By doing this, you can avoid having to manually create a workload.</span></span> <span data-ttu-id="ca1ae-139">Per ulteriori informazioni, vedere [Ottimizzare un database](#Tune) di seguito in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-139">For more information, see [Tune a Database](#Tune) later in this topic.</span></span>  
  
-   <span data-ttu-id="ca1ae-140">Utilizzare l'editor di query in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] o un editor di testo a scelta per creare manualmente carichi di lavoro di script [!INCLUDE[tsql](../../includes/tsql-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="ca1ae-140">Use the Query Editor in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] or your favorite text editor to manually create [!INCLUDE[tsql](../../includes/tsql-md.md)] script workloads.</span></span>  
  
-   <span data-ttu-id="ca1ae-141">Utilizzare [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] per creare carichi di lavoro di tabelle di traccia o file di traccia</span><span class="sxs-lookup"><span data-stu-id="ca1ae-141">Use [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] to create trace file or trace table workloads</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="ca1ae-142">Quando come carico di lavoro si utilizza una tabella di traccia, è necessario che la tabella sia inclusa nel server in cui viene eseguito Ottimizzazione guidata motore di database.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-142">When using a trace table as a workload, that table must exist on the same server where Database Engine Tuning Advisor is tuning.</span></span> <span data-ttu-id="ca1ae-143">Se la tabella di traccia viene creata in un altro server, è necessario spostarla nel server in cui viene eseguita l'ottimizzazione guidata.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-143">If you create the trace table on a different server, then move it to the server where Database Engine Tuning Advisor is tuning.</span></span>  
  
-   <span data-ttu-id="ca1ae-144">I carichi di lavoro inoltre possono essere incorporati in un file di input XML, in cui è possibile specificare anche la ponderazione per ogni evento.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-144">Workloads can also be embedded in an XML input file, where you can also specify a weight for each event.</span></span> <span data-ttu-id="ca1ae-145">Per ulteriori informazioni sulla specifica di carichi di lavoro incorporati, vedere [Creare un file di input XML](#XMLInput) più avanti in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-145">For more information about specifying embedded workloads, see [Create an XML Input File](#XMLInput) later in this topic.</span></span>  
  
###  <a name="to-create-transact-sql-script-workloads"></a><a name="SSMS"></a> <span data-ttu-id="ca1ae-146">Per creare carichi di lavoro di script Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="ca1ae-146">To create Transact-SQL script workloads</span></span>  
  
1.  <span data-ttu-id="ca1ae-147">Avviare l'editor di query in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ca1ae-147">Launch the Query Editor in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="ca1ae-148">Per altre informazioni, vedere [Editor di query e di testo &#40;SQL Server Management Studio&#41;](../scripting/query-and-text-editors-sql-server-management-studio.md).</span><span class="sxs-lookup"><span data-stu-id="ca1ae-148">For more information, see [Query and Text Editors &#40;SQL Server Management Studio&#41;](../scripting/query-and-text-editors-sql-server-management-studio.md).</span></span>  
  
2.  <span data-ttu-id="ca1ae-149">Digitare lo script [!INCLUDE[tsql](../../includes/tsql-md.md)] nell'editor di query.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-149">Type your [!INCLUDE[tsql](../../includes/tsql-md.md)] script into the Query Editor.</span></span> <span data-ttu-id="ca1ae-150">Lo script deve includere un set di istruzioni [!INCLUDE[tsql](../../includes/tsql-md.md)] eseguite sui database che si desidera ottimizzare.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-150">This script should contain a set of [!INCLUDE[tsql](../../includes/tsql-md.md)] statements that execute against the database or databases that you want to tune.</span></span>  
  
3.  <span data-ttu-id="ca1ae-151">Salvare il file con l'estensione **sql** .</span><span class="sxs-lookup"><span data-stu-id="ca1ae-151">Save the file with a **.sql** extension.</span></span> <span data-ttu-id="ca1ae-152">L'interfaccia grafica di Ottimizzazione guidata motore di database e l'utilità della riga di comando **dta** possono usare questo script [!INCLUDE[tsql](../../includes/tsql-md.md)] come carico di lavoro.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-152">The Database Engine Tuning Advisor GUI and the command-line **dta** utility can use this [!INCLUDE[tsql](../../includes/tsql-md.md)] script as a workload.</span></span>  
  
###  <a name="to-create-trace-file-and-trace-table-workloads"></a><a name="Profiler"></a> <span data-ttu-id="ca1ae-153">Per creare carichi di lavoro di file di traccia o di tabelle di traccia</span><span class="sxs-lookup"><span data-stu-id="ca1ae-153">To create trace file and trace table workloads</span></span>  
  
1.  <span data-ttu-id="ca1ae-154">Avviare [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] in uno dei modi seguenti:</span><span class="sxs-lookup"><span data-stu-id="ca1ae-154">Launch [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] by using one of the following methods:</span></span>  
  
    -   <span data-ttu-id="ca1ae-155">Nel menu **Start** scegliere **Tutti i programmi**, **Microsoft SQL Server**, **Strumenti per le prestazioni**e quindi **SQL Server Profiler**.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-155">On the **Start** menu, point to **All Programs**, **Microsoft SQL Server**, **Performance Tools**, and then click **SQL Server Profiler**.</span></span>  
  
    -   <span data-ttu-id="ca1ae-156">In [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]scegliere **SQL Server Profiler** dal menu **Strumenti**.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-156">In [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], click the **Tools** menu, and then click **SQL Server Profiler**.</span></span>  
  
2.  <span data-ttu-id="ca1ae-157">Creare un file o una tabella di traccia come descritto nelle procedure seguenti in cui viene usato il modello **Tuning** di [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)]:</span><span class="sxs-lookup"><span data-stu-id="ca1ae-157">Create a trace file or table as described in the following procedures that uses the [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] **Tuning** template:</span></span>  
  
    -   [<span data-ttu-id="ca1ae-158">Creare una traccia &#40;SQL Server Profiler&#41;</span><span class="sxs-lookup"><span data-stu-id="ca1ae-158">Create a Trace &#40;SQL Server Profiler&#41;</span></span>](../../tools/sql-server-profiler/create-a-trace-sql-server-profiler.md)  
  
    -   [<span data-ttu-id="ca1ae-159">Salvare i risultati della traccia in un file &#40;SQL Server Profiler&#41;</span><span class="sxs-lookup"><span data-stu-id="ca1ae-159">Save Trace Results to a File &#40;SQL Server Profiler&#41;</span></span>](../../tools/sql-server-profiler/save-trace-results-to-a-file-sql-server-profiler.md)  
  
         <span data-ttu-id="ca1ae-160">In Ottimizzazione guidata motore di database viene presunto che il file di traccia del carico di lavoro sia un file di rollover.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-160">Database Engine Tuning Advisor assumes that the workload trace file is a rollover file.</span></span> <span data-ttu-id="ca1ae-161">Per ulteriori informazioni sui file di rollover, vedere [Limit Trace File and Table Sizes](../sql-trace/limit-trace-file-and-table-sizes.md).</span><span class="sxs-lookup"><span data-stu-id="ca1ae-161">For more information about rollover files, see [Limit Trace File and Table Sizes](../sql-trace/limit-trace-file-and-table-sizes.md).</span></span>  
  
    -   [<span data-ttu-id="ca1ae-162">Salvare i risultati della traccia in una tabella &#40;SQL Server Profiler&#41;</span><span class="sxs-lookup"><span data-stu-id="ca1ae-162">Save Trace Results to a Table &#40;SQL Server Profiler&#41;</span></span>](../../tools/sql-server-profiler/save-trace-results-to-a-table-sql-server-profiler.md)  
  
         <span data-ttu-id="ca1ae-163">Prima di utilizzare una tabella di traccia come carico di lavoro, verificare che la traccia sia stata arrestata.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-163">Make sure that tracing has stopped before using a trace table as a workload.</span></span>  
  
 <span data-ttu-id="ca1ae-164">Per l'acquisizione di carichi di lavoro per Ottimizzazione guidata motore di database è consigliabile utilizzare il modello Tuning di SQL Server Profiler.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-164">We recommend that you use the SQL Server Profiler Tuning template for capturing workloads for Database Engine Tuning Advisor.</span></span>  
  
 <span data-ttu-id="ca1ae-165">Se si desidera utilizzare un modello personalizzato, verificare che siano acquisiti gli eventi di traccia seguenti:</span><span class="sxs-lookup"><span data-stu-id="ca1ae-165">If you want to use your own template, ensure that the following trace events are captured:</span></span>  
  
-   <span data-ttu-id="ca1ae-166">**RPC:Completed**</span><span class="sxs-lookup"><span data-stu-id="ca1ae-166">**RPC:Completed**</span></span>  
  
-   <span data-ttu-id="ca1ae-167">**SQL:BatchCompleted**</span><span class="sxs-lookup"><span data-stu-id="ca1ae-167">**SQL:BatchCompleted**</span></span>  
  
-   <span data-ttu-id="ca1ae-168">**SP:StmtCompleted**</span><span class="sxs-lookup"><span data-stu-id="ca1ae-168">**SP:StmtCompleted**</span></span>  
  
 <span data-ttu-id="ca1ae-169">È inoltre possibile utilizzare la versione **Starting** degli eventi di traccia,</span><span class="sxs-lookup"><span data-stu-id="ca1ae-169">You can also use the **Starting** versions of these trace events.</span></span> <span data-ttu-id="ca1ae-170">ad esempio, **SQL:BatchStarting**.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-170">For example, **SQL:BatchStarting**.</span></span> <span data-ttu-id="ca1ae-171">La versione **Completed** tuttavia include la colonna **Duration** che consente un'ottimizzazione più efficiente del carico di lavoro.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-171">However, the **Completed** versions of these trace events include the **Duration** column, which allows Database Engine Tuning Advisor to more effectively tune the workload.</span></span> <span data-ttu-id="ca1ae-172">Ottimizzazione guidata motore di database non supporta l'ottimizzazione di altri tipi di eventi di traccia.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-172">Database Engine Tuning Advisor does not tune other types of trace events.</span></span> <span data-ttu-id="ca1ae-173">Per ulteriori informazioni su questi eventi di traccia, vedere [Stored Procedures Event Category](../event-classes/stored-procedures-event-category.md) e [TSQL Event Category](../event-classes/tsql-event-category.md).</span><span class="sxs-lookup"><span data-stu-id="ca1ae-173">For more information about these trace events, see [Stored Procedures Event Category](../event-classes/stored-procedures-event-category.md) and [TSQL Event Category](../event-classes/tsql-event-category.md).</span></span> <span data-ttu-id="ca1ae-174">Per informazioni sull'uso di stored procedure di Traccia SQL per la creazione di un carico di lavoro di file di traccia, vedere [Creare una traccia &#40;Transact-SQL&#41;](../sql-trace/create-a-trace-transact-sql.md).</span><span class="sxs-lookup"><span data-stu-id="ca1ae-174">For information about using the SQL Trace stored procedures to create a trace file workload, see [Create a Trace &#40;Transact-SQL&#41;](../sql-trace/create-a-trace-transact-sql.md).</span></span>  
  
### <a name="trace-file-or-trace-table-workloads-that-contain-the-loginname-data-column"></a><span data-ttu-id="ca1ae-175">Carichi di lavoro di file o tabella di traccia che includono la colonna di dati LoginName</span><span class="sxs-lookup"><span data-stu-id="ca1ae-175">Trace File or Trace Table Workloads That Contain the LoginName Data Column</span></span>  
 <span data-ttu-id="ca1ae-176">Ottimizzazione guidata motore di database inoltra le richieste Showplan come parte del processo di ottimizzazione.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-176">Database Engine Tuning Advisor submits Showplan requests as part of the tuning process.</span></span> <span data-ttu-id="ca1ae-177">Quando una tabella o file di traccia che include la colonna di dati **LoginName** viene utilizzata come carico di lavoro, Ottimizzazione guidata motore di database rappresenta l'utente specificato in **LoginName**.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-177">When a trace table or file that contains the **LoginName** data column is consumed as a workload, Database Engine Tuning Advisor impersonates the user specified in **LoginName**.</span></span> <span data-ttu-id="ca1ae-178">Se tale utente non dispone dell'autorizzazione SHOWPLAN, che consente di eseguire e generare Showplan per le istruzioni incluse nella traccia, Ottimizzazione guidata motore di database non eseguirà l'ottimizzazione di queste istruzioni.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-178">If this user has not been granted the SHOWPLAN permission, which enables the user to execute and produce Showplans for the statements contained in the trace, Database Engine Tuning Advisor will not tune those statements.</span></span>  
  
##### <a name="to-avoid-granting-the-showplan-permission-to-each-user-specified-in-the-loginname-column-of-the-trace"></a><span data-ttu-id="ca1ae-179">Per evitare di concedere l'autorizzazione SHOWPLAN a ogni utente specificato nella colonna LoginName della traccia</span><span class="sxs-lookup"><span data-stu-id="ca1ae-179">To avoid granting the SHOWPLAN permission to each user specified in the LoginName column of the trace</span></span>  
  
1.  <span data-ttu-id="ca1ae-180">Ottimizzare il carico di lavoro del file o della tabella di traccia.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-180">Tune the trace file or table workload.</span></span> <span data-ttu-id="ca1ae-181">Per ulteriori informazioni, vedere [Ottimizzare un database](#Tune) di seguito in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-181">For more information, see [Tune a Database](#Tune) later in this topic.</span></span>  
  
2.  <span data-ttu-id="ca1ae-182">Verificare nel log di ottimizzazione eventuali istruzioni non ottimizzate a causa di autorizzazioni non adeguate.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-182">Check the tuning log for statements that were not tuned due to inadequate permissions.</span></span> <span data-ttu-id="ca1ae-183">Per altre informazioni, vedere [Visualizzare e utilizzare l'output di Ottimizzazione guidata motore di database](database-engine-tuning-advisor.md).</span><span class="sxs-lookup"><span data-stu-id="ca1ae-183">For more information, see [View and Work with the Output from the Database Engine Tuning Advisor](database-engine-tuning-advisor.md).</span></span>  
  
3.  <span data-ttu-id="ca1ae-184">Creare un nuovo carico di lavoro eliminando la colonna **LoginName** dagli eventi non ottimizzati e quindi salvando solo gli eventi non ottimizzati in un nuovo file o tabella di traccia.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-184">Create a new workload by deleting the **LoginName** column from the events that were not tuned, and then save only the untuned events in a new trace file or table.</span></span> <span data-ttu-id="ca1ae-185">Per altre informazioni sull'eliminazione di colonne di dati da una traccia, vedere [Specificare eventi e colonne di dati per un file di traccia &#40;SQL Server Profiler&#41;](../../tools/sql-server-profiler/specify-events-and-data-columns-for-a-trace-file-sql-server-profiler.md) o [Modificare una traccia esistente &#40;Transact-SQL&#41;](../sql-trace/modify-an-existing-trace-transact-sql.md).</span><span class="sxs-lookup"><span data-stu-id="ca1ae-185">For more information about deleting data columns from a trace, see [Specify Events and Data Columns for a Trace File &#40;SQL Server Profiler&#41;](../../tools/sql-server-profiler/specify-events-and-data-columns-for-a-trace-file-sql-server-profiler.md) or [Modify an Existing Trace &#40;Transact-SQL&#41;](../sql-trace/modify-an-existing-trace-transact-sql.md).</span></span>  
  
4.  <span data-ttu-id="ca1ae-186">Ripetere l'inoltro del nuovo carico di lavoro senza la colonna **LoginName** a Ottimizzazione guidata motore di database.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-186">Resubmit the new workload without the **LoginName** column to Database Engine Tuning Advisor.</span></span>  
  
 <span data-ttu-id="ca1ae-187">Ottimizzazione guidata motore di database eseguirà l'ottimizzazione del nuovo carico di lavoro dato che le informazioni di accesso non sono specificate nella traccia.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-187">Database Engine Tuning Advisor will tune the new workload because login information is not specified in the trace.</span></span> <span data-ttu-id="ca1ae-188">Se **LoginName** non esiste per un'istruzione, Ottimizzazione guidata motore di database ottimizza l'istruzione rappresentando l'utente che ha avviato la sessione di ottimizzazione, ovvero un membro del ruolo predefinito del server **sysadmin** o del ruolo predefinito del database **db_owner** .</span><span class="sxs-lookup"><span data-stu-id="ca1ae-188">If the **LoginName** does not exist for a statement, Database Engine Tuning Advisor tunes that statement by impersonating the user who started the tuning session (a member of either the **sysadmin** fixed server role or the **db_owner** fixed database role).</span></span>  
  
##  <a name="tune-a-database"></a><a name="Tune"></a> <span data-ttu-id="ca1ae-189">Ottimizzare un database</span><span class="sxs-lookup"><span data-stu-id="ca1ae-189">Tune a Database</span></span>  
 <span data-ttu-id="ca1ae-190">Per ottimizzare un database è possibile utilizzare la GUI o l'utilità da riga di comando **dta** di Ottimizzazione guidata motore di database.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-190">To tune a database, you can use the Database Engine Tuning Advisor GUI or the **dta** utility.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="ca1ae-191">Prima di utilizzare una tabella di traccia come carico di lavoro per Ottimizzazione guidata motore di database, verificare che la traccia non sia più in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-191">Make sure that tracing has stopped before using a trace table as a workload for Database Engine Tuning Advisor.</span></span> <span data-ttu-id="ca1ae-192">Ottimizzazione guidata motore di database non consente di utilizzare come carico di lavoro una tabella di traccia nella quale è ancora in corso la scrittura di eventi di traccia.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-192">Database Engine Tuning Advisor does not support using a trace table to which trace events are still being written as a workload.</span></span>  
  
### <a name="use-the-database-engine-tuning-advisor-graphical-user-interface"></a><span data-ttu-id="ca1ae-193">Utilizzare l'interfaccia utente grafica di Ottimizzazione guidata motore di database</span><span class="sxs-lookup"><span data-stu-id="ca1ae-193">Use the Database Engine Tuning Advisor Graphical User Interface</span></span>  
 <span data-ttu-id="ca1ae-194">Nell'interfaccia utente grafica (GUI) di Ottimizzazione guidata motore di database è possibile ottimizzare un database tramite la cache dei piani, i file o le tabelle del carico di lavoro.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-194">On the Database Engine Tuning Advisor GUI, you can tune a database by using the plan cache, workload files, or workload tables.</span></span> <span data-ttu-id="ca1ae-195">È possibile utilizzare GUI di Ottimizzazione guidata motore di database per visualizzare in modo semplice i risultati delle sessioni di ottimizzazione corrente e precedenti.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-195">You can use the Database Engine Tuning Advisor GUI to easily view the results of your current tuning session and results of previous tuning sessions.</span></span> <span data-ttu-id="ca1ae-196">Per ulteriori informazioni sulle opzioni dell'interfaccia utente, vedere [Descrizioni dell'interfaccia utente](#UI) più avanti in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-196">For information about user interface options, see [User Interface Descriptions](#UI) later in this topic.</span></span> <span data-ttu-id="ca1ae-197">Per altre informazioni sull'utilizzo dell'output dopo l'ottimizzazione di un database, vedere [Visualizzare e utilizzare l'output di Ottimizzazione guidata motore di database](database-engine-tuning-advisor.md).</span><span class="sxs-lookup"><span data-stu-id="ca1ae-197">For more information about working with the output after you tune a database, see [View and Work with the Output from the Database Engine Tuning Advisor](database-engine-tuning-advisor.md).</span></span>  
  
####  <a name="to-tune-a-database-by-using-the-plan-cache"></a><a name="PlanCache"></a> <span data-ttu-id="ca1ae-198">Per ottimizzare un database tramite la cache dei piani</span><span class="sxs-lookup"><span data-stu-id="ca1ae-198">To tune a database by using the plan cache</span></span>  
  
1.  <span data-ttu-id="ca1ae-199">Avviare Ottimizzazione guidata motore di database e accedere a un'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ca1ae-199">Launch Database Engine Tuning Advisor, and log into an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="ca1ae-200">Per ulteriori informazioni, vedere [Avviare Ottimizzazione guidata motore di database](#Start) più indietro in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-200">For more information, see [Start the Database Engine Tuning Advisor](#Start) earlier in this topic.</span></span>  
  
2.  <span data-ttu-id="ca1ae-201">Nella scheda **Generale** digitare un nome in **Nome sessione** per creare una nuova sessione di ottimizzazione.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-201">On the **General** tab, type a name in **Session name** to create a new tuning session.</span></span> <span data-ttu-id="ca1ae-202">Prima di avviare una sessione di ottimizzazione è necessario configurare i campi contenuti nella scheda **Generale** ,</span><span class="sxs-lookup"><span data-stu-id="ca1ae-202">You must configure the fields in the **General** tab before starting a tuning session.</span></span> <span data-ttu-id="ca1ae-203">Non è necessario modificare le impostazioni contenute nella scheda **Opzioni di ottimizzazione** prima di avviare una sessione di ottimizzazione.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-203">It is not necessary to modify the settings of the **Tuning Options** tab before starting a tuning session.</span></span>  
  
3.  <span data-ttu-id="ca1ae-204">Selezionare **Cache dei piani** come opzione del carico di lavoro.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-204">Select **Plan Cache** as the workload option.</span></span> <span data-ttu-id="ca1ae-205">Ottimizzazione guidata motore di database seleziona i 1.000 eventi più importanti dalla cache dei piani da utilizzare per l'analisi.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-205">Database Engine Tuning Advisor selects the top 1,000 events from the plan cache to use for analysis.</span></span>  
  
4.  <span data-ttu-id="ca1ae-206">Selezionare il o i database che si desidera ottimizzare e facoltativamente scegliere uno o più tabelle da ogni database da **Tabelle selezionate**.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-206">Select the database or databases that you want to tune, and optionally from **Selected Tables**, choose one or more tables from each database.</span></span> <span data-ttu-id="ca1ae-207">Per includere voci della cache per tutti i database, da **Opzioni di ottimizzazione**fare clic su **Opzioni avanzate** , quindi controllare **Includi eventi della cache dei piani da tutti i database**.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-207">To include cache entries for all databases, from **Tuning Options**, click **Advanced Options** and then check **Include plan cache events from all databases**.</span></span>  
  
5.  <span data-ttu-id="ca1ae-208">Selezionare **Salva log di ottimizzazione** per salvare una copia del log di ottimizzazione.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-208">Check **Save tuning log** to save a copy of the tuning log.</span></span> <span data-ttu-id="ca1ae-209">Deselezionare la casella di controllo se non si desidera salvare una copia del log di ottimizzazione.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-209">Clear the check box if you do not want to save a copy of the tuning log.</span></span>  
  
     <span data-ttu-id="ca1ae-210">È possibile visualizzare il log di ottimizzazione in seguito all'analisi aprendo la sessione e selezionando la scheda **Stato** .</span><span class="sxs-lookup"><span data-stu-id="ca1ae-210">You can view the tuning log after analysis by opening the session and selecting the **Progress** tab.</span></span>  
  
6.  <span data-ttu-id="ca1ae-211">Selezionare la scheda **Opzioni di ottimizzazione** e le opzioni desiderate disponibili nella scheda.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-211">Click the **Tuning Options** tab and select from the options listed there.</span></span>  
  
7.  <span data-ttu-id="ca1ae-212">Fare clic su **Avvia analisi**.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-212">Click **Start Analysis**.</span></span>  
  
     <span data-ttu-id="ca1ae-213">Per arrestare la sessione di ottimizzazione una volta avviata, scegliere una delle opzioni seguenti dal menu **Azioni** :</span><span class="sxs-lookup"><span data-stu-id="ca1ae-213">If you want to stop the tuning session after it has started, choose one of the following options on the **Actions** menu:</span></span>  
  
    -   <span data-ttu-id="ca1ae-214">**Arresta analisi (con indicazioni)** per arrestare la sessione di ottimizzazione e scegliere se si vuole che l'Ottimizzazione guidata motore di database generi indicazioni basate sull'analisi eseguita fino a questo punto.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-214">**Stop Analysis (With Recommendations)** stops the tuning session and prompts you to decide whether you want Database Engine Tuning Advisor to generate recommendations based on the analysis done up to this point.</span></span>  
  
    -   <span data-ttu-id="ca1ae-215">**Arresta analisi** per arrestare la sessione di ottimizzazione senza che vengano generate indicazioni.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-215">**Stop Analysis** stops the tuning session without generating any recommendations.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="ca1ae-216">La sospensione di Ottimizzazione guidata motore di database non è supportata.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-216">Pausing Database Engine Tuning Advisor is not supported.</span></span> <span data-ttu-id="ca1ae-217">Se si fa clic sul pulsante della barra degli strumenti **Avvia analisi** dopo aver fatto clic sui pulsanti della barra degli strumenti **Arresta analisi** o **Arresta analisi (con indicazioni)** , Ottimizzazione guidata motore di database avvia una nuova sessione di ottimizzazione.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-217">If you click the **Start Analysis** toolbar button after clicking either the **Stop Analysis** or **Stop Analysis (With Recommendations)** toolbar buttons, Database Engine Tuning Advisor starts a new tuning session.</span></span>  
  
##### <a name="to-tune-a-database-using-a-workload-file-or-table-as-input"></a><span data-ttu-id="ca1ae-218">Per ottimizzare un database utilizzando un file o una tabella del carico di lavoro come input</span><span class="sxs-lookup"><span data-stu-id="ca1ae-218">To tune a database using a workload file or table as input</span></span>  
  
1.  <span data-ttu-id="ca1ae-219">Stabilire quali funzionalità del database (indici, viste indicizzate, partizionamento) si desidera aggiungere, rimuovere o mantenere durante l'analisi eseguita con Ottimizzazione guidata motore di database.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-219">Determine the database features (indexes, indexed views, partitioning) you want Database Engine Tuning Advisor to consider adding, removing, or retaining during analysis.</span></span>  
  
2.  <span data-ttu-id="ca1ae-220">Creare un carico di lavoro.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-220">Create a workload.</span></span> <span data-ttu-id="ca1ae-221">Per ulteriori informazioni, vedere [Creare un carico di lavoro](#Create) più indietro in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-221">For more information, see [Create a Workload](#Create) earlier in this topic.</span></span>  
  
3.  <span data-ttu-id="ca1ae-222">Avviare l'Ottimizzazione guidata motore di database e accedere a un'istanza di [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ca1ae-222">Launch Database Engine Tuning Advisor, and log into an instance of [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="ca1ae-223">Per ulteriori informazioni, vedere [Avviare Ottimizzazione guidata motore di database](#Start) più indietro in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-223">For more information, see [Start the Database Engine Tuning Advisor](#Start) earlier in this topic.</span></span>  
  
4.  <span data-ttu-id="ca1ae-224">Nella scheda **Generale** digitare un nome in **Nome sessione** per creare una nuova sessione di ottimizzazione.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-224">On the **General** tab, type a name in **Session name** to create a new tuning session.</span></span>  
  
5.  <span data-ttu-id="ca1ae-225">Selezionare **File del carico di lavoro** o **Tabella** e digitare il percorso del file oppure il nome della tabella nella casella di testo adiacente.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-225">Choose either a **Workload File** or **Table** and type either the path to the file, or the name of the table in the adjacent text box.</span></span>  
  
     <span data-ttu-id="ca1ae-226">Il formato per specificare una tabella è</span><span class="sxs-lookup"><span data-stu-id="ca1ae-226">The format for specifying a table is</span></span>  
  
    ```  
  
    database_name.schema_name.table_name  
    ```  
  
     <span data-ttu-id="ca1ae-227">Per cercare un file o una tabella del carico di lavoro, fare clic su **Sfoglia**.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-227">To search for a workload file or table, click **Browse**.</span></span> <span data-ttu-id="ca1ae-228">In Ottimizzazione guidata motore di database i file del carico di lavoro vengono considerati file di rollover.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-228">Database Engine Tuning Advisor assumes that workload files are rollover files.</span></span> <span data-ttu-id="ca1ae-229">Per ulteriori informazioni sui file di rollover, vedere [Limit Trace File and Table Sizes](../sql-trace/limit-trace-file-and-table-sizes.md).</span><span class="sxs-lookup"><span data-stu-id="ca1ae-229">For more information about rollover files, see [Limit Trace File and Table Sizes](../sql-trace/limit-trace-file-and-table-sizes.md).</span></span>  
  
     <span data-ttu-id="ca1ae-230">Quando come carico di lavoro viene utilizzata una tabella di traccia, è necessario che la tabella sia presente nel server in cui viene eseguito Ottimizzazione guidata motore di database.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-230">When using a trace table as a workload, that table must exist on the same server that Database Engine Tuning Advisor is tuning.</span></span> <span data-ttu-id="ca1ae-231">Se la tabella di traccia viene creata in un server diverso, spostarla nel server ottimizzato da Ottimizzazione guidata motore di database prima di utilizzarla come carico di lavoro.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-231">If you create the trace table on a different server, move it to the server that Database Engine Tuning Advisor is tuning before using it as your workload.</span></span>  
  
6.  <span data-ttu-id="ca1ae-232">Selezionare i database e le tabelle in cui si desidera eseguire il carico di lavoro selezionato nel passaggio 5.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-232">Select the databases and tables against which you wish to run the workload that you selected in step 5.</span></span> <span data-ttu-id="ca1ae-233">Per selezionare le tabelle, fare clic sulla freccia accanto a **Tabelle selezionate** .</span><span class="sxs-lookup"><span data-stu-id="ca1ae-233">To select the tables, click the **Selected Tables** arrow.</span></span>  
  
7.  <span data-ttu-id="ca1ae-234">Selezionare **Salva log di ottimizzazione** per salvare una copia del log di ottimizzazione.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-234">Check **Save tuning log** to save a copy of the tuning log.</span></span> <span data-ttu-id="ca1ae-235">Deselezionare la casella di controllo se non si desidera salvare una copia del log di ottimizzazione.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-235">Clear the check box if you do not want to save a copy of the tuning log.</span></span>  
  
     <span data-ttu-id="ca1ae-236">È possibile visualizzare il log di ottimizzazione in seguito all'analisi aprendo la sessione e selezionando la scheda **Stato** .</span><span class="sxs-lookup"><span data-stu-id="ca1ae-236">You can view the tuning log after analysis by opening the session and selecting the **Progress** tab.</span></span>  
  
8.  <span data-ttu-id="ca1ae-237">Selezionare la scheda **Opzioni di ottimizzazione** e le opzioni desiderate disponibili nella scheda.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-237">Click the **Tuning Options** tab and select from the options listed there.</span></span>  
  
9. <span data-ttu-id="ca1ae-238">Fare clic sul pulsante **Avvia analisi** sulla barra degli strumenti.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-238">Click the **Start Analysis** button in the toolbar.</span></span>  
  
     <span data-ttu-id="ca1ae-239">Per arrestare la sessione di ottimizzazione una volta avviata, scegliere una delle opzioni seguenti dal menu **Azioni** :</span><span class="sxs-lookup"><span data-stu-id="ca1ae-239">If you want to stop the tuning session after it has started, choose one of the following options on the **Actions** menu:</span></span>  
  
    -   <span data-ttu-id="ca1ae-240">**Arresta analisi (con indicazioni)** per arrestare la sessione di ottimizzazione e scegliere se si vuole che l'Ottimizzazione guidata motore di database generi indicazioni basate sull'analisi eseguita fino a questo punto.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-240">**Stop Analysis (With Recommendations)** stops the tuning session and prompts you to decide whether you want Database Engine Tuning Advisor to generate recommendations based on the analysis done up to this point.</span></span>  
  
    -   <span data-ttu-id="ca1ae-241">**Arresta analisi** per arrestare la sessione di ottimizzazione senza che vengano generate indicazioni.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-241">**Stop Analysis** stops the tuning session without generating any recommendations.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="ca1ae-242">La sospensione di Ottimizzazione guidata motore di database non è supportata.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-242">Pausing Database Engine Tuning Advisor is not supported.</span></span> <span data-ttu-id="ca1ae-243">Se si fa clic sul pulsante della barra degli strumenti **Avvia analisi** dopo aver fatto clic sui pulsanti della barra degli strumenti **Arresta analisi** o **Arresta analisi (con indicazioni)** , Ottimizzazione guidata motore di database avvia una nuova sessione di ottimizzazione.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-243">If you click the **Start Analysis** toolbar button after clicking either the **Stop Analysis** or **Stop Analysis (With Recommendations)** toolbar buttons, Database Engine Tuning Advisor starts a new tuning session.</span></span>  
  
###  <a name="use-the-dta-utility"></a><a name="dta"></a> <span data-ttu-id="ca1ae-244">Utilizzare l'utilità dta</span><span class="sxs-lookup"><span data-stu-id="ca1ae-244">Use the dta Utility</span></span>  
 <span data-ttu-id="ca1ae-245">L'utilità [dta](../../tools/dta/dta-utility.md) fornisce un file eseguibile dal prompt dei comandi che consente di ottimizzare i database</span><span class="sxs-lookup"><span data-stu-id="ca1ae-245">The [dta utility](../../tools/dta/dta-utility.md) provides a command prompt executable file that you can use to tune databases.</span></span> <span data-ttu-id="ca1ae-246">utilizzando le funzionalità di Ottimizzazione guidata motore di database in file batch e script.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-246">It enables you to use Database Engine Tuning Advisor functionality in batch files and scripts.</span></span> <span data-ttu-id="ca1ae-247">L'utilità **può essere utilizzato con l'interfaccia grafica di Ottimizzazione guidata motore di database e mediante l'utilità del prompt dei comandi** utilizza le voci della cache dei piani, i file di traccia, le tabelle di traccia e gli script [!INCLUDE[tsql](../../includes/tsql-md.md)] come carichi di lavoro.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-247">The **dta** utility takes plan cache entries, trace files, trace tables, and [!INCLUDE[tsql](../../includes/tsql-md.md)] scripts as workloads.</span></span> <span data-ttu-id="ca1ae-248">Utilizza inoltre l'input XML conforme a XML Schema di Ottimizzazione guidata motore di database, disponibile presso il [sito Web di Microsoft specificato](https://go.microsoft.com/fwlink/?linkid=43100).</span><span class="sxs-lookup"><span data-stu-id="ca1ae-248">It also takes XML input that conforms to the Database Engine Tuning Advisor XML schema, which is available at this [Microsoft Web site](https://go.microsoft.com/fwlink/?linkid=43100).</span></span>  
  
 <span data-ttu-id="ca1ae-249">Prima di ottimizzare un carico di lavoro tramite l'utilità **dta** , considerare quanto segue:</span><span class="sxs-lookup"><span data-stu-id="ca1ae-249">Consider the following before you begin tuning a workload with the **dta** utility:</span></span>  
  
-   <span data-ttu-id="ca1ae-250">Quando come carico di lavoro viene utilizzata una tabella di traccia, è necessario che la tabella sia presente nel server in cui viene eseguito Ottimizzazione guidata motore di database.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-250">When using a trace table as a workload, that table must exist on the same server that Database Engine Tuning Advisor is tuning.</span></span> <span data-ttu-id="ca1ae-251">Se la tabella di traccia viene creata in un altro server, è necessario spostarla nel server in cui viene eseguita Ottimizzazione guidata motore di database.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-251">If you create the trace table on a different server, then move it to the server that Database Engine Tuning Advisor is tuning.</span></span>  
  
-   <span data-ttu-id="ca1ae-252">Prima di utilizzare una tabella di traccia come carico di lavoro per Ottimizzazione guidata motore di database, verificare che la traccia non sia più in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-252">Make sure that tracing has stopped before using a trace table as a workload for Database Engine Tuning Advisor.</span></span> <span data-ttu-id="ca1ae-253">Ottimizzazione guidata motore di database non consente di utilizzare come carico di lavoro una tabella di traccia nella quale è ancora in corso la scrittura di eventi di traccia.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-253">Database Engine Tuning Advisor does not support using a trace table to which trace events are still being written as a workload.</span></span>  
  
-   <span data-ttu-id="ca1ae-254">Se una sessione di ottimizzazione dura più a lungo del previsto, è possibile premere CTRL+C per arrestarla e generare indicazioni in base alle analisi eseguite dall'utilità **dta** fino a quel momento.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-254">If a tuning session continues running longer than you had anticipated it would run, you can press CTRL+C to stop the tuning session and generate recommendations based on the analysis **dta** has completed up to this point.</span></span> <span data-ttu-id="ca1ae-255">Verrà richiesto di decidere se generare le indicazioni o meno.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-255">You will be prompted to decide whether you want to generate recommendations or not.</span></span> <span data-ttu-id="ca1ae-256">Premere nuovamente CTRL+C per arrestare la sessione di ottimizzazione senza generare le indicazioni.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-256">Press CTRL+C again to stop the tuning session without generating recommendations.</span></span>  
  
 <span data-ttu-id="ca1ae-257">Per ulteriori informazioni sulla sintassi e per esempi dell'utilità **dta** , vedere [dta Utility](../../tools/dta/dta-utility.md).</span><span class="sxs-lookup"><span data-stu-id="ca1ae-257">For more information about **dta** utility syntax and examples, see [dta Utility](../../tools/dta/dta-utility.md).</span></span>  
  
##### <a name="to-tune-a-database-by-using-the-plan-cache"></a><span data-ttu-id="ca1ae-258">Per ottimizzare un database tramite la cache dei piani</span><span class="sxs-lookup"><span data-stu-id="ca1ae-258">To tune a database by using the plan cache</span></span>  
  
1.  <span data-ttu-id="ca1ae-259">Specificare l'opzione **-ip** .</span><span class="sxs-lookup"><span data-stu-id="ca1ae-259">Specify the **-ip** option.</span></span> <span data-ttu-id="ca1ae-260">Vengono analizzati i primi 1.000 eventi della cache dei piani per i database selezionati.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-260">The top 1,000 plan cache events for the selected databases are analyzed.</span></span>  
  
     <span data-ttu-id="ca1ae-261">Dal prompt dei comandi digitare quanto segue:</span><span class="sxs-lookup"><span data-stu-id="ca1ae-261">From a command prompt, enter the following:</span></span>  
  
    ```  
    dta -E -D DatabaseName -ip -s SessionName  
    ```  
  
2.  <span data-ttu-id="ca1ae-262">Per modificare il numero di eventi da usare per l'analisi, specificare l'opzione **-n**.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-262">To modify the number of events to use for analysis, specify the **-n** option.</span></span> <span data-ttu-id="ca1ae-263">Nell'esempio seguente viene aumentato a 2.000 il numero di voci della cache.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-263">The following example increases the number of cache entries to 2,000.</span></span>  
  
    ```  
    dta -E -D DatabaseName -ip -n 2000-s SessionName1  
    ```  
  
3.  <span data-ttu-id="ca1ae-264">Per analizzare eventi per tutti i database nell'istanza, specificare l'opzione **-ipf** .</span><span class="sxs-lookup"><span data-stu-id="ca1ae-264">To analyze events for all databases in the instance, specify the **-ipf** option.</span></span>  
  
    ```  
    dta -E -D DatabaseName -ip -ipf -n 2000 -s SessionName2  
    ```  
  
##### <a name="to-tune-a-database-by-using-a-workload-and-dta-utility-default-settings"></a><span data-ttu-id="ca1ae-265">Per ottimizzare un database utilizzando un carico di lavoro e le impostazioni predefinite dell'utilità dta</span><span class="sxs-lookup"><span data-stu-id="ca1ae-265">To tune a database by using a workload and dta utility default settings</span></span>  
  
1.  <span data-ttu-id="ca1ae-266">Stabilire quali funzionalità del database (indici, viste indicizzate, partizionamento) si desidera aggiungere, rimuovere o mantenere durante l'analisi eseguita con Ottimizzazione guidata motore di database.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-266">Determine the database features (indexes, indexed views, partitioning) you want Database Engine Tuning Advisor to consider adding, removing, or retaining during analysis.</span></span>  
  
2.  <span data-ttu-id="ca1ae-267">Creare un carico di lavoro.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-267">Create a workload.</span></span> <span data-ttu-id="ca1ae-268">Per ulteriori informazioni, vedere [Creare un carico di lavoro](#Create) più indietro in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-268">For more information, see [Create a Workload](#Create) earlier in this topic.</span></span>  
  
3.  <span data-ttu-id="ca1ae-269">Dal prompt dei comandi digitare quanto segue:</span><span class="sxs-lookup"><span data-stu-id="ca1ae-269">From a command prompt, enter the following:</span></span>  
  
    ```  
    dta -E -D DatabaseName -if WorkloadFile -s SessionName  
    ```  
  
     <span data-ttu-id="ca1ae-270">dove `-E` specifica che la sessione di ottimizzazione utilizza una connessione trusted anziché un ID di accesso e una password e `-D` specifica il nome del database da ottimizzare.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-270">where `-E` specifies that your tuning session uses a trusted connection (instead of a login ID and password), `-D` specifies the name of the database you want to tune.</span></span> <span data-ttu-id="ca1ae-271">Per impostazione predefinita, l'utilità si connette all'istanza predefinita di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] nel computer locale.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-271">By default, the utility connects to the default instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] on the local computer.</span></span> <span data-ttu-id="ca1ae-272">Per specificare un database remoto come illustrato nella procedura seguente o per specificare un'istanza denominata, è possibile utilizzare l'opzione `-S` . L'opzione `-if` consente di specificare il nome e il percorso del file del carico di lavoro (uno script [!INCLUDE[tsql](../../includes/tsql-md.md)] o un file di traccia) e `-s` consente di specificare il nome della sessione di ottimizzazione.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-272">(Use the `-S` option to specify a remote database as shown in the following procedure, or to specify a named instance.) The `-if` option specifies the name and path to a workload file (which can be a [!INCLUDE[tsql](../../includes/tsql-md.md)] script or a trace file), and `-s` specifies a name for your tuning session.</span></span>  
  
     <span data-ttu-id="ca1ae-273">Le quattro opzioni illustrate (nome del database, carico di lavoro, tipo di connessione e nome della sessione) sono obbligatorie.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-273">The four options shown here (database name, workload, connection type, and session name) are mandatory.</span></span>  
  
##### <a name="to-tune-a-remote-database-or-a-named-instance-for-a-specific-duration"></a><span data-ttu-id="ca1ae-274">Per ottimizzare un database remoto o un'istanza denominata per un periodo di tempo specifico</span><span class="sxs-lookup"><span data-stu-id="ca1ae-274">To tune a remote database or a named instance for a specific duration</span></span>  
  
1.  <span data-ttu-id="ca1ae-275">Stabilire quali funzionalità del database (indici, viste indicizzate, partizionamento) si desidera aggiungere, rimuovere o mantenere durante l'analisi eseguita con Ottimizzazione guidata motore di database.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-275">Determine the database features (indexes, indexed views, partitioning) you want Database Engine Tuning Advisor to consider adding, removing, or retaining during analysis.</span></span>  
  
2.  <span data-ttu-id="ca1ae-276">Creare un carico di lavoro.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-276">Create a workload.</span></span> <span data-ttu-id="ca1ae-277">Per ulteriori informazioni, vedere [Creare un carico di lavoro](#Create) più indietro in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-277">For more information, see [Create a Workload](#Create) earlier in this topic.</span></span>  
  
3.  <span data-ttu-id="ca1ae-278">Dal prompt dei comandi digitare quanto segue:</span><span class="sxs-lookup"><span data-stu-id="ca1ae-278">From a command prompt, enter the following:</span></span>  
  
    ```  
    dta -S ServerName\Instance -D DatabaseName -it WorkloadTableName   
    -U LoginID -P Password -s SessionName -A TuningTimeInMinutes  
    ```  
  
     <span data-ttu-id="ca1ae-279">dove `-S` specifica il nome e l'istanza di un server remoto (o un'istanza denominata nel server locale) e `-D` specifica il nome del database da ottimizzare.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-279">where `-S` specifies a remote server name and instance (or a named instance on the local server) and `-D` specifies the name of the database you want to tune.</span></span> <span data-ttu-id="ca1ae-280">L'opzione `-it` specifica il nome della tabella del carico di lavoro, `-U` e `-P` specificano l'ID e la password di accesso al database remoto, `-s` specifica il nome della sessione di ottimizzazione e `-A` specifica la durata della sessione di ottimizzazione espressa in minuti.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-280">The `-it` option specifies the name of the workload table, `-U` and `-P` specify the login ID and password to the remote database, `-s` specifies the tuning session name, and `-A` specifies the tuning session duration in minutes.</span></span> <span data-ttu-id="ca1ae-281">La durata di ottimizzazione predefinita dell'utilità **dta** è 8 ore.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-281">By default, the **dta** utility uses an 8-hour tuning duration.</span></span> <span data-ttu-id="ca1ae-282">Per impostare una durata illimitata per l'ottimizzazione di un carico di lavoro eseguita da Ottimizzazione guidata motore di database, specificare **0** (zero) tramite l'opzione `-A` .</span><span class="sxs-lookup"><span data-stu-id="ca1ae-282">If you would like Database Engine Tuning Advisor to tune a workload for an unlimited amount of time, specify **0** (zero) with the `-A` option.</span></span>  
  
##### <a name="to-tune-a-database-using-an-xml-input-file"></a><span data-ttu-id="ca1ae-283">Per ottimizzare un database tramite un file di input XML</span><span class="sxs-lookup"><span data-stu-id="ca1ae-283">To tune a database using an XML input file</span></span>  
  
1.  <span data-ttu-id="ca1ae-284">Stabilire quali funzionalità del database (indici, viste indicizzate, partizionamento) si desidera aggiungere, rimuovere o mantenere durante l'analisi eseguita con Ottimizzazione guidata motore di database.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-284">Determine the database features (indexes, indexed views, partitioning) you want Database Engine Tuning Advisor to consider adding, removing, or retaining during analysis.</span></span>  
  
2.  <span data-ttu-id="ca1ae-285">Creare un carico di lavoro.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-285">Create a workload.</span></span> <span data-ttu-id="ca1ae-286">Per ulteriori informazioni, vedere [Creare un carico di lavoro](#Create) più indietro in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-286">For more information, see [Create a Workload](#Create) earlier in this topic.</span></span>  
  
3.  <span data-ttu-id="ca1ae-287">Creare un file di input XML.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-287">Create an XML input file.</span></span> <span data-ttu-id="ca1ae-288">Per ulteriori informazioni, vedere [Creare un file di input XML](#XMLInput) di seguito in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-288">For more information, see [Create XML Input Files](#XMLInput) later in this topic.</span></span>  
  
4.  <span data-ttu-id="ca1ae-289">Dal prompt dei comandi digitare quanto segue:</span><span class="sxs-lookup"><span data-stu-id="ca1ae-289">From a command prompt, enter the following:</span></span>  
  
    ```  
    dta -E -S ServerName\Instance -s SessionName -ix PathToXMLInputFile  
    ```  
  
     <span data-ttu-id="ca1ae-290">dove `-E` specifica una connessione trusted, `-S` specifica un server e un'istanza remoti oppure un'istanza denominata nel server locale, `-s` specifica il nome di una sessione di ottimizzazione e `-ix` specifica il file di input XML da utilizzare per la sessione di ottimizzazione.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-290">where `-E` specifies a trusted connection, `-S` specifies a remote server and instance, or a named instance on the local server, `-s` specifies a tuning session name, and `-ix` specifies the XML input file to use for the tuning session.</span></span>  
  
5.  <span data-ttu-id="ca1ae-291">Dopo che l'utilità ha completato l'ottimizzazione del carico di lavoro, è possibile visualizzare i risultati delle sessioni tramite la GUI di Ottimizzazione guidata motore di database.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-291">After the utility finishes tuning the workload, you can view the results of tuning sessions with the Database Engine Tuning Advisor GUI.</span></span> <span data-ttu-id="ca1ae-292">In alternativa, è possibile specificare tramite l'opzione **-ox** che le indicazioni relative all'ottimizzazione verranno scritte in un file XML.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-292">As an alternative, you can also specify that the tuning recommendations be written to an XML file with the **-ox** option.</span></span> <span data-ttu-id="ca1ae-293">Per altre informazioni, vedere [dta Utility](../../tools/dta/dta-utility.md).</span><span class="sxs-lookup"><span data-stu-id="ca1ae-293">For more information, see [dta Utility](../../tools/dta/dta-utility.md).</span></span>  
  
##  <a name="create-an-xml-input-file"></a><a name="XMLInput"></a> <span data-ttu-id="ca1ae-294">Creare un file di input XML</span><span class="sxs-lookup"><span data-stu-id="ca1ae-294">Create an XML Input File</span></span>  
 <span data-ttu-id="ca1ae-295">Gli sviluppatori XML esperti possono creare file XML utilizzabili per l'ottimizzazione dei carichi di lavoro tramite Ottimizzazione guidata [!INCLUDE[ssDE](../../includes/ssde-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="ca1ae-295">If you are an experienced XML developer, you can create XML-formatted files that [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor can use to tune workloads.</span></span> <span data-ttu-id="ca1ae-296">Per creare questi file XML, utilizzare gli strumenti XML desiderati per modificare un file di esempio o per generare un'istanza in base all'XML Schema di Ottimizzazione guidata [!INCLUDE[ssDE](../../includes/ssde-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="ca1ae-296">To create these XML files, use your favorite XML tools to edit a sample file or to generate an instance from the [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor XML schema.</span></span>  
  
 <span data-ttu-id="ca1ae-297">Lo schema XML dell'Ottimizzazione guidata [!INCLUDE[ssDE](../../includes/ssde-md.md)] è disponibile nella directory di installazione di [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] nel percorso seguente:</span><span class="sxs-lookup"><span data-stu-id="ca1ae-297">The [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor XML schema is available in your [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] installation in the following location:</span></span>  
  
 <span data-ttu-id="ca1ae-298">C:\Programmi\Microsoft SQL Server\100\Tools\Binn\schemas\sqlserver\2004\07\dta\dtaschema.xsd</span><span class="sxs-lookup"><span data-stu-id="ca1ae-298">C:\Program Files\Microsoft SQL Server\100\Tools\Binn\schemas\sqlserver\2004\07\dta\dtaschema.xsd</span></span>  
  
 <span data-ttu-id="ca1ae-299">L'XML Schema di Ottimizzazione guidata [!INCLUDE[ssDE](../../includes/ssde-md.md)] è inoltre disponibile online in questo [sito Web Microsoft](https://go.microsoft.com/fwlink/?linkid=43100&clcid=0x409).</span><span class="sxs-lookup"><span data-stu-id="ca1ae-299">The [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor XML schema is also available online at this [Microsoft Web site](https://go.microsoft.com/fwlink/?linkid=43100&clcid=0x409).</span></span>  
  
 <span data-ttu-id="ca1ae-300">in cui sono disponibili molti XML Schema di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="ca1ae-300">This URL takes you to a page where many [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] XML schemas are available.</span></span> <span data-ttu-id="ca1ae-301">Scorrere la pagina verso il basso fino a visualizzare la riga corrispondente a Ottimizzazione guidata [!INCLUDE[ssDE](../../includes/ssde-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="ca1ae-301">Scroll down the page until you reach the row for [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor.</span></span>  
  
#### <a name="to-create-an-xml-input-file-to-tune-workloads"></a><span data-ttu-id="ca1ae-302">Per creare un file input XML per l'ottimizzazione di carichi di lavoro</span><span class="sxs-lookup"><span data-stu-id="ca1ae-302">To create an XML input file to tune workloads</span></span>  
  
1.  <span data-ttu-id="ca1ae-303">Creare un carico di lavoro.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-303">Create a workload.</span></span> <span data-ttu-id="ca1ae-304">A tale scopo è possibile utilizzare un file o una tabella di traccia tramite il modello di ottimizzazione di [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)]oppure creare uno script [!INCLUDE[tsql](../../includes/tsql-md.md)] che riproduca un carico di lavoro rappresentativo per [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ca1ae-304">You can use a trace file or table by using the tuning template in [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)], or create a [!INCLUDE[tsql](../../includes/tsql-md.md)] script that reproduces a representative workload for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="ca1ae-305">Per ulteriori informazioni, vedere [Creare un carico di lavoro](#Create) più indietro in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-305">For more information, see [Create a Workload](#Create) earlier in this topic.</span></span>  
  
2.  <span data-ttu-id="ca1ae-306">Creare un file input XML seguendo una delle procedure seguenti:</span><span class="sxs-lookup"><span data-stu-id="ca1ae-306">Create an XML input file by one of the following methods:</span></span>  
  
    -   <span data-ttu-id="ca1ae-307">Copiare e incollare nell'editor XML preferito uno degli [Esempi di file di input XML &#40;DTA&#41;](../../tools/dta/xml-input-file-samples-dta.md).</span><span class="sxs-lookup"><span data-stu-id="ca1ae-307">Copy and paste one of the [XML Input File Samples &#40;DTA&#41;](../../tools/dta/xml-input-file-samples-dta.md) into your favorite XML editor.</span></span> <span data-ttu-id="ca1ae-308">Modificare i valori degli argomenti in modo appropriato per l'installazione di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] in uso e quindi salvare il file XML.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-308">Change the values to specify the appropriate arguments for your [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] installation, and save the XML file.</span></span>  
  
    -   <span data-ttu-id="ca1ae-309">Utilizzando lo strumento XML desiderato, generare un'istanza in base all'XML Schema di Ottimizzazione guidata [!INCLUDE[ssDE](../../includes/ssde-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="ca1ae-309">Using your favorite XML tool, generate an instance from the [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor XML schema.</span></span>  
  
3.  <span data-ttu-id="ca1ae-310">Usare il file input XML creato come input dell'utilità da riga di comando **dta** per ottimizzare il carico di lavoro.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-310">After creating the XML input file, use it as input to the **dta** command-line utility to tune the workload.</span></span> <span data-ttu-id="ca1ae-311">Per informazioni sull'utilizzo di file di input di XML con questa utilità, vedere la sezione [Utilizzare l'utilità dta](#dta) più indietro in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-311">For information about using XML input files with this utility, see the section [Use the dta Utililty](#dta) earlier in this topic.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="ca1ae-312">Se si vuole usare un carico di lavoro inline, ovvero un carico di lavoro specificato direttamente nel file input XML, usare il file di esempio disponibile in [Esempio di file di input XML con carico di lavoro inline &#40;DTA&#41;](../../tools/dta/xml-input-file-sample-with-inline-workload-dta.md).</span><span class="sxs-lookup"><span data-stu-id="ca1ae-312">If you want to use an inline workload, which is a workload that is specified directly in the XML input file, use the sample [XML Input File Sample with Inline Workload &#40;DTA&#41;](../../tools/dta/xml-input-file-sample-with-inline-workload-dta.md).</span></span>  
  
##  <a name="user-interface-descriptions"></a><a name="UI"></a> <span data-ttu-id="ca1ae-313">Descrizioni dell'interfaccia utente</span><span class="sxs-lookup"><span data-stu-id="ca1ae-313">User Interface Descriptions</span></span>  
  
### <a name="tools-menuoptions-page"></a><span data-ttu-id="ca1ae-314">Menu Strumenti/Pagina Opzioni</span><span class="sxs-lookup"><span data-stu-id="ca1ae-314">Tools Menu/Options Page</span></span>  
 <span data-ttu-id="ca1ae-315">Utilizzare questa finestra di dialogo per specificare i parametri di configurazione generale di Ottimizzazione guidata motore di database.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-315">Use this dialog box to specify general configuration parameters for the Database Engine Tuning Advisor.</span></span>  
  
 <span data-ttu-id="ca1ae-316">**All'avvio**</span><span class="sxs-lookup"><span data-stu-id="ca1ae-316">**On startup**</span></span>  
 <span data-ttu-id="ca1ae-317">Consente di specificare l'operazione che deve essere eseguita da Ottimizzazione guidata motore di database all'avvio, ovvero avvio senza connessione al database, visualizzazione di una finestra di dialogo **Nuova connessione** , visualizzazione di una nuova sessione oppure caricamento dell'ultima sessione caricata.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-317">Specify what Database Engine Tuning Advisor should do when it is started: open without a database connection, show a **New Connection** dialog box, show a new session, or load the last loaded session.</span></span>  
  
 <span data-ttu-id="ca1ae-318">**Modifica carattere**</span><span class="sxs-lookup"><span data-stu-id="ca1ae-318">**Change font**</span></span>  
 <span data-ttu-id="ca1ae-319">Consente di specificare il tipo di carattere utilizzato nelle tabelle di Ottimizzazione guidata motore di database.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-319">Specify the display font used by Database Engine Tuning Advisor tables.</span></span>  
  
 <span data-ttu-id="ca1ae-320">**Numero degli elementi negli elenchi degli ultimi elementi utilizzati**</span><span class="sxs-lookup"><span data-stu-id="ca1ae-320">**Number of items in most recently used lists**</span></span>  
 <span data-ttu-id="ca1ae-321">Consente di specificare il numero di sessioni o file da visualizzare sotto la voce **Sessioni recenti** o **File recenti** del menu **File** .</span><span class="sxs-lookup"><span data-stu-id="ca1ae-321">Specify the number of sessions or files to display under **Recent Sessions** or **Recent Files** in the **File** menu.</span></span>  
  
 <span data-ttu-id="ca1ae-322">**Memorizza le ultime opzioni di ottimizzazione specificate**</span><span class="sxs-lookup"><span data-stu-id="ca1ae-322">**Remember my last tuning options**</span></span>  
 <span data-ttu-id="ca1ae-323">Consente di mantenere le impostazioni delle opzioni di ottimizzazione tra più sessioni.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-323">Retain tuning options between sessions.</span></span> <span data-ttu-id="ca1ae-324">L'opzione è selezionata per impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-324">Selected by default.</span></span> <span data-ttu-id="ca1ae-325">Deselezionare questa casella di controllo per avviare ogni sessione con i valori predefiniti di Ottimizzazione guidata motore di database.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-325">Clear this check box to always start with the Database Engine Tuning Advisor defaults.</span></span>  
  
 <span data-ttu-id="ca1ae-326">**Chiedi conferma prima di eliminare definitivamente le sessioni**</span><span class="sxs-lookup"><span data-stu-id="ca1ae-326">**Ask before permanently deleting sessions**</span></span>  
 <span data-ttu-id="ca1ae-327">Consente di visualizzare una finestra di dialogo di conferma prima dell'eliminazione delle sessioni.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-327">Display a confirmation dialog box before deleting sessions.</span></span>  
  
 <span data-ttu-id="ca1ae-328">**Richiedi conferma prima di arrestare l'analisi della sessione**</span><span class="sxs-lookup"><span data-stu-id="ca1ae-328">**Ask before stopping session analysis**</span></span>  
 <span data-ttu-id="ca1ae-329">Consente di visualizzare una finestra di dialogo di conferma prima di arrestare l'analisi di un carico di lavoro.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-329">Display a confirmation dialog box before stopping analysis of a workload.</span></span>  
  
#### <a name="general-tab-options"></a><span data-ttu-id="ca1ae-330">Opzioni della scheda Generale</span><span class="sxs-lookup"><span data-stu-id="ca1ae-330">General Tab Options</span></span>  
 <span data-ttu-id="ca1ae-331">Prima di avviare una sessione di ottimizzazione è necessario configurare i campi contenuti nella scheda **Generale** ,</span><span class="sxs-lookup"><span data-stu-id="ca1ae-331">You must configure the fields in the **General** tab before starting a tuning session.</span></span> <span data-ttu-id="ca1ae-332">Non è necessario modificare le impostazioni contenute nella scheda **Opzioni di ottimizzazione** prima di avviare una sessione di ottimizzazione.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-332">You do not have to modify the settings of the **Tuning Options** tab before starting a tuning session.</span></span>  
  
 <span data-ttu-id="ca1ae-333">**Nome sessione**</span><span class="sxs-lookup"><span data-stu-id="ca1ae-333">**Session name**</span></span>  
 <span data-ttu-id="ca1ae-334">Consente di specificare un nome per la sessione.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-334">Specify a name for the session.</span></span> <span data-ttu-id="ca1ae-335">Questa opzione consente di associare un nome a una sessione di ottimizzazione.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-335">The session name associates a name with a tuning session.</span></span> <span data-ttu-id="ca1ae-336">In seguito sarà possibile fare riferimento a questo nome per controllare la sessione di ottimizzazione.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-336">You can refer to this name to review the tuning session later.</span></span>  
  
 <span data-ttu-id="ca1ae-337">**File**</span><span class="sxs-lookup"><span data-stu-id="ca1ae-337">**File**</span></span>  
 <span data-ttu-id="ca1ae-338">Consente di specificare uno script sql o un file di traccia per un carico di lavoro.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-338">Specify a .sql script or trace file for a workload.</span></span> <span data-ttu-id="ca1ae-339">Digitare il percorso e il nome del file nell'apposita casella di testo.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-339">Specify the path and filename in the associated text box.</span></span> <span data-ttu-id="ca1ae-340">In Ottimizzazione guidata motore di database viene presunto che il file di traccia del carico di lavoro sia un file di rollover.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-340">Database Engine Tuning Advisor assumes that the workload trace file is a rollover file.</span></span> <span data-ttu-id="ca1ae-341">Per ulteriori informazioni sui file di rollover, vedere [Limit Trace File and Table Sizes](../sql-trace/limit-trace-file-and-table-sizes.md).</span><span class="sxs-lookup"><span data-stu-id="ca1ae-341">For more information about rollover files, see [Limit Trace File and Table Sizes](../sql-trace/limit-trace-file-and-table-sizes.md).</span></span>  
  
 <span data-ttu-id="ca1ae-342">**Tabella**</span><span class="sxs-lookup"><span data-stu-id="ca1ae-342">**Table**</span></span>  
 <span data-ttu-id="ca1ae-343">Consente di specificare una tabella di traccia per un carico di lavoro.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-343">Specify a trace table for a workload.</span></span> <span data-ttu-id="ca1ae-344">Specificare il nome completo della tabella di traccia nell'apposita casella, come illustrato nell'esempio seguente:</span><span class="sxs-lookup"><span data-stu-id="ca1ae-344">Specify the fully qualified name of the trace table in the associated text box as follows:</span></span>  
  
```  
database_name.owner_name.table_name  
```  
  
-   <span data-ttu-id="ca1ae-345">Prima di utilizzare una tabella di traccia come carico di lavoro, verificare che la traccia sia stata arrestata.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-345">Make sure that tracing has stopped before using a trace table as a workload.</span></span>  
  
-   <span data-ttu-id="ca1ae-346">La tabella di traccia deve trovarsi sullo stesso server per il quale è in esecuzione Ottimizzazione guidata motore di database.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-346">The trace table must exist on the same server that Database Engine Tuning Advisor is tuning.</span></span> <span data-ttu-id="ca1ae-347">Se la tabella di traccia viene creata in un altro server, è necessario spostarla nel server in cui viene eseguita Ottimizzazione guidata motore di database.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-347">If you create the trace table on a different server, then move it to the server that Database Engine Tuning Advisor is tuning.</span></span>  
  
 <span data-ttu-id="ca1ae-348">**Cache dei piani**</span><span class="sxs-lookup"><span data-stu-id="ca1ae-348">**Plan Cache**</span></span>  
 <span data-ttu-id="ca1ae-349">Specificare la cache dei piani come carico di lavoro.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-349">Specify the plan cache as a workload.</span></span> <span data-ttu-id="ca1ae-350">In questo modo, è possibile evitare di dover creare manualmente un carico di lavoro.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-350">By doing this, you can avoid having to manually create a workload.</span></span> <span data-ttu-id="ca1ae-351">Ottimizzazione guidata motore di database seleziona i 1.000 eventi più importanti da utilizzare per l'analisi.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-351">Database Engine Tuning Advisor selects the top 1,000 events to use for analysis.</span></span>  
  
 <span data-ttu-id="ca1ae-352">**Xml**</span><span class="sxs-lookup"><span data-stu-id="ca1ae-352">**Xml**</span></span>  
 <span data-ttu-id="ca1ae-353">Se non si importa una query del carico di lavoro da [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], questa opzione non viene visualizzata.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-353">This does not appear unless you import a workload query from [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span>  
  
 <span data-ttu-id="ca1ae-354">Per importare una query del carico di lavoro da [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]:</span><span class="sxs-lookup"><span data-stu-id="ca1ae-354">To import a workload query from [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]:</span></span>  
  
1.  <span data-ttu-id="ca1ae-355">Digitare una query nell'editor di query ed evidenziarla.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-355">Type a query into Query Editor and highlight it.</span></span>  
  
2.  <span data-ttu-id="ca1ae-356">Fare clic con il pulsante destro del mouse sulla query evidenziata e scegliere **Analizza query in Ottimizzazione guidata motore di database**.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-356">Right-click the highlighted query and click **Analyze Query in Database Engine Tuning Advisor**.</span></span>  
  
 <span data-ttu-id="ca1ae-357">**Consente di cercare un file di carico di lavoro/Consente di cercare una tabella di carico di lavoro**</span><span class="sxs-lookup"><span data-stu-id="ca1ae-357">**Browse for a workload [file or table]**</span></span>  
 <span data-ttu-id="ca1ae-358">Quando è selezionato **File** o **Tabella** come origine del carico di lavoro, usare questo pulsante per selezionare la destinazione.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-358">When **File** or **Table** is selected as the workload source, use this browse button to select the target.</span></span>  
  
 <span data-ttu-id="ca1ae-359">**Anteprima del carico di lavoro XML**</span><span class="sxs-lookup"><span data-stu-id="ca1ae-359">**Preview the XML workload**</span></span>  
 <span data-ttu-id="ca1ae-360">Consente di visualizzare un carico di lavoro in formato XML importato da [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ca1ae-360">View an XML-formatted workload that has been imported from [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span>  
  
 <span data-ttu-id="ca1ae-361">**Database per l'analisi del carico di lavoro**</span><span class="sxs-lookup"><span data-stu-id="ca1ae-361">**Database for workload analysis**</span></span>  
 <span data-ttu-id="ca1ae-362">Consente di specificare il primo database al quale Ottimizzazione guidata motore di database si connette durante l'ottimizzazione di un carico di lavoro.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-362">Specify the first database to which Database Engine Tuning Advisor connects when tuning a workload.</span></span> <span data-ttu-id="ca1ae-363">Dopo l'inizio dell'ottimizzazione, Ottimizzazione guidata motore di database si connette ai database specificati dalle istruzioni `USE DATABASE` contenute nel carico di lavoro.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-363">After tuning begins, Database Engine Tuning Advisor connects to the databases specified by the `USE DATABASE` statements contained in the workload.</span></span>  
  
 <span data-ttu-id="ca1ae-364">**Selezionare i database e le tabelle da ottimizzare**</span><span class="sxs-lookup"><span data-stu-id="ca1ae-364">**Select databases and tables to tune**</span></span>  
 <span data-ttu-id="ca1ae-365">Consente di specificare i database e le tabelle da ottimizzare.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-365">Specify the databases and tables to be tuned.</span></span> <span data-ttu-id="ca1ae-366">Per specificare tutti i database, selezionare la casella di controllo nell'intestazione della colonna **Nome** .</span><span class="sxs-lookup"><span data-stu-id="ca1ae-366">To specify all of the databases, select the check box in the **Name** column heading.</span></span> <span data-ttu-id="ca1ae-367">Per specificare solo determinati database, selezionare le caselle di controllo accanto ai nomi dei database desiderati.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-367">To specify certain databases, select the check box next to the database name.</span></span> <span data-ttu-id="ca1ae-368">Per impostazione predefinita, tutte le tabelle per i database selezionati vengono incluse automaticamente nella sessione di ottimizzazione.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-368">By default, all of the tables for selected databases are automatically included in the tuning session.</span></span> <span data-ttu-id="ca1ae-369">Per escludere determinate tabelle, fare clic sulla freccia nella colonna **Tabelle selezionate** e quindi deselezionare le caselle di controllo accanto alle tabelle che non si desidera ottimizzare.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-369">To exclude tables, click the arrow in the **Selected Tables** column, and then clear the check boxes next to the tables that you do not want to tune.</span></span>  
  
 <span data-ttu-id="ca1ae-370">Freccia in giù**Tabelle selezionate**</span><span class="sxs-lookup"><span data-stu-id="ca1ae-370">**Selected Tables** down arrow</span></span>  
 <span data-ttu-id="ca1ae-371">Consente di espandere l'elenco delle tabelle in cui è possibile selezionare singole tabelle per l'ottimizzazione.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-371">Expand the tables list to allow selecting individual tables for tuning.</span></span>  
  
 <span data-ttu-id="ca1ae-372">**Salva log di ottimizzazione**</span><span class="sxs-lookup"><span data-stu-id="ca1ae-372">**Save tuning log**</span></span>  
 <span data-ttu-id="ca1ae-373">Consente di creare un log e di registrare gli errori verificatisi durante la sessione.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-373">Create a log and record errors during the session.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="ca1ae-374">Le informazioni delle righe relative alle tabelle visualizzate nella scheda **Generale** non vengono aggiornate automaticamente in Ottimizzazione guidata motore di database. A tale scopo vengono utilizzati invece i metadati del database.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-374">Database Engine Tuning Advisor does not automatically update the rows information for the tables displayed on the **General** tab. Instead it relies upon the metadata in the database.</span></span> <span data-ttu-id="ca1ae-375">Se si ritiene che le informazioni delle righe siano obsolete, eseguire il comando DBCC UPDATEUSAGE per i relativi oggetti.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-375">If you suspect that the rows information is outdated, run the DBCC UPDATEUSAGE command for the relevant objects.</span></span>  
  
##### <a name="tuning-tab-options"></a><span data-ttu-id="ca1ae-376">Scheda Opzioni di ottimizzazione</span><span class="sxs-lookup"><span data-stu-id="ca1ae-376">Tuning Tab Options</span></span>  
 <span data-ttu-id="ca1ae-377">La scheda **Opzioni di ottimizzazione** consente di modificare le impostazioni predefinite delle opzioni di ottimizzazione generali.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-377">Use the **Tuning Options** tab to modify default settings of general tuning options.</span></span> <span data-ttu-id="ca1ae-378">Non è necessario modificare le impostazioni contenute nella scheda **Opzioni di ottimizzazione** prima di avviare una sessione di ottimizzazione.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-378">You do not have to modify the settings of the **Tuning Options** tab before starting a tuning session.</span></span>  
  
 <span data-ttu-id="ca1ae-379">**Limita tempo di ottimizzazione**</span><span class="sxs-lookup"><span data-stu-id="ca1ae-379">**Limit tuning time**</span></span>  
 <span data-ttu-id="ca1ae-380">Consente di limitare il tempo per la sessione di ottimizzazione corrente.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-380">Limits the time for the current tuning session.</span></span> <span data-ttu-id="ca1ae-381">L'impostazione di un tempo di ottimizzazione maggiore migliora la qualità delle indicazioni.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-381">Providing more time for turning improves the quality of the recommendations.</span></span> <span data-ttu-id="ca1ae-382">Per garantire la migliore qualità delle indicazioni, non selezionare questa opzione.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-382">To ensure the best recommendations, do not select this option.</span></span>  
  
> [!NOTE]  
>  [!INCLUDE[ssDE](../../includes/ssde-md.md)] <span data-ttu-id="ca1ae-383">utilizza risorse di sistema.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-383">Tuning Advisor consumes system resources during analysis.</span></span> <span data-ttu-id="ca1ae-384">Utilizzare l'opzione **Limita tempo di ottimizzazione** per arrestare l'ottimizzazione prima che venga eseguita l'ottimizzazione di periodi di notevoli carichi di lavoro previsti nel server.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-384">Use **Limit tuning time** to stop tuning before periods of anticipated heavy workload on the server being tuned.</span></span>  
  
 <span data-ttu-id="ca1ae-385">**Opzioni avanzate**</span><span class="sxs-lookup"><span data-stu-id="ca1ae-385">**Advanced Options**</span></span>  
 <span data-ttu-id="ca1ae-386">Usare la finestra di dialogo **Opzioni di ottimizzazione avanzate** per configurare le indicazioni relative allo spazio massimo, alle colonne chiave massime e all'indice online.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-386">Use the **Advanced Tuning Options** dialog box to configure the maximum space, maximum key columns, and online index recommendations.</span></span>  
  
 <span data-ttu-id="ca1ae-387">**Spazio massimo per le indicazioni (MB)**</span><span class="sxs-lookup"><span data-stu-id="ca1ae-387">**Define max. space for recommendations (MB)**</span></span>  
 <span data-ttu-id="ca1ae-388">Digitare la quantità massima di spazio che deve essere utilizzato dalle strutture di progettazione fisica consigliate da Ottimizzazione guidata motore di database.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-388">Type the maximum amount of space to be used by physical design structures recommended by Database Engine Tuning Advisor.</span></span>  
  
 <span data-ttu-id="ca1ae-389">Se non viene immesso alcun valore, Ottimizzazione guidata motore di database utilizzerà il valore più piccolo tra i limiti di spazio seguenti:</span><span class="sxs-lookup"><span data-stu-id="ca1ae-389">If no value is entered here, Database Engine Tuning Advisor assumes the smaller of the following space limits:</span></span>  
  
-   <span data-ttu-id="ca1ae-390">Valore triplo della dimensione corrente dei dati non elaborati, incluse le dimensioni totali degli heap e degli indici cluster nelle tabelle del database.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-390">Three times the current raw data size, which includes the total size of heaps and clustered indexes on tables in the database.</span></span>  
  
-   <span data-ttu-id="ca1ae-391">Lo spazio disponibile su tutte le unità disco collegate sommato alle dimensioni dei dati non elaborati.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-391">The free space on all attached disk drives plus the raw data size.</span></span>  
  
 <span data-ttu-id="ca1ae-392">**Includi eventi della cache dei piani da tutti i database**</span><span class="sxs-lookup"><span data-stu-id="ca1ae-392">**Include plan cache events from all databases**</span></span>  
 <span data-ttu-id="ca1ae-393">Specifica che vengono analizzati gli eventi della cache dei piani di tutti i database.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-393">Specify that plan cache events from all databases are analyzed.</span></span>  
  
 <span data-ttu-id="ca1ae-394">**Numero massimo di colonne per indice**</span><span class="sxs-lookup"><span data-stu-id="ca1ae-394">**Max. columns per index**</span></span>  
 <span data-ttu-id="ca1ae-395">Consente di specificare il numero massimo di colonne da includere in ogni indice.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-395">Specify the maximum number of columns to include in any index.</span></span> <span data-ttu-id="ca1ae-396">Il valore predefinito è 1023.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-396">The default is 1023.</span></span>  
  
 <span data-ttu-id="ca1ae-397">**Tutte le indicazioni offline**</span><span class="sxs-lookup"><span data-stu-id="ca1ae-397">**All recommendations are offline**</span></span>  
 <span data-ttu-id="ca1ae-398">Consente di generare le migliori indicazioni possibili senza indicare la creazione online di alcuna struttura di progettazione fisica.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-398">Generate the best recommendations possible, but do not recommend that any physical design structures be created online.</span></span>  
  
 <span data-ttu-id="ca1ae-399">**Genera indicazioni online quando possibile**</span><span class="sxs-lookup"><span data-stu-id="ca1ae-399">**Generate online recommendations where possible**</span></span>  
 <span data-ttu-id="ca1ae-400">Durante la creazione di istruzioni [!INCLUDE[tsql](../../includes/tsql-md.md)] per l'implementazione delle indicazioni, questa opzione consente di scegliere metodi che possono essere implementati quando il server è online, anche se è disponibile un metodo offline più veloce.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-400">When creating [!INCLUDE[tsql](../../includes/tsql-md.md)] statements to implement the recommendations, choose methods that can be implemented with the server online, even if a faster offline method is available.</span></span>  
  
 <span data-ttu-id="ca1ae-401">**Genera solo indicazioni online**</span><span class="sxs-lookup"><span data-stu-id="ca1ae-401">**Generate only online recommendations**</span></span>  
 <span data-ttu-id="ca1ae-402">Utilizzare questa opzione per generare solo indicazioni che consentono al server di rimanere online.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-402">Only make recommendations that allow the server to stay online.</span></span>  
  
 <span data-ttu-id="ca1ae-403">**Data e ora arresto**</span><span class="sxs-lookup"><span data-stu-id="ca1ae-403">**Stop at**</span></span>  
 <span data-ttu-id="ca1ae-404">Consente di specificare la data e l'ora di arresto dell'Ottimizzazione guidata [!INCLUDE[ssDE](../../includes/ssde-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="ca1ae-404">Provide the date and time when [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor should stop.</span></span>  
  
 <span data-ttu-id="ca1ae-405">**Indici e viste indicizzate**</span><span class="sxs-lookup"><span data-stu-id="ca1ae-405">**Indexes and indexed views**</span></span>  
 <span data-ttu-id="ca1ae-406">Selezionare questa casella per includere indicazioni per l'aggiunta di indici cluster, indici non cluster e viste indicizzate.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-406">Check this box to include recommendations for adding clustered indexes, nonclustered indexes, and indexed views.</span></span>  
  
 <span data-ttu-id="ca1ae-407">**Viste indicizzate**</span><span class="sxs-lookup"><span data-stu-id="ca1ae-407">**Indexed views**</span></span>  
 <span data-ttu-id="ca1ae-408">Vengono incluse solo le indicazioni per l'aggiunta di viste indicizzate.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-408">Only include recommendations for adding indexed views.</span></span> <span data-ttu-id="ca1ae-409">Non verranno generate indicazioni per gli indici cluster e non cluster.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-409">Clustered and nonclustered indexes will not be recommended.</span></span>  
  
 <span data-ttu-id="ca1ae-410">**Includi indici filtrati**</span><span class="sxs-lookup"><span data-stu-id="ca1ae-410">**Include filtered indexes**</span></span>  
 <span data-ttu-id="ca1ae-411">Vengono incluse le indicazioni per l'aggiunta di indici filtrati.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-411">Include recommendations for adding filtered indexes.</span></span> <span data-ttu-id="ca1ae-412">Questa opzione è disponibile se si seleziona una di queste strutture di progettazione fisica: **Indici e viste indicizzate**, **Indici** o  **Indici non cluster**.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-412">This option is available if you select one of these physical design structures: **Indexes and indexed views**, **Indexes**, or **Nonclustered indexes**.</span></span>  
  
 <span data-ttu-id="ca1ae-413">**Indici**</span><span class="sxs-lookup"><span data-stu-id="ca1ae-413">**Indexes**</span></span>  
 <span data-ttu-id="ca1ae-414">Vengono incluse solo le indicazioni per l'aggiunta di indici cluster e non cluster.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-414">Only include recommendations for adding clustered and nonclustered indexes.</span></span> <span data-ttu-id="ca1ae-415">Non verranno generate indicazioni per le viste indicizzate.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-415">Indexed views will not be recommended.</span></span>  
  
 <span data-ttu-id="ca1ae-416">**Indici non cluster**</span><span class="sxs-lookup"><span data-stu-id="ca1ae-416">**Nonclustered indexes**</span></span>  
 <span data-ttu-id="ca1ae-417">Vengono incluse solo le indicazioni per gli indici non cluster.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-417">Include recommendations for only nonclustered indexes.</span></span> <span data-ttu-id="ca1ae-418">Non verranno generate indicazioni per gli indici cluster e le viste indicizzate.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-418">Clustered indexes and indexed views will not be recommended.</span></span>  
  
 <span data-ttu-id="ca1ae-419">**Valuta l'utilizzo delle sole strutture di progettazione fisica esistenti**</span><span class="sxs-lookup"><span data-stu-id="ca1ae-419">**Evaluate utilization of existing PDS only**</span></span>  
 <span data-ttu-id="ca1ae-420">Consente di valutare l'efficacia degli indici correnti senza che vengano generate indicazioni per le viste indicizzate o gli indici aggiuntivi.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-420">Evaluate the effectiveness of the current indexes but do not recommend additional indexes or indexed views.</span></span>  
  
 <span data-ttu-id="ca1ae-421">**Nessun partizionamento.**</span><span class="sxs-lookup"><span data-stu-id="ca1ae-421">**No partitioning**</span></span>  
 <span data-ttu-id="ca1ae-422">Non vengono generate indicazioni per il partizionamento.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-422">Do not recommend partitioning.</span></span>  
  
 <span data-ttu-id="ca1ae-423">**Partizionamento completo**</span><span class="sxs-lookup"><span data-stu-id="ca1ae-423">**Full partitioning**</span></span>  
 <span data-ttu-id="ca1ae-424">Vengono incluse le indicazioni per il partizionamento.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-424">Include recommendations for partitioning.</span></span>  
  
 <span data-ttu-id="ca1ae-425">**Partizionamento allineato**</span><span class="sxs-lookup"><span data-stu-id="ca1ae-425">**Aligned partitioning**</span></span>  
 <span data-ttu-id="ca1ae-426">Le nuove partizioni consigliate verranno allineate in modo da rendere più semplice la manutenzione.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-426">New recommended partitions will be aligned to make partitions easy to maintain.</span></span>  
  
 <span data-ttu-id="ca1ae-427">**Non mantenere alcuna struttura di progettazione fisica esistente**</span><span class="sxs-lookup"><span data-stu-id="ca1ae-427">**Do not keep any existing PDS**</span></span>  
 <span data-ttu-id="ca1ae-428">Viene consigliata l'eliminazione degli indici, delle viste e delle partizioni esistenti non necessari.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-428">Recommend dropping unnecessary existing indexes, views, and partitioning.</span></span> <span data-ttu-id="ca1ae-429">Se il carico di lavoro utilizza una determinata struttura di progettazione fisica esistente, nell'Ottimizzazione guidata [!INCLUDE[ssDE](../../includes/ssde-md.md)] ne viene sconsigliata l'eliminazione.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-429">If an existing physical design structure (PDS) is useful to the workload, [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor does not recommend dropping it.</span></span>  
  
 <span data-ttu-id="ca1ae-430">**Mantieni solo gli indici**</span><span class="sxs-lookup"><span data-stu-id="ca1ae-430">**Keep indexes only**</span></span>  
 <span data-ttu-id="ca1ae-431">Tutti gli indici esistenti vengono mantenuti, ma viene consigliata l'eliminazione delle viste indicizzate e delle partizioni non necessarie.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-431">Keep all existing indexes but recommend dropping unnecessary indexed views, and partitioning.</span></span>  
  
 <span data-ttu-id="ca1ae-432">**Mantieni tutte le strutture di progettazione fisica esistenti**</span><span class="sxs-lookup"><span data-stu-id="ca1ae-432">**Keep all existing PDS**</span></span>  
 <span data-ttu-id="ca1ae-433">Vengono mantenuti tutti gli indici, le viste indicizzate e le partizioni esistenti.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-433">Keep all existing indexes, indexed views, and partitioning.</span></span>  
  
 <span data-ttu-id="ca1ae-434">**Mantieni solo gli indici cluster**</span><span class="sxs-lookup"><span data-stu-id="ca1ae-434">**Keep clustered indexes only**</span></span>  
 <span data-ttu-id="ca1ae-435">Tutti gli indici esistenti vengono mantenuti, ma viene consigliata l'eliminazione delle viste indicizzate, delle partizioni e degli indici non cluster non necessari.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-435">Keep all existing clustered indexes but recommend dropping unnecessary indexed views, partitions, and nonclustered indexes.</span></span>  
  
 <span data-ttu-id="ca1ae-436">**Mantieni partizionamento allineato**</span><span class="sxs-lookup"><span data-stu-id="ca1ae-436">**Keep aligned partitioning**</span></span>  
 <span data-ttu-id="ca1ae-437">Vengono mantenute le strutture di partizionamento attualmente allineate, ma viene consigliata l'eliminazione delle viste indicizzate, degli indici e delle partizioni non allineate non necessari.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-437">Keep partitioning structures that are currently aligned, but recommend dropping unnecessary indexed views, indexes, and non-aligned partitioning.</span></span> <span data-ttu-id="ca1ae-438">Qualsiasi partizionamento aggiuntivo consigliato verrà allineato allo schema di partizione corrente.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-438">Any additional partitioning recommended will align with the current partitioning scheme.</span></span>  
  
###### <a name="progress-tab-options"></a><span data-ttu-id="ca1ae-439">Opzioni della scheda Stato</span><span class="sxs-lookup"><span data-stu-id="ca1ae-439">Progress Tab Options</span></span>  
 <span data-ttu-id="ca1ae-440">La scheda **Stato** dell'Ottimizzazione guidata motore di database viene visualizzata dopo che l'Ottimizzazione guidata motore di database ha iniziato l'analisi di un carico di lavoro.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-440">The **Progress** tab of Database Engine Tuning Advisor appears after Database Engine Tuning Advisor begins analyzing a workload.</span></span>  
  
 <span data-ttu-id="ca1ae-441">Per arrestare la sessione di ottimizzazione una volta avviata, scegliere una delle opzioni seguenti dal menu **Azioni** :</span><span class="sxs-lookup"><span data-stu-id="ca1ae-441">If you want to stop the tuning session after it has started, choose one of the following options on the **Actions** menu:</span></span>  
  
-   <span data-ttu-id="ca1ae-442">**Arresta analisi (con indicazioni)** per arrestare la sessione di ottimizzazione e scegliere se si vuole che l'Ottimizzazione guidata motore di database generi indicazioni basate sull'analisi eseguita fino a questo punto.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-442">**Stop Analysis (With Recommendations)** stops the tuning session and prompts you to decide whether you want Database Engine Tuning Advisor to generate recommendations based on the analysis done up to this point.</span></span>  
  
-   <span data-ttu-id="ca1ae-443">**Arresta analisi** per arrestare la sessione di ottimizzazione senza che vengano generate indicazioni.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-443">**Stop Analysis** stops the tuning session without generating any recommendations.</span></span>  
  
 <span data-ttu-id="ca1ae-444">**Stato ottimizzazione**</span><span class="sxs-lookup"><span data-stu-id="ca1ae-444">**Tuning Progress**</span></span>  
 <span data-ttu-id="ca1ae-445">Indica lo stato di ottimizzazione corrente.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-445">Indicates the current status of the progress.</span></span> <span data-ttu-id="ca1ae-446">Sono inclusi il numero di azioni eseguite e il numero di messaggi di errore, di esito positivo e di avviso ricevuti.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-446">Contains the number of actions performed, and the number of error, success, and warning messages received.</span></span>  
  
 <span data-ttu-id="ca1ae-447">**Dettagli**</span><span class="sxs-lookup"><span data-stu-id="ca1ae-447">**Details**</span></span>  
 <span data-ttu-id="ca1ae-448">Include un'icona che indica lo stato.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-448">Contains an icon indicating status.</span></span>  
  
 <span data-ttu-id="ca1ae-449">**Azione**</span><span class="sxs-lookup"><span data-stu-id="ca1ae-449">**Action**</span></span>  
 <span data-ttu-id="ca1ae-450">Visualizza i passaggi in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-450">Displays the steps being performed.</span></span>  
  
 <span data-ttu-id="ca1ae-451">**Status**</span><span class="sxs-lookup"><span data-stu-id="ca1ae-451">**Status**</span></span>  
 <span data-ttu-id="ca1ae-452">Visualizza lo stato del passaggio dell'azione.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-452">Displays the status of the action step.</span></span>  
  
 <span data-ttu-id="ca1ae-453">**Messaggio**</span><span class="sxs-lookup"><span data-stu-id="ca1ae-453">**Message**</span></span>  
 <span data-ttu-id="ca1ae-454">Include gli eventuali messaggi restituiti dai passaggi dell'azione.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-454">Contains any messages returned by the action steps.</span></span>  
  
 <span data-ttu-id="ca1ae-455">**Log di ottimizzazione**</span><span class="sxs-lookup"><span data-stu-id="ca1ae-455">**Tuning Log**</span></span>  
 <span data-ttu-id="ca1ae-456">Include informazioni sulla sessione di ottimizzazione corrente.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-456">Contains information regarding this tuning session.</span></span> <span data-ttu-id="ca1ae-457">Per stampare il log fare clic con il pulsante destro del mouse sul log e quindi scegliere **Stampa**.</span><span class="sxs-lookup"><span data-stu-id="ca1ae-457">To print this log, right-click the log, and then click **Print**.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ca1ae-458">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="ca1ae-458">See Also</span></span>  
 <span data-ttu-id="ca1ae-459">[Visualizzare e utilizzare l'output di Ottimizzazione guidata motore di database](database-engine-tuning-advisor.md) </span><span class="sxs-lookup"><span data-stu-id="ca1ae-459">[View and Work with the Output from the Database Engine Tuning Advisor](database-engine-tuning-advisor.md) </span></span>  
 [<span data-ttu-id="ca1ae-460">Utilità dta</span><span class="sxs-lookup"><span data-stu-id="ca1ae-460">dta Utility</span></span>](../../tools/dta/dta-utility.md)  
  
  
