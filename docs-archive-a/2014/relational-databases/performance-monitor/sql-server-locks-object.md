---
title: Oggetto Locks di SQL Server | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: performance
ms.topic: conceptual
helpviewer_keywords:
- Locks object
- SQLServer:Locks
ms.assetid: ace04f0d-3993-4444-8317-ca39d7087e49
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: f13d4ea1172d6b32b90c045a45445c5c87f48a94
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87625336"
---
# <a name="sql-server-locks-object"></a><span data-ttu-id="a1276-102">Oggetto Locks di SQL Server</span><span class="sxs-lookup"><span data-stu-id="a1276-102">SQL Server, Locks Object</span></span>
  <span data-ttu-id="a1276-103">L'oggetto **SQLServer:Locks** di Microsoft [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] offre informazioni sui blocchi di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] per i singoli tipi di risorse.</span><span class="sxs-lookup"><span data-stu-id="a1276-103">The **SQLServer:Locks** object in Microsoft [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] provides information about [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] locks on individual resource types.</span></span> <span data-ttu-id="a1276-104">I blocchi sulle risorse di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , ad esempio sulle righe lette o modificate durante una transazione, impediscono che le risorse vengano utilizzate contemporaneamente da transazioni diverse.</span><span class="sxs-lookup"><span data-stu-id="a1276-104">Locks are held on [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] resources, such as rows read or modified during a transaction, to prevent concurrent use of resources by different transactions.</span></span> <span data-ttu-id="a1276-105">Ad esempio, se una transazione mantiene attivo un blocco esclusivo (X) su una riga all'interno di una tabella, nessun'altra transazione potrà modificare la riga fino a quando il blocco non viene rilasciato.</span><span class="sxs-lookup"><span data-stu-id="a1276-105">For example, if an exclusive (X) lock is held on a row within a table by a transaction, no other transaction can modify that row until the lock is released.</span></span> <span data-ttu-id="a1276-106">La riduzione dei blocchi aumenta la concorrenza e, di conseguenza, potrebbe migliorare le prestazioni.</span><span class="sxs-lookup"><span data-stu-id="a1276-106">Minimizing locks increases concurrency, which can improve performance.</span></span> <span data-ttu-id="a1276-107">È possibile monitorare contemporaneamente più istanze dell'oggetto **Locks** , che rappresentano i singoli blocchi sui tipi di risorse.</span><span class="sxs-lookup"><span data-stu-id="a1276-107">Multiple instances of the **Locks** object can be monitored at the same time, with each instance representing a lock on a resource type.</span></span>  
  
 <span data-ttu-id="a1276-108">Nella tabella seguente vengono descritti i contatori dell'oggetto **Locks** di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a1276-108">This table describes the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] **Locks** counters.</span></span>  
  
|<span data-ttu-id="a1276-109">Contatori di SQLServer Locks</span><span class="sxs-lookup"><span data-stu-id="a1276-109">SQL Server Locks counters</span></span>|<span data-ttu-id="a1276-110">Descrizione</span><span class="sxs-lookup"><span data-stu-id="a1276-110">Description</span></span>|  
|-------------------------------|-----------------|  
|<span data-ttu-id="a1276-111">**Tempo medio di attesa (ms)**</span><span class="sxs-lookup"><span data-stu-id="a1276-111">**Average Wait Time (ms)**</span></span>|<span data-ttu-id="a1276-112">Tempo medio di attesa (in millisecondi) per ogni richiesta di blocco che ha comportato un periodo di attesa.</span><span class="sxs-lookup"><span data-stu-id="a1276-112">Average amount of wait time (in milliseconds) for each lock request that resulted in a wait.</span></span>|  
|<span data-ttu-id="a1276-113">**Richieste di blocco/sec**</span><span class="sxs-lookup"><span data-stu-id="a1276-113">**Lock Requests/sec**</span></span>|<span data-ttu-id="a1276-114">Numero di nuovi blocchi e conversioni di blocco al secondo richiesti da Gestione blocchi.</span><span class="sxs-lookup"><span data-stu-id="a1276-114">Number of new locks and lock conversions per second requested from the lock manager.</span></span>|  
|<span data-ttu-id="a1276-115">**Timeout blocchi (timeout > 0)/sec**</span><span class="sxs-lookup"><span data-stu-id="a1276-115">**Lock Timeouts (timeout > 0)/sec**</span></span>|<span data-ttu-id="a1276-116">Numero di richieste di blocco al secondo per le quali si è verificato un timeout, incluse le richieste interne di blocchi NOWAIT.</span><span class="sxs-lookup"><span data-stu-id="a1276-116">Number of lock requests per second that timed out, but excluding requests for NOWAIT locks.</span></span>|  
|<span data-ttu-id="a1276-117">**Timeout blocchi/sec**</span><span class="sxs-lookup"><span data-stu-id="a1276-117">**Lock Timeouts/sec**</span></span>|<span data-ttu-id="a1276-118">Numero di richieste di blocco al secondo per le quali si è verificato un timeout, incluse le richieste interne di blocchi NOWAIT.</span><span class="sxs-lookup"><span data-stu-id="a1276-118">Number of lock requests per second that timed out, including requests for NOWAIT locks.</span></span>|  
|<span data-ttu-id="a1276-119">**Tempo di attesa blocchi (ms)**</span><span class="sxs-lookup"><span data-stu-id="a1276-119">**Lock Wait Time (ms)**</span></span>|<span data-ttu-id="a1276-120">Tempo di attesa totale dei blocchi (in millisecondi) nell'ultimo secondo.</span><span class="sxs-lookup"><span data-stu-id="a1276-120">Total wait time (in milliseconds) for locks in the last second.</span></span>|  
|<span data-ttu-id="a1276-121">**Attese di blocco/sec**</span><span class="sxs-lookup"><span data-stu-id="a1276-121">**Lock Waits/sec**</span></span>|<span data-ttu-id="a1276-122">Numero di richieste di blocco al secondo che richiedono un periodo di attesa del chiamante.</span><span class="sxs-lookup"><span data-stu-id="a1276-122">Number of lock requests per second that required the caller to wait.</span></span>|  
|<span data-ttu-id="a1276-123">**Numero di deadlock/sec**</span><span class="sxs-lookup"><span data-stu-id="a1276-123">**Number of Deadlocks/sec**</span></span>|<span data-ttu-id="a1276-124">Numero di richieste di blocco al secondo che hanno generato un deadlock.</span><span class="sxs-lookup"><span data-stu-id="a1276-124">Number of lock requests per second that resulted in a deadlock.</span></span>|  
  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="a1276-125">è possibile bloccare le risorse seguenti.</span><span class="sxs-lookup"><span data-stu-id="a1276-125">can lock these resources.</span></span>  
  
|<span data-ttu-id="a1276-126">Elemento</span><span class="sxs-lookup"><span data-stu-id="a1276-126">Item</span></span>|<span data-ttu-id="a1276-127">Descrizione</span><span class="sxs-lookup"><span data-stu-id="a1276-127">Description</span></span>|  
|----------|-----------------|  
|<span data-ttu-id="a1276-128">**_Total**</span><span class="sxs-lookup"><span data-stu-id="a1276-128">**_Total**</span></span>|<span data-ttu-id="a1276-129">Informazioni per tutti i blocchi.</span><span class="sxs-lookup"><span data-stu-id="a1276-129">Information for all locks.</span></span>|  
|<span data-ttu-id="a1276-130">**AllocUnit**</span><span class="sxs-lookup"><span data-stu-id="a1276-130">**AllocUnit**</span></span>|<span data-ttu-id="a1276-131">Un blocco su un'unità di allocazione.</span><span class="sxs-lookup"><span data-stu-id="a1276-131">A lock on an allocation unit.</span></span>|  
|<span data-ttu-id="a1276-132">**Applicazione**</span><span class="sxs-lookup"><span data-stu-id="a1276-132">**Application**</span></span>|<span data-ttu-id="a1276-133">Un blocco su una risorsa specificata dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="a1276-133">A lock on an application-specified resource.</span></span>|  
|<span data-ttu-id="a1276-134">**Database**</span><span class="sxs-lookup"><span data-stu-id="a1276-134">**Database**</span></span>|<span data-ttu-id="a1276-135">Un blocco su un database, che include tutti gli oggetti nel database.</span><span class="sxs-lookup"><span data-stu-id="a1276-135">A lock on a database, including all objects in the database.</span></span>|  
|<span data-ttu-id="a1276-136">**Extent**</span><span class="sxs-lookup"><span data-stu-id="a1276-136">**Extent**</span></span>|<span data-ttu-id="a1276-137">Un blocco su un gruppo contiguo di 8 pagine.</span><span class="sxs-lookup"><span data-stu-id="a1276-137">A lock on a contiguous group of 8 pages.</span></span>|  
|<span data-ttu-id="a1276-138">**File**</span><span class="sxs-lookup"><span data-stu-id="a1276-138">**File**</span></span>|<span data-ttu-id="a1276-139">Un blocco su un file di database.</span><span class="sxs-lookup"><span data-stu-id="a1276-139">A lock on a database file.</span></span>|  
|<span data-ttu-id="a1276-140">**Heap o albero B**</span><span class="sxs-lookup"><span data-stu-id="a1276-140">**Heap/BTree**</span></span>|<span data-ttu-id="a1276-141">Heap o albero B (HOBT).</span><span class="sxs-lookup"><span data-stu-id="a1276-141">Heap or BTree (HOBT).</span></span> <span data-ttu-id="a1276-142">Un blocco su un heap di pagine di dati, oppure sull'albero B di un indice.</span><span class="sxs-lookup"><span data-stu-id="a1276-142">A lock on a heap of data pages, or on the BTree structure of an index.</span></span>|  
|<span data-ttu-id="a1276-143">**Chiave**</span><span class="sxs-lookup"><span data-stu-id="a1276-143">**Key**</span></span>|<span data-ttu-id="a1276-144">Un blocco su una riga in un indice.</span><span class="sxs-lookup"><span data-stu-id="a1276-144">A lock on a row in an index.</span></span>|  
|<span data-ttu-id="a1276-145">**Metadata**</span><span class="sxs-lookup"><span data-stu-id="a1276-145">**Metadata**</span></span>|<span data-ttu-id="a1276-146">Un blocco su un'informazione di catalogo, detta anche metadato.</span><span class="sxs-lookup"><span data-stu-id="a1276-146">A lock on a piece of catalog information, also called metadata.</span></span>|  
|<span data-ttu-id="a1276-147">**Object**</span><span class="sxs-lookup"><span data-stu-id="a1276-147">**Object**</span></span>|<span data-ttu-id="a1276-148">Un blocco su una tabella, stored procedure, vista e così via, che include tutti i dati e gli indici.</span><span class="sxs-lookup"><span data-stu-id="a1276-148">A lock on table, stored procedure, view, etc, including all data and indexes.</span></span> <span data-ttu-id="a1276-149">L'oggetto può essere qualsiasi elemento per il quale esista una voce in **sys.all_objects**.</span><span class="sxs-lookup"><span data-stu-id="a1276-149">The object can be anything that has an entry in **sys.all_objects**.</span></span>|  
|<span data-ttu-id="a1276-150">**Page**</span><span class="sxs-lookup"><span data-stu-id="a1276-150">**Page**</span></span>|<span data-ttu-id="a1276-151">Un blocco su una pagina di 8 kilobyte (KB) in un database.</span><span class="sxs-lookup"><span data-stu-id="a1276-151">A lock on an 8-kilobyte (KB) page in a database.</span></span>|  
|<span data-ttu-id="a1276-152">**RID**</span><span class="sxs-lookup"><span data-stu-id="a1276-152">**RID**</span></span>|<span data-ttu-id="a1276-153">ID di riga.</span><span class="sxs-lookup"><span data-stu-id="a1276-153">Row ID.</span></span> <span data-ttu-id="a1276-154">Un blocco su una singola riga all'interno di un heap.</span><span class="sxs-lookup"><span data-stu-id="a1276-154">A lock on a single row in a heap.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="a1276-155">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="a1276-155">See Also</span></span>  
 [<span data-ttu-id="a1276-156">Monitorare l'utilizzo delle risorse &#40;Monitor di sistema&#41;</span><span class="sxs-lookup"><span data-stu-id="a1276-156">Monitor Resource Usage &#40;System Monitor&#41;</span></span>](monitor-resource-usage-system-monitor.md)  
  
  
