---
title: Oggetto Database Mirroring di SQL Server | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: performance
ms.topic: conceptual
helpviewer_keywords:
- SQLServer:Database Mirroring
- database mirroring [SQL Server], performance counters
- performance counters [SQL Server], database mirroring
- Database Mirroring object
ms.assetid: a27b51ee-7637-4525-9424-bcc16947dc13
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 4d4b1b9af5bced6933745d4214d3abcc15af4a60
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87635508"
---
# <a name="sql-server-database-mirroring-object"></a><span data-ttu-id="eadf8-102">Oggetto Database Mirroring di SQL Server</span><span class="sxs-lookup"><span data-stu-id="eadf8-102">SQL Server, Database Mirroring Object</span></span>
  <span data-ttu-id="eadf8-103">L'oggetto prestazioni **SQLServer:Database Mirroring** include contatori delle prestazioni con informazioni sul mirroring del database di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="eadf8-103">The **SQLServer:Database Mirroring** performance object contains performance counters that report information about [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database mirroring.</span></span> <span data-ttu-id="eadf8-104">Nella tabella seguente sono elencati i contatori inclusi nell'oggetto.</span><span class="sxs-lookup"><span data-stu-id="eadf8-104">The table below lists the counters that this object contains.</span></span>  
  
|<span data-ttu-id="eadf8-105">Nome</span><span class="sxs-lookup"><span data-stu-id="eadf8-105">Name</span></span>|<span data-ttu-id="eadf8-106">Descrizione</span><span class="sxs-lookup"><span data-stu-id="eadf8-106">Description</span></span>|  
|----------|-----------------|  
|<span data-ttu-id="eadf8-107">**Byte ricevuti/sec**</span><span class="sxs-lookup"><span data-stu-id="eadf8-107">**Bytes Received/sec**</span></span>|<span data-ttu-id="eadf8-108">Numero di byte ricevuti al secondo.</span><span class="sxs-lookup"><span data-stu-id="eadf8-108">Number of bytes received per second.</span></span>|  
|<span data-ttu-id="eadf8-109">**Byte inviati/sec**</span><span class="sxs-lookup"><span data-stu-id="eadf8-109">**Bytes Sent/sec**</span></span>|<span data-ttu-id="eadf8-110">Numero di byte inviati al secondo.</span><span class="sxs-lookup"><span data-stu-id="eadf8-110">Number of bytes sent per second.</span></span>|  
|<span data-ttu-id="eadf8-111">**Byte log ricevuti/sec**</span><span class="sxs-lookup"><span data-stu-id="eadf8-111">**Log Bytes Received/sec**</span></span>|<span data-ttu-id="eadf8-112">Numero di byte di log ricevuti al secondo.</span><span class="sxs-lookup"><span data-stu-id="eadf8-112">Number of bytes of log received per second.</span></span>|  
|<span data-ttu-id="eadf8-113">**Byte log rollforward da cache/sec**</span><span class="sxs-lookup"><span data-stu-id="eadf8-113">**Log Bytes Redone from Cache/sec**</span></span>|<span data-ttu-id="eadf8-114">Numero di byte del log di cui è stato eseguito il rollforward ottenuti dalla cache del log di mirroring nell'ultimo secondo.</span><span class="sxs-lookup"><span data-stu-id="eadf8-114">Number of redone log bytes that were obtained from the mirroring log cache, in the last second.</span></span><br /><br /> <span data-ttu-id="eadf8-115">Questo contatore è utilizzato solo sul server mirror.</span><span class="sxs-lookup"><span data-stu-id="eadf8-115">This counter is used on only the mirror server.</span></span> <span data-ttu-id="eadf8-116">Sul server principale il valore è sempre 0.</span><span class="sxs-lookup"><span data-stu-id="eadf8-116">On the principal server the value is always 0.</span></span>|  
|<span data-ttu-id="eadf8-117">**Byte log inviati da cache/sec**</span><span class="sxs-lookup"><span data-stu-id="eadf8-117">**Log Bytes Sent from Cache/sec**</span></span>|<span data-ttu-id="eadf8-118">Numero di byte del log inviati ottenuti dalla cache del log di mirroring nell'ultimo secondo.</span><span class="sxs-lookup"><span data-stu-id="eadf8-118">Number of sent log bytes that were obtained from the mirroring log cache, in the last second.</span></span><br /><br /> <span data-ttu-id="eadf8-119">Questo contatore è utilizzato solo sul server principale.</span><span class="sxs-lookup"><span data-stu-id="eadf8-119">This counter is used on only the principal server.</span></span> <span data-ttu-id="eadf8-120">Sul server mirror il valore è sempre 0.</span><span class="sxs-lookup"><span data-stu-id="eadf8-120">On the mirror server the value is always 0.</span></span>|  
|<span data-ttu-id="eadf8-121">**Byte log inviati/sec**</span><span class="sxs-lookup"><span data-stu-id="eadf8-121">**Log Bytes Sent/sec**</span></span>|<span data-ttu-id="eadf8-122">Numero di byte di log inviati al secondo.</span><span class="sxs-lookup"><span data-stu-id="eadf8-122">Number of bytes of log sent per second.</span></span>|  
|<span data-ttu-id="eadf8-123">**Byte log compressi ricev/sec**</span><span class="sxs-lookup"><span data-stu-id="eadf8-123">**Log Compressed Bytes Rcvd/sec**</span></span>|<span data-ttu-id="eadf8-124">Numero di byte di log compressi ricevuti nell'ultimo secondo.</span><span class="sxs-lookup"><span data-stu-id="eadf8-124">Number of compressed bytes of log received, in the last second.</span></span>|  
|<span data-ttu-id="eadf8-125">**Byte log compressi inviati/sec**</span><span class="sxs-lookup"><span data-stu-id="eadf8-125">**Log Compressed Bytes Sent/sec**</span></span>|<span data-ttu-id="eadf8-126">Numero di byte di log compressi inviati nell'ultimo secondo.</span><span class="sxs-lookup"><span data-stu-id="eadf8-126">Number of compressed bytes of log sent, in the last second.</span></span>|  
|<span data-ttu-id="eadf8-127">**Tempo salvataggio log (ms)**</span><span class="sxs-lookup"><span data-stu-id="eadf8-127">**Log Harden Time (ms)**</span></span>|<span data-ttu-id="eadf8-128">Millisecondi di attesa prima che i blocchi di log vengano salvati su disco nell'ultimo secondo.</span><span class="sxs-lookup"><span data-stu-id="eadf8-128">Milliseconds that log blocks waited to be hardened to disk, in the last second.</span></span>|  
|<span data-ttu-id="eadf8-129">**KB log residui per rollback**</span><span class="sxs-lookup"><span data-stu-id="eadf8-129">**Log Remaining for Undo KB**</span></span>|<span data-ttu-id="eadf8-130">Kilobyte totali di log che devono ancora essere analizzati dal nuovo server mirror dopo il failover.</span><span class="sxs-lookup"><span data-stu-id="eadf8-130">Total kilobytes of log that remain to be scanned by the new mirror server after failover.</span></span><br /><br /> <span data-ttu-id="eadf8-131">Questo contatore è utilizzato solo sul server mirror durante la fase di rollback.</span><span class="sxs-lookup"><span data-stu-id="eadf8-131">This counter is used on only the mirror server during the undo phase.</span></span> <span data-ttu-id="eadf8-132">Al termine della fase di rollback il contatore viene reimpostato su 0.</span><span class="sxs-lookup"><span data-stu-id="eadf8-132">After the undo phase completes, the counter is reset to 0.</span></span> <span data-ttu-id="eadf8-133">Sul server principale il valore è sempre 0.</span><span class="sxs-lookup"><span data-stu-id="eadf8-133">On the principal server the value is always 0.</span></span>|  
|<span data-ttu-id="eadf8-134">**KB log analizzati per rollback**</span><span class="sxs-lookup"><span data-stu-id="eadf8-134">**Log Scanned for Undo KB**</span></span>|<span data-ttu-id="eadf8-135">Kilobyte totali di log che sono stati analizzati dal nuovo server mirror dopo il failover.</span><span class="sxs-lookup"><span data-stu-id="eadf8-135">Total kilobytes of log that have been scanned by the new mirror server since failover.</span></span><br /><br /> <span data-ttu-id="eadf8-136">Questo contatore è utilizzato solo sul server mirror durante la fase di rollback.</span><span class="sxs-lookup"><span data-stu-id="eadf8-136">This counter is used on only the mirror server during the undo phase.</span></span> <span data-ttu-id="eadf8-137">Al termine della fase di rollback il contatore viene reimpostato su 0.</span><span class="sxs-lookup"><span data-stu-id="eadf8-137">After the undo phase completes, the counter is reset to 0.</span></span> <span data-ttu-id="eadf8-138">Sul server principale il valore è sempre 0.</span><span class="sxs-lookup"><span data-stu-id="eadf8-138">On the principal server the value is always 0.</span></span>|  
|<span data-ttu-id="eadf8-139">**Tempo controllo flusso di invio log (ms)**</span><span class="sxs-lookup"><span data-stu-id="eadf8-139">**Log Send Flow Control Time (ms)**</span></span>|<span data-ttu-id="eadf8-140">Millisecondi di attesa prima che i messaggi del flusso di log siano sottoposti a controllo del flusso di invio nell'ultimo secondo.</span><span class="sxs-lookup"><span data-stu-id="eadf8-140">Milliseconds that log stream messages waited for send flow control, in the last second.</span></span><br /><br /> <span data-ttu-id="eadf8-141">L'invio di dati e metadati del log al partner per il  mirroring è l'operazione che fa l'utilizzo di dati più intensivo.</span><span class="sxs-lookup"><span data-stu-id="eadf8-141">Sending log data and metadata to the mirroring partner is the most data-intensive operation in database mirroring and might monopolize the database mirroring and Service Broker send buffers.</span></span> <span data-ttu-id="eadf8-142">Utilizzare tale contatore per monitorare l'utilizzo di questo buffer da parte della sessione di mirroring del database.</span><span class="sxs-lookup"><span data-stu-id="eadf8-142">Use this counter to monitor the use of this buffer by the database mirroring session.</span></span>|  
|<span data-ttu-id="eadf8-143">**KB coda invii log**</span><span class="sxs-lookup"><span data-stu-id="eadf8-143">**Log Send Queue KB**</span></span>|<span data-ttu-id="eadf8-144">Numero totale di kilobyte di log non ancora inviati al server mirror.</span><span class="sxs-lookup"><span data-stu-id="eadf8-144">Total number of kilobytes of log that have not yet been sent to the mirror server.</span></span>|  
|<span data-ttu-id="eadf8-145">**Scrittura transazioni con mirroring/sec**</span><span class="sxs-lookup"><span data-stu-id="eadf8-145">**Mirrored Write Transactions/sec**</span></span>|<span data-ttu-id="eadf8-146">Numero di transazioni che hanno scritto nel database con mirroring e che vengono eseguite prima che il log venga inviato al mirror per eseguire il commit nell'ultimo secondo.</span><span class="sxs-lookup"><span data-stu-id="eadf8-146">Number of transactions that wrote to the mirrored database and waited for the log to be sent to the mirror in order to commit, in the last second.</span></span><br /><br /> <span data-ttu-id="eadf8-147">Questo contatore viene incrementato solo quando il server principale sta inviando attivamente record di log al server mirror.</span><span class="sxs-lookup"><span data-stu-id="eadf8-147">This counter is incremented only when the principal server is actively sending log records to the mirror server.</span></span>|  
|<span data-ttu-id="eadf8-148">**Pagine inviate/sec**</span><span class="sxs-lookup"><span data-stu-id="eadf8-148">**Pages Sent/sec**</span></span>|<span data-ttu-id="eadf8-149">Numero di pagine inviate al secondo.</span><span class="sxs-lookup"><span data-stu-id="eadf8-149">Number of pages sent per second.</span></span>|  
|<span data-ttu-id="eadf8-150">**Ricezioni/sec**</span><span class="sxs-lookup"><span data-stu-id="eadf8-150">**Receives/sec**</span></span>|<span data-ttu-id="eadf8-151">Numero di messaggi di mirroring ricevuti al secondo.</span><span class="sxs-lookup"><span data-stu-id="eadf8-151">Number of mirroring messages received per second.</span></span>|  
|<span data-ttu-id="eadf8-152">**Byte rollforward/sec**</span><span class="sxs-lookup"><span data-stu-id="eadf8-152">**Redo Bytes/sec**</span></span>|<span data-ttu-id="eadf8-153">Numero di byte di log di cui viene eseguito il rollforward sul database mirror al secondo.</span><span class="sxs-lookup"><span data-stu-id="eadf8-153">Number of bytes of log rolled forward on the mirror database per second.</span></span>|  
|<span data-ttu-id="eadf8-154">**KB coda rollforward**</span><span class="sxs-lookup"><span data-stu-id="eadf8-154">**Redo Queue KB**</span></span>|<span data-ttu-id="eadf8-155">Numero totale di kilobyte di log salvato ancora da applicare al database mirror per eseguirne il rollforward.</span><span class="sxs-lookup"><span data-stu-id="eadf8-155">Total number of kilobytes of hardened log that currently remain to be applied to the mirror database to roll it forward.</span></span> <span data-ttu-id="eadf8-156">Viene inviato al principale dal mirror.</span><span class="sxs-lookup"><span data-stu-id="eadf8-156">This is sent to the Principal from the Mirror.</span></span>|  
|<span data-ttu-id="eadf8-157">**Tempo ACK invio/ricezione**</span><span class="sxs-lookup"><span data-stu-id="eadf8-157">**Send/Receive Ack Time**</span></span>|<span data-ttu-id="eadf8-158">Millisecondi di attesa prima che i messaggi vengano riconosciuti dal partner nell'ultimo secondo.</span><span class="sxs-lookup"><span data-stu-id="eadf8-158">Milliseconds that messages waited for acknowledgement from the partner, in the last second.</span></span><br /><br /> <span data-ttu-id="eadf8-159">Questo contatore è utile per diagnosticare un problema che potrebbe essere causato da un collo di bottiglia della rete, ad esempio failover inspiegabili, una lunga coda di invio o un'elevata latenza della transazione.</span><span class="sxs-lookup"><span data-stu-id="eadf8-159">This counter is helpful in troubleshooting a problem that might be caused by a network bottleneck, such as unexplained failovers, a large send queue, or high transaction latency.</span></span> <span data-ttu-id="eadf8-160">In questi casi è possibile analizzare il valore di tale contatore per determinare se la causa del problema risiede nella rete.</span><span class="sxs-lookup"><span data-stu-id="eadf8-160">In such cases, you can analyze the value of this counter to determine whether the network is causing the problem.</span></span>|  
|<span data-ttu-id="eadf8-161">**Invii/sec**</span><span class="sxs-lookup"><span data-stu-id="eadf8-161">**Sends/sec**</span></span>|<span data-ttu-id="eadf8-162">Numero di messaggi di mirroring inviati al secondo.</span><span class="sxs-lookup"><span data-stu-id="eadf8-162">Number of mirroring messages sent per second.</span></span>|  
|<span data-ttu-id="eadf8-163">**Ritardo transazioni**</span><span class="sxs-lookup"><span data-stu-id="eadf8-163">**Transaction Delay**</span></span>|<span data-ttu-id="eadf8-164">Periodo di attesa dell'acknowledgement per un commit senza terminazione.</span><span class="sxs-lookup"><span data-stu-id="eadf8-164">Delay in waiting for unterminated commit acknowledgement.</span></span>|  
  
> [!NOTE]  
>  <span data-ttu-id="eadf8-165">Su ogni partner, alcuni dei contatori mostrano un valore zero in base al ruolo attualmente svolto dal partner.</span><span class="sxs-lookup"><span data-stu-id="eadf8-165">On each partner, some of the counters show a zero value depending on what role the partner is currently performing.</span></span>  
  
## <a name="remarks"></a><span data-ttu-id="eadf8-166">Osservazioni</span><span class="sxs-lookup"><span data-stu-id="eadf8-166">Remarks</span></span>  
 <span data-ttu-id="eadf8-167">I contatori delle prestazioni consentono di monitorare le prestazioni del mirroring del database.</span><span class="sxs-lookup"><span data-stu-id="eadf8-167">The performance counters let you monitor database mirroring performance.</span></span> <span data-ttu-id="eadf8-168">Ad esempio, è possibile esaminare il contatore **Ritardo transazioni** per verificare se il mirroring del database sta influenzando le prestazioni sul server principale. È possibile esaminare i contatori **Coda rollforward** e **Coda invii log** per verificare se il database mirror è in grado di mantenersi aggiornato rispetto al database principale.</span><span class="sxs-lookup"><span data-stu-id="eadf8-168">For example, you can examine the **Transaction Delay** counter to see if database mirroring is impacting performance on the principal server, you can examine the **Redo Queue** and **Log Send Queue** counters to see how well the mirror database is keeping up with the principal database.</span></span> <span data-ttu-id="eadf8-169">Il contatore **Byte log inviati/sec** consente di monitorare il numero di eventi di log inviati al secondo.</span><span class="sxs-lookup"><span data-stu-id="eadf8-169">You can examine the **Log Bytes Sent/sec** counter to monitor the amount of log sent per second.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="eadf8-170">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="eadf8-170">See Also</span></span>  
 [<span data-ttu-id="eadf8-171">Monitorare l'utilizzo delle risorse &#40;Monitor di sistema&#41;</span><span class="sxs-lookup"><span data-stu-id="eadf8-171">Monitor Resource Usage &#40;System Monitor&#41;</span></span>](monitor-resource-usage-system-monitor.md)  
  
  
