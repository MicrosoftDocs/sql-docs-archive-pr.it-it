---
title: Creare un file di formato (SQL Server) | Microsoft Docs
ms.custom: ''
ms.date: 03/07/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: data-movement
ms.topic: conceptual
helpviewer_keywords:
- format files [SQL Server], creating
ms.assetid: f680b4a0-630f-4052-9c79-d348c1076f7b
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: ca9c85bfcac3380ce13ba89fff6de0b5daadbece
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87623264"
---
# <a name="create-a-format-file-sql-server"></a><span data-ttu-id="6ddff-102">Creazione di un file di formato (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="6ddff-102">Create a Format File (SQL Server)</span></span>
  <span data-ttu-id="6ddff-103">Quando si esegue l'importazione bulk in una tabella di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] dei dati da una tabella, è possibile utilizzare un file di formato per un sistema flessibile per la scrittura di file di dati che non richiede alcuna modifica o richiede modifiche minime per la conformità con altri formati di dati o la lettura di file di dati da un altro programma software.</span><span class="sxs-lookup"><span data-stu-id="6ddff-103">When you bulk import into a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] table or bulk export data from a table, you can use a format file to a flexible system for writing data files that requires little or no editing to comply with other data formats or to read data files from other software programs.</span></span>  
  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="6ddff-104">supporta due tipi di file di formato, ovvero non XML e XML.</span><span class="sxs-lookup"><span data-stu-id="6ddff-104">support two types of format file: non-XML format and XML format.</span></span> <span data-ttu-id="6ddff-105">Il formato non XML è il formato originale supportato dalle versioni precedenti di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="6ddff-105">The non-XML format is the original format that is supported by earlier versions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="6ddff-106">In generale, i file di formato XML e non XML sono intercambiabili.</span><span class="sxs-lookup"><span data-stu-id="6ddff-106">Generally, XML and non-XML format files are interchangeable.</span></span> <span data-ttu-id="6ddff-107">È tuttavia consigliabile utilizzare la sintassi XML per i nuovi file di formato, in quanto questo tipo di file offre numerosi vantaggi rispetto ai file di formato non XML.</span><span class="sxs-lookup"><span data-stu-id="6ddff-107">However, we recommend that you use the XML syntax for new format files because they provide several advantages over non-XML format files.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="6ddff-108">La versione dell'utilità **bcp** (Bcp.exe) usata per leggere un file di formato deve essere uguale o successiva alla versione usata per creare il file di formato.</span><span class="sxs-lookup"><span data-stu-id="6ddff-108">The version of the **bcp** utility (Bcp.exe) used to read a format file must be the same as, or later than the version used to create the format file.</span></span> <span data-ttu-id="6ddff-109">Ad esempio, [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] **bcp** può leggere un file di formato versione 10,0, generato da [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] **bcp**, ma [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] **bcp** non è in grado di leggere un file di formato versione 11,0, generato da [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] **bcp**.</span><span class="sxs-lookup"><span data-stu-id="6ddff-109">For example, [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)]**bcp** can read a version 10.0 format file, which is generated by [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)]**bcp**, but [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)]**bcp** cannot read a version 11.0 format file, which is generated by [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)]**bcp**.</span></span>  
  
 <span data-ttu-id="6ddff-110">Questo argomento descrive come usare l' [utilità bcp](../../tools/bcp-utility.md) per creare un file di formato per una tabella specifica.</span><span class="sxs-lookup"><span data-stu-id="6ddff-110">This topic describes how to use the [bcp utility](../../tools/bcp-utility.md) to create a format file for a particular table.</span></span> <span data-ttu-id="6ddff-111">Il file di formato è basato sull'opzione relativa al tipo di dati specificata ( **-n**, **-c**, **-w**o **-N**) e sui delimitatori della tabella o della vista.</span><span class="sxs-lookup"><span data-stu-id="6ddff-111">The format file is based on the data-type option specified (**-n**, **-c**, **-w**,or **-N**) and the table or view delimiters.</span></span>  
  
## <a name="creating-a-non-xml-format-file"></a><span data-ttu-id="6ddff-112">Creazione di un file di formato non XML</span><span class="sxs-lookup"><span data-stu-id="6ddff-112">Creating a Non-XML Format File</span></span>  
 <span data-ttu-id="6ddff-113">Per usare un comando **bcp** per creare un file di formato, specificare l'argomento **format** e usare **nul** anziché un percorso del file di dati.</span><span class="sxs-lookup"><span data-stu-id="6ddff-113">To use a **bcp** command to create a format file, specify the **format** argument and use **nul** instead of a data-file path.</span></span> <span data-ttu-id="6ddff-114">L'opzione **format** richiede anche l'opzione **-f** , come nell'esempio seguente:</span><span class="sxs-lookup"><span data-stu-id="6ddff-114">The **format** option also requires the **-f** option, such as:</span></span>  
  
 <span data-ttu-id="6ddff-115">**bcp** _tabella_o_vista_ **format** nul **-f**_nome_file_formato_</span><span class="sxs-lookup"><span data-stu-id="6ddff-115">**bcp** _table_or_view_ **format** nul **-f**_format_file_name_</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="6ddff-116">Per distinguere un file di formato non XML, è consigliabile utilizzare l'estensione fmt, ad esempio MyTable.fmt.</span><span class="sxs-lookup"><span data-stu-id="6ddff-116">To distinguish a non-XML format file, we recommend that you use .fmt as the file name extension, for example, MyTable.fmt.</span></span>  
  
 <span data-ttu-id="6ddff-117">Per informazioni sulla struttura e sui campi dei file di formato non XML, vedere [File in formato non XML &#40;SQL Server&#41;](xml-format-files-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="6ddff-117">For information about the structure and fields of non-XML format files, see [Non-XML Format Files &#40;SQL Server&#41;](xml-format-files-sql-server.md).</span></span>  
  
### <a name="examples"></a><span data-ttu-id="6ddff-118">Esempi</span><span class="sxs-lookup"><span data-stu-id="6ddff-118">Examples</span></span>  
 <span data-ttu-id="6ddff-119">Questa sezione contiene gli esempi seguenti che illustrano come usare i comandi **bcp** per creare un file di formato non XML:</span><span class="sxs-lookup"><span data-stu-id="6ddff-119">This section contains the following examples that show how to use **bcp** commands to create a non-XML format file:</span></span>  
  
-   <span data-ttu-id="6ddff-120">R.</span><span class="sxs-lookup"><span data-stu-id="6ddff-120">A.</span></span> <span data-ttu-id="6ddff-121">Creazione di un file di formato non XML per dati nativi</span><span class="sxs-lookup"><span data-stu-id="6ddff-121">Creating a non-XML format file for native data</span></span>  
  
-   <span data-ttu-id="6ddff-122">B.</span><span class="sxs-lookup"><span data-stu-id="6ddff-122">B.</span></span> <span data-ttu-id="6ddff-123">Creazione di un file di formato non XML per dati di tipo carattere</span><span class="sxs-lookup"><span data-stu-id="6ddff-123">Creating a non-XML format file for character data</span></span>  
  
-   <span data-ttu-id="6ddff-124">C.</span><span class="sxs-lookup"><span data-stu-id="6ddff-124">C.</span></span> <span data-ttu-id="6ddff-125">Creazione di un file di formato non XML per dati nativi Unicode</span><span class="sxs-lookup"><span data-stu-id="6ddff-125">Creating a non-XML format file for Unicode native data</span></span>  
  
-   <span data-ttu-id="6ddff-126">D.</span><span class="sxs-lookup"><span data-stu-id="6ddff-126">D.</span></span> <span data-ttu-id="6ddff-127">Creazione di un file di formato non XML per dati di tipo carattere Unicode</span><span class="sxs-lookup"><span data-stu-id="6ddff-127">Creating a non-XML format file for Unicode character data</span></span>  
  
 <span data-ttu-id="6ddff-128">Negli esempi viene utilizzata la tabella `HumanResources.Department` del database di esempio [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="6ddff-128">The examples use the `HumanResources.Department` table in the [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] sample database.</span></span> <span data-ttu-id="6ddff-129">La tabella `HumanResources.Department` contiene quattro colonne, ovvero `DepartmentID`, `Name`, `GroupName`e `ModifiedDate`.</span><span class="sxs-lookup"><span data-stu-id="6ddff-129">The `HumanResources.Department` table contains four columns: `DepartmentID`, `Name`, `GroupName`, and `ModifiedDate`.</span></span>  
  
#### <a name="a-creating-a-non-xml-format-file-for-native-data"></a><span data-ttu-id="6ddff-130">R.</span><span class="sxs-lookup"><span data-stu-id="6ddff-130">A.</span></span> <span data-ttu-id="6ddff-131">Creazione di un file di formato non XML per dati nativi</span><span class="sxs-lookup"><span data-stu-id="6ddff-131">Creating a non-XML format file for native data</span></span>  
 <span data-ttu-id="6ddff-132">Nell'esempio seguente viene creato un file di formato XML, `Department-n.xml`, per la tabella [!INCLUDE[ssSampleDBnormal](../../includes/sssampledbnormal-md.md)]`HumanResources.Department` .</span><span class="sxs-lookup"><span data-stu-id="6ddff-132">The following example creates an XML format file, `Department-n.xml`, for the [!INCLUDE[ssSampleDBnormal](../../includes/sssampledbnormal-md.md)]`HumanResources.Department` table.</span></span> <span data-ttu-id="6ddff-133">Nel file di formato vengono utilizzati tipi di dati nativi.</span><span class="sxs-lookup"><span data-stu-id="6ddff-133">The format file uses native data types.</span></span> <span data-ttu-id="6ddff-134">Il contenuto del file di formato generato viene visualizzato dopo il comando.</span><span class="sxs-lookup"><span data-stu-id="6ddff-134">The contents of the generated format file are presented after the command.</span></span>  
  
 <span data-ttu-id="6ddff-135">Per il comando **bcp** sono disponibili i qualificatori seguenti.</span><span class="sxs-lookup"><span data-stu-id="6ddff-135">The **bcp** command contains the following qualifiers.</span></span>  
  
|<span data-ttu-id="6ddff-136">Qualificatori</span><span class="sxs-lookup"><span data-stu-id="6ddff-136">Qualifiers</span></span>|<span data-ttu-id="6ddff-137">Descrizione</span><span class="sxs-lookup"><span data-stu-id="6ddff-137">Description</span></span>|  
|----------------|-----------------|  
|<span data-ttu-id="6ddff-138">**formatnul-f** _file_formato_</span><span class="sxs-lookup"><span data-stu-id="6ddff-138">**formatnul-f** _format_file_</span></span>|<span data-ttu-id="6ddff-139">Specifica il file di formato non XML.</span><span class="sxs-lookup"><span data-stu-id="6ddff-139">Specifies the non-XML format file.</span></span>|  
|<span data-ttu-id="6ddff-140">**-n**</span><span class="sxs-lookup"><span data-stu-id="6ddff-140">**-n**</span></span>|<span data-ttu-id="6ddff-141">Specifica i tipi di dati nativi.</span><span class="sxs-lookup"><span data-stu-id="6ddff-141">Specifies native data types.</span></span>|  
|<span data-ttu-id="6ddff-142">**-T**</span><span class="sxs-lookup"><span data-stu-id="6ddff-142">**-T**</span></span>|<span data-ttu-id="6ddff-143">Specifica che l'utilità **bcp** si connette a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] con una connessione trusted che usa la sicurezza integrata.</span><span class="sxs-lookup"><span data-stu-id="6ddff-143">Specifies that the **bcp** utility connects to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] with a trusted connection using integrated security.</span></span> <span data-ttu-id="6ddff-144">Se non si specifica **-T** , è necessario specificare **-U** e **-P** per eseguire correttamente l'accesso.</span><span class="sxs-lookup"><span data-stu-id="6ddff-144">If **-T** is not specified, you must specify **-U** and **-P** to successfully log in.</span></span>|  
  
 <span data-ttu-id="6ddff-145">Al prompt dei comandi di Windows digitare il comando `bcp` seguente:</span><span class="sxs-lookup"><span data-stu-id="6ddff-145">At the Windows command prompt, enter the following `bcp` command:</span></span>  
  
```  
bcp AdventureWorks2012.HumanResources.Department format nul -T -n -f Department-n.fmt  
```  
  
 <span data-ttu-id="6ddff-146">Il file di formato generato, `Department-n.fmt`, contiene le informazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="6ddff-146">The generated format file, `Department-n.fmt`, contains the following information:</span></span>  
  
```  
12.0  
4  
1       SQLSMALLINT   0       2       ""   1     DepartmentID                 ""  
2       SQLNCHAR      2       100     ""   2     Name                         SQL_Latin1_General_CP1_CI_AS  
3       SQLNCHAR      2       100     ""   3     GroupName                    SQL_Latin1_General_CP1_CI_AS  
4       SQLDATETIME   0       8       ""   4     ModifiedDate                 ""  
```  
  
 <span data-ttu-id="6ddff-147">Per altre informazioni, vedere [File in formato non XML &#40;SQL Server&#41;](xml-format-files-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="6ddff-147">For more information, see [Non-XML Format Files &#40;SQL Server&#41;](xml-format-files-sql-server.md).</span></span>  
  
#### <a name="b-creating-a-non-xml-format-file-for-character-data"></a><span data-ttu-id="6ddff-148">B.</span><span class="sxs-lookup"><span data-stu-id="6ddff-148">B.</span></span> <span data-ttu-id="6ddff-149">Creazione di un file di formato non XML per dati di tipo carattere</span><span class="sxs-lookup"><span data-stu-id="6ddff-149">Creating a non-XML format file for character data</span></span>  
 <span data-ttu-id="6ddff-150">Nell'esempio seguente viene creato un file di formato XML, `Department.fmt`, per la tabella [!INCLUDE[ssSampleDBnormal](../../includes/sssampledbnormal-md.md)]`HumanResources.Department` .</span><span class="sxs-lookup"><span data-stu-id="6ddff-150">The following example creates an XML format file, `Department.fmt`, for the [!INCLUDE[ssSampleDBnormal](../../includes/sssampledbnormal-md.md)]`HumanResources.Department` table.</span></span> <span data-ttu-id="6ddff-151">Nel file di formato vengono utilizzati formati di dati di tipo carattere e un carattere di terminazione del campo non predefinito (`,`).</span><span class="sxs-lookup"><span data-stu-id="6ddff-151">The format file uses character data formats and a non-default field terminator (`,`).</span></span> <span data-ttu-id="6ddff-152">Il contenuto del file di formato generato viene visualizzato dopo il comando.</span><span class="sxs-lookup"><span data-stu-id="6ddff-152">The contents of the generated format file are presented after the command.</span></span>  
  
 <span data-ttu-id="6ddff-153">Per il comando **bcp** sono disponibili i qualificatori seguenti.</span><span class="sxs-lookup"><span data-stu-id="6ddff-153">The **bcp** command contains the following qualifiers.</span></span>  
  
|<span data-ttu-id="6ddff-154">Qualificatori</span><span class="sxs-lookup"><span data-stu-id="6ddff-154">Qualifiers</span></span>|<span data-ttu-id="6ddff-155">Descrizione</span><span class="sxs-lookup"><span data-stu-id="6ddff-155">Description</span></span>|  
|----------------|-----------------|  
|<span data-ttu-id="6ddff-156">**formatnul-f** _file_formato_</span><span class="sxs-lookup"><span data-stu-id="6ddff-156">**formatnul-f** _format_file_</span></span>|<span data-ttu-id="6ddff-157">Specifica un file di formato non XML.</span><span class="sxs-lookup"><span data-stu-id="6ddff-157">Specifies a non-XML format file.</span></span>|  
|<span data-ttu-id="6ddff-158">**-c**</span><span class="sxs-lookup"><span data-stu-id="6ddff-158">**-c**</span></span>|<span data-ttu-id="6ddff-159">Specifica i dati di tipo carattere.</span><span class="sxs-lookup"><span data-stu-id="6ddff-159">Specifies character data.</span></span>|  
|<span data-ttu-id="6ddff-160">**-T**</span><span class="sxs-lookup"><span data-stu-id="6ddff-160">**-T**</span></span>|<span data-ttu-id="6ddff-161">Specifica che l'utilità **bcp** si connette a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] con una connessione trusted che usa la sicurezza integrata.</span><span class="sxs-lookup"><span data-stu-id="6ddff-161">Specifies that the **bcp** utility connects to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] with a trusted connection using integrated security.</span></span> <span data-ttu-id="6ddff-162">Se non si specifica **-T** , è necessario specificare **-U** e **-P** per eseguire correttamente l'accesso.</span><span class="sxs-lookup"><span data-stu-id="6ddff-162">If **-T** is not specified, you must specify **-U** and **-P** to successfully log in.</span></span>|  
  
 <span data-ttu-id="6ddff-163">Al prompt dei comandi di Windows digitare il comando `bcp` seguente:</span><span class="sxs-lookup"><span data-stu-id="6ddff-163">At the Windows command prompt, enter the following `bcp` command:</span></span>  
  
```  
bcp AdventureWorks2012.HumanResources.Department format nul -c -f Department-c.fmt -T  
```  
  
 <span data-ttu-id="6ddff-164">Il file di formato generato, `Department-c.fmt`, contiene le informazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="6ddff-164">The generated format file, `Department-c.fmt`, contains the following information:</span></span>  
  
```  
12.0  
4  
1       SQLCHAR       0       7       "\t"     1     DepartmentID                 ""  
2       SQLCHAR       0       100     "\t"     2     Name                         SQL_Latin1_General_CP1_CI_AS  
3       SQLCHAR       0       100     "\t"     3     GroupName                    SQL_Latin1_General_CP1_CI_AS  
4       SQLCHAR       0       24      "\r\n"   4     ModifiedDate                 ""  
```  
  
 <span data-ttu-id="6ddff-165">Per altre informazioni, vedere [File in formato non XML &#40;SQL Server&#41;](xml-format-files-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="6ddff-165">For more information, see [Non-XML Format Files &#40;SQL Server&#41;](xml-format-files-sql-server.md).</span></span>  
  
#### <a name="c-creating-a-non-xml-format-file-for-unicode-native-data"></a><span data-ttu-id="6ddff-166">C.</span><span class="sxs-lookup"><span data-stu-id="6ddff-166">C.</span></span> <span data-ttu-id="6ddff-167">Creazione di un file di formato non XML per dati nativi Unicode</span><span class="sxs-lookup"><span data-stu-id="6ddff-167">Creating a non-XML format file for Unicode native data</span></span>  
 <span data-ttu-id="6ddff-168">Per creare un file di formato non XML per i dati nativi Unicode della tabella `HumanResources.Department`, utilizzare il comando seguente:</span><span class="sxs-lookup"><span data-stu-id="6ddff-168">To create a non-XML format file for Unicode native data for the `HumanResources.Department` table, use the following command:</span></span>  
  
```  
bcp AdventureWorks2012.HumanResources.Department format nul -T -N -f Department-n.fmt  
```  
  
 <span data-ttu-id="6ddff-169">Per altre informazioni sull'uso dei dati di tipo carattere Unicode, vedere [Utilizzare il formato Unicode nativo per importare o esportare dati &#40;SQL Server&#41;](use-unicode-native-format-to-import-or-export-data-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="6ddff-169">For more information about how to use Unicode native data, see [Use Unicode Native Format to Import or Export Data &#40;SQL Server&#41;](use-unicode-native-format-to-import-or-export-data-sql-server.md).</span></span>  
  
#### <a name="d-creating-a-non-xml-format-file-for-unicode-character-data"></a><span data-ttu-id="6ddff-170">D.</span><span class="sxs-lookup"><span data-stu-id="6ddff-170">D.</span></span> <span data-ttu-id="6ddff-171">Creazione di un file di formato non XML per dati di tipo carattere Unicode</span><span class="sxs-lookup"><span data-stu-id="6ddff-171">Creating a non-XML format file For Unicode character data</span></span>  
 <span data-ttu-id="6ddff-172">Per creare un file di formato non XML per i dati di tipo carattere Unicode della tabella `HumanResources.Department` che utilizza i caratteri di terminazione predefiniti, utilizzare il comando seguente:</span><span class="sxs-lookup"><span data-stu-id="6ddff-172">To create a non-XML format file for Unicode character data for the `HumanResources.Department` table that uses default terminators, use the following command:</span></span>  
  
```  
bcp AdventureWorks2012.HumanResources.Department format nul -T -w -f Department-w.fmt  
```  
  
 <span data-ttu-id="6ddff-173">Per altre informazioni sull'uso dei dati di tipo carattere Unicode, vedere [Utilizzo del formato carattere per l'importazione o l'esportazione di dati &#40;SQL Server&#41;](use-unicode-character-format-to-import-or-export-data-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="6ddff-173">For more information about how to use Unicode character data, see [Use Unicode Character Format to Import or Export Data &#40;SQL Server&#41;](use-unicode-character-format-to-import-or-export-data-sql-server.md).</span></span>  
  
## <a name="creating-an-xml-format-file"></a><span data-ttu-id="6ddff-174">Creazione di un file di formato XML</span><span class="sxs-lookup"><span data-stu-id="6ddff-174">Creating an XML Format File</span></span>  
 <span data-ttu-id="6ddff-175">Per usare un comando **bcp** per creare un file di formato, specificare l'argomento **format** e usare **nul** anziché un percorso del file di dati.</span><span class="sxs-lookup"><span data-stu-id="6ddff-175">To use a **bcp** command to create a format file, specify the **format** argument and use **nul** instead of a data-file path.</span></span> <span data-ttu-id="6ddff-176">L'opzione **format** richiede sempre l'opzione **-f** e per creare un file di formato XML è necessario anche specificare l'opzione **-x** , come nell'esempio seguente:</span><span class="sxs-lookup"><span data-stu-id="6ddff-176">The **format** option always requires the **-f** option, and to create an XML format file, you must also specify the **-x** option, such as:</span></span>  
  
 <span data-ttu-id="6ddff-177">**bcp** _tabella_o_vista_ **format nul-f** _nome_file_formato_ **-x**</span><span class="sxs-lookup"><span data-stu-id="6ddff-177">**bcp** _table_or_view_ **format nul-f** _format_file_name_ **-x**</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="6ddff-178">Per distinguere un file di formato XML, è consigliabile utilizzare l'estensione xml, ad esempio MyTable.xml.</span><span class="sxs-lookup"><span data-stu-id="6ddff-178">To distinguish an XML format file, we recommend that you use .xml as the file name extension, for example, MyTable.xml.</span></span>  
  
 <span data-ttu-id="6ddff-179">Per informazioni sulla struttura e sui campi dei file di formato XML, vedere [File in formato XML &#40;SQL Server&#41;](xml-format-files-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="6ddff-179">For information about the structure and fields of XML format files, see [XML Format Files &#40;SQL Server&#41;](xml-format-files-sql-server.md).</span></span>  
  
### <a name="examples"></a><span data-ttu-id="6ddff-180">Esempi</span><span class="sxs-lookup"><span data-stu-id="6ddff-180">Examples</span></span>  
 <span data-ttu-id="6ddff-181">Questa sezione contiene gli esempi seguenti che illustrano come usare i comandi **bcp** per creare un file di formato XML:</span><span class="sxs-lookup"><span data-stu-id="6ddff-181">This section contains the following examples that show how to use **bcp** commands to create an XML format file:</span></span>  
  
-   <span data-ttu-id="6ddff-182">R.</span><span class="sxs-lookup"><span data-stu-id="6ddff-182">A.</span></span> <span data-ttu-id="6ddff-183">Creazione di un file di formato XML per dati di tipo carattere</span><span class="sxs-lookup"><span data-stu-id="6ddff-183">Creating an XML format file for character data</span></span>  
  
-   <span data-ttu-id="6ddff-184">B.</span><span class="sxs-lookup"><span data-stu-id="6ddff-184">B.</span></span> <span data-ttu-id="6ddff-185">Creazione di un file di formato XML per dati nativi</span><span class="sxs-lookup"><span data-stu-id="6ddff-185">Creating an XML format file for native data</span></span>  
  
 <span data-ttu-id="6ddff-186">Negli esempi viene utilizzata la tabella `HumanResources.Department` del database di esempio [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="6ddff-186">The examples use the `HumanResources.Department` table in the [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] sample database.</span></span> <span data-ttu-id="6ddff-187">La tabella `HumanResources.Department` contiene quattro colonne, ovvero `DepartmentID`, `Name`, `GroupName`e `ModifiedDate`.</span><span class="sxs-lookup"><span data-stu-id="6ddff-187">The `HumanResources.Department` table contains four columns: `DepartmentID`, `Name`, `GroupName`, and `ModifiedDate`.</span></span>  
  
> [!NOTE]  
>  [!INCLUDE[ssSampleDBdesc](../../includes/sssampledbdesc-md.md)]  
  
#### <a name="a-creating-an-xml-format-file-for-character-data"></a><span data-ttu-id="6ddff-188">R.</span><span class="sxs-lookup"><span data-stu-id="6ddff-188">A.</span></span> <span data-ttu-id="6ddff-189">Creazione di un file di formato XML per dati di tipo carattere</span><span class="sxs-lookup"><span data-stu-id="6ddff-189">Creating an XML format file for character data</span></span>  
 <span data-ttu-id="6ddff-190">Nell'esempio seguente viene creato un file di formato XML, `Department.xml`, per la tabella [!INCLUDE[ssSampleDBnormal](../../includes/sssampledbnormal-md.md)]`HumanResources.Department` .</span><span class="sxs-lookup"><span data-stu-id="6ddff-190">The following example creates an XML format file, `Department.xml`, for the [!INCLUDE[ssSampleDBnormal](../../includes/sssampledbnormal-md.md)]`HumanResources.Department` table.</span></span> <span data-ttu-id="6ddff-191">Nel file di formato vengono utilizzati formati di dati di tipo carattere e un carattere di terminazione del campo non predefinito (`,`).</span><span class="sxs-lookup"><span data-stu-id="6ddff-191">The format file uses character data formats and a non-default field terminator (`,`).</span></span> <span data-ttu-id="6ddff-192">Il contenuto del file di formato generato viene visualizzato dopo il comando.</span><span class="sxs-lookup"><span data-stu-id="6ddff-192">The contents of the generated format file are presented after the command.</span></span>  
  
 <span data-ttu-id="6ddff-193">Per il comando **bcp** sono disponibili i qualificatori seguenti.</span><span class="sxs-lookup"><span data-stu-id="6ddff-193">The **bcp** command contains the following qualifiers.</span></span>  
  
|<span data-ttu-id="6ddff-194">Qualificatori</span><span class="sxs-lookup"><span data-stu-id="6ddff-194">Qualifiers</span></span>|<span data-ttu-id="6ddff-195">Descrizione</span><span class="sxs-lookup"><span data-stu-id="6ddff-195">Description</span></span>|  
|----------------|-----------------|  
|<span data-ttu-id="6ddff-196">**formatnul-f** _file_formato_ **-x**</span><span class="sxs-lookup"><span data-stu-id="6ddff-196">**formatnul-f** _format_file_ **-x**</span></span>|<span data-ttu-id="6ddff-197">Specifica il file di formato XML.</span><span class="sxs-lookup"><span data-stu-id="6ddff-197">Specifies the XML format file.</span></span>|  
|<span data-ttu-id="6ddff-198">**-c**</span><span class="sxs-lookup"><span data-stu-id="6ddff-198">**-c**</span></span>|<span data-ttu-id="6ddff-199">Specifica i dati di tipo carattere.</span><span class="sxs-lookup"><span data-stu-id="6ddff-199">Specifies character data.</span></span>|  
|<span data-ttu-id="6ddff-200">**-t** `,`</span><span class="sxs-lookup"><span data-stu-id="6ddff-200">**-t** `,`</span></span>|<span data-ttu-id="6ddff-201">Specifica la virgola ( **,** ) come carattere di terminazione del campo.</span><span class="sxs-lookup"><span data-stu-id="6ddff-201">Specifies a comma (**,**) as the field terminator.</span></span><br /><br /> <span data-ttu-id="6ddff-202">Nota: se il file di dati usa il carattere di terminazione del campo predefinito (`\t`), l'opzione **-t** non è necessaria.</span><span class="sxs-lookup"><span data-stu-id="6ddff-202">Note: If the data file uses the default field terminator (`\t`), the **-t** switch is unnecessary.</span></span>|  
|<span data-ttu-id="6ddff-203">**-T**</span><span class="sxs-lookup"><span data-stu-id="6ddff-203">**-T**</span></span>|<span data-ttu-id="6ddff-204">Specifica che l'utilità **bcp** si connette a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] con una connessione trusted che usa la sicurezza integrata.</span><span class="sxs-lookup"><span data-stu-id="6ddff-204">Specifies that the **bcp** utility connects to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] with a trusted connection using integrated security.</span></span> <span data-ttu-id="6ddff-205">Se non si specifica **-T** , è necessario specificare **-U** e **-P** per eseguire correttamente l'accesso.</span><span class="sxs-lookup"><span data-stu-id="6ddff-205">If **-T** is not specified, you must specify **-U** and **-P** to successfully log in.</span></span>|  
  
 <span data-ttu-id="6ddff-206">Al prompt dei comandi di Windows digitare il comando `bcp` seguente:</span><span class="sxs-lookup"><span data-stu-id="6ddff-206">At the Windows command prompt, enter the following `bcp` command:</span></span>  
  
```  
bcp AdventureWorks2012.HumanResources.Department format nul -c -x -f Department-c..xml -t, -T  
```  
  
 <span data-ttu-id="6ddff-207">Il file di formato generato, `Department-c.xml`, contiene gli elementi XML seguenti:</span><span class="sxs-lookup"><span data-stu-id="6ddff-207">The generated format file, `Department-c.xml`, contains the following XML elements:</span></span>  
  
```  
<?xml version="1.0"?>  
<BCPFORMAT xmlns="https://schemas.microsoft.com/sqlserver/2004/bulkload/format" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">  
 <RECORD>  
  <FIELD ID="1" xsi:type="CharTerm" TERMINATOR="," MAX_LENGTH="7"/>  
  <FIELD ID="2" xsi:type="CharTerm" TERMINATOR="," MAX_LENGTH="100" COLLATION="SQL_Latin1_General_CP1_CI_AS"/>  
  <FIELD ID="3" xsi:type="CharTerm" TERMINATOR="," MAX_LENGTH="100" COLLATION="SQL_Latin1_General_CP1_CI_AS"/>  
  <FIELD ID="4" xsi:type="CharTerm" TERMINATOR="\r\n" MAX_LENGTH="24"/>  
 </RECORD>  
 <ROW>  
  <COLUMN SOURCE="1" NAME="DepartmentID" xsi:type="SQLSMALLINT"/>  
  <COLUMN SOURCE="2" NAME="Name" xsi:type="SQLNVARCHAR"/>  
  <COLUMN SOURCE="3" NAME="GroupName" xsi:type="SQLNVARCHAR"/>  
  <COLUMN SOURCE="4" NAME="ModifiedDate" xsi:type="SQLDATETIME"/>  
 </ROW>  
</BCPFORMAT>  
```  
  
 <span data-ttu-id="6ddff-208">Per informazioni sulla sintassi di questo file di formato, vedere [File in formato XML &#40;SQL Server&#41;](xml-format-files-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="6ddff-208">For information about the syntax of this format file, see [XML Format Files &#40;SQL Server&#41;](xml-format-files-sql-server.md).</span></span> <span data-ttu-id="6ddff-209">Per informazioni sui dati di tipo carattere, vedere [Utilizzo del formato carattere per l'importazione o l'esportazione di dati &#40;SQL Server&#41;](use-character-format-to-import-or-export-data-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="6ddff-209">For information about character data, see [Use Character Format to Import or Export Data &#40;SQL Server&#41;](use-character-format-to-import-or-export-data-sql-server.md).</span></span>  
  
#### <a name="b-creating-an-xml-format-file-for-native-data"></a><span data-ttu-id="6ddff-210">B.</span><span class="sxs-lookup"><span data-stu-id="6ddff-210">B.</span></span> <span data-ttu-id="6ddff-211">Creazione di un file di formato XML per dati nativi</span><span class="sxs-lookup"><span data-stu-id="6ddff-211">Creating an XML format file for native data</span></span>  
 <span data-ttu-id="6ddff-212">Nell'esempio seguente viene creato un file di formato XML, `Department-n.xml`, per la tabella `HumanResources.Department` .</span><span class="sxs-lookup"><span data-stu-id="6ddff-212">The following example creates an XML format file, `Department-n.xml`, for the `HumanResources.Department` table.</span></span> <span data-ttu-id="6ddff-213">Nel file di formato vengono utilizzati tipi di dati nativi.</span><span class="sxs-lookup"><span data-stu-id="6ddff-213">The format file uses native data types.</span></span> <span data-ttu-id="6ddff-214">Il contenuto del file di formato generato viene visualizzato dopo il comando.</span><span class="sxs-lookup"><span data-stu-id="6ddff-214">The contents of the generated format file are presented after the command.</span></span>  
  
 <span data-ttu-id="6ddff-215">Per il comando **bcp** sono disponibili i qualificatori seguenti.</span><span class="sxs-lookup"><span data-stu-id="6ddff-215">The **bcp** command contains the following qualifiers.</span></span>  
  
|<span data-ttu-id="6ddff-216">Qualificatori</span><span class="sxs-lookup"><span data-stu-id="6ddff-216">Qualifiers</span></span>|<span data-ttu-id="6ddff-217">Descrizione</span><span class="sxs-lookup"><span data-stu-id="6ddff-217">Description</span></span>|  
|----------------|-----------------|  
|<span data-ttu-id="6ddff-218">**formatnul-f** _file_formato_ **-x**</span><span class="sxs-lookup"><span data-stu-id="6ddff-218">**formatnul-f** _format_file_ **-x**</span></span>|<span data-ttu-id="6ddff-219">Specifica il file di formato XML.</span><span class="sxs-lookup"><span data-stu-id="6ddff-219">Specifies the XML format file.</span></span>|  
|<span data-ttu-id="6ddff-220">**-n**</span><span class="sxs-lookup"><span data-stu-id="6ddff-220">**-n**</span></span>|<span data-ttu-id="6ddff-221">Specifica i tipi di dati nativi.</span><span class="sxs-lookup"><span data-stu-id="6ddff-221">Specifies native data types.</span></span>|  
|<span data-ttu-id="6ddff-222">**-T**</span><span class="sxs-lookup"><span data-stu-id="6ddff-222">**-T**</span></span>|<span data-ttu-id="6ddff-223">Specifica che l'utilità **bcp** si connette a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] con una connessione trusted che usa la sicurezza integrata.</span><span class="sxs-lookup"><span data-stu-id="6ddff-223">Specifies that the **bcp** utility connects to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] with a trusted connection using integrated security.</span></span> <span data-ttu-id="6ddff-224">Se non si specifica **-T** , è necessario specificare **-U** e **-P** per eseguire correttamente l'accesso.</span><span class="sxs-lookup"><span data-stu-id="6ddff-224">If **-T** is not specified, you must specify **-U** and **-P** to successfully log in.</span></span>|  
  
 <span data-ttu-id="6ddff-225">Al prompt dei comandi di Windows digitare il comando `bcp` seguente:</span><span class="sxs-lookup"><span data-stu-id="6ddff-225">At the Windows command prompt, enter the following `bcp` command:</span></span>  
  
```  
bcp AdventureWorks2012.HumanResources.Department format nul -x -f Department-n..xml -n -T  
```  
  
 <span data-ttu-id="6ddff-226">Il file di formato generato, `Department-n.xml`, contiene gli elementi XML seguenti:</span><span class="sxs-lookup"><span data-stu-id="6ddff-226">The generated format file, `Department-n.xml`, contains the following XML elements:</span></span>  
  
```  
<?xml version="1.0"?>  
<BCPFORMAT xmlns="https://schemas.microsoft.com/sqlserver/2004/bulkload/format" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">  
 <RECORD>  
  <FIELD ID="1" xsi:type="NativeFixed" LENGTH="2"/>  
  <FIELD ID="2" xsi:type="NCharPrefix" PREFIX_LENGTH="2" MAX_LENGTH="100" COLLATION="SQL_Latin1_General_CP1_CI_AS"/>  
  <FIELD ID="3" xsi:type="NCharPrefix" PREFIX_LENGTH="2" MAX_LENGTH="100" COLLATION="SQL_Latin1_General_CP1_CI_AS"/>  
  <FIELD ID="4" xsi:type="NativeFixed" LENGTH="8"/>  
 </RECORD>  
 <ROW>  
  <COLUMN SOURCE="1" NAME="DepartmentID" xsi:type="SQLSMALLINT"/>  
  <COLUMN SOURCE="2" NAME="Name" xsi:type="SQLNVARCHAR"/>  
  <COLUMN SOURCE="3" NAME="GroupName" xsi:type="SQLNVARCHAR"/>  
  <COLUMN SOURCE="4" NAME="ModifiedDate" xsi:type="SQLDATETIME"/>  
 </ROW>  
</BCPFORMAT>  
```  
  
 <span data-ttu-id="6ddff-227">Per informazioni sulla sintassi di questo file di formato, vedere [File in formato XML &#40;SQL Server&#41;](xml-format-files-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="6ddff-227">For information about the syntax of this format file, see [XML Format Files &#40;SQL Server&#41;](xml-format-files-sql-server.md).</span></span> <span data-ttu-id="6ddff-228">Per informazioni su come usare i dati nativi, vedere [Utilizzo del formato nativo per importare o esportare dati &#40;SQL Server&#41;](use-native-format-to-import-or-export-data-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="6ddff-228">For information about how to use native data, see [Use Native Format to Import or Export Data &#40;SQL Server&#41;](use-native-format-to-import-or-export-data-sql-server.md).</span></span>  
  
## <a name="mapping-data-fields-to-table-columns"></a><span data-ttu-id="6ddff-229">Mapping tra campi dati e colonne della tabella</span><span class="sxs-lookup"><span data-stu-id="6ddff-229">Mapping Data Fields to Table Columns</span></span>  
 <span data-ttu-id="6ddff-230">Un file di formato creato da **bcp**descrive tutte le colonne della tabella in ordine.</span><span class="sxs-lookup"><span data-stu-id="6ddff-230">As created by **bcp**, a format file describes all the table columns in order.</span></span> <span data-ttu-id="6ddff-231">È possibile modificare un file di formato per spostare o omettere righe della tabella.</span><span class="sxs-lookup"><span data-stu-id="6ddff-231">You can modify a format file to rearrange or omit table rows.</span></span> <span data-ttu-id="6ddff-232">In questo modo, è possibile personalizzare un file di formato in base a un file di dati i cui campi non eseguono il mapping direttamente alle colonne della tabella.</span><span class="sxs-lookup"><span data-stu-id="6ddff-232">This lets you customize a format file to a data file whose fields do not map directly to the table columns.</span></span> <span data-ttu-id="6ddff-233">Per altre informazioni, vedere gli argomenti seguenti:</span><span class="sxs-lookup"><span data-stu-id="6ddff-233">For more information, see the following topics:</span></span>  
  
-   [<span data-ttu-id="6ddff-234">Utilizzo di un file di formato per ignorare una colonna di una tabella &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="6ddff-234">Use a Format File to Skip a Table Column &#40;SQL Server&#41;</span></span>](use-a-format-file-to-skip-a-table-column-sql-server.md)  
  
-   [<span data-ttu-id="6ddff-235">Utilizzo di un file di formato per escludere un campo di dati &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="6ddff-235">Use a Format File to Skip a Data Field &#40;SQL Server&#41;</span></span>](use-a-format-file-to-skip-a-data-field-sql-server.md)  
  
-   [<span data-ttu-id="6ddff-236">Utilizzo di un file di formato per eseguire il mapping tra le colonne della tabella e i campi del file di dati &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="6ddff-236">Use a Format File to Map Table Columns to Data-File Fields &#40;SQL Server&#41;</span></span>](use-a-format-file-to-map-table-columns-to-data-file-fields-sql-server.md)  
  
## <a name="see-also"></a><span data-ttu-id="6ddff-237">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="6ddff-237">See Also</span></span>  
 <span data-ttu-id="6ddff-238">[Utilità bcp](../../tools/bcp-utility.md) </span><span class="sxs-lookup"><span data-stu-id="6ddff-238">[bcp Utility](../../tools/bcp-utility.md) </span></span>  
 <span data-ttu-id="6ddff-239">[Usare un file di formato per eseguire il mapping tra le colonne della tabella e i campi del file di dati &#40;SQL Server&#41;](use-a-format-file-to-map-table-columns-to-data-file-fields-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="6ddff-239">[Use a Format File to Map Table Columns to Data-File Fields &#40;SQL Server&#41;](use-a-format-file-to-map-table-columns-to-data-file-fields-sql-server.md) </span></span>  
 <span data-ttu-id="6ddff-240">[Utilizzo di un file di formato per ignorare una colonna di una tabella &#40;SQL Server&#41;](use-a-format-file-to-skip-a-table-column-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="6ddff-240">[Use a Format File to Skip a Table Column &#40;SQL Server&#41;](use-a-format-file-to-skip-a-table-column-sql-server.md) </span></span>  
 <span data-ttu-id="6ddff-241">[Utilizzo di un file di formato per escludere un campo di dati &#40;SQL Server&#41;](use-a-format-file-to-skip-a-data-field-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="6ddff-241">[Use a Format File to Skip a Data Field &#40;SQL Server&#41;](use-a-format-file-to-skip-a-data-field-sql-server.md) </span></span>  
 <span data-ttu-id="6ddff-242">[File in formato non XML &#40;SQL Server&#41;](xml-format-files-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="6ddff-242">[Non-XML Format Files &#40;SQL Server&#41;](xml-format-files-sql-server.md) </span></span>  
 [<span data-ttu-id="6ddff-243">File in formato XML &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="6ddff-243">XML Format Files &#40;SQL Server&#41;</span></span>](xml-format-files-sql-server.md)  
  
  
