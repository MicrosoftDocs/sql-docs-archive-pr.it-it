---
title: Extensible Key Management (EKM) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: security
ms.topic: conceptual
helpviewer_keywords:
- Key Management
- Extensible Key Management
- EKM, described
ms.assetid: 9bfaf500-2d1e-4c02-b041-b8761a9e695b
author: jaszymas
ms.author: jaszymas
ms.openlocfilehash: 4fc9b002b57f8118494709f8fe27a8b19ce28d8e
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87716179"
---
# <a name="extensible-key-management-ekm"></a><span data-ttu-id="38cda-102">Extensible Key Management (EKM)</span><span class="sxs-lookup"><span data-stu-id="38cda-102">Extensible Key Management (EKM)</span></span>
  [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="38cda-103">fornisce funzionalità di crittografia dei dati insieme a *Extensible Key Management* (EKM), l'uso del provider di *API di crittografia Microsoft* (MSCAPI) per la crittografia e la generazione di chiavi.</span><span class="sxs-lookup"><span data-stu-id="38cda-103">provides data encryption capabilities together with *Extensible Key Management* (EKM), using the *Microsoft Cryptographic API* (MSCAPI) provider for encryption and key generation.</span></span> <span data-ttu-id="38cda-104">Le chiavi di crittografia per dati e la crittografia delle chiavi vengono create nei contenitori di chiave temporanei e devono essere esportate da un provider prima di essere archiviate nel database.</span><span class="sxs-lookup"><span data-stu-id="38cda-104">Encryption keys for data and key encryption are created in transient key containers, and they must be exported from a provider before they are stored in the database.</span></span> <span data-ttu-id="38cda-105">Questo approccio consente la gestione delle chiavi che include una gerarchia delle chiavi di crittografia e un backup delle chiavi, che devono essere gestiti da [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="38cda-105">This approach enables key management that includes an encryption key hierarchy and key backup, to be handled by [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="38cda-106">Con la crescente richiesta di conformità con le normative e il problema della privacy dei dati, le organizzazioni sfruttano la crittografia come modalità per fornire una soluzione di "difesa approfondita".</span><span class="sxs-lookup"><span data-stu-id="38cda-106">With the growing demand for regulatory compliance and concern for data privacy, organizations are taking advantage of encryption as a way to provide a "defense in depth" solution.</span></span> <span data-ttu-id="38cda-107">Questo approccio risulta spesso poco pratico se si utilizzano solo gli strumenti di gestione della crittografia dei database.</span><span class="sxs-lookup"><span data-stu-id="38cda-107">This approach is often impractical using only database encryption management tools.</span></span> <span data-ttu-id="38cda-108">I produttori di hardware forniscono prodotti che consentono la gestione aziendale delle chiavi usando i *Moduli di sicurezza hardware* (HSM, Hardware Security Modules).</span><span class="sxs-lookup"><span data-stu-id="38cda-108">Hardware vendors provide products that address enterprise key management by using *Hardware Security Modules* (HSM).</span></span> <span data-ttu-id="38cda-109">I dispositivi HSM consentono di archiviare le chiavi di crittografia su moduli hardware o software.</span><span class="sxs-lookup"><span data-stu-id="38cda-109">HSM devices store encryption keys on hardware or software modules.</span></span> <span data-ttu-id="38cda-110">Questa soluzione è più sicura poiché le chiavi di crittografia non risiedono insieme ai dati di crittografia.</span><span class="sxs-lookup"><span data-stu-id="38cda-110">This is a more secure solution because the encryption keys do not reside with encryption data.</span></span>  
  
 <span data-ttu-id="38cda-111">Alcuni fornitori offrono tali dispositivi sia per la gestione delle chiavi sia per l'accelerazione della crittografia.</span><span class="sxs-lookup"><span data-stu-id="38cda-111">A number of vendors offer HSM for both key management and encryption acceleration.</span></span> <span data-ttu-id="38cda-112">I dispositivi HSM utilizzano interfacce hardware con un processo server come intermediario tra un'applicazione e un dispositivo HSM.</span><span class="sxs-lookup"><span data-stu-id="38cda-112">HSM devices use hardware interfaces with a server process as an intermediary between an application and an HSM.</span></span> <span data-ttu-id="38cda-113">I fornitori implementano anche i provider MSCAPI sui moduli, che possono essere hardware o software.</span><span class="sxs-lookup"><span data-stu-id="38cda-113">Vendors also implement MSCAPI providers over their modules, which might be hardware or software.</span></span> <span data-ttu-id="38cda-114">Spesso MSCAPI offre solo un subset delle funzionalità offerte dai dispositivi HSM.</span><span class="sxs-lookup"><span data-stu-id="38cda-114">MSCAPI often offers only a subset of the functionality that is offered by an HSM.</span></span> <span data-ttu-id="38cda-115">I fornitori possono anche offrire software di gestione per dispositivi HSM, configurazione delle chiavi e accesso alle chiavi.</span><span class="sxs-lookup"><span data-stu-id="38cda-115">Vendors can also provide management software for HSM, key configuration, and key access.</span></span>  
  
 <span data-ttu-id="38cda-116">Le implementazioni HSM variano da fornitore a fornitore e il loro uso con [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] richiede un'interfaccia comune.</span><span class="sxs-lookup"><span data-stu-id="38cda-116">HSM implementations vary from vendor to vendor, and to use them with [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] requires a common interface.</span></span> <span data-ttu-id="38cda-117">Anche se questa interfaccia è fornita da MSCAPI, supporta solo un subset delle funzionalità HSM.</span><span class="sxs-lookup"><span data-stu-id="38cda-117">Although the MSCAPI provides this interface, it supports only a subset of the HSM features.</span></span> <span data-ttu-id="38cda-118">Sono presenti inoltre altre limitazioni, ad esempio l'impossibilità di mantenere a livello nativo le chiavi simmetriche e la mancanza di supporto orientato alla sessione.</span><span class="sxs-lookup"><span data-stu-id="38cda-118">It also has other limitations, such as the inability to natively persist symmetric keys, and a lack of session-oriented support.</span></span>  
  
 <span data-ttu-id="38cda-119">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Extensible Key Management consente ai fornitori di EKM/HSM di terze parti di registrare i propri moduli in [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="38cda-119">The [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Extensible Key Management enables third-party EKM/HSM vendors to register their modules in [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="38cda-120">Quando registrati, gli utenti di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] possono usare le chiavi di crittografia archiviate nei moduli EKM.</span><span class="sxs-lookup"><span data-stu-id="38cda-120">When registered, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] users can use the encryption keys stored on EKM modules.</span></span> <span data-ttu-id="38cda-121">Ciò consente a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] di accedere alle funzionalità di crittografia avanzate supportate da tali moduli, quali la crittografia e decrittografia bulk e le funzioni di gestione delle chiavi quali il periodo di permanenza e la rotazione delle chiavi.</span><span class="sxs-lookup"><span data-stu-id="38cda-121">This enables [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] to access the advanced encryption features these modules support such as bulk encryption and decryption, and key management functions such as key aging and key rotation.</span></span>  
  
 <span data-ttu-id="38cda-122">Quando si esegue [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] in una macchina virtuale di Azure, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] può usare le chiavi archiviate nell' [insieme di credenziali chiave di Azure](https://go.microsoft.com/fwlink/?LinkId=521401).</span><span class="sxs-lookup"><span data-stu-id="38cda-122">When running [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] in an Azure VM, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] can use keys stored in the [Azure Key Vault](https://go.microsoft.com/fwlink/?LinkId=521401).</span></span> <span data-ttu-id="38cda-123">Per altre informazioni, vedere [Extensible Key Management con l'insieme di credenziali delle chiavi di Azure &#40;SQL Server&#41;](extensible-key-management-using-azure-key-vault-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="38cda-123">For more information, see [Extensible Key Management Using Azure Key Vault &#40;SQL Server&#41;](extensible-key-management-using-azure-key-vault-sql-server.md).</span></span>  
  
## <a name="ekm-configuration"></a><span data-ttu-id="38cda-124">Configurazione EKM</span><span class="sxs-lookup"><span data-stu-id="38cda-124">EKM Configuration</span></span>  
 <span data-ttu-id="38cda-125">Extensible Key Management non è disponibile in tutte le edizioni di [!INCLUDE[msCoName](../../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="38cda-125">Extensible Key Management is not available in every edition of [!INCLUDE[msCoName](../../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="38cda-126">Per un elenco delle funzionalità supportate dalle edizioni di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], vedere [Features Supported by the Editions of SQL Server 2014](../../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span><span class="sxs-lookup"><span data-stu-id="38cda-126">For a list of features that are supported by the editions of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], see [Features Supported by the Editions of SQL Server 2014](../../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span></span>  
  
 <span data-ttu-id="38cda-127">Per impostazione predefinita, Extensible Key Management è disattivato.</span><span class="sxs-lookup"><span data-stu-id="38cda-127">By default, Extensible Key Management is off.</span></span> <span data-ttu-id="38cda-128">Per attivare questa caratteristica, utilizzare il comando sp_configure con l'opzione e il valore indicati di seguito, come nell'esempio seguente:</span><span class="sxs-lookup"><span data-stu-id="38cda-128">To enable this feature, use the sp_configure command that has the following option and value, as in the following example:</span></span>  
  
```  
sp_configure 'show advanced', 1  
GO  
RECONFIGURE  
GO  
sp_configure 'EKM provider enabled', 1  
GO  
RECONFIGURE  
GO  
```  
  
> [!NOTE]  
>  <span data-ttu-id="38cda-129">Se si usa il comando sp_configure per questa opzione su edizioni di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] che non supportano EKM, verrà restituito un errore.</span><span class="sxs-lookup"><span data-stu-id="38cda-129">If you use the sp_configure command for this option on editions of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] that do not support EKM, you will receive an error.</span></span>  
  
 <span data-ttu-id="38cda-130">Per disabilitare la funzionalità, impostare il valore su **0**.</span><span class="sxs-lookup"><span data-stu-id="38cda-130">To disable the feature, set the value to **0**.</span></span> <span data-ttu-id="38cda-131">Per altre informazioni sull'impostazione delle opzioni del server, vedere [sp_configure &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-configure-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="38cda-131">For more information about how to set server options, see [sp_configure &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-configure-transact-sql).</span></span>  
  
## <a name="how-to-use-ekm"></a><span data-ttu-id="38cda-132">Utilizzo di EKM</span><span class="sxs-lookup"><span data-stu-id="38cda-132">How to Use EKM</span></span>  
 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="38cda-133">Extensible Key Management consente di abilitare le chiavi di crittografia che proteggono i file del database da archiviare in un dispositivo esterno come una smartcard, un dispositivo USB o un modulo EKM/HSM.</span><span class="sxs-lookup"><span data-stu-id="38cda-133">Extensible Key Management enables the encryption keys that protect the database files to be stored in an off-box device such as a smartcard, USB device, or EKM/HSM module.</span></span> <span data-ttu-id="38cda-134">Consente anche la protezione dei dati da parte degli amministratori del database (tranne i membri del gruppo sysadmin).</span><span class="sxs-lookup"><span data-stu-id="38cda-134">This also enables data protection from database administrators (except members of the sysadmin group).</span></span> <span data-ttu-id="38cda-135">I dati possono essere crittografati utilizzando le chiavi di crittografia a cui hanno accesso solo gli utenti del database nel modulo esterno EKM/HSM.</span><span class="sxs-lookup"><span data-stu-id="38cda-135">Data can be encrypted by using encryption keys that only the database user has access to on the external EKM/HSM module.</span></span>  
  
 <span data-ttu-id="38cda-136">Extensible Key Management fornisce anche i seguenti vantaggi:</span><span class="sxs-lookup"><span data-stu-id="38cda-136">Extensible Key Management also provides the following benefits:</span></span>  
  
-   <span data-ttu-id="38cda-137">Controllo delle autorizzazioni aggiuntivo (abilitazione della separazione dei compiti).</span><span class="sxs-lookup"><span data-stu-id="38cda-137">Additional authorization check (enabling separation of duties).</span></span>  
  
-   <span data-ttu-id="38cda-138">Prestazioni più elevate per crittografia/decrittografia basata su hardware.</span><span class="sxs-lookup"><span data-stu-id="38cda-138">Higher performance for hardware-based encryption/decryption.</span></span>  
  
-   <span data-ttu-id="38cda-139">Generazione della chiave di crittografia esterna.</span><span class="sxs-lookup"><span data-stu-id="38cda-139">External encryption key generation.</span></span>  
  
-   <span data-ttu-id="38cda-140">Archiviazione della chiave di crittografia esterna (separazione fisica di dati e chiavi).</span><span class="sxs-lookup"><span data-stu-id="38cda-140">External encryption key storage (physical separation of data and keys).</span></span>  
  
-   <span data-ttu-id="38cda-141">Recupero della chiave di crittografia.</span><span class="sxs-lookup"><span data-stu-id="38cda-141">Encryption key retrieval.</span></span>  
  
-   <span data-ttu-id="38cda-142">Memorizzazione della chiave di crittografia esterna (consente di abilitare la rotazione della chiave di crittografia).</span><span class="sxs-lookup"><span data-stu-id="38cda-142">External encryption key retention (enables encryption key rotation).</span></span>  
  
-   <span data-ttu-id="38cda-143">Recupero della chiave di crittografia più facile.</span><span class="sxs-lookup"><span data-stu-id="38cda-143">Easier encryption key recovery.</span></span>  
  
-   <span data-ttu-id="38cda-144">Distribuzione della chiave di crittografia più facile da gestire.</span><span class="sxs-lookup"><span data-stu-id="38cda-144">Manageable encryption key distribution.</span></span>  
  
-   <span data-ttu-id="38cda-145">Eliminazione sicura della chiave di crittografia.</span><span class="sxs-lookup"><span data-stu-id="38cda-145">Secure encryption key disposal.</span></span>  
  
 <span data-ttu-id="38cda-146">È possibile usare Extensible Key Management per una combinazione di nome utente e password o altri metodi definiti dal driver EKM.</span><span class="sxs-lookup"><span data-stu-id="38cda-146">You can use Extensible Key Management for a username and password combination or other methods defined by the EKM driver.</span></span>  
  
> [!CAUTION]  
>  <span data-ttu-id="38cda-147">Per la risoluzione di problemi, il supporto tecnico di [!INCLUDE[msCoName](../../../includes/msconame-md.md)] potrebbe richiedere la chiave di crittografia al provider di EKM.</span><span class="sxs-lookup"><span data-stu-id="38cda-147">For troubleshooting, [!INCLUDE[msCoName](../../../includes/msconame-md.md)] technical support might require the encryption key from the EKM provider.</span></span> <span data-ttu-id="38cda-148">Potrebbe anche essere necessario accedere a strumenti o processi del fornitore per risolvere un problema.</span><span class="sxs-lookup"><span data-stu-id="38cda-148">You might also need to access vendor tools or processes to help resolve an issue.</span></span>  
  
### <a name="authentication-with-an-ekm-device"></a><span data-ttu-id="38cda-149">Autenticazione con un dispositivo EKM</span><span class="sxs-lookup"><span data-stu-id="38cda-149">Authentication with an EKM Device</span></span>  
 <span data-ttu-id="38cda-150">Un modulo EKM può supportare più di un tipo di autenticazione.</span><span class="sxs-lookup"><span data-stu-id="38cda-150">An EKM module can support more than one type of authentication.</span></span> <span data-ttu-id="38cda-151">Ciascun provider espone solo un tipo di autenticazione a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], ovvero se il modulo supporta i tipi di autenticazione di base o di altro tipo esporrà l'uno o l'altro, ma non entrambi.</span><span class="sxs-lookup"><span data-stu-id="38cda-151">Each provider exposes only one type of authentication to [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], that is if the module supports Basic or Other authentication types, it exposes one or the other, but not both.</span></span>  
  
#### <a name="ekm-device-specific-basic-authentication-using-usernamepassword"></a><span data-ttu-id="38cda-152">Autenticazione di base specifica del dispositivo EKM utilizzando nome utente/password</span><span class="sxs-lookup"><span data-stu-id="38cda-152">EKM Device-Specific Basic Authentication Using username/password</span></span>  
 <span data-ttu-id="38cda-153">Per i moduli EKM che supportano l'autenticazione di base usando una coppia *nome utente/password*, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] fornisce l'autenticazione trasparente usando le credenziali.</span><span class="sxs-lookup"><span data-stu-id="38cda-153">For those EKM modules that support Basic authentication using a *username/password* pair, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] provides transparent authentication using credentials.</span></span> <span data-ttu-id="38cda-154">Per altre informazioni sulle credenziali, vedere [Credenziali &#40;Motore di database&#41;](../authentication-access/credentials-database-engine.md).</span><span class="sxs-lookup"><span data-stu-id="38cda-154">For more information about credentials, see [Credentials &#40;Database Engine&#41;](../authentication-access/credentials-database-engine.md).</span></span>  
  
 <span data-ttu-id="38cda-155">Una credenziale può essere creata per un provider EKM e sottoposta al mapping a un accesso (sia account Windows che account [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]) per accedere a un modulo EKM in base agli accessi.</span><span class="sxs-lookup"><span data-stu-id="38cda-155">A credential can be created for an EKM provider and mapped to a login (both Windows and [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] accounts) to access an EKM module on per-login basis.</span></span> <span data-ttu-id="38cda-156">Il campo *Identify* della credenziale contiene il nome utente, il campo *secret* contiene una password per la connessione a un modulo EKM.</span><span class="sxs-lookup"><span data-stu-id="38cda-156">The *Identify* field of the credential contains the username; the *secret* field contains a password to connect to an EKM module.</span></span>  
  
 <span data-ttu-id="38cda-157">Se non è presente una credenziale su cui eseguire il mapping a un accesso per il provider EKM, viene usata la credenziale su cui è stato eseguito il mapping all'account di servizio [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="38cda-157">If there is no login mapped credential for the EKM provider, the credential mapped to the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] service account is used.</span></span>  
  
 <span data-ttu-id="38cda-158">Un accesso può disporre di più credenziali di cui è stato eseguito il mapping all'accesso stesso, se vengono utilizzate per provider EKM distinti.</span><span class="sxs-lookup"><span data-stu-id="38cda-158">A login can have multiple credentials mapped to it, as long as they are used for distinctive EKM providers.</span></span> <span data-ttu-id="38cda-159">È possibile eseguire il mapping di una sola credenziale per provider EKM per accesso.</span><span class="sxs-lookup"><span data-stu-id="38cda-159">There must be only one mapped credential per EKM provider per login.</span></span> <span data-ttu-id="38cda-160">Sulla stessa credenziale è possibile eseguire il mapping ad altri account di accesso.</span><span class="sxs-lookup"><span data-stu-id="38cda-160">The same credential can be mapped to other logins.</span></span>  
  
#### <a name="other-types-of-ekm-device-specific-authentication"></a><span data-ttu-id="38cda-161">Altri tipi di autenticazione specifica del dispositivo EKM</span><span class="sxs-lookup"><span data-stu-id="38cda-161">Other Types of EKM Device-Specific Authentication</span></span>  
 <span data-ttu-id="38cda-162">Per i moduli EKM con autenticazione diversa da Windows o combinazioni *nome utente/password* , l'autenticazione deve essere eseguita indipendentemente da [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="38cda-162">For EKM modules that have authentication other than Windows or *user/password* combinations, authentication must be performed independently from [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span>  
  
### <a name="encryption-and-decryption-by-an-ekm-device"></a><span data-ttu-id="38cda-163">Crittografia e decrittografia da un dispositivo EKM</span><span class="sxs-lookup"><span data-stu-id="38cda-163">Encryption and Decryption by an EKM Device</span></span>  
 <span data-ttu-id="38cda-164">È possibile utilizzare le seguenti funzioni e funzionalità per crittografare e decrittografare i dati utilizzando chiavi simmetriche e asimmetriche:</span><span class="sxs-lookup"><span data-stu-id="38cda-164">You can use the following functions and features to encrypt and decrypt data by using symmetric and asymmetric keys:</span></span>  
  
|<span data-ttu-id="38cda-165">Funzione o funzionalità</span><span class="sxs-lookup"><span data-stu-id="38cda-165">Function or feature</span></span>|<span data-ttu-id="38cda-166">Informazioni di riferimento</span><span class="sxs-lookup"><span data-stu-id="38cda-166">Reference</span></span>|  
|-------------------------|---------------|  
|<span data-ttu-id="38cda-167">Crittografia con chiave simmetrica</span><span class="sxs-lookup"><span data-stu-id="38cda-167">Symmetric key encryption</span></span>|[<span data-ttu-id="38cda-168">CREATE SYMMETRIC KEY &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="38cda-168">CREATE SYMMETRIC KEY &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/create-symmetric-key-transact-sql)|  
|<span data-ttu-id="38cda-169">Crittografia con chiave asimmetrica</span><span class="sxs-lookup"><span data-stu-id="38cda-169">Asymmetric Key encryption</span></span>|[<span data-ttu-id="38cda-170">CREATE ASYMMETRIC KEY &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="38cda-170">CREATE ASYMMETRIC KEY &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/create-asymmetric-key-transact-sql)|  
|<span data-ttu-id="38cda-171">EncryptByKey(key_guid, 'cleartext', ...)</span><span class="sxs-lookup"><span data-stu-id="38cda-171">EncryptByKey(key_guid, 'cleartext', ...)</span></span>|[<span data-ttu-id="38cda-172">ENCRYPTBYKEY &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="38cda-172">ENCRYPTBYKEY &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/functions/encryptbykey-transact-sql)|  
|<span data-ttu-id="38cda-173">DecryptByKey(ciphertext, ...)</span><span class="sxs-lookup"><span data-stu-id="38cda-173">DecryptByKey(ciphertext, ...)</span></span>|[<span data-ttu-id="38cda-174">DECRYPTBYKEY &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="38cda-174">DECRYPTBYKEY &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/functions/decryptbykey-transact-sql)|  
|<span data-ttu-id="38cda-175">EncryptByAsmKey(key_guid, 'cleartext')</span><span class="sxs-lookup"><span data-stu-id="38cda-175">EncryptByAsmKey(key_guid, 'cleartext')</span></span>|[<span data-ttu-id="38cda-176">ENCRYPTBYASYMKEY &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="38cda-176">ENCRYPTBYASYMKEY &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/functions/encryptbyasymkey-transact-sql)|  
|<span data-ttu-id="38cda-177">DecryptByAsmKey(ciphertext)</span><span class="sxs-lookup"><span data-stu-id="38cda-177">DecryptByAsmKey(ciphertext)</span></span>|[<span data-ttu-id="38cda-178">DECRYPTBYASYMKEY &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="38cda-178">DECRYPTBYASYMKEY &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/functions/decryptbyasymkey-transact-sql)|  
  
#### <a name="database-keys-encryption-by-ekm-keys"></a><span data-ttu-id="38cda-179">Crittografia di chiavi del database tramite chiavi EKM</span><span class="sxs-lookup"><span data-stu-id="38cda-179">Database Keys Encryption by EKM Keys</span></span>  
 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="38cda-180">può usare le chiavi EKM per crittografare altre chiavi in un database.</span><span class="sxs-lookup"><span data-stu-id="38cda-180">can use EKM keys to encrypt other keys in a database.</span></span> <span data-ttu-id="38cda-181">In un dispositivo EKM è possibile creare e utilizzare sia chiavi simmetriche che asimmetriche.</span><span class="sxs-lookup"><span data-stu-id="38cda-181">You can create and use both symmetric and asymmetric keys on an EKM device.</span></span> <span data-ttu-id="38cda-182">È possibile crittografare chiavi simmetriche native (non EKM) con chiavi asimmetriche EKM.</span><span class="sxs-lookup"><span data-stu-id="38cda-182">You can encrypt native (non-EKM) symmetric keys with EKM asymmetric keys.</span></span>  
  
 <span data-ttu-id="38cda-183">Nel seguente esempio viene creata una chiave simmetrica del database e viene crittografata utilizzando una chiave in un modulo EKM.</span><span class="sxs-lookup"><span data-stu-id="38cda-183">The following example creates a database symmetric key and encrypts it using a key on an EKM module.</span></span>  
  
```  
CREATE SYMMETRIC KEY Key1  
WITH ALGORITHM = AES_256  
ENCRYPTION BY EKM_AKey1;  
GO  
--Open database key  
OPEN SYMMETRIC KEY Key1  
DECRYPTION BY EKM_AKey1  
```  
  
 <span data-ttu-id="38cda-184">Per altre informazioni sulle chiavi del server e del database in [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], vedere [Chiavi di crittografia del database e di SQL Server &#40;Motore di database&#41;](sql-server-and-database-encryption-keys-database-engine.md).</span><span class="sxs-lookup"><span data-stu-id="38cda-184">For more information about Database and Server Keys in [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], see [SQL Server and Database Encryption Keys &#40;Database Engine&#41;](sql-server-and-database-encryption-keys-database-engine.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="38cda-185">Non è possibile crittografare una chiave EKM con un'altra chiave EKM.</span><span class="sxs-lookup"><span data-stu-id="38cda-185">You cannot encrypt one EKM key with another EKM key.</span></span>  
>   
>  [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="38cda-186">non supporta la firma di moduli con chiavi asimmetriche generate dal provider EKM.</span><span class="sxs-lookup"><span data-stu-id="38cda-186">does not support signing modules with asymmetric keys generated from EKM provider.</span></span>  
  
## <a name="related-tasks"></a><span data-ttu-id="38cda-187">Attività correlate</span><span class="sxs-lookup"><span data-stu-id="38cda-187">Related Tasks</span></span>  
 [<span data-ttu-id="38cda-188">Opzione di configurazione del server EKM provider enabled</span><span class="sxs-lookup"><span data-stu-id="38cda-188">EKM provider enabled Server Configuration Option</span></span>](../../../database-engine/configure-windows/ekm-provider-enabled-server-configuration-option.md)  
  
 [<span data-ttu-id="38cda-189">Abilitare Transparent Data Encryption con EKM</span><span class="sxs-lookup"><span data-stu-id="38cda-189">Enable TDE Using EKM</span></span>](enable-tde-on-sql-server-using-ekm.md)  
  
 [<span data-ttu-id="38cda-190">Extensible Key Management con l'insieme di credenziali delle chiavi di Azure &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="38cda-190">Extensible Key Management Using Azure Key Vault &#40;SQL Server&#41;</span></span>](extensible-key-management-using-azure-key-vault-sql-server.md)  
  
## <a name="see-also"></a><span data-ttu-id="38cda-191">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="38cda-191">See Also</span></span>  
 <span data-ttu-id="38cda-192">[CREATE CRYPTOGRAPHIC PROVIDER &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-cryptographic-provider-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="38cda-192">[CREATE CRYPTOGRAPHIC PROVIDER &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-cryptographic-provider-transact-sql) </span></span>  
 <span data-ttu-id="38cda-193">[DROP CRYPTOGRAPHIC PROVIDER &#40;Transact-SQL&#41;](/sql/t-sql/statements/drop-cryptographic-provider-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="38cda-193">[DROP CRYPTOGRAPHIC PROVIDER &#40;Transact-SQL&#41;](/sql/t-sql/statements/drop-cryptographic-provider-transact-sql) </span></span>  
 <span data-ttu-id="38cda-194">[ALTER CRYPTOGRAPHIC PROVIDER &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-cryptographic-provider-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="38cda-194">[ALTER CRYPTOGRAPHIC PROVIDER &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-cryptographic-provider-transact-sql) </span></span>  
 <span data-ttu-id="38cda-195">[sys.cryptographic_providers &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-cryptographic-providers-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="38cda-195">[sys.cryptographic_providers &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-cryptographic-providers-transact-sql) </span></span>  
 <span data-ttu-id="38cda-196">[sys.dm_cryptographic_provider_sessions &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-cryptographic-provider-sessions-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="38cda-196">[sys.dm_cryptographic_provider_sessions &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-cryptographic-provider-sessions-transact-sql) </span></span>  
 <span data-ttu-id="38cda-197">[sys.dm_cryptographic_provider_properties &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-cryptographic-provider-properties-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="38cda-197">[sys.dm_cryptographic_provider_properties &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-cryptographic-provider-properties-transact-sql) </span></span>  
 <span data-ttu-id="38cda-198">[sys.dm_cryptographic_provider_algorithms &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-cryptographic-provider-algorithms-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="38cda-198">[sys.dm_cryptographic_provider_algorithms &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-cryptographic-provider-algorithms-transact-sql) </span></span>  
 <span data-ttu-id="38cda-199">[sys.dm_cryptographic_provider_keys &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-cryptographic-provider-keys-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="38cda-199">[sys.dm_cryptographic_provider_keys &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-cryptographic-provider-keys-transact-sql) </span></span>  
 <span data-ttu-id="38cda-200">[sys.credentials &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-credentials-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="38cda-200">[sys.credentials &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-credentials-transact-sql) </span></span>  
 <span data-ttu-id="38cda-201">[CREATE CREDENTIAL &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-credential-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="38cda-201">[CREATE CREDENTIAL &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-credential-transact-sql) </span></span>  
 <span data-ttu-id="38cda-202">[ALTER LOGIN &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-login-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="38cda-202">[ALTER LOGIN &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-login-transact-sql) </span></span>  
 <span data-ttu-id="38cda-203">[CREATE ASYMMETRIC KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-asymmetric-key-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="38cda-203">[CREATE ASYMMETRIC KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-asymmetric-key-transact-sql) </span></span>  
 <span data-ttu-id="38cda-204">[ALTER ASYMMETRIC KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-asymmetric-key-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="38cda-204">[ALTER ASYMMETRIC KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-asymmetric-key-transact-sql) </span></span>  
 <span data-ttu-id="38cda-205">[DROP ASYMMETRIC KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/drop-asymmetric-key-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="38cda-205">[DROP ASYMMETRIC KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/drop-asymmetric-key-transact-sql) </span></span>  
 <span data-ttu-id="38cda-206">[CREATE SYMMETRIC KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-symmetric-key-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="38cda-206">[CREATE SYMMETRIC KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-symmetric-key-transact-sql) </span></span>  
 <span data-ttu-id="38cda-207">[ALTER SYMMETRIC KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-symmetric-key-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="38cda-207">[ALTER SYMMETRIC KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-symmetric-key-transact-sql) </span></span>  
 <span data-ttu-id="38cda-208">[DROP SYMMETRIC KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/drop-symmetric-key-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="38cda-208">[DROP SYMMETRIC KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/drop-symmetric-key-transact-sql) </span></span>  
 <span data-ttu-id="38cda-209">[OPEN SYMMETRIC KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/open-symmetric-key-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="38cda-209">[OPEN SYMMETRIC KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/open-symmetric-key-transact-sql) </span></span>  
 <span data-ttu-id="38cda-210">[Eseguire il backup e il ripristino delle chiavi di crittografia di Reporting Services](../../../reporting-services/install-windows/ssrs-encryption-keys-back-up-and-restore-encryption-keys.md) </span><span class="sxs-lookup"><span data-stu-id="38cda-210">[Back Up and Restore Reporting Services Encryption Keys](../../../reporting-services/install-windows/ssrs-encryption-keys-back-up-and-restore-encryption-keys.md) </span></span>  
 <span data-ttu-id="38cda-211">[Eliminare e ricreare chiavi di crittografia &#40;Gestione configurazione SSRS&#41;](../../../reporting-services/install-windows/ssrs-encryption-keys-delete-and-re-create-encryption-keys.md) </span><span class="sxs-lookup"><span data-stu-id="38cda-211">[Delete and Re-create Encryption Keys  &#40;SSRS Configuration Manager&#41;](../../../reporting-services/install-windows/ssrs-encryption-keys-delete-and-re-create-encryption-keys.md) </span></span>  
 <span data-ttu-id="38cda-212">[Aggiungere e rimuovere le chiavi di crittografia per una distribuzione con scalabilità orizzontale &#40;Gestione configurazione SSRS&#41;](../../../reporting-services/install-windows/add-and-remove-encryption-keys-for-scale-out-deployment.md) </span><span class="sxs-lookup"><span data-stu-id="38cda-212">[Add and Remove Encryption Keys for Scale-Out Deployment &#40;SSRS Configuration Manager&#41;](../../../reporting-services/install-windows/add-and-remove-encryption-keys-for-scale-out-deployment.md) </span></span>  
 <span data-ttu-id="38cda-213">[Backup della chiave master del servizio](service-master-key.md) </span><span class="sxs-lookup"><span data-stu-id="38cda-213">[Back Up the Service Master Key](service-master-key.md) </span></span>  
 <span data-ttu-id="38cda-214">[Ripristino della chiave master del servizio](restore-the-service-master-key.md) </span><span class="sxs-lookup"><span data-stu-id="38cda-214">[Restore the Service Master Key](restore-the-service-master-key.md) </span></span>  
 <span data-ttu-id="38cda-215">[Creazione della chiave master di un database](create-a-database-master-key.md) </span><span class="sxs-lookup"><span data-stu-id="38cda-215">[Create a Database Master Key](create-a-database-master-key.md) </span></span>  
 <span data-ttu-id="38cda-216">[Backup della chiave master di un database](back-up-a-database-master-key.md) </span><span class="sxs-lookup"><span data-stu-id="38cda-216">[Back Up a Database Master Key](back-up-a-database-master-key.md) </span></span>  
 <span data-ttu-id="38cda-217">[Ripristino di una chiave master del database](restore-a-database-master-key.md) </span><span class="sxs-lookup"><span data-stu-id="38cda-217">[Restore a Database Master Key](restore-a-database-master-key.md) </span></span>  
 [<span data-ttu-id="38cda-218">Creare chiavi simmetriche identiche su due server</span><span class="sxs-lookup"><span data-stu-id="38cda-218">Create Identical Symmetric Keys on Two Servers</span></span>](create-identical-symmetric-keys-on-two-servers.md)  
  
  
