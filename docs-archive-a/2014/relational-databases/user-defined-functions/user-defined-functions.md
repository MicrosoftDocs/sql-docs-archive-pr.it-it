---
title: Funzioni definite dall'utente | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: ''
ms.topic: conceptual
helpviewer_keywords:
- user-defined functions [SQL Server], components
- user-defined functions [SQL Server], about user-defined functions
ms.assetid: d7ddafab-f5a6-44b0-81d5-ba96425aada4
author: rothja
ms.author: jroth
ms.openlocfilehash: c7e4b1a77f2fe5a13e21d8b3fe59e37931669b30
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87623096"
---
# <a name="user-defined-functions"></a><span data-ttu-id="132de-102">Funzioni definite dall'utente</span><span class="sxs-lookup"><span data-stu-id="132de-102">User-Defined Functions</span></span>
  <span data-ttu-id="132de-103">In modo analogo alle funzioni dei linguaggi di programmazione, le funzioni definite dall'utente di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] sono routine che accettano parametri, eseguono un'azione (ad esempio un calcolo complesso) e restituiscono il risultato dell'azione sotto forma di valore.</span><span class="sxs-lookup"><span data-stu-id="132de-103">Like functions in programming languages, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] user-defined functions are routines that accept parameters, perform an action, such as a complex calculation, and return the result of that action as a value.</span></span> <span data-ttu-id="132de-104">Il valore restituito può essere un valore scalare singolo o un set di risultati.</span><span class="sxs-lookup"><span data-stu-id="132de-104">The return value can either be a single scalar value or a result set.</span></span>  
  
 <span data-ttu-id="132de-105">**Contenuto dell'articolo**</span><span class="sxs-lookup"><span data-stu-id="132de-105">**In This Topic**</span></span>  
  
 [<span data-ttu-id="132de-106">Vantaggi delle funzioni definite dall'utente</span><span class="sxs-lookup"><span data-stu-id="132de-106">User-defined Function Benefits</span></span>](#Benefits)  
  
 [<span data-ttu-id="132de-107">Tipi di funzioni</span><span class="sxs-lookup"><span data-stu-id="132de-107">Types of Functions</span></span>](#FunctionTypes)  
  
 [<span data-ttu-id="132de-108">Linee guida</span><span class="sxs-lookup"><span data-stu-id="132de-108">Guidelines</span></span>](#Guidelines)  
  
 [<span data-ttu-id="132de-109">Istruzioni valide in una funzione</span><span class="sxs-lookup"><span data-stu-id="132de-109">Valid Statements in a Function</span></span>](#ValidStatements)  
  
 [<span data-ttu-id="132de-110">Funzioni associate a schema</span><span class="sxs-lookup"><span data-stu-id="132de-110">Schema Bound Functions</span></span>](#SchemaBound)  
  
 [<span data-ttu-id="132de-111">Specifica di parametri</span><span class="sxs-lookup"><span data-stu-id="132de-111">Specifying Parameters</span></span>](#Parameters)  
  
 [<span data-ttu-id="132de-112">Attività correlate</span><span class="sxs-lookup"><span data-stu-id="132de-112">Related Tasks</span></span>](#Tasks)  
  
##  <a name="user-defined-function-benefits"></a><a name="Benefits"></a><span data-ttu-id="132de-113">Vantaggi delle funzioni definite dall'utente</span><span class="sxs-lookup"><span data-stu-id="132de-113">User-defined Function Benefits</span></span>  
 <span data-ttu-id="132de-114">Di seguito vengono elencati i vantaggi delle funzioni definite dall'utente in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="132de-114">The benefits of using user-defined functions in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] are:</span></span>  
  
-   <span data-ttu-id="132de-115">Consentono la programmazione modulare.</span><span class="sxs-lookup"><span data-stu-id="132de-115">They allow modular programming.</span></span>  
  
     <span data-ttu-id="132de-116">È possibile creare la funzione una sola volta, archiviarla nel database e richiamarla nel programma tutte le volte che si desidera.</span><span class="sxs-lookup"><span data-stu-id="132de-116">You can create the function once, store it in the database, and call it any number of times in your program.</span></span> <span data-ttu-id="132de-117">Le funzioni definite dall'utente possono essere modificate in maniera indipendente dal codice sorgente del programma.</span><span class="sxs-lookup"><span data-stu-id="132de-117">User-defined functions can be modified independently of the program source code.</span></span>  
  
-   <span data-ttu-id="132de-118">Consentono tempi di esecuzione più rapidi.</span><span class="sxs-lookup"><span data-stu-id="132de-118">They allow faster execution.</span></span>  
  
     <span data-ttu-id="132de-119">In maniera simile alle stored procedure, le funzioni definite dall'utente in [!INCLUDE[tsql](../../includes/tsql-md.md)] riducono le risorse necessarie per la compilazione di codice [!INCLUDE[tsql](../../includes/tsql-md.md)] memorizzando nella cache e riutilizzando i piani per esecuzioni ripetute.</span><span class="sxs-lookup"><span data-stu-id="132de-119">Similar to stored procedures, [!INCLUDE[tsql](../../includes/tsql-md.md)] user-defined functions reduce the compilation cost of [!INCLUDE[tsql](../../includes/tsql-md.md)] code by caching the plans and reusing them for repeated executions.</span></span> <span data-ttu-id="132de-120">Ciò significa che una funzione definita dall'utente non deve essere analizzata e ottimizzata nuovamente ogni volta che viene utilizzata, con una conseguente e sensibile riduzione dei tempi di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="132de-120">This means the user-defined function does not need to be reparsed and reoptimized with each use resulting in much faster execution times.</span></span>  
  
     <span data-ttu-id="132de-121">Le funzioni CLR offrono un significativo vantaggio nelle prestazioni rispetto alle funzioni [!INCLUDE[tsql](../../includes/tsql-md.md)] per le attività di calcolo, modifica delle stringhe e logiche di business.</span><span class="sxs-lookup"><span data-stu-id="132de-121">CLR functions offer significant performance advantage over [!INCLUDE[tsql](../../includes/tsql-md.md)] functions for computational tasks, string manipulation, and business logic.</span></span> <span data-ttu-id="132de-122">Le funzioni [!INCLUDE[tsql](../../includes/tsql-md.md)] sono più adatte per logica intensiva di accesso ai dati.</span><span class="sxs-lookup"><span data-stu-id="132de-122">[!INCLUDE[tsql](../../includes/tsql-md.md)] functions are better suited for data-access intensive logic.</span></span>  
  
-   <span data-ttu-id="132de-123">Consentono di ridurre il traffico di rete.</span><span class="sxs-lookup"><span data-stu-id="132de-123">They can reduce network traffic.</span></span>  
  
     <span data-ttu-id="132de-124">È possibile esprimere in una funzione un'operazione che filtra i dati sulla base di un vincolo complesso che non è possibile esprimere in una singola espressione scalare.</span><span class="sxs-lookup"><span data-stu-id="132de-124">An operation that filters data based on some complex constraint that cannot be expressed in a single scalar expression can be expressed as a function.</span></span> <span data-ttu-id="132de-125">È quindi possibile richiamare la funzione nella clausola WHERE per ridurre il numero delle righe inviate al client.</span><span class="sxs-lookup"><span data-stu-id="132de-125">The function can then invoked in the WHERE clause to reduce the number or rows sent to the client.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="132de-126">Le funzioni [!INCLUDE[tsql](../../includes/tsql-md.md)] definite dall'utente nelle query possono essere eseguite solo su un solo thread (piano di esecuzione seriale).</span><span class="sxs-lookup"><span data-stu-id="132de-126">[!INCLUDE[tsql](../../includes/tsql-md.md)] user-defined functions in queries can only be executed on a single thread (serial execution plan).</span></span>  
  
##  <a name="types-of-functions"></a><a name="FunctionTypes"></a><span data-ttu-id="132de-127">Tipi di funzioni</span><span class="sxs-lookup"><span data-stu-id="132de-127">Types of Functions</span></span>  
 <span data-ttu-id="132de-128">Funzioni scalari</span><span class="sxs-lookup"><span data-stu-id="132de-128">Scalar Function</span></span>  
 <span data-ttu-id="132de-129">Le funzioni scalari definite dall'utente restituiscono un singolo valore di dati del tipo definito nella clausola RETURNS.</span><span class="sxs-lookup"><span data-stu-id="132de-129">User-defined scalar functions return a single data value of the type defined in the RETURNS clause.</span></span> <span data-ttu-id="132de-130">Per una funzione scalare inline, non è disponibile alcun corpo della funzione. Il valore scalare corrisponde al risultato di una singola istruzione.</span><span class="sxs-lookup"><span data-stu-id="132de-130">For an inline scalar function, there is no function body; the scalar value is the result of a single statement.</span></span> <span data-ttu-id="132de-131">Per una funzione scalare con istruzioni multiple, il corpo della funzione, definito in un blocco BEGIN...END, include una serie di istruzioni [!INCLUDE[tsql](../../includes/tsql-md.md)] che restituiscono un solo valore.</span><span class="sxs-lookup"><span data-stu-id="132de-131">For a multistatement scalar function, the function body, defined in a BEGIN...END block, contains a series of [!INCLUDE[tsql](../../includes/tsql-md.md)] statements that return the single value.</span></span> <span data-ttu-id="132de-132">Il tipo restituito può essere qualsiasi tipo di dati ad eccezione di `text`, `ntext`, `image`, `cursor` e `timestamp`.</span><span class="sxs-lookup"><span data-stu-id="132de-132">The return type can be any data type except `text`, `ntext`, `image`, `cursor`, and `timestamp`.</span></span>  
  
 <span data-ttu-id="132de-133">Funzione con valori di tabella</span><span class="sxs-lookup"><span data-stu-id="132de-133">Table-Valued Functions</span></span>  
 <span data-ttu-id="132de-134">Le funzioni con valori di tabella definite dall'utente restituiscono un tipo di dati `table`.</span><span class="sxs-lookup"><span data-stu-id="132de-134">User-defined table-valued functions return a `table` data type.</span></span> <span data-ttu-id="132de-135">Per una funzione inline con valori di tabella non è disponibile alcun corpo della funzione. La tabella corrisponde al set di risultati di una singola istruzione SELECT.</span><span class="sxs-lookup"><span data-stu-id="132de-135">For an inline table-valued function, there is no function body; the table is the result set of a single SELECT statement.</span></span>  
  
 <span data-ttu-id="132de-136">Funzioni di sistema</span><span class="sxs-lookup"><span data-stu-id="132de-136">System Functions</span></span>  
 <span data-ttu-id="132de-137">In [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] sono disponibili molte funzioni di sistema che è possibile utilizzare per eseguire diverse operazioni.</span><span class="sxs-lookup"><span data-stu-id="132de-137">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] provides many system functions that you can use to perform a variety of operations.</span></span> <span data-ttu-id="132de-138">Tali funzioni non possono essere modificate.</span><span class="sxs-lookup"><span data-stu-id="132de-138">They cannot be modified.</span></span> <span data-ttu-id="132de-139">Per altre informazioni, vedere [Funzioni predefinite &#40;Transact-SQL&#41;](/sql/t-sql/functions/functions), [Funzioni archiviate di sistema &#40;Transact-SQL&#41;](/sql/relational-databases/system-functions/system-functions-for-transact-sql), and [Funzioni e viste a gestione dinamica &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/system-dynamic-management-views).</span><span class="sxs-lookup"><span data-stu-id="132de-139">For more information, see [Built-in Functions &#40;Transact-SQL&#41;](/sql/t-sql/functions/functions), [System Stored Functions &#40;Transact-SQL&#41;](/sql/relational-databases/system-functions/system-functions-for-transact-sql), and [Dynamic Management Views and Functions &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/system-dynamic-management-views).</span></span>  
  
##  <a name="guidelines"></a><a name="Guidelines"></a> <span data-ttu-id="132de-140">Linee guida</span><span class="sxs-lookup"><span data-stu-id="132de-140">Guidelines</span></span>  
 <span data-ttu-id="132de-141">Gli errori [!INCLUDE[tsql](../../includes/tsql-md.md)] che causano l'annullamento di un'istruzione e l'esecuzione dell'istruzione successiva nel modulo (ad esempio trigger o stored procedure) vengono trattati in modo diverso all'interno di una funzione.</span><span class="sxs-lookup"><span data-stu-id="132de-141">[!INCLUDE[tsql](../../includes/tsql-md.md)] errors that cause a statement to be canceled and continue with the next statement in the module (such as triggers or stored procedures) are treated differently inside a function.</span></span> <span data-ttu-id="132de-142">Nelle funzioni tali errori arrestano l'esecuzione della funzione,</span><span class="sxs-lookup"><span data-stu-id="132de-142">In functions, such errors cause the execution of the function to stop.</span></span> <span data-ttu-id="132de-143">che a sua volta comporta l'interruzione dell'istruzione che ha richiamato la funzione.</span><span class="sxs-lookup"><span data-stu-id="132de-143">This in turn causes the statement that invoked the function to be canceled.</span></span>  
  
 <span data-ttu-id="132de-144">Le istruzioni in un blocco BEGIN...END non possono avere effetti collaterali.</span><span class="sxs-lookup"><span data-stu-id="132de-144">The statements in a BEGIN...END block cannot have any side effects.</span></span> <span data-ttu-id="132de-145">Gli effetti collaterali di una funzione sono le modifiche permanenti allo stato di una risorsa il cui ambito è al di fuori della funzione, ad esempio la modifica di una tabella di database.</span><span class="sxs-lookup"><span data-stu-id="132de-145">Function side effects are any permanent changes to the state of a resource that has a scope outside the function such as a modification to a database table.</span></span> <span data-ttu-id="132de-146">Le uniche modifiche che possono essere apportate dalle istruzioni nella funzione sono le modifiche agli oggetti locali rispetto alla funzione, ad esempio variabili o cursori locali.</span><span class="sxs-lookup"><span data-stu-id="132de-146">The only changes that can be made by the statements in the function are changes to objects local to the function, such as local cursors or variables.</span></span> <span data-ttu-id="132de-147">Modifiche a tabelle di database, operazioni su cursori che non sono locali rispetto alla funzione, invio di messaggi di posta elettronica, tentativi di modifica del catalogo e generazione di un set di risultati da restituire all'utente sono esempi di azioni che non possono essere eseguite in una funzione.</span><span class="sxs-lookup"><span data-stu-id="132de-147">Modifications to database tables, operations on cursors that are not local to the function, sending e-mail, attempting a catalog modification, and generating a result set that is returned to the user are examples of actions that cannot be performed in a function.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="132de-148">Se un'istruzione CREATE FUNCTION produce effetti collaterali su risorse che non esistono quando l'istruzione CREATE FUNCTION viene eseguita, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] esegue l'istruzione.</span><span class="sxs-lookup"><span data-stu-id="132de-148">If a CREATE FUNCTION statement produces side effects against resources that do not exist when the CREATE FUNCTION statement is issued, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] executes the statement.</span></span> <span data-ttu-id="132de-149">Tuttavia, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] non esegue la funzione quando viene richiamata.</span><span class="sxs-lookup"><span data-stu-id="132de-149">However, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] does not execute the function when it is invoked.</span></span>  
  
 <span data-ttu-id="132de-150">Il numero di volte in cui viene effettivamente eseguita una funzione specificata in una query varia in base ai piani di esecuzione compilati da Query Optimizer.</span><span class="sxs-lookup"><span data-stu-id="132de-150">The number of times that a function specified in a query is actually executed can vary between execution plans built by the optimizer.</span></span> <span data-ttu-id="132de-151">Si consideri ad esempio una funzione richiamata da una sottoquery in una clausola WHERE.</span><span class="sxs-lookup"><span data-stu-id="132de-151">An example is a function invoked by a subquery in a WHERE clause.</span></span> <span data-ttu-id="132de-152">Il numero di volte in cui la sottoquery e la relativa funzione vengono eseguite varia in base ai diversi percorsi di accesso scelti da Query Optimizer.</span><span class="sxs-lookup"><span data-stu-id="132de-152">The number of times the subquery and its function is executed can vary with different access paths chosen by the optimizer.</span></span>  
  
##  <a name="valid-statements-in-a-function"></a><a name="ValidStatements"></a><span data-ttu-id="132de-153">Istruzioni valide in una funzione</span><span class="sxs-lookup"><span data-stu-id="132de-153">Valid Statements in a Function</span></span>  
 <span data-ttu-id="132de-154">I tipi di istruzioni valide in una funzione sono i seguenti:</span><span class="sxs-lookup"><span data-stu-id="132de-154">The types of statements that are valid in a function include:</span></span>  
  
-   <span data-ttu-id="132de-155">Istruzioni DECLARE che definiscono variabili di dati e cursori locali rispetto alla funzione.</span><span class="sxs-lookup"><span data-stu-id="132de-155">DECLARE statements can be used to define data variables and cursors that are local to the function.</span></span>  
  
-   <span data-ttu-id="132de-156">Assegnazioni di valori a oggetti locali rispetto alla funzione, ad esempio utilizzando SET per assegnare valori a variabili locali scalari e di tabella.</span><span class="sxs-lookup"><span data-stu-id="132de-156">Assignments of values to objects local to the function, such as using SET to assign values to scalar and table local variables.</span></span>  
  
-   <span data-ttu-id="132de-157">Operazioni su cursori che fanno riferimento a cursori locali dichiarati, aperti, chiusi e deallocati nella funzione.</span><span class="sxs-lookup"><span data-stu-id="132de-157">Cursor operations that reference local cursors that are declared, opened, closed, and deallocated in the function.</span></span> <span data-ttu-id="132de-158">Non sono consentite istruzioni FETCH che restituiscono dati al client.</span><span class="sxs-lookup"><span data-stu-id="132de-158">FETCH statements that return data to the client are not allowed.</span></span> <span data-ttu-id="132de-159">Sono consentite solo istruzioni FETCH che assegnano valori a variabili locali mediante la clausola INTO.</span><span class="sxs-lookup"><span data-stu-id="132de-159">Only FETCH statements that assign values to local variables using the INTO clause are allowed.</span></span>  
  
-   <span data-ttu-id="132de-160">Istruzioni per il controllo di flusso, ad eccezione delle istruzioni TRY...CATCH.</span><span class="sxs-lookup"><span data-stu-id="132de-160">Control-of-flow statements except TRY...CATCH statements.</span></span>  
  
-   <span data-ttu-id="132de-161">Istruzioni SELECT che includono elenchi di selezione con espressioni che assegnano valori a variabili locali rispetto alla funzione.</span><span class="sxs-lookup"><span data-stu-id="132de-161">SELECT statements containing select lists with expressions that assign values to variables that are local to the function.</span></span>  
  
-   <span data-ttu-id="132de-162">Istruzioni INSERT, UPDATE e DELETE che modificano le variabili di tabella locali rispetto alla funzione.</span><span class="sxs-lookup"><span data-stu-id="132de-162">UPDATE, INSERT, and DELETE statements modifying table variables that are local to the function.</span></span>  
  
-   <span data-ttu-id="132de-163">Istruzioni EXECUTE che chiamano stored procedure estese.</span><span class="sxs-lookup"><span data-stu-id="132de-163">EXECUTE statements calling an extended stored procedure.</span></span>  
  
### <a name="built-in-system-functions"></a><span data-ttu-id="132de-164">Funzioni di sistema predefinite</span><span class="sxs-lookup"><span data-stu-id="132de-164">Built-in System Functions</span></span>  
 <span data-ttu-id="132de-165">Le funzioni predefinite non deterministiche seguenti possono essere utilizzate nelle funzioni Transact-SQL definite dall'utente.</span><span class="sxs-lookup"><span data-stu-id="132de-165">The following nondeterministic built-in functions can be used in Transact-SQL user-defined functions.</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="132de-166">CURRENT_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="132de-166">CURRENT_TIMESTAMP</span></span>|<span data-ttu-id="132de-167">@@MAX_CONNECTIONS</span><span class="sxs-lookup"><span data-stu-id="132de-167">@@MAX_CONNECTIONS</span></span>|  
|<span data-ttu-id="132de-168">GET_TRANSMISSION_STATUS</span><span class="sxs-lookup"><span data-stu-id="132de-168">GET_TRANSMISSION_STATUS</span></span>|<span data-ttu-id="132de-169">@@PACK_RECEIVED</span><span class="sxs-lookup"><span data-stu-id="132de-169">@@PACK_RECEIVED</span></span>|  
|<span data-ttu-id="132de-170">GETDATE</span><span class="sxs-lookup"><span data-stu-id="132de-170">GETDATE</span></span>|<span data-ttu-id="132de-171">@@PACK_SENT</span><span class="sxs-lookup"><span data-stu-id="132de-171">@@PACK_SENT</span></span>|  
|<span data-ttu-id="132de-172">GETUTCDATE</span><span class="sxs-lookup"><span data-stu-id="132de-172">GETUTCDATE</span></span>|<span data-ttu-id="132de-173">@@PACKET_ERRORS</span><span class="sxs-lookup"><span data-stu-id="132de-173">@@PACKET_ERRORS</span></span>|  
|<span data-ttu-id="132de-174">@@CONNECTIONS</span><span class="sxs-lookup"><span data-stu-id="132de-174">@@CONNECTIONS</span></span>|<span data-ttu-id="132de-175">@@TIMETICKS</span><span class="sxs-lookup"><span data-stu-id="132de-175">@@TIMETICKS</span></span>|  
|<span data-ttu-id="132de-176">@@CPU_BUSY</span><span class="sxs-lookup"><span data-stu-id="132de-176">@@CPU_BUSY</span></span>|<span data-ttu-id="132de-177">@@TOTAL_ERRORS</span><span class="sxs-lookup"><span data-stu-id="132de-177">@@TOTAL_ERRORS</span></span>|  
|<span data-ttu-id="132de-178">@@DBTS</span><span class="sxs-lookup"><span data-stu-id="132de-178">@@DBTS</span></span>|<span data-ttu-id="132de-179">@@TOTAL_READ</span><span class="sxs-lookup"><span data-stu-id="132de-179">@@TOTAL_READ</span></span>|  
|<span data-ttu-id="132de-180">@@IDLE</span><span class="sxs-lookup"><span data-stu-id="132de-180">@@IDLE</span></span>|<span data-ttu-id="132de-181">@@TOTAL_WRITE</span><span class="sxs-lookup"><span data-stu-id="132de-181">@@TOTAL_WRITE</span></span>|  
|<span data-ttu-id="132de-182">@@IO_BUSY</span><span class="sxs-lookup"><span data-stu-id="132de-182">@@IO_BUSY</span></span>||  
  
 <span data-ttu-id="132de-183">Le funzioni predefinite non deterministiche seguenti non possono essere utilizzate nelle funzioni Transact-SQL definite dall'utente.</span><span class="sxs-lookup"><span data-stu-id="132de-183">The following nondeterministic built-in functions cannot be used in Transact-SQL user-defined functions.</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="132de-184">NEWID</span><span class="sxs-lookup"><span data-stu-id="132de-184">NEWID</span></span>|<span data-ttu-id="132de-185">RAND</span><span class="sxs-lookup"><span data-stu-id="132de-185">RAND</span></span>|  
|<span data-ttu-id="132de-186">NEWSEQUENTIALID</span><span class="sxs-lookup"><span data-stu-id="132de-186">NEWSEQUENTIALID</span></span>|<span data-ttu-id="132de-187">TEXTPTR</span><span class="sxs-lookup"><span data-stu-id="132de-187">TEXTPTR</span></span>|  
  
 <span data-ttu-id="132de-188">Per un elenco delle funzioni di sistema predefinite deterministiche e non deterministiche, vedere [Funzioni deterministiche e non deterministiche](../user-defined-functions/deterministic-and-nondeterministic-functions.md).</span><span class="sxs-lookup"><span data-stu-id="132de-188">For a list of deterministic and nondeterministic built-in system functions, see [Deterministic and Nondeterministic Functions](../user-defined-functions/deterministic-and-nondeterministic-functions.md).</span></span>  
  
##  <a name="schema-bound-functions"></a><a name="SchemaBound"></a><span data-ttu-id="132de-189">Funzioni con associazione a schema</span><span class="sxs-lookup"><span data-stu-id="132de-189">Schema-Bound Functions</span></span>  
 <span data-ttu-id="132de-190">L'istruzione CREATE FUNCTION supporta la clausola SCHEMABINDING che associa la funzione allo schema degli oggetti a cui fa riferimento, ad esempio tabelle, viste e altre funzioni definite dall'utente.</span><span class="sxs-lookup"><span data-stu-id="132de-190">CREATE FUNCTION supports a SCHEMABINDING clause that binds the function to the schema of any objects it references, such as tables, views, and other user-defined functions.</span></span> <span data-ttu-id="132de-191">I tentativi di modifica o eliminazione degli oggetti a cui fa riferimento una funzione associata a schema hanno esito negativo.</span><span class="sxs-lookup"><span data-stu-id="132de-191">An attempt to alter or drop any object referenced by a schema-bound function fails.</span></span>  
  
 <span data-ttu-id="132de-192">Per includere la clausola SCHEMABINDING in un'istruzione CREATE FUNCTION devono essere soddisfatte le condizioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="132de-192">These conditions must be met before you can specify SCHEMABINDING in CREATE FUNCTION:</span></span>  
  
-   <span data-ttu-id="132de-193">Tutte le viste e le funzioni definite dall'utente a cui la funzione fa riferimento devono essere associate a uno schema.</span><span class="sxs-lookup"><span data-stu-id="132de-193">All views and user-defined functions referenced by the function must be schema-bound.</span></span>  
  
-   <span data-ttu-id="132de-194">Tutti gli oggetti a cui fa riferimento la funzione devono essere inclusi nello stesso database in cui si trova la funzione.</span><span class="sxs-lookup"><span data-stu-id="132de-194">All objects referenced by the function must be in the same database as the function.</span></span> <span data-ttu-id="132de-195">Per fare riferimento agli oggetti utilizzare nomi in una parte o in due parti.</span><span class="sxs-lookup"><span data-stu-id="132de-195">The objects must be referenced using either one-part or two-part names.</span></span>  
  
-   <span data-ttu-id="132de-196">È necessario disporre di autorizzazione REFERENCES per tutti gli oggetti (tabelle, viste e funzioni definite dall'utente) a cui la funzione fa riferimento.</span><span class="sxs-lookup"><span data-stu-id="132de-196">You must have REFERENCES permission on all objects (tables, views, and user-defined functions) referenced in the function.</span></span>  
  
 <span data-ttu-id="132de-197">È possibile utilizzare l'istruzione ALTER FUNCTION per eliminare l'associazione allo schema.</span><span class="sxs-lookup"><span data-stu-id="132de-197">You can use ALTER FUNCTION to remove the schema binding.</span></span> <span data-ttu-id="132de-198">L'istruzione ALTER FUNCTION deve ridefinire la funzione senza specificare WITH SCHEMABINDING.</span><span class="sxs-lookup"><span data-stu-id="132de-198">The ALTER FUNCTION statement should redefine the function without specifying WITH SCHEMABINDING.</span></span>  
  
##  <a name="specifying-parameters"></a><a name="Parameters"></a><span data-ttu-id="132de-199">Specifica di parametri</span><span class="sxs-lookup"><span data-stu-id="132de-199">Specifying Parameters</span></span>  
 <span data-ttu-id="132de-200">Le funzioni definite dall'utente accettano zero o più parametri di input e restituiscono tabelle o valori scalari.</span><span class="sxs-lookup"><span data-stu-id="132de-200">A user-defined function takes zero or more input parameters and returns either a scalar value or a table.</span></span> <span data-ttu-id="132de-201">Una funzione può avere al massimo 1024 parametri di input.</span><span class="sxs-lookup"><span data-stu-id="132de-201">A function can have a maximum of 1024 input parameters.</span></span> <span data-ttu-id="132de-202">Quando a un parametro della funzione è associato un valore predefinito, quando si chiama la funzione è necessario specificare la parola chiave DEFAULT per ottenere il valore predefinito.</span><span class="sxs-lookup"><span data-stu-id="132de-202">When a parameter of the function has a default value, the keyword DEFAULT must be specified when calling the function to get the default value.</span></span> <span data-ttu-id="132de-203">Questa funzionalità risulta diversa per i parametri con valore predefinito nelle stored procedure definite dall'utente in cui l'omissione del parametro implica l'utilizzo del valore predefinito.</span><span class="sxs-lookup"><span data-stu-id="132de-203">This behavior is different from parameters with default values in user-defined stored procedures in which omitting the parameter also implies the default value.</span></span> <span data-ttu-id="132de-204">Le funzioni definite dall'utente non supportano parametri di output.</span><span class="sxs-lookup"><span data-stu-id="132de-204">User-defined functions do not support output parameters.</span></span>  
  
##  <a name="related-tasks"></a><a name="Tasks"></a> <span data-ttu-id="132de-205">Attività correlate</span><span class="sxs-lookup"><span data-stu-id="132de-205">Related Tasks</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="132de-206">**Descrizione dell'attività**</span><span class="sxs-lookup"><span data-stu-id="132de-206">**Task Description**</span></span>|<span data-ttu-id="132de-207">**Argomento**</span><span class="sxs-lookup"><span data-stu-id="132de-207">**Topic**</span></span>|  
|<span data-ttu-id="132de-208">Viene descritto come creare una funzione Transact-SQL definita dall'utente.</span><span class="sxs-lookup"><span data-stu-id="132de-208">Describes how to create a Transact-SQL user-defined function.</span></span>|[<span data-ttu-id="132de-209">Creare funzioni definite dall'utente &#40;motore di database&#41;</span><span class="sxs-lookup"><span data-stu-id="132de-209">Create User-defined Functions &#40;Database Engine&#41;</span></span>](../user-defined-functions/create-user-defined-functions-database-engine.md)|  
|<span data-ttu-id="132de-210">Viene descritto come creare una funzione CLR.</span><span class="sxs-lookup"><span data-stu-id="132de-210">Describes how create a CLR function.</span></span>|[<span data-ttu-id="132de-211">Creare funzioni CLR</span><span class="sxs-lookup"><span data-stu-id="132de-211">Create CLR Functions</span></span>](../user-defined-functions/create-clr-functions.md)|  
|<span data-ttu-id="132de-212">Viene descritto come creare una funzione di aggregazione definita dall'utente.</span><span class="sxs-lookup"><span data-stu-id="132de-212">Describes how to create a user-defined aggregate function</span></span>|[<span data-ttu-id="132de-213">Creazione di funzioni di aggregazione definite dall'utente</span><span class="sxs-lookup"><span data-stu-id="132de-213">Create User-defined Aggregates</span></span>](../user-defined-functions/create-user-defined-aggregates.md)|  
|<span data-ttu-id="132de-214">Viene descritto come modificare una funzione Transact-SQL definita dall'utente.</span><span class="sxs-lookup"><span data-stu-id="132de-214">Describes how to modify a Transact-SQL user-defined function.</span></span>|[<span data-ttu-id="132de-215">Modificare funzioni definite dall'utente</span><span class="sxs-lookup"><span data-stu-id="132de-215">Modify User-defined Functions</span></span>](../user-defined-functions/user-defined-functions.md)|  
|<span data-ttu-id="132de-216">Viene descritto come eliminare una funzione definita dall'utente.</span><span class="sxs-lookup"><span data-stu-id="132de-216">Describes how to delete a user-defined function.</span></span>|[<span data-ttu-id="132de-217">Eliminare funzioni definite dall'utente</span><span class="sxs-lookup"><span data-stu-id="132de-217">Delete User-defined Functions</span></span>](../user-defined-functions/delete-user-defined-functions.md)|  
|<span data-ttu-id="132de-218">Viene descritto come eseguire una funzione definita dall'utente.</span><span class="sxs-lookup"><span data-stu-id="132de-218">Describes how to execute a user-defined function.</span></span>|[<span data-ttu-id="132de-219">Eseguire funzioni definite dall'utente</span><span class="sxs-lookup"><span data-stu-id="132de-219">Execute User-defined Functions</span></span>](../user-defined-functions/execute-user-defined-functions.md)|  
|<span data-ttu-id="132de-220">Viene descritto come rinominare una funzione definita dall'utente.</span><span class="sxs-lookup"><span data-stu-id="132de-220">Describes how to rename a user-defined function</span></span>|[<span data-ttu-id="132de-221">Ridenominare funzioni definite dall'utente</span><span class="sxs-lookup"><span data-stu-id="132de-221">Rename User-defined Functions</span></span>](../user-defined-functions/rename-user-defined-functions.md)|  
|<span data-ttu-id="132de-222">Viene descritto come visualizzare la definizione di una funzione definita dall'utente.</span><span class="sxs-lookup"><span data-stu-id="132de-222">Describes how to view the definition of a user-defined function.</span></span>|[<span data-ttu-id="132de-223">Visualizzare le funzioni definite dall'utente</span><span class="sxs-lookup"><span data-stu-id="132de-223">View User-defined Functions</span></span>](view-user-defined-functions.md)|  
  
  
