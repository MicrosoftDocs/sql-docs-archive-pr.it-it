---
title: Sicurezza dall'accesso di codice per l'integrazione con CLR | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: clr
ms.topic: reference
helpviewer_keywords:
- UNSAFE assemblies
- permissions [CLR integration]
- common language runtime [SQL Server], security
- SAFE assemblies
- code access security [CLR integration]
- EXTERNAL_ACCESS assemblies
ms.assetid: 2111cfe0-d5e0-43b1-93c3-e994ac0e9729
author: rothja
ms.author: jroth
ms.openlocfilehash: 75b283da2760b39349351802a83caae04e546c06
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87627286"
---
# <a name="clr-integration-code-access-security"></a><span data-ttu-id="618fc-102">Sicurezza da accesso di codice dell'integrazione con CLR</span><span class="sxs-lookup"><span data-stu-id="618fc-102">CLR Integration Code Access Security</span></span>
  <span data-ttu-id="618fc-103">Common Language Runtime (CLR) supporta un modello di sicurezza definito sicurezza dall'accesso di codice per il codice gestito</span><span class="sxs-lookup"><span data-stu-id="618fc-103">The common language runtime (CLR) supports a security model called code access security for managed code.</span></span> <span data-ttu-id="618fc-104">che prevede che le autorizzazioni vengano concesse agli assembly in base all'identità del codice.</span><span class="sxs-lookup"><span data-stu-id="618fc-104">In this model, permissions are granted to assemblies based on the identity of the code.</span></span> <span data-ttu-id="618fc-105">Per ulteriori informazioni, vedere la sezione relativa alla sicurezza da accesso di codice in .NET Framework SDK (Software Development Kit).</span><span class="sxs-lookup"><span data-stu-id="618fc-105">For more information, see the "Code Access Security" section in the .NET Framework software development kit.</span></span>  
  
 <span data-ttu-id="618fc-106">I criteri di sicurezza che determinano le autorizzazioni concesse agli assembly vengono definiti in tre punti diversi:</span><span class="sxs-lookup"><span data-stu-id="618fc-106">The security policy that determines the permissions granted to assemblies is defined in three different places:</span></span>  
  
-   <span data-ttu-id="618fc-107">Criteri del computer: criteri attivi per tutto il codice gestito in esecuzione sul computer nel quale viene installato [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="618fc-107">Machine policy: This is the policy in effect for all managed code running in the machine on which [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] is installed.</span></span>  
  
-   <span data-ttu-id="618fc-108">Criteri utente: criteri attivi per il codice gestito ospitato da un processo.</span><span class="sxs-lookup"><span data-stu-id="618fc-108">User policy: This is the policy in effect for managed code hosted by a process.</span></span> <span data-ttu-id="618fc-109">Per il [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] servizio è in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="618fc-109">For [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] service is running.</span></span>  
  
-   <span data-ttu-id="618fc-110">Criteri host: criteri impostati dall'host di CLR (in questo caso, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]), attivi per il codice gestito in esecuzione su quell'host.</span><span class="sxs-lookup"><span data-stu-id="618fc-110">Host policy: This is the policy set up by the host of the CLR (in this case, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]) that is in effect for managed code running in that host.</span></span>  
  
 <span data-ttu-id="618fc-111">Il meccanismo di sicurezza da accesso di codice supportato da CLR si basa sul presupposto che il runtime possa ospitare codice completamente o parzialmente attendibile.</span><span class="sxs-lookup"><span data-stu-id="618fc-111">The code access security mechanism supported by the CLR is based on the assumption that the runtime can host both fully trusted and partially trusted code.</span></span> <span data-ttu-id="618fc-112">Le risorse protette dalla sicurezza dall'accesso di codice CLR vengono in genere incapsulate da interfacce di programmazione dell'applicazione gestite che requirethe l'autorizzazione corrispondente prima di consentire l'accesso alla risorsa.</span><span class="sxs-lookup"><span data-stu-id="618fc-112">The resources that are protected by CLR code access security are typically wrapped by managed application programming interfaces that requirethe corresponding permission before allowing access to the resource.</span></span> <span data-ttu-id="618fc-113">Demandfor l'autorizzazione viene soddisfatta solo se tutti i chiamanti (a livello di assembly) nello stack di chiamate dispongono dell'autorizzazione corrispondente per la risorsa.</span><span class="sxs-lookup"><span data-stu-id="618fc-113">The demandfor the permission is satisfied only if all the callers (at the assembly level) in the call stack have the corresponding resource permission.</span></span>  
  
 <span data-ttu-id="618fc-114">Il set di autorizzazioni di sicurezza per l'accesso di codice che viene concesso al codice gestito durante l'esecuzione all'interno di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] concede un set di autorizzazioni a un assembly caricato in [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , il set di autorizzazioni finale fornito al codice utente può essere ulteriormente limitato dai criteri a livello di utente e computer.</span><span class="sxs-lookup"><span data-stu-id="618fc-114">The set of code access security permissions that are granted to managed code when running inside [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] grants a set of permissions to an assembly loaded in [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], the eventual set of permissions given to user code may be restricted further by the user and machine-level policies.</span></span>  
  
## <a name="sql-server-host-policy-level-permission-sets"></a><span data-ttu-id="618fc-115">Set di autorizzazioni a livello di criteri host di SQL Server</span><span class="sxs-lookup"><span data-stu-id="618fc-115">SQL Server Host Policy Level Permission Sets</span></span>  
 <span data-ttu-id="618fc-116">Il set di autorizzazioni della sicurezza da accesso di codice concesso agli assembly al livello di criteri host di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] è determinato dal set di autorizzazioni specificato durante la creazione dell'assembly.</span><span class="sxs-lookup"><span data-stu-id="618fc-116">The set of code access security permissions granted to assemblies by the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] host policy level is determined by the permission set specified when creating the assembly.</span></span> <span data-ttu-id="618fc-117">Sono disponibili tre set di autorizzazioni: `SAFE` , `EXTERNAL_ACCESS` e `UNSAFE` (specificato utilizzando l'opzione **PERMISSION_SET** di[create assembly &#40;&#41;Transact-SQL ](/sql/t-sql/statements/create-assembly-transact-sql)).</span><span class="sxs-lookup"><span data-stu-id="618fc-117">There are three permission sets: `SAFE`, `EXTERNAL_ACCESS` and `UNSAFE` (specified using the **PERMISSION_SET** option of[CREATE ASSEMBLY &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-assembly-transact-sql)).</span></span>  
  
 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]<span data-ttu-id="618fc-118">.</span><span class="sxs-lookup"><span data-stu-id="618fc-118">.</span></span> <span data-ttu-id="618fc-119">Non è indicato per il dominio applicazione predefinito che sarebbe attivo quando [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] crea un'istanza di CLR.</span><span class="sxs-lookup"><span data-stu-id="618fc-119">This policy is not meant for the default application domain that would be in effect when [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] creates an instance of the CLR.</span></span>  
  
 <span data-ttu-id="618fc-120">Fixedpolicy per gli assembly di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] sistema e i criteri specificati dall'utente per gli assembly utente.</span><span class="sxs-lookup"><span data-stu-id="618fc-120">The [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] fixedpolicy for system assemblies and user-specified policy for user assemblies.</span></span>  
  
 <span data-ttu-id="618fc-121">I criteri fissi per gli assembly CLR e gli assembly di sistema di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] concedono loro l'attendibilità totale.</span><span class="sxs-lookup"><span data-stu-id="618fc-121">The fixed policy for CLR assemblies and [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] system assemblies grants them full trust.</span></span>  
  
 <span data-ttu-id="618fc-122">La parte dei criteri host di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] specificata dall'utente è basata su uno dei tre bucket di autorizzazione specificati per ogni assembly dal relativo proprietario.</span><span class="sxs-lookup"><span data-stu-id="618fc-122">The user-specified portion of the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] host policy is based on the assembly owner specifying one of three permission buckets for each assembly.</span></span> <span data-ttu-id="618fc-123">Per ulteriori informazioni sulle autorizzazioni di sicurezza elencate in basso, vedere .NET Framework SDK.</span><span class="sxs-lookup"><span data-stu-id="618fc-123">For more information about the security permissions listed below, see the .NET Framework SDK.</span></span>  
  
### <a name="safe"></a><span data-ttu-id="618fc-124">SAFE</span><span class="sxs-lookup"><span data-stu-id="618fc-124">SAFE</span></span>  
 <span data-ttu-id="618fc-125">È consentito solo il calcolo interno e l'accesso locale ai dati.</span><span class="sxs-lookup"><span data-stu-id="618fc-125">Only internal computation and local data access are allowed.</span></span> <span data-ttu-id="618fc-126">`SAFE` è il set di autorizzazioni più restrittivo.</span><span class="sxs-lookup"><span data-stu-id="618fc-126">`SAFE` is the most restrictive permission set.</span></span> <span data-ttu-id="618fc-127">Il codice eseguito da un assembly con autorizzazioni `SAFE` non può accedere a risorse di sistema esterne come file, la rete, variabili di ambiente o il Registro di sistema.</span><span class="sxs-lookup"><span data-stu-id="618fc-127">Code executed by an assembly with `SAFE` permissions cannot access external system resources such as files, the network, environment variables, or the registry.</span></span>  
  
 <span data-ttu-id="618fc-128">Gli assembly `SAFE` dispongono delle autorizzazioni e dei valori seguenti:</span><span class="sxs-lookup"><span data-stu-id="618fc-128">`SAFE` assemblies have the following permissions and values:</span></span>  
  
|<span data-ttu-id="618fc-129">Autorizzazione</span><span class="sxs-lookup"><span data-stu-id="618fc-129">Permission</span></span>|<span data-ttu-id="618fc-130">Valori/Descrizione</span><span class="sxs-lookup"><span data-stu-id="618fc-130">Value(s)/Description</span></span>|  
|----------------|-----------------------------|  
|`SecurityPermission`|<span data-ttu-id="618fc-131">`Execution:` autorizzazione a eseguire il codice gestito.</span><span class="sxs-lookup"><span data-stu-id="618fc-131">`Execution:` Permission to execute managed code.</span></span>|  
|`SqlClientPermission`|<span data-ttu-id="618fc-132">`Context connection = true`, `context connection = yes`: è possibile utilizzare solo la connessione di contesto e la stringa di connessione può specificare solo un valore "context connection=true" o "context connection=yes".</span><span class="sxs-lookup"><span data-stu-id="618fc-132">`Context connection = true`, `context connection = yes`: Only the context-connection can be used and the connection string can only specify a value of "context connection=true" or "context connection=yes".</span></span><br /><br /> <span data-ttu-id="618fc-133">**AllowBlankPassword = false:**  Non sono consentite password vuote.</span><span class="sxs-lookup"><span data-stu-id="618fc-133">**AllowBlankPassword = false:**  Blank passwords are not permitted.</span></span>|  
  
### <a name="external_access"></a><span data-ttu-id="618fc-134">EXTERNAL_ACCESS</span><span class="sxs-lookup"><span data-stu-id="618fc-134">EXTERNAL_ACCESS</span></span>  
 <span data-ttu-id="618fc-135">Gli assembly EXTERNAL_ACCESS hanno le stesse autorizzazioni degli `SAFE` assembly, con la possibilità aggiuntiva di accedere a risorse di sistema esterne, ad esempio file, reti, variabili di ambiente e il registro di sistema.</span><span class="sxs-lookup"><span data-stu-id="618fc-135">EXTERNAL_ACCESS assemblies have the same permissions as `SAFE` assemblies, with the additional ability to access external system resources such as files, networks, environmental variables, and the registry.</span></span>  
  
 <span data-ttu-id="618fc-136">Gli assembly `EXTERNAL_ACCESS` dispongono anche delle autorizzazioni e dei valori seguenti:</span><span class="sxs-lookup"><span data-stu-id="618fc-136">`EXTERNAL_ACCESS` assemblies also have the following permissions and values:</span></span>  
  
|<span data-ttu-id="618fc-137">Autorizzazione</span><span class="sxs-lookup"><span data-stu-id="618fc-137">Permission</span></span>|<span data-ttu-id="618fc-138">Valori/Descrizione</span><span class="sxs-lookup"><span data-stu-id="618fc-138">Value(s)/Description</span></span>|  
|----------------|-----------------------------|  
|`DistributedTransactionPermission`|<span data-ttu-id="618fc-139">`Unrestricted:`Sono consentite transazioni distribuite.</span><span class="sxs-lookup"><span data-stu-id="618fc-139">`Unrestricted:` Distributed transactions are allowed.</span></span>|  
|`DNSPermission`|<span data-ttu-id="618fc-140">`Unrestricted:`Autorizzazione per richiedere informazioni ai server dei nomi di dominio.</span><span class="sxs-lookup"><span data-stu-id="618fc-140">`Unrestricted:` Permission to request information from Domain Name Servers.</span></span>|  
|`EnvironmentPermission`|<span data-ttu-id="618fc-141">`Unrestricted:` l'accesso completo alle variabili di sistema e di ambiente dell'utente è consentito.</span><span class="sxs-lookup"><span data-stu-id="618fc-141">`Unrestricted:` Full access to system and user environment variables is allowed.</span></span>|  
|`EventLogPermission`|<span data-ttu-id="618fc-142">`Administer:` consente di eseguire diverse operazioni. Esse sono: creare un'origine eventi, leggere i log esistenti, eliminare i log o le origini eventi, rispondere alle immissioni, cancellare un log eventi, mettersi in attesa di eventi e accedere a una raccolta di tutti i log eventi.</span><span class="sxs-lookup"><span data-stu-id="618fc-142">`Administer:` The following actions are allowed: creating an event source, reading existing logs, deleting event sources or logs, responding to entries, clearing an event log, listening to events, and accessing a collection of all event logs.</span></span>|  
|`FileIOPermission`|<span data-ttu-id="618fc-143">`Unrestricted:` l'accesso completo a file e cartelle è consentito.</span><span class="sxs-lookup"><span data-stu-id="618fc-143">`Unrestricted:` Full access to files and folders is allowed.</span></span>|  
|`KeyContainerPermission`|<span data-ttu-id="618fc-144">`Unrestricted:` l'accesso completo ai contenitori di chiavi è consentito.</span><span class="sxs-lookup"><span data-stu-id="618fc-144">`Unrestricted:` Full access to key containers is allowed.</span></span>|  
|`NetworkInformationPermission`|<span data-ttu-id="618fc-145">`Access:` l'esecuzione del ping è consentita.</span><span class="sxs-lookup"><span data-stu-id="618fc-145">`Access:` Pinging is permitted.</span></span>|  
|`RegistryPermission`|<span data-ttu-id="618fc-146">Concede diritti di lettura a `HKEY_CLASSES_ROOT`, `HKEY_LOCAL_MACHINE`, `HKEY_CURRENT_USER`, `HKEY_CURRENT_CONFIG` e `HKEY_USERS.`</span><span class="sxs-lookup"><span data-stu-id="618fc-146">Allows read rights to `HKEY_CLASSES_ROOT`, `HKEY_LOCAL_MACHINE`, `HKEY_CURRENT_USER`, `HKEY_CURRENT_CONFIG`, and `HKEY_USERS.`</span></span>|  
|`SecurityPermission`|<span data-ttu-id="618fc-147">`Assertion:` capacità di asserire che tutti i chiamanti del codice dispongono dell'autorizzazione necessaria per l'operazione.</span><span class="sxs-lookup"><span data-stu-id="618fc-147">`Assertion:` Ability to assert that all the callers of this code have the requisite permission for the operation.</span></span><br /><br /> <span data-ttu-id="618fc-148">`ControlPrincipal:` capacità di manipolare l'oggetto Principal.</span><span class="sxs-lookup"><span data-stu-id="618fc-148">`ControlPrincipal:` Ability to manipulate the principal object.</span></span><br /><br /> <span data-ttu-id="618fc-149">`Execution:` autorizzazione a eseguire il codice gestito.</span><span class="sxs-lookup"><span data-stu-id="618fc-149">`Execution:` Permission to execute managed code.</span></span><br /><br /> <span data-ttu-id="618fc-150">`SerializationFormatter:` capacità di fornire servizi di serializzazione.</span><span class="sxs-lookup"><span data-stu-id="618fc-150">`SerializationFormatter:` Ability to provide serialization services.</span></span>|  
|<span data-ttu-id="618fc-151">**SmtpPermission**</span><span class="sxs-lookup"><span data-stu-id="618fc-151">**SmtpPermission**</span></span>|<span data-ttu-id="618fc-152">`Access:` le connessioni in uscita alla porta 25 dell'host SMTP sono consentite.</span><span class="sxs-lookup"><span data-stu-id="618fc-152">`Access:` Outbound connections to SMTP host port 25 are allowed.</span></span>|  
|`SocketPermission`|<span data-ttu-id="618fc-153">`Connect:` le connessioni in uscita (tutte le porte, tutti i protocolli) su un indirizzo di trasporto sono consentite.</span><span class="sxs-lookup"><span data-stu-id="618fc-153">`Connect:` Outbound connections (all ports, all protocols) on a transport address are allowed.</span></span>|  
|`SqlClientPermission`|<span data-ttu-id="618fc-154">`Unrestricted:` l'accesso completo all'origine dati è consentito.</span><span class="sxs-lookup"><span data-stu-id="618fc-154">`Unrestricted:` Full access to the datasource is allowed.</span></span>|  
|`StorePermission`|<span data-ttu-id="618fc-155">`Unrestricted:` l'accesso completo agli archivi certificati X.509 è consentito.</span><span class="sxs-lookup"><span data-stu-id="618fc-155">`Unrestricted:` Full access to X.509 certificate stores is allowed.</span></span>|  
|`WebPermission`|<span data-ttu-id="618fc-156">`Connect:` le connessioni in uscita a risorse Web sono consentite.</span><span class="sxs-lookup"><span data-stu-id="618fc-156">`Connect:` Outbound connections to web resources are allowed.</span></span>|  
  
### <a name="unsafe"></a><span data-ttu-id="618fc-157">UNSAFE</span><span class="sxs-lookup"><span data-stu-id="618fc-157">UNSAFE</span></span>  
 <span data-ttu-id="618fc-158">UNSAFE concede agli assembly libero accesso a risorse interne ed esterne a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="618fc-158">UNSAFE allows assemblies unrestricted access to resources, both within and outside [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="618fc-159">Il codice eseguito all'interno di un assembly `UNSAFE` può chiamare anche il codice non gestito.</span><span class="sxs-lookup"><span data-stu-id="618fc-159">Code executing from within an `UNSAFE` assembly can also call unmanaged code.</span></span>  
  
 <span data-ttu-id="618fc-160">Agli assembly `UNSAFE` viene concessa l'autorizzazione `FullTrust`.</span><span class="sxs-lookup"><span data-stu-id="618fc-160">`UNSAFE` assemblies are given `FullTrust`.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="618fc-161">`SAFE` rappresenta l'impostazione di autorizzazione consigliata per gli assembly che eseguono attività di calcolo e di gestione di dati senza accedere alle risorse all'esterno di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="618fc-161">`SAFE` is the recommended permission setting for assemblies that perform computation and data management tasks without accessing resources outside [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="618fc-162">`EXTERNAL_ACCESS`per impostazione predefinita, gli assembly [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] vengono eseguiti come account del servizio. l'autorizzazione per `EXTERNAL_ACCESS` l'esecuzione deve essere assegnata solo agli account di accesso attendibili per l'esecuzione come account del servizio.</span><span class="sxs-lookup"><span data-stu-id="618fc-162">`EXTERNAL_ACCESS` assemblies by default execute as the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] service account, permission to execute `EXTERNAL_ACCESS` should only be given to logins trusted to run as the service account.</span></span> <span data-ttu-id="618fc-163">Dal punto di vista della sicurezza, gli assembly `EXTERNAL_ACCESS` e `UNSAFE` sono identici.</span><span class="sxs-lookup"><span data-stu-id="618fc-163">From a security perspective, `EXTERNAL_ACCESS` and `UNSAFE` assemblies are identical.</span></span> <span data-ttu-id="618fc-164">Gli assembly `EXTERNAL_ACCESS` offrono tuttavia una protezione e un'affidabilità maggiore rispetto agli assembly `UNSAFE`.</span><span class="sxs-lookup"><span data-stu-id="618fc-164">However, `EXTERNAL_ACCESS` assemblies provide various reliability and robustness protections that are not in `UNSAFE` assemblies.</span></span> <span data-ttu-id="618fc-165">Se `UNSAFE` si specifica, il codice nell'assembly può eseguire operazioni non valide su [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="618fc-165">Specifying `UNSAFE` allows the code in the assembly to perform illegal operations against the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="618fc-166">Per ulteriori informazioni sulla creazione di assembly CLR in [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , vedere [gestione degli assembly di integrazione CLR](../../../relational-databases/clr-integration/assemblies/managing-clr-integration-assemblies.md).</span><span class="sxs-lookup"><span data-stu-id="618fc-166">For more information about creating CLR assemblies in [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], see [Managing CLR Integration Assemblies](../../../relational-databases/clr-integration/assemblies/managing-clr-integration-assemblies.md).</span></span>  
  
## <a name="accessing-external-resources"></a><span data-ttu-id="618fc-167">Accesso a risorse esterne</span><span class="sxs-lookup"><span data-stu-id="618fc-167">Accessing External Resources</span></span>  
 <span data-ttu-id="618fc-168">Se un tipo definito dall'utente, una stored procedure o un altro tipo di assembly del costrutto viene registrato con il set di autorizzazioni `SAFE`, il codice gestito in esecuzione nel costrutto non è in grado di accedere alle risorse esterne.</span><span class="sxs-lookup"><span data-stu-id="618fc-168">If a user-defined type (UDT), stored procedure, or other type of construct assembly is registered with the `SAFE` permission set, then managed code executing in the construct is unable to access external resources.</span></span> <span data-ttu-id="618fc-169">Se tuttavia i set di autorizzazioni `EXTERNAL_ACCESS` o `UNSAFE` vengono specificati, e il codice gestito tenta di accedere a risorse esterne, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] applica le regole seguenti:</span><span class="sxs-lookup"><span data-stu-id="618fc-169">However, if either the `EXTERNAL_ACCESS` or `UNSAFE` permission sets are specified, and managed code attempts to access external resources, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] applies the following rules:</span></span>  
  
|<span data-ttu-id="618fc-170">Se</span><span class="sxs-lookup"><span data-stu-id="618fc-170">If</span></span>|<span data-ttu-id="618fc-171">Risultato</span><span class="sxs-lookup"><span data-stu-id="618fc-171">Then</span></span>|  
|--------|----------|  
|<span data-ttu-id="618fc-172">Il contesto di esecuzione corrisponde a un account di accesso di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="618fc-172">The execution context corresponds to a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] login.</span></span>|<span data-ttu-id="618fc-173">I tentativi di accesso a risorse esterne vengono negati e viene generata un'eccezione di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="618fc-173">Attempts to access external resources are denied and a security exception is raised.</span></span>|  
|<span data-ttu-id="618fc-174">Il contesto di esecuzione corrisponde a un account di accesso di Windows e rappresenta il chiamante originale.</span><span class="sxs-lookup"><span data-stu-id="618fc-174">The execution context corresponds to a Windows login and the execution context is the original caller.</span></span>|<span data-ttu-id="618fc-175">L'accesso alla risorsa esterna viene effettuato nel contesto di sicurezza dell'account di servizio di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="618fc-175">The external resource is accessed under the security context of the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] service account.</span></span>|  
|<span data-ttu-id="618fc-176">Il chiamante non è il chiamante originale.</span><span class="sxs-lookup"><span data-stu-id="618fc-176">The caller is not the original caller.</span></span>|<span data-ttu-id="618fc-177">L'accesso viene negato e viene generata un'eccezione di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="618fc-177">Access is denied and a security exception is raised.</span></span>|  
|<span data-ttu-id="618fc-178">Il contesto di esecuzione corrisponde a un account di accesso di Windows e rappresenta il chiamante originale, mentre il chiamante è stato rappresentato.</span><span class="sxs-lookup"><span data-stu-id="618fc-178">The execution context corresponds to a Windows login and the execution context is the original caller and the caller has been impersonated.</span></span>|<span data-ttu-id="618fc-179">L'accesso verrà effettuato nel contesto di sicurezza del chiamante e non in quello dell'account del servizio.</span><span class="sxs-lookup"><span data-stu-id="618fc-179">Access uses the caller security context; not the service account.</span></span>|  
  
## <a name="permission-set-summary"></a><span data-ttu-id="618fc-180">Riepilogo dei set di autorizzazioni</span><span class="sxs-lookup"><span data-stu-id="618fc-180">Permission Set Summary</span></span>  
 <span data-ttu-id="618fc-181">Nel grafico seguente sono riepilogate le restrizioni e le autorizzazioni concesse ai set di autorizzazioni `SAFE`, `EXTERNAL_ACCESS` e `UNSAFE`.</span><span class="sxs-lookup"><span data-stu-id="618fc-181">The following chart summarizes the restrictions and permissions granted to the `SAFE`, `EXTERNAL_ACCESS`, and `UNSAFE` permission sets.</span></span>  
  
|||||  
|-|-|-|-|  
||`SAFE`|`EXTERNAL_ACCESS`|`UNSAFE`|  
|`Code Access Security Permissions`|<span data-ttu-id="618fc-182">Sola esecuzione</span><span class="sxs-lookup"><span data-stu-id="618fc-182">Execute only</span></span>|<span data-ttu-id="618fc-183">Esecuzione più accesso a risorse esterne</span><span class="sxs-lookup"><span data-stu-id="618fc-183">Execute + access to external resources</span></span>|<span data-ttu-id="618fc-184">Senza restrizioni (incluso P/Invoke)</span><span class="sxs-lookup"><span data-stu-id="618fc-184">Unrestricted (including P/Invoke)</span></span>|  
|`Programming model restrictions`|<span data-ttu-id="618fc-185">Sì</span><span class="sxs-lookup"><span data-stu-id="618fc-185">Yes</span></span>|<span data-ttu-id="618fc-186">Sì</span><span class="sxs-lookup"><span data-stu-id="618fc-186">Yes</span></span>|<span data-ttu-id="618fc-187">Nessuna restrizione</span><span class="sxs-lookup"><span data-stu-id="618fc-187">No restrictions</span></span>|  
|`Verifiability requirement`|<span data-ttu-id="618fc-188">Sì</span><span class="sxs-lookup"><span data-stu-id="618fc-188">Yes</span></span>|<span data-ttu-id="618fc-189">Sì</span><span class="sxs-lookup"><span data-stu-id="618fc-189">Yes</span></span>|<span data-ttu-id="618fc-190">No</span><span class="sxs-lookup"><span data-stu-id="618fc-190">No</span></span>|  
|`Local data access`|<span data-ttu-id="618fc-191">Sì</span><span class="sxs-lookup"><span data-stu-id="618fc-191">Yes</span></span>|<span data-ttu-id="618fc-192">Sì</span><span class="sxs-lookup"><span data-stu-id="618fc-192">Yes</span></span>|<span data-ttu-id="618fc-193">Sì</span><span class="sxs-lookup"><span data-stu-id="618fc-193">Yes</span></span>|  
|`Ability to call native code`|<span data-ttu-id="618fc-194">No</span><span class="sxs-lookup"><span data-stu-id="618fc-194">No</span></span>|<span data-ttu-id="618fc-195">No</span><span class="sxs-lookup"><span data-stu-id="618fc-195">No</span></span>|<span data-ttu-id="618fc-196">Sì</span><span class="sxs-lookup"><span data-stu-id="618fc-196">Yes</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="618fc-197">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="618fc-197">See Also</span></span>  
 <span data-ttu-id="618fc-198">[Sicurezza dell'integrazione con CLR](clr-integration-security.md) </span><span class="sxs-lookup"><span data-stu-id="618fc-198">[CLR Integration Security](clr-integration-security.md) </span></span>  
 <span data-ttu-id="618fc-199">[Attributi di protezione host e programmazione dell'integrazione con CLR](../../clr-integration-security-host-protection-attributes/host-protection-attributes-and-clr-integration-programming.md) </span><span class="sxs-lookup"><span data-stu-id="618fc-199">[Host Protection Attributes and CLR Integration Programming](../../clr-integration-security-host-protection-attributes/host-protection-attributes-and-clr-integration-programming.md) </span></span>  
 <span data-ttu-id="618fc-200">[Restrizioni del modello di programmazione dell'integrazione con CLR](../../../relational-databases/clr-integration/database-objects/clr-integration-programming-model-restrictions.md) </span><span class="sxs-lookup"><span data-stu-id="618fc-200">[CLR Integration Programming Model Restrictions](../../../relational-databases/clr-integration/database-objects/clr-integration-programming-model-restrictions.md) </span></span>  
 [<span data-ttu-id="618fc-201">Ambiente CLR</span><span class="sxs-lookup"><span data-stu-id="618fc-201">CLR Hosted Environment</span></span>](../clr-integration-architecture-clr-hosted-environment.md)  
  
  
