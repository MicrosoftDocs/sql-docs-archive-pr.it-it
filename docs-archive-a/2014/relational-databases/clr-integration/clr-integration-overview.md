---
title: Cenni preliminari sull'integrazione con CLR | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: clr
ms.topic: reference
helpviewer_keywords:
- common language runtime [SQL Server], about CLR integration
- extended stored procedures [SQL Server], vs. managed code
- objects [CLR integration]
- Transact-SQL vs. managed code
- managed code [SQL Server], vs. Transact-SQL
- managed code [SQL Server], vs. extended stored procedures
- execution at client vs. execution at server [CLR integration]
ms.assetid: 5aa176da-3652-4afa-a742-4c40c77ce5c3
author: rothja
ms.author: jroth
ms.openlocfilehash: ab7bb50109fa6b0a313da24f0e6164350a6160e3
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87720015"
---
# <a name="overview-of-clr-integration"></a><span data-ttu-id="251ca-102">Panoramica dell'integrazione con CLR</span><span class="sxs-lookup"><span data-stu-id="251ca-102">Overview of CLR Integration</span></span>
  <span data-ttu-id="251ca-103">Common Language Runtime (CLR) rappresenta il fulcro di Microsoft .NET Framework e fornisce l'ambiente di esecuzione per tutto il codice .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="251ca-103">The common language runtime (CLR) is the heart of the Microsoft .NET Framework and provides the execution environment for all .NET Framework code.</span></span> <span data-ttu-id="251ca-104">Il codice eseguito in CLR viene chiamato codice gestito.</span><span class="sxs-lookup"><span data-stu-id="251ca-104">Code that runs within the CLR is referred to as managed code.</span></span> <span data-ttu-id="251ca-105">CLR fornisce varie funzioni e servizi necessari per l'esecuzione del programma, incluse le funzioni di compilazione JIT (Just-In-Time), di allocazione e gestione della memoria, di imposizione dell'indipendenza dai tipi, di gestione delle eccezioni, di gestione dei thread e di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="251ca-105">The CLR provides various functions and services required for program execution, including just-in-time (JIT) compilation, allocating and managing memory, enforcing type safety, exception handling, thread management, and security.</span></span>  <span data-ttu-id="251ca-106">Per ulteriori informazioni, vedere .NET Framework SDK.</span><span class="sxs-lookup"><span data-stu-id="251ca-106">See the .NET Framework SDK for more information.</span></span>  
  
 <span data-ttu-id="251ca-107">Grazie all'integrazione di CLR in Microsoft SQL Server, è possibile creare stored procedure, trigger, funzioni definite dall'utente, tipi definiti dall'utente e aggregazioni definite dall'utente nel codice gestito.</span><span class="sxs-lookup"><span data-stu-id="251ca-107">With the CLR hosted in Microsoft SQL Server (called CLR integration), you can author stored procedures, triggers, user-defined functions, user-defined types, and user-defined aggregates in managed code.</span></span> <span data-ttu-id="251ca-108">Poiché il codice gestito viene compilato nel codice nativo prima dell'esecuzione, è possibile ottenere notevoli miglioramenti delle prestazioni in alcuni scenari.</span><span class="sxs-lookup"><span data-stu-id="251ca-108">Because managed code compiles to native code prior to execution, you can achieve significant performance increases in some scenarios.</span></span>  
  
 <span data-ttu-id="251ca-109">Nel codice gestito viene utilizzata la sicurezza dall'accesso di codice (CAS) per gli assembly eseguano determinate operazioni.</span><span class="sxs-lookup"><span data-stu-id="251ca-109">Managed code uses Code Access Security (CAS) to prevent assemblies from performing certain operations.</span></span> [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="251ca-110">utilizza CAS per aiutare a proteggere il codice gestito e impedire che il sistema operativo o il server di database vengano compromessi.</span><span class="sxs-lookup"><span data-stu-id="251ca-110">uses CAS to help secure the managed code and prevent compromise of the operating system or database server.</span></span>  
  
## <a name="advantages-of-clr-integration"></a><span data-ttu-id="251ca-111">Vantaggi dell'integrazione con CLR</span><span class="sxs-lookup"><span data-stu-id="251ca-111">Advantages of CLR Integration</span></span>  
 [!INCLUDE[tsql](../../../includes/tsql-md.md)] <span data-ttu-id="251ca-112">è progettato in maniera specifica per consentire di accedere ai dati e modificarli direttamente nel database.</span><span class="sxs-lookup"><span data-stu-id="251ca-112">is specifically designed for direct data access and manipulation in the database.</span></span> <span data-ttu-id="251ca-113">Sebbene [!INCLUDE[tsql](../../../includes/tsql-md.md)] risulti particolarmente vantaggioso per l'accesso ai dati e la loro gestione, non è un linguaggio di programmazione completo.</span><span class="sxs-lookup"><span data-stu-id="251ca-113">While [!INCLUDE[tsql](../../../includes/tsql-md.md)] excels at data access and management, it is not a full-fledged programming language.</span></span> <span data-ttu-id="251ca-114">[!INCLUDE[tsql](../../../includes/tsql-md.md)] non supporta, ad esempio, matrici, raccolte, cicli Foreach, scorrimento bit o classi.</span><span class="sxs-lookup"><span data-stu-id="251ca-114">For example, [!INCLUDE[tsql](../../../includes/tsql-md.md)] does not support arrays, collections, for-each loops, bit shifting, or classes.</span></span> <span data-ttu-id="251ca-115">Il codice gestito dispone di supporto integrato per questi costrutti, sebbene sia possibile simularne alcuni in [!INCLUDE[tsql](../../../includes/tsql-md.md)].</span><span class="sxs-lookup"><span data-stu-id="251ca-115">While some of these constructs can be simulated in [!INCLUDE[tsql](../../../includes/tsql-md.md)], managed code has integrated support for these constructs.</span></span> <span data-ttu-id="251ca-116">A seconda dello scenario, l'implementazione di determinate caratteristiche del database nel codice gestito può risultare particolarmente vantaggiosa.</span><span class="sxs-lookup"><span data-stu-id="251ca-116">Depending on the scenario, these features can provide a compelling reason to implement certain database functionality in managed code.</span></span>  
  
 <span data-ttu-id="251ca-117">Microsoft Visual Basic .NET e Microsoft Visual C# offrono funzionalità orientate a oggetti quali incapsulamento, ereditarietà e polimorfismo.</span><span class="sxs-lookup"><span data-stu-id="251ca-117">Microsoft Visual Basic .NET and Microsoft Visual C# offer object-oriented capabilities such as encapsulation, inheritance, and polymorphism.</span></span> <span data-ttu-id="251ca-118">Il codice correlato può ora essere organizzato facilmente in classi e spazi dei nomi.</span><span class="sxs-lookup"><span data-stu-id="251ca-118">Related code can now be easily organized into classes and namespaces.</span></span> <span data-ttu-id="251ca-119">In questo modo è possibile organizzare e gestire il codice più facilmente quando si utilizzano grandi quantità di codice server.</span><span class="sxs-lookup"><span data-stu-id="251ca-119">When you are working with large amounts of server code, this allows you to more easily organize and maintain your code.</span></span>  
  
 <span data-ttu-id="251ca-120">Il codice gestito risulta più appropriato di [!INCLUDE[tsql](../../../includes/tsql-md.md)] per i calcoli e la logica di esecuzione complicata e dispone inoltre di un supporto esteso per numerose attività complesse, ad esempio la gestione delle stringhe e le espressioni regolari.</span><span class="sxs-lookup"><span data-stu-id="251ca-120">Managed code is better suited than [!INCLUDE[tsql](../../../includes/tsql-md.md)] for calculations and complicated execution logic, and features extensive support for many complex tasks, including string handling and regular expressions.</span></span> <span data-ttu-id="251ca-121">Grazie alle funzionalità della libreria .NET Framework, è possibile accedere facilmente a migliaia di classi e routine preesistenti</span><span class="sxs-lookup"><span data-stu-id="251ca-121">With the functionality found in the .NET Framework Library, you have access to thousands of pre-built classes and routines.</span></span> <span data-ttu-id="251ca-122">da qualsiasi stored procedure, trigger o funzione definita dall'utente.</span><span class="sxs-lookup"><span data-stu-id="251ca-122">These can be easily accessed from any stored procedure, trigger or user defined function.</span></span> <span data-ttu-id="251ca-123">La libreria di classi di base (BCL, Base Class Library) include classi che forniscono funzionalità per la modifica delle stringhe, operazioni matematiche avanzate, accesso ai file, crittografia e altro ancora.</span><span class="sxs-lookup"><span data-stu-id="251ca-123">The Base Class Library (BCL) includes classes that provide functionality for string manipulation, advanced math operations, file access, cryptography, and more.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="251ca-124">Sebbene molte di queste classi siano disponibili nel codice CLR in SQL Server, quelle che non sono appropriate per l'utilizzo sul lato server, ad esempio le classi di windowing, non risultano disponibili.</span><span class="sxs-lookup"><span data-stu-id="251ca-124">While many of these classes are available for use from within CLR code in SQL Server, those that are not appropriate for server-side use (for example, windowing classes), are not available.</span></span> <span data-ttu-id="251ca-125">Per ulteriori informazioni, vedere [supported .NET Framework libraries](database-objects/supported-net-framework-libraries.md).</span><span class="sxs-lookup"><span data-stu-id="251ca-125">For more information, see [Supported .NET Framework Libraries](database-objects/supported-net-framework-libraries.md).</span></span>  
  
 <span data-ttu-id="251ca-126">Uno dei vantaggi del codice gestito è l'indipendenza dai tipi o la garanzia che il codice acceda ai tipi solo con modalità consentite e ben definite.</span><span class="sxs-lookup"><span data-stu-id="251ca-126">One of the benefits of managed code is type safety, or the assurance that code accesses types only in well-defined, permissible ways.</span></span> <span data-ttu-id="251ca-127">Prima che venga eseguito il codice gestito, CLR verifica che il codice sia sicuro.</span><span class="sxs-lookup"><span data-stu-id="251ca-127">Before managed code is executed, the CLR verifies that the code is safe.</span></span> <span data-ttu-id="251ca-128">Viene ad esempio eseguito un controllo del codice per verificare che non venga letta memoria che non sia stata scritta in precedenza.</span><span class="sxs-lookup"><span data-stu-id="251ca-128">For example, the code is checked to ensure that no memory is read that has not previously been written.</span></span> <span data-ttu-id="251ca-129">CLR è inoltre in grado di garantire che il codice non modifichi la memoria non gestita.</span><span class="sxs-lookup"><span data-stu-id="251ca-129">The CLR can also help ensure that code does not manipulate unmanaged memory.</span></span>  
  
 <span data-ttu-id="251ca-130">L'integrazione con CLR offre un potenziale miglioramento delle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="251ca-130">CLR integration offers the potential for improved performance.</span></span> <span data-ttu-id="251ca-131">Per informazioni, vedere [prestazioni dell'integrazione con CLR](clr-integration-architecture-performance.md).</span><span class="sxs-lookup"><span data-stu-id="251ca-131">For information, see [Performance of CLR Integration](clr-integration-architecture-performance.md).</span></span>  
  
## <a name="choosing-between-transact-sql-and-managed-code"></a><span data-ttu-id="251ca-132">Scelta tra Transact-SQL e codice gestito</span><span class="sxs-lookup"><span data-stu-id="251ca-132">Choosing Between Transact-SQL and Managed Code</span></span>  
 <span data-ttu-id="251ca-133">Quando si scrivono stored procedure, trigger e funzioni definite dall'utente, è necessario decidere se utilizzare il linguaggio [!INCLUDE[tsql](../../../includes/tsql-md.md)] tradizionale o un linguaggio .NET Framework, quale Visual Basic .NET o Visual C#.</span><span class="sxs-lookup"><span data-stu-id="251ca-133">When writing stored procedures, triggers, and user-defined functions, one decision you must make is whether to use traditional [!INCLUDE[tsql](../../../includes/tsql-md.md)], or a .NET Framework language such as Visual Basic .NET or Visual C#.</span></span> <span data-ttu-id="251ca-134">Utilizzare [!INCLUDE[tsql](../../../includes/tsql-md.md)] quando tramite il codice verrà eseguito soprattutto l'accesso ai dati, con una logica procedurale ridotta o nulla.</span><span class="sxs-lookup"><span data-stu-id="251ca-134">Use [!INCLUDE[tsql](../../../includes/tsql-md.md)] when the code will mostly perform data access with little or no procedural logic.</span></span> <span data-ttu-id="251ca-135">Utilizzare codice gestito per le procedure e le funzioni che richiedono un utilizzo elevato della CPU e sono caratterizzate da una logica complessa o quando si desidera utilizzare la libreria di classi di base di .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="251ca-135">Use managed code for CPU-intensive functions and procedures that feature complex logic, or when you want to make use of the BCL of the .NET Framework.</span></span>  
  
### <a name="choosing-between-execution-in-the-server-and-execution-in-the-client"></a><span data-ttu-id="251ca-136">Scelta tra l'esecuzione nel server e nel client</span><span class="sxs-lookup"><span data-stu-id="251ca-136">Choosing Between Execution in the Server and Execution in the Client</span></span>  
 <span data-ttu-id="251ca-137">Un altro aspetto che incide sulla decisione di utilizzare [!INCLUDE[tsql](../../../includes/tsql-md.md)] o il codice gestito è la posizione in cui si desidera che risieda il codice, ovvero il computer server o il computer client.</span><span class="sxs-lookup"><span data-stu-id="251ca-137">Another factor in your decision about whether to use [!INCLUDE[tsql](../../../includes/tsql-md.md)] or managed code is where you would like your code to reside, the server computer or the client computer.</span></span> <span data-ttu-id="251ca-138">Sia [!INCLUDE[tsql](../../../includes/tsql-md.md)] che il codice gestito possono essere eseguiti nel server.</span><span class="sxs-lookup"><span data-stu-id="251ca-138">Both [!INCLUDE[tsql](../../../includes/tsql-md.md)] and managed code can be run on the server.</span></span> <span data-ttu-id="251ca-139">In questo modo, il codice e i dati si troveranno vicini e sarà possibile usufruire delle capacità di elaborazione del server.</span><span class="sxs-lookup"><span data-stu-id="251ca-139">This places code and data close together, and allows you to take advantage of the processing power of the server.</span></span> <span data-ttu-id="251ca-140">D'altra parte, è possibile che si desideri evitare di collocare le attività che richiedono un utilizzo elevato del processore sul server di database.</span><span class="sxs-lookup"><span data-stu-id="251ca-140">On the other hand, you may wish to avoid placing processor intensive tasks on your database server.</span></span> <span data-ttu-id="251ca-141">La maggior parte dei moderni computer client è piuttosto potente ed è possibile che si desideri usufruire di queste capacità di elaborazione posizionando la quantità maggiore possibile di codice sul client.</span><span class="sxs-lookup"><span data-stu-id="251ca-141">Most client computers today are very powerful, and you may wish to take advantage of this processing power by placing as much code as possible on the client.</span></span> <span data-ttu-id="251ca-142">Diversamente da [!INCLUDE[tsql](../../../includes/tsql-md.md)], il codice gestito può essere eseguito in un computer client.</span><span class="sxs-lookup"><span data-stu-id="251ca-142">Managed code can run on a client computer, while [!INCLUDE[tsql](../../../includes/tsql-md.md)] cannot.</span></span>  
  
## <a name="choosing-between-extended-stored-procedures-and-managed-code"></a><span data-ttu-id="251ca-143">Scelta tra stored procedure estese e codice gestito</span><span class="sxs-lookup"><span data-stu-id="251ca-143">Choosing Between Extended Stored Procedures and Managed Code</span></span>  
 <span data-ttu-id="251ca-144">Le stored procedure estese consentono di ottenere funzionalità altrimenti non disponibili con le stored procedure [!INCLUDE[tsql](../../../includes/tsql-md.md)].</span><span class="sxs-lookup"><span data-stu-id="251ca-144">Extended stored procedures can be built to perform functionality not possible with [!INCLUDE[tsql](../../../includes/tsql-md.md)] stored procedures.</span></span> <span data-ttu-id="251ca-145">Diversamente dal codice gestito indipendente dai tipi, tuttavia, le stored procedure estese possono compromettere l'integrità del processo di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="251ca-145">Extended stored procedures can, however, compromise the integrity of the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] process, while managed code that is verified to be type-safe cannot.</span></span> <span data-ttu-id="251ca-146">La gestione della memoria, la pianificazione di thread e fiber e i servizi di sincronizzazione sono, inoltre, notevolmente più integrati tra il codice gestito di CLR e [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="251ca-146">Further, memory management, scheduling of threads and fibers, and synchronization services are more deeply integrated between the managed code of the CLR and [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="251ca-147">Grazie all'integrazione con CLR, è possibile scrivere le stored procedure necessarie per eseguire attività non consentite in [!INCLUDE[tsql](../../../includes/tsql-md.md)] in modo più sicuro rispetto alle stored procedure estese.</span><span class="sxs-lookup"><span data-stu-id="251ca-147">With CLR integration, you have a more secure way than extended stored procedures to write the stored procedures you need to perform tasks not possible in [!INCLUDE[tsql](../../../includes/tsql-md.md)].</span></span> <span data-ttu-id="251ca-148">Per ulteriori informazioni sull'integrazione con CLR e sulle stored procedure estese, vedere [prestazioni dell'integrazione CLR](clr-integration-architecture-performance.md).</span><span class="sxs-lookup"><span data-stu-id="251ca-148">For more information about CLR integration and extended stored procedures, see [Performance of CLR Integration](clr-integration-architecture-performance.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="251ca-149">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="251ca-149">See Also</span></span>  
 <span data-ttu-id="251ca-150">[Installazione del .NET Framework](https://technet.microsoft.com/library/ms166014\(v=SQL.105\).aspx) </span><span class="sxs-lookup"><span data-stu-id="251ca-150">[Installing the .NET Framework](https://technet.microsoft.com/library/ms166014\(v=SQL.105\).aspx) </span></span>  
 <span data-ttu-id="251ca-151">[Architettura dell'integrazione con CLR](../../database-engine/dev-guide/architecture-of-clr-integration.md) </span><span class="sxs-lookup"><span data-stu-id="251ca-151">[Architecture of CLR Integration](../../database-engine/dev-guide/architecture-of-clr-integration.md) </span></span>  
 <span data-ttu-id="251ca-152">[Accesso ai dati da oggetti di database CLR](data-access/data-access-from-clr-database-objects.md) </span><span class="sxs-lookup"><span data-stu-id="251ca-152">[Data Access from CLR Database Objects](data-access/data-access-from-clr-database-objects.md) </span></span>  
 [<span data-ttu-id="251ca-153">Introduzione all'integrazione con CLR</span><span class="sxs-lookup"><span data-stu-id="251ca-153">Getting Started with CLR Integration</span></span>](database-objects/getting-started-with-clr-integration.md)  
  
  
