---
title: Limitare le dimensioni di file di traccia e tabelle | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: ''
ms.topic: conceptual
helpviewer_keywords:
- maximum file size for traces
- traces [SQL Server], file size
- size [SQL Server], tables
- file rollover option [SQL Server]
- size [SQL Server], files
ms.assetid: 88c31b02-f44c-4a14-be8b-437f2097de12
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: b7795dfdadb8fb3bbaa1b55dcd5c962d24a7ba29
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87634972"
---
# <a name="limit-trace-file-and-table-sizes"></a><span data-ttu-id="59f96-102">Limitare le dimensioni di file di traccia e tabelle</span><span class="sxs-lookup"><span data-stu-id="59f96-102">Limit Trace File and Table Sizes</span></span>
  <span data-ttu-id="59f96-103">Le dimensioni dei risultati di Traccia SQL variano a seconda delle classi di evento incluse nella traccia e della modalità di utilizzo di [!INCLUDE[ssDE](../../includes/ssde-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="59f96-103">SQL Trace results vary in size depending on the event classes that are included in the trace and the way in which the [!INCLUDE[ssDE](../../includes/ssde-md.md)] is used.</span></span> <span data-ttu-id="59f96-104">Se si tracciano classi di evento che si verificano di frequente, è possibile ridurre al minimo la quantità di dati raccolti dalla traccia impostando le dimensioni massime del file o il numero massimo di righe.</span><span class="sxs-lookup"><span data-stu-id="59f96-104">If you trace event classes that occur frequently, you can minimize the amount of data that the trace collects by setting the maximum file size or the maximum number of rows.</span></span> <span data-ttu-id="59f96-105">La specifica delle dimensioni massime del file o del numero massimo di righe consente di garantire che il file o la tabella di traccia non raggiungano dimensioni superiori al limite specificato.</span><span class="sxs-lookup"><span data-stu-id="59f96-105">By specifying the maximum file size or rows, you ensure that the trace file or table will not grow beyond the specified limit.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="59f96-106">Se i dati di traccia vengono salvati in un file già esistente, è possibile aggiungere i dati al file o sovrascriverlo.</span><span class="sxs-lookup"><span data-stu-id="59f96-106">If you save trace data to a file that already exists, you can append data to the file or overwrite the file.</span></span> <span data-ttu-id="59f96-107">Se si sceglie di aggiungere i dati al file e le dimensioni del file di traccia sono già maggiori o uguali al valore massimo specificato, viene visualizzato un messaggio che richiede se si desidera aumentare le dimensioni massime del file o creare un nuovo file.</span><span class="sxs-lookup"><span data-stu-id="59f96-107">If you choose to append data to the file, and the trace file already meets or exceeds the specified maximum file size, you are notified and given the opportunity either to increase the maximum file size or specify a new file.</span></span> <span data-ttu-id="59f96-108">Il meccanismo è uguale per le tabelle di traccia.</span><span class="sxs-lookup"><span data-stu-id="59f96-108">The same is true for trace tables.</span></span>  
  
## <a name="maximum-file-size"></a><span data-ttu-id="59f96-109">Massima dimensione di file</span><span class="sxs-lookup"><span data-stu-id="59f96-109">Maximum File Size</span></span>  
 <span data-ttu-id="59f96-110">Se per una traccia vengono impostate le dimensioni massime del file, il salvataggio delle informazioni nel file di traccia viene arrestato dopo il raggiungimento delle dimensioni massime.</span><span class="sxs-lookup"><span data-stu-id="59f96-110">A trace that has a maximum file size stops saving trace information to the file after the maximum file size has been reached.</span></span> <span data-ttu-id="59f96-111">Questa opzione consente di raggruppare gli eventi in file di dimensioni inferiori e quindi più gestibili.</span><span class="sxs-lookup"><span data-stu-id="59f96-111">This option allows you to group events into smaller, more manageable files.</span></span> <span data-ttu-id="59f96-112">Limitando le dimensioni del file sarà inoltre possibile eseguire in maggior sicurezza tracce automatiche, in quanto la traccia viene arrestata al raggiungimento della dimensione massima del file.</span><span class="sxs-lookup"><span data-stu-id="59f96-112">In addition, limiting file size makes it safer to run unattended traces, because the trace stops when the maximum file size is reached.</span></span> <span data-ttu-id="59f96-113">È possibile impostare le dimensioni massime del file per tracce create tramite stored procedure Transact-SQL oppure [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)].</span><span class="sxs-lookup"><span data-stu-id="59f96-113">You can set the maximum file size for traces created by means of Transact-SQL stored procedures or by using [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)].</span></span>  
  
 <span data-ttu-id="59f96-114">È previsto un limite superiore di 1 GB per le dimensioni massime del file.</span><span class="sxs-lookup"><span data-stu-id="59f96-114">There is an upper limit of 1 gigabyte (GB) for the maximum file size option.</span></span> <span data-ttu-id="59f96-115">Il valore predefinito per le dimensioni massime del file è pari a 5 megabyte (MB).</span><span class="sxs-lookup"><span data-stu-id="59f96-115">The default maximum file size is 5 megabytes (MB).</span></span>  
  
### <a name="enabling-file-rollover"></a><span data-ttu-id="59f96-116">Abilitazione del rollover dei file</span><span class="sxs-lookup"><span data-stu-id="59f96-116">Enabling File Rollover</span></span>  
 <span data-ttu-id="59f96-117">Quando il file corrente raggiunge le dimensioni massime, l'opzione di rollover determina la chiusura di tale file in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] e la creazione di un nuovo file.</span><span class="sxs-lookup"><span data-stu-id="59f96-117">The file rollover option causes [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to close the current file and create a new file when the maximum file size is reached.</span></span> <span data-ttu-id="59f96-118">Il nome del nuovo file è uguale a quello del file precedente seguito da un numero intero a indicarne la sequenza.</span><span class="sxs-lookup"><span data-stu-id="59f96-118">The new file has the same name as the previous file, but an integer is appended to the name to indicate its sequence.</span></span> <span data-ttu-id="59f96-119">Se, ad esempio, il nome del file di traccia originale è filename_1.trc, quello del file successivo sarà filename_2.trc e così via.</span><span class="sxs-lookup"><span data-stu-id="59f96-119">For example, if the original trace file is named filename_1.trc, the next trace file is filename_2.trc, and so on.</span></span> <span data-ttu-id="59f96-120">Se il nome assegnato a un nuovo file di rollover è già utilizzato da un file esistente, quest'ultimo verrà sovrascritto a meno che non sia di sola lettura.</span><span class="sxs-lookup"><span data-stu-id="59f96-120">If the name assigned to a new rollover file is already used by an existing file, the existing file is overwritten unless it is read only.</span></span> <span data-ttu-id="59f96-121">L'opzione di rollover dei file viene abilitata per impostazione predefinita quando si salvano i dati di traccia in un file.</span><span class="sxs-lookup"><span data-stu-id="59f96-121">The file rollover option is enabled by default when you are saving trace data to a file.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="59f96-122">Con l'opzione di rollover dei file attivata, la traccia continua fino a quando non viene arrestata in qualche altro modo.</span><span class="sxs-lookup"><span data-stu-id="59f96-122">With the file rollover option on, the trace continues until it is stopped by some other means.</span></span> <span data-ttu-id="59f96-123">Per arrestare la traccia dopo che è stato raggiunto il limite delle dimensioni del file, disabilitare l'opzione di rollover.</span><span class="sxs-lookup"><span data-stu-id="59f96-123">To stop the trace after you have reached the file size limit, disable the file rollover option.</span></span>  
  
 <span data-ttu-id="59f96-124">**Per impostare le dimensioni massime di un file di traccia**</span><span class="sxs-lookup"><span data-stu-id="59f96-124">**To set a maximum file size for a trace file**</span></span>  
  
 [<span data-ttu-id="59f96-125">Impostare le dimensioni massime di un file di traccia &#40;SQL Server Profiler&#41;</span><span class="sxs-lookup"><span data-stu-id="59f96-125">Set a Maximum File Size for a Trace File &#40;SQL Server Profiler&#41;</span></span>](../../tools/sql-server-profiler/set-a-maximum-file-size-for-a-trace-file-sql-server-profiler.md)  
  
## <a name="maximum-number-of-rows"></a><span data-ttu-id="59f96-126">Numero massimo di righe</span><span class="sxs-lookup"><span data-stu-id="59f96-126">Maximum Number of Rows</span></span>  
 <span data-ttu-id="59f96-127">Se per una traccia viene impostato il numero massimo di righe, il salvataggio delle informazioni in una tabella viene arrestato dopo il raggiungimento del numero massimo di righe.</span><span class="sxs-lookup"><span data-stu-id="59f96-127">A trace with a maximum number of rows stops saving trace information to a table after the maximum number of rows has been reached.</span></span> <span data-ttu-id="59f96-128">Ciascuna riga corrisponde a un evento, pertanto questo parametro consente di impostare un limite per il numero di eventi raccolti.</span><span class="sxs-lookup"><span data-stu-id="59f96-128">Each event constitutes one row, so this parameter sets a limit on the number of events that are gathered.</span></span> <span data-ttu-id="59f96-129">L'impostazione del numero massimo di righe semplifica l'esecuzione di tracce automatiche.</span><span class="sxs-lookup"><span data-stu-id="59f96-129">Setting the maximum number of rows makes it easier to run unattended traces.</span></span> <span data-ttu-id="59f96-130">Se ad esempio si desidera avviare una traccia che salvi i dati di traccia in una tabella, ma si desidera arrestare la traccia qualora la tabella diventasse troppo estesa, è possibile eseguire questa operazione automaticamente.</span><span class="sxs-lookup"><span data-stu-id="59f96-130">For example, if you need to start a trace that saves trace data to a table, but you want to stop the trace if the table becomes too large, you can do so automatically.</span></span>  
  
 <span data-ttu-id="59f96-131">Quando viene raggiunto il numero massimo di righe specificato, l'esecuzione della traccia proseguirà durante l'esecuzione di [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] , tuttavia le informazioni sulla traccia non verranno più registrate.</span><span class="sxs-lookup"><span data-stu-id="59f96-131">When the maximum number of rows is specified and the maximum number of rows has been reached, the trace continues to run while [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] is running, but the trace information is no longer recorded.</span></span> [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] <span data-ttu-id="59f96-132">continua a visualizzare i risultati della traccia fino all'arresto della traccia.</span><span class="sxs-lookup"><span data-stu-id="59f96-132">continues to display the trace results until the trace stops.</span></span>  
  
 <span data-ttu-id="59f96-133">**Per impostare il numero massimo di righe di una traccia**</span><span class="sxs-lookup"><span data-stu-id="59f96-133">**To set a maximum number of rows for a trace**</span></span>  
  
 [<span data-ttu-id="59f96-134">Impostare le dimensioni massime di un file di traccia &#40;SQL Server Profiler&#41;</span><span class="sxs-lookup"><span data-stu-id="59f96-134">Set a Maximum Table Size for a Trace Table &#40;SQL Server Profiler&#41;</span></span>](../../tools/sql-server-profiler/set-a-maximum-table-size-for-a-trace-table-sql-server-profiler.md)  
  
## <a name="see-also"></a><span data-ttu-id="59f96-135">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="59f96-135">See Also</span></span>  
 [<span data-ttu-id="59f96-136">sp_trace_create &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="59f96-136">sp_trace_create &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-trace-create-transact-sql)  
  
  
