---
title: Panoramica del ripristino e del recupero (SQL Server) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: backup-restore
ms.topic: conceptual
helpviewer_keywords:
- restoring tables [SQL Server]
- backups [SQL Server], restore scenarios
- database backups [SQL Server], restore scenarios
- database restores [SQL Server]
- restoring [SQL Server]
- restores [SQL Server]
- table restores [SQL Server]
- restoring databases [SQL Server], about restoring databases
- database restores [SQL Server], scenarios
ms.assetid: e985c9a6-4230-4087-9fdb-de8571ba5a5f
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 2b8f032dce4f2eb09ef80cfa8c6333de2d563a81
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87721519"
---
# <a name="restore-and-recovery-overview-sql-server"></a><span data-ttu-id="0f671-102">Panoramica del ripristino e del recupero (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="0f671-102">Restore and Recovery Overview (SQL Server)</span></span>
  <span data-ttu-id="0f671-103">Per recuperare un database di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] in seguito a un errore, il relativo amministratore deve ripristinare un set di backup di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] in una sequenza di ripristino significativa e logicamente corretta.</span><span class="sxs-lookup"><span data-stu-id="0f671-103">To recover a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database from a failure, a database administrator has to restore a set of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] backups in a logically correct and meaningful restore sequence.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="0f671-104">supportano il ripristino di dati da backup di un intero database, di un file di dati o di una pagina di dati nelle modalità descritte di seguito:</span><span class="sxs-lookup"><span data-stu-id="0f671-104">restore and recovery supports restoring data from backups of a whole database, a data file, or a data page, as follows:</span></span>  
  
-   <span data-ttu-id="0f671-105">Database ( *ripristino di database completo*)</span><span class="sxs-lookup"><span data-stu-id="0f671-105">The database (a *complete database restore*)</span></span>  
  
     <span data-ttu-id="0f671-106">L'intero database viene ripristinato e recuperato e il database resta offline per la durata delle operazioni di ripristino e di recupero.</span><span class="sxs-lookup"><span data-stu-id="0f671-106">The whole database is restored and recovered, and the database is offline for the duration of the restore and recovery operations.</span></span>  
  
-   <span data-ttu-id="0f671-107">File di dati ( *ripristino del file*)</span><span class="sxs-lookup"><span data-stu-id="0f671-107">The data file (a *file restore*)</span></span>  
  
     <span data-ttu-id="0f671-108">Un file di dati o un set di file viene ripristinato e recuperato.</span><span class="sxs-lookup"><span data-stu-id="0f671-108">A data file or a set of files is restored and recovered.</span></span> <span data-ttu-id="0f671-109">Durante un ripristino del file, i filegroup che includono i file vengono impostati automaticamente come offline per la durata del ripristino.</span><span class="sxs-lookup"><span data-stu-id="0f671-109">During a file restore, the filegroups that contain the files are automatically offline for the duration of the restore.</span></span> <span data-ttu-id="0f671-110">Qualsiasi tentativo di accedere a un filegroup offline provoca un errore.</span><span class="sxs-lookup"><span data-stu-id="0f671-110">Any attempt to access an offline filegroup causes an error.</span></span>  
  
-   <span data-ttu-id="0f671-111">Pagina di dati ( *ripristino di pagina*)</span><span class="sxs-lookup"><span data-stu-id="0f671-111">The data page (a *page restore*)</span></span>  
  
     <span data-ttu-id="0f671-112">Nel modello di recupero con registrazione completa o con registrazione minima delle operazioni bulk è possibile ripristinare singoli database.</span><span class="sxs-lookup"><span data-stu-id="0f671-112">Under the full recovery model or bulk-logged recovery model, you can restore individual databases.</span></span> <span data-ttu-id="0f671-113">Le operazioni di ripristino della pagina possono essere effettuate in qualsiasi database, indipendentemente dal numero di filegroup.</span><span class="sxs-lookup"><span data-stu-id="0f671-113">Page restores can be performed on any database, regardless of the number of filegroups.</span></span>  
  
 <span data-ttu-id="0f671-114">Il backup e il ripristino di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] possono essere utilizzati in tutti i sistemi operativi supportati, sia a 64 bit che a 32 bit.</span><span class="sxs-lookup"><span data-stu-id="0f671-114">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] backup and restore work across all supported operating systems, whether they are 64-bit or 32-bit systems.</span></span> <span data-ttu-id="0f671-115">Per informazioni sui sistemi operativi supportati, vedere [requisiti hardware e software per l'installazione di SQL Server 2014](../../sql-server/install/hardware-and-software-requirements-for-installing-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="0f671-115">For information about the supported operating systems, see [Hardware and Software Requirements for Installing SQL Server 2014](../../sql-server/install/hardware-and-software-requirements-for-installing-sql-server.md).</span></span> <span data-ttu-id="0f671-116">Per informazioni sul supporto dei backup di versioni precedenti di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], vedere la sezione "Supporto della compatibilità" di [RESTORE &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="0f671-116">For information about support for backups from earlier versions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], see the "Compatibility Support" section of [RESTORE &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-transact-sql).</span></span>  
  
 <span data-ttu-id="0f671-117">**Contenuto dell'argomento**</span><span class="sxs-lookup"><span data-stu-id="0f671-117">**In this Topic:**</span></span>  
  
-   [<span data-ttu-id="0f671-118">Panoramica degli scenari di ripristino</span><span class="sxs-lookup"><span data-stu-id="0f671-118">Overview of Restore Scenarios</span></span>](#RestoreScenariosOv)  
  
-   [<span data-ttu-id="0f671-119">Modelli di recupero e operazioni di ripristino supportate</span><span class="sxs-lookup"><span data-stu-id="0f671-119">Recovery Models and Supported Restore Operations</span></span>](#RMsAndSupportedRestoreOps)  
  
-   [<span data-ttu-id="0f671-120">Restrizioni relative al ripristino in base al modello di recupero con registrazione minima</span><span class="sxs-lookup"><span data-stu-id="0f671-120">Restore Restrictions Under the Simple Recovery Model</span></span>](#RMsimpleScenarios)  
  
-   [<span data-ttu-id="0f671-121">Ripristino in base al modello di recupero con registrazione minima delle operazioni bulk</span><span class="sxs-lookup"><span data-stu-id="0f671-121">Restore Under the Bulk-Logged Recovery Model</span></span>](#RMblogRestore)  
  
-   [<span data-ttu-id="0f671-122">Advisor per ripristino database (SQL Server Management Studio)</span><span class="sxs-lookup"><span data-stu-id="0f671-122">Database Recovery Advisor (SQL Server Management Studio)</span></span>](#DRA)  
  
-   [<span data-ttu-id="0f671-123">Contenuto correlato</span><span class="sxs-lookup"><span data-stu-id="0f671-123">Related Content</span></span>](#RelatedContent)  
  
##  <a name="overview-of-restore-scenarios"></a><a name="RestoreScenariosOv"></a> <span data-ttu-id="0f671-124">Panoramica degli scenari di ripristino</span><span class="sxs-lookup"><span data-stu-id="0f671-124">Overview of Restore Scenarios</span></span>  
 <span data-ttu-id="0f671-125">Uno *scenario di ripristino* in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] è il processo di ripristino dei dati da uno o più backup, seguito dal recupero del database.</span><span class="sxs-lookup"><span data-stu-id="0f671-125">A *restore scenario* in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is the process of restoring data from one or more backups and then recovering the database.</span></span> <span data-ttu-id="0f671-126">Gli scenari di ripristino supportati dipendono dal modello di recupero del database e dall'edizione di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="0f671-126">The supported restore scenarios depend on the recovery model of the database and the edition of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="0f671-127">Nella tabella seguente vengono descritti i possibili scenari di ripristino supportati per modelli di recupero diversi.</span><span class="sxs-lookup"><span data-stu-id="0f671-127">The following table introduces the possible restore scenarios that are supported for different recovery models.</span></span>  
  
|<span data-ttu-id="0f671-128">scenario di ripristino</span><span class="sxs-lookup"><span data-stu-id="0f671-128">Restore scenario</span></span>|<span data-ttu-id="0f671-129">Nel modello di recupero con registrazione minima</span><span class="sxs-lookup"><span data-stu-id="0f671-129">Under simple recovery model</span></span>|<span data-ttu-id="0f671-130">Nel modello di recupero con registrazione completa o con registrazione minima delle operazioni bulk</span><span class="sxs-lookup"><span data-stu-id="0f671-130">Under full/bulk-logged recovery models</span></span>|  
|----------------------|---------------------------------|----------------------------------------------|  
|<span data-ttu-id="0f671-131">ripristino di database completo</span><span class="sxs-lookup"><span data-stu-id="0f671-131">Complete database restore</span></span>|<span data-ttu-id="0f671-132">Si tratta della strategia di ripristino standard.</span><span class="sxs-lookup"><span data-stu-id="0f671-132">This is the basic restore strategy.</span></span> <span data-ttu-id="0f671-133">Un ripristino di database completo può comportare semplicemente il ripristino e il recupero di un backup completo del database.</span><span class="sxs-lookup"><span data-stu-id="0f671-133">A complete database restore might involve simply restoring and recovering a full database backup.</span></span> <span data-ttu-id="0f671-134">In alternativa, tale tipo di ripristino può comportare il ripristino di un backup completo del database seguito dal ripristino e dal recupero di un backup differenziale.</span><span class="sxs-lookup"><span data-stu-id="0f671-134">Alternatively, a complete database restore might involve restoring a full database backup followed by restoring and recovering a differential backup.</span></span><br /><br /> <span data-ttu-id="0f671-135">Per altre informazioni, vedere [Ripristini di database completi &#40;modello di recupero con registrazione minima&#41;](complete-database-restores-simple-recovery-model.md).</span><span class="sxs-lookup"><span data-stu-id="0f671-135">For more information, see [Complete Database Restores &#40;Simple Recovery Model&#41;](complete-database-restores-simple-recovery-model.md).</span></span>|<span data-ttu-id="0f671-136">Si tratta della strategia di ripristino standard.</span><span class="sxs-lookup"><span data-stu-id="0f671-136">This is the basic restore strategy.</span></span> <span data-ttu-id="0f671-137">Un ripristino di database completo comporta il ripristino di un backup completo del database e, facoltativamente, di un backup differenziale, se disponibile, seguito dal ripristino di tutti i successivi backup del log, in sequenza.</span><span class="sxs-lookup"><span data-stu-id="0f671-137">A complete database restore involve restoring a full database backup and, optionally, a differential backup (if any), followed by restoring all subsequent log backups (in sequence).</span></span> <span data-ttu-id="0f671-138">Il ripristino di database completo viene completato tramite il recupero dell'ultimo backup del log e il suo ripristino (RESTORE WITH RECOVERY).</span><span class="sxs-lookup"><span data-stu-id="0f671-138">The complete database restore is finished by recovering the last log backup and also restoring it (RESTORE WITH RECOVERY).</span></span><br /><br /> <span data-ttu-id="0f671-139">Per altre informazioni, vedere [Ripristini di database completi &#40;modello di recupero con registrazione completa&#41;](complete-database-restores-full-recovery-model.md).</span><span class="sxs-lookup"><span data-stu-id="0f671-139">For more information, see [Complete Database Restores &#40;Full Recovery Model&#41;](complete-database-restores-full-recovery-model.md)</span></span>|  
|<span data-ttu-id="0f671-140">File restore **\***</span><span class="sxs-lookup"><span data-stu-id="0f671-140">File restore **\***</span></span>|<span data-ttu-id="0f671-141">Consente di ripristinare uno o più file di sola lettura danneggiati senza ripristinare l'intero database.</span><span class="sxs-lookup"><span data-stu-id="0f671-141">Restore one or more damaged read-only files, without restoring the entire database.</span></span> <span data-ttu-id="0f671-142">È disponibile solo se il database contiene almeno un filegroup di sola lettura.</span><span class="sxs-lookup"><span data-stu-id="0f671-142">File restore is available only if the database has at least one read-only filegroup.</span></span>|<span data-ttu-id="0f671-143">Consente di ripristinare uno o più file, senza ripristinare l'intero database.</span><span class="sxs-lookup"><span data-stu-id="0f671-143">Restores one or more files, without restoring the entire database.</span></span> <span data-ttu-id="0f671-144">Può essere eseguito mentre il database è offline oppure, per alcune edizioni di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], mentre il database rimane online.</span><span class="sxs-lookup"><span data-stu-id="0f671-144">File restore can be performed while the database is offline or, for some editions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], while the database remains online.</span></span> <span data-ttu-id="0f671-145">Durante un'operazione di ripristino del file, i filegroup che includono i file che vengono ripristinati sono sempre offline.</span><span class="sxs-lookup"><span data-stu-id="0f671-145">During a file restore, the filegroups that contain the files that are being restored are always offline.</span></span>|  
|<span data-ttu-id="0f671-146">Ripristino di pagine</span><span class="sxs-lookup"><span data-stu-id="0f671-146">Page restore</span></span>|<span data-ttu-id="0f671-147">Non applicabile</span><span class="sxs-lookup"><span data-stu-id="0f671-147">Not applicable</span></span>|<span data-ttu-id="0f671-148">Consente di ripristinare una o più pagine danneggiate.</span><span class="sxs-lookup"><span data-stu-id="0f671-148">Restores one or more damaged pages.</span></span> <span data-ttu-id="0f671-149">Può essere eseguito mentre il database è offline oppure, per alcune edizioni di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], mentre il database rimane online.</span><span class="sxs-lookup"><span data-stu-id="0f671-149">Page restore can be performed while the database is offline or, for some editions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], while the database remains online.</span></span> <span data-ttu-id="0f671-150">Durante un'operazione di ripristino della pagina, le pagine che vengono ripristinate sono sempre offline.</span><span class="sxs-lookup"><span data-stu-id="0f671-150">During a page restore, the pages that are being restored are always offline.</span></span><br /><br /> <span data-ttu-id="0f671-151">Perché la pagina sia aggiornata rispetto al file di log corrente, è necessario che sia disponibile una catena non interrotta di backup del log, fino al file di log corrente, e che i backup vengano tutti applicati.</span><span class="sxs-lookup"><span data-stu-id="0f671-151">An unbroken chain of log backups must be available, up to the current log file, and they must all be applied to bring the page up to date with the current log file.</span></span><br /><br /> <span data-ttu-id="0f671-152">Per altre informazioni, vedere [Ripristinare pagine &#40;SQL Server&#41;](restore-pages-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="0f671-152">For more information, see [Restore Pages &#40;SQL Server&#41;](restore-pages-sql-server.md).</span></span>|  
|<span data-ttu-id="0f671-153">Ripristino a fasi **\***</span><span class="sxs-lookup"><span data-stu-id="0f671-153">Piecemeal restore **\***</span></span>|<span data-ttu-id="0f671-154">Consente di ripristinare e recuperare il database in varie fasi a livello di filegroup, partendo dal filegroup primario e da tutti i filegroup secondari di lettura/scrittura.</span><span class="sxs-lookup"><span data-stu-id="0f671-154">Restore and recover the database in stages at the filegroup level, starting with the primary and all read/write, secondary filegroups.</span></span>|<span data-ttu-id="0f671-155">Consente di ripristinare e recuperare il database in varie fasi a livello di filegroup, partendo dal filegroup primario.</span><span class="sxs-lookup"><span data-stu-id="0f671-155">Restore and recover the database in stages at the filegroup level, starting with the primary filegroup.</span></span>|  
  
 <span data-ttu-id="0f671-156">**\*** Il ripristino in linea è supportato solo nell'Enterprise Edition.</span><span class="sxs-lookup"><span data-stu-id="0f671-156">**\*** Online restore is supported only in the Enterprise edition.</span></span>  
  
 <span data-ttu-id="0f671-157">Indipendentemente dalla modalità di ripristino dei dati, prima di poter recuperare un database, [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] verifica che l'intero database sia logicamente consistente.</span><span class="sxs-lookup"><span data-stu-id="0f671-157">Regardless of how data is restored, before a database can be recovered, the [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] guarantees that the whole database is logically consistent.</span></span> <span data-ttu-id="0f671-158">Se, ad esempio, si ripristina un file, non è possibile recuperarlo e attivare la modalità online finché non è stato eseguito un rollforward sufficiente a garantirne la coerenza con il database.</span><span class="sxs-lookup"><span data-stu-id="0f671-158">For example, if you restore a file, you cannot recover it and bring it online until it has been rolled far enough forward to be consistent with the database.</span></span>  
  
### <a name="advantages-of-a-file-or-page-restore"></a><span data-ttu-id="0f671-159">Vantaggi di un ripristino del file o della pagina</span><span class="sxs-lookup"><span data-stu-id="0f671-159">Advantages of a File or Page Restore</span></span>  
 <span data-ttu-id="0f671-160">Il ripristino e il recupero di file o pagine, anziché dell'intero database, offrono i vantaggi seguenti:</span><span class="sxs-lookup"><span data-stu-id="0f671-160">Restoring and recovering files or pages, instead of the whole database, provides the following advantages:</span></span>  
  
-   <span data-ttu-id="0f671-161">Il ripristino di una quantità minore di dati consente di ridurre il tempo necessario per la copia e il recupero.</span><span class="sxs-lookup"><span data-stu-id="0f671-161">Restoring less data reduces the time required to copy and recover it.</span></span>  
  
-   <span data-ttu-id="0f671-162">Se in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] si esegue un'operazione di ripristino del file o della pagina, è possibile mantenere online altri dati del database durante l'operazione di ripristino.</span><span class="sxs-lookup"><span data-stu-id="0f671-162">On [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] restoring files or pages might allow other data in the database to remain online during the restore operation.</span></span>  
  
##  <a name="recovery-models-and-supported-restore-operations"></a><a name="RMsAndSupportedRestoreOps"></a><span data-ttu-id="0f671-163">Modelli di recupero e operazioni di ripristino supportate</span><span class="sxs-lookup"><span data-stu-id="0f671-163">Recovery Models and Supported Restore Operations</span></span>  
 <span data-ttu-id="0f671-164">Le operazioni di ripristino disponibili per un database variano in base al relativo modello di recupero.</span><span class="sxs-lookup"><span data-stu-id="0f671-164">The restore operations that are available for a database depend on its recovery model.</span></span> <span data-ttu-id="0f671-165">Nella tabella seguente vengono riepilogati i casi e la misura in cui ognuno dei modelli di recupero supporta uno scenario di ripristino specifico.</span><span class="sxs-lookup"><span data-stu-id="0f671-165">The following table summarizes whether and to what extent each of the recovery models supports a given restore scenario.</span></span>  
  
|<span data-ttu-id="0f671-166">Operazione di ripristino</span><span class="sxs-lookup"><span data-stu-id="0f671-166">Restore operation</span></span>|<span data-ttu-id="0f671-167">Modello di recupero con registrazione completa</span><span class="sxs-lookup"><span data-stu-id="0f671-167">Full recovery model</span></span>|<span data-ttu-id="0f671-168">Modello di recupero con registrazione minima delle operazioni bulk</span><span class="sxs-lookup"><span data-stu-id="0f671-168">Bulk-logged recovery model</span></span>|<span data-ttu-id="0f671-169">Modello di recupero con registrazione minima</span><span class="sxs-lookup"><span data-stu-id="0f671-169">Simple recovery model</span></span>|  
|-----------------------|-------------------------|---------------------------------|---------------------------|  
|<span data-ttu-id="0f671-170">Recupero dati</span><span class="sxs-lookup"><span data-stu-id="0f671-170">Data recovery</span></span>|<span data-ttu-id="0f671-171">Recupero completo (se il log è disponibile).</span><span class="sxs-lookup"><span data-stu-id="0f671-171">Complete recovery (if the log is available).</span></span>|<span data-ttu-id="0f671-172">Rischio parziale di perdita di dati.</span><span class="sxs-lookup"><span data-stu-id="0f671-172">Some data-loss exposure.</span></span>|<span data-ttu-id="0f671-173">Tutti i dati successivi all'ultimo backup completo o differenziale vanno perduti.</span><span class="sxs-lookup"><span data-stu-id="0f671-173">Any data since last full or differential backup is lost.</span></span>|  
|<span data-ttu-id="0f671-174">Ripristino temporizzato</span><span class="sxs-lookup"><span data-stu-id="0f671-174">Point-in-time restore</span></span>|<span data-ttu-id="0f671-175">Qualsiasi periodo di tempo coperto dai backup del log.</span><span class="sxs-lookup"><span data-stu-id="0f671-175">Any time covered by the log backups.</span></span>|<span data-ttu-id="0f671-176">Non consentito se il backup del log contiene modifiche con registrazione minima delle operazioni bulk.</span><span class="sxs-lookup"><span data-stu-id="0f671-176">Disallowed if the log backup contains any bulk-logged changes.</span></span>|<span data-ttu-id="0f671-177">Non supportato.</span><span class="sxs-lookup"><span data-stu-id="0f671-177">Not supported.</span></span>|  
|<span data-ttu-id="0f671-178">File restore **\***</span><span class="sxs-lookup"><span data-stu-id="0f671-178">File restore **\***</span></span>|<span data-ttu-id="0f671-179">Supporto completo.</span><span class="sxs-lookup"><span data-stu-id="0f671-179">Full support.</span></span>|<span data-ttu-id="0f671-180">In casi specifici. **\*\***</span><span class="sxs-lookup"><span data-stu-id="0f671-180">Sometimes.**\*\***</span></span>|<span data-ttu-id="0f671-181">Disponibile solo per i file secondari di sola lettura.</span><span class="sxs-lookup"><span data-stu-id="0f671-181">Available only for read-only secondary files.</span></span>|  
|<span data-ttu-id="0f671-182">Page restore **\***</span><span class="sxs-lookup"><span data-stu-id="0f671-182">Page restore **\***</span></span>|<span data-ttu-id="0f671-183">Supporto completo.</span><span class="sxs-lookup"><span data-stu-id="0f671-183">Full support.</span></span>|<span data-ttu-id="0f671-184">In casi specifici. **\*\***</span><span class="sxs-lookup"><span data-stu-id="0f671-184">Sometimes.**\*\***</span></span>|<span data-ttu-id="0f671-185">No.</span><span class="sxs-lookup"><span data-stu-id="0f671-185">None.</span></span>|  
|<span data-ttu-id="0f671-186">Ripristino a fasi (a livello di filegroup) **\***</span><span class="sxs-lookup"><span data-stu-id="0f671-186">Piecemeal (filegroup-level) restore **\***</span></span>|<span data-ttu-id="0f671-187">Supporto completo.</span><span class="sxs-lookup"><span data-stu-id="0f671-187">Full support.</span></span>|<span data-ttu-id="0f671-188">In casi specifici. **\*\***</span><span class="sxs-lookup"><span data-stu-id="0f671-188">Sometimes.**\*\***</span></span>|<span data-ttu-id="0f671-189">Disponibile solo per i file secondari di sola lettura.</span><span class="sxs-lookup"><span data-stu-id="0f671-189">Available only for read-only secondary files.</span></span>|  
  
 <span data-ttu-id="0f671-190">**\*** Disponibile solo in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="0f671-190">**\*** Available only in the Enterprise edition of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span></span>  
  
 <span data-ttu-id="0f671-191">**\*\*** Per le condizioni necessarie, vedere la sezione relativa alle [Restrizioni relative al ripristino in base al modello di recupero con registrazione minima](#RMsimpleScenarios)più avanti in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="0f671-191">**\*\*** For the required conditions, see [Restore Restrictions Under the Simple Recovery Model](#RMsimpleScenarios), later in this topic.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="0f671-192">Indipendentemente dal modello di recupero di un database, un backup di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] non può essere ripristinato da una versione di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] precedente a quella tramite cui è stato creato il backup.</span><span class="sxs-lookup"><span data-stu-id="0f671-192">Regardless of the recovery model of a database, a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] backup cannot be restored by a version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] that is older than the version that created the backup.</span></span>  
  
##  <a name="restore-scenarios-under-the-simple-recovery-model"></a><a name="RMsimpleScenarios"></a><span data-ttu-id="0f671-193">Scenari di ripristino nel modello di recupero con registrazione minima</span><span class="sxs-lookup"><span data-stu-id="0f671-193">Restore Scenarios Under the Simple Recovery Model</span></span>  
 <span data-ttu-id="0f671-194">Il modello di recupero con registrazione minima impone le restrizioni seguenti sulle operazioni di ripristino:</span><span class="sxs-lookup"><span data-stu-id="0f671-194">The simple recovery model imposes the following restrictions on restore operations:</span></span>  
  
-   <span data-ttu-id="0f671-195">Il ripristino del file e il ripristino a fasi sono disponibili solo per gruppi di file secondari in modalità di sola lettura.</span><span class="sxs-lookup"><span data-stu-id="0f671-195">File restore and piecemeal restore are available only for read-only secondary filegroups.</span></span> <span data-ttu-id="0f671-196">Per informazioni su questi scenari di ripristino, vedere [Ripristini di file &#40;modello di recupero con registrazione minima&#41;](file-restores-simple-recovery-model.md) e [Ripristini a fasi &#40;SQL Server&#41;](piecemeal-restores-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="0f671-196">For information about these restore scenarios, see [File Restores &#40;Simple Recovery Model&#41;](file-restores-simple-recovery-model.md) and [Piecemeal Restores &#40;SQL Server&#41;](piecemeal-restores-sql-server.md).</span></span>  
  
-   <span data-ttu-id="0f671-197">Il ripristino della pagina non è consentito.</span><span class="sxs-lookup"><span data-stu-id="0f671-197">Page restore is not allowed.</span></span>  
  
-   <span data-ttu-id="0f671-198">Il ripristino temporizzato non è consentito.</span><span class="sxs-lookup"><span data-stu-id="0f671-198">Point-in-time restore is not allowed.</span></span>  
  
 <span data-ttu-id="0f671-199">Se una o più di queste restrizioni non sono appropriate per le proprie esigenze di recupero, valutare se utilizzare il modello di recupero con registrazione completa.</span><span class="sxs-lookup"><span data-stu-id="0f671-199">If any of these restrictions are inappropriate for your recovery needs, we recommend that you consider using the full recovery model.</span></span> <span data-ttu-id="0f671-200">Per altre informazioni, vedere [Panoramica del backup &#40;SQL Server&#41;](backup-overview-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="0f671-200">For more information, see [Backup Overview &#40;SQL Server&#41;](backup-overview-sql-server.md).</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="0f671-201">Indipendentemente dal modello di recupero di un database, un backup di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] non può essere ripristinato da una versione di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] precedente a quella tramite cui è stato creato il backup.</span><span class="sxs-lookup"><span data-stu-id="0f671-201">Regardless of the recovery model of a database, a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] backup cannot be restored by a version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] that is older than the version that created the backup.</span></span>  
  
##  <a name="restore-under-the-bulk-logged-recovery-model"></a><a name="RMblogRestore"></a> <span data-ttu-id="0f671-202">Ripristino nel modello di recupero con registrazione minima delle operazioni bulk</span><span class="sxs-lookup"><span data-stu-id="0f671-202">Restore Under the Bulk-Logged Recovery Model</span></span>  
 <span data-ttu-id="0f671-203">In questa sezione vengono fornite informazioni sul ripristino proprie del modello di recupero con registrazione minima delle operazioni bulk da intendersi esclusivamente come integrazione del modello di recupero con registrazione completa.</span><span class="sxs-lookup"><span data-stu-id="0f671-203">This section discusses restore considerations that are unique to bulk-logged recovery model, which is intended exclusively as a supplement to the full recovery model.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="0f671-204">Per informazioni generali sul modello di recupero con registrazione minima delle operazioni bulk, vedere [Log delle transazioni &#40;SQL Server&#41;](../logs/the-transaction-log-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="0f671-204">For an introduction to the bulk-logged recovery model, see [The Transaction Log &#40;SQL Server&#41;](../logs/the-transaction-log-sql-server.md).</span></span>  
  
 <span data-ttu-id="0f671-205">In linea generale, il modello di recupero con registrazione minima delle operazioni bulk è simile al modello di recupero con registrazione completa e le informazioni fornite per quest'ultimo si applicano a entrambi.</span><span class="sxs-lookup"><span data-stu-id="0f671-205">Generally, the bulk-logged recovery model is similar to the full recovery model, and the information described for the full recovery model also applies to both.</span></span> <span data-ttu-id="0f671-206">Tuttavia, il recupero temporizzato e il ripristino in linea sono influenzati dal modello di recupero con registrazione minima delle operazioni bulk.</span><span class="sxs-lookup"><span data-stu-id="0f671-206">However, point-in-time recovery and online restore are affected by the bulk-logged recovery model.</span></span>  
  
### <a name="restrictions-for-point-in-time-recovery"></a><span data-ttu-id="0f671-207">Restrizioni relative al recupero temporizzato</span><span class="sxs-lookup"><span data-stu-id="0f671-207">Restrictions for Point-in-time Recovery</span></span>  
 <span data-ttu-id="0f671-208">Se un backup del log eseguito utilizzando il modello di recupero con registrazione minima delle operazioni bulk contiene modifiche con registrazione minima delle operazioni bulk, il recupero temporizzato non è consentito.</span><span class="sxs-lookup"><span data-stu-id="0f671-208">If a log backup taken under the bulk-logged recovery model contains bulk-logged changes, point-in-time recovery is not allowed.</span></span> <span data-ttu-id="0f671-209">Se si tenta di eseguire il recupero temporizzato in un backup del log che contiene modifiche con registrazione minima delle operazioni bulk, l'operazione di ripristino non verrà eseguita correttamente.</span><span class="sxs-lookup"><span data-stu-id="0f671-209">Trying to perform point-in-time recovery on a log backup that contains bulk changes will cause the restore operation to fail.</span></span>  
  
### <a name="restrictions-for-online-restore"></a><span data-ttu-id="0f671-210">Restrizioni relative al ripristino online</span><span class="sxs-lookup"><span data-stu-id="0f671-210">Restrictions for Online Restore</span></span>  
 <span data-ttu-id="0f671-211">Una sequenza di ripristino in linea funziona solo se vengono soddisfatte le condizioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="0f671-211">An online restore sequence works only if the following conditions are met:</span></span>  
  
-   <span data-ttu-id="0f671-212">Tutti i backup del log necessari devono essere eseguiti prima dell'avvio della sequenza di ripristino.</span><span class="sxs-lookup"><span data-stu-id="0f671-212">All required log backups must have been taken before the restore sequence starts.</span></span>  
  
-   <span data-ttu-id="0f671-213">È necessario eseguire un backup delle modifiche bulk prima di avviare la sequenza del ripristino online.</span><span class="sxs-lookup"><span data-stu-id="0f671-213">Bulk changes must be backed before starting the online restore sequence.</span></span>  
  
-   <span data-ttu-id="0f671-214">Se nel database sono presenti modifiche bulk, tutti i file devono essere online o[inattivi](remove-defunct-filegroups-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="0f671-214">If bulk changes exist in the database, all files must be either online or[defunct](remove-defunct-filegroups-sql-server.md).</span></span> <span data-ttu-id="0f671-215">Questo significa che non è più parte del database.</span><span class="sxs-lookup"><span data-stu-id="0f671-215">(This means that it is no longer part of the database.)</span></span>  
  
 <span data-ttu-id="0f671-216">Se queste condizioni non vengono soddisfatte, la sequenza del ripristino in linea non riesce.</span><span class="sxs-lookup"><span data-stu-id="0f671-216">If these conditions are not met, the online restore sequence fails.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="0f671-217">È consigliabile passare al modello di recupero con registrazione completa prima di avviare un ripristino online.</span><span class="sxs-lookup"><span data-stu-id="0f671-217">We recommend switching to the full recovery model before starting an online restore.</span></span> <span data-ttu-id="0f671-218">Per altre informazioni, vedere [Modelli di recupero &#40;SQL Server&#41;](recovery-models-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="0f671-218">For more information, see [Recovery Models &#40;SQL Server&#41;](recovery-models-sql-server.md).</span></span>  
  
 <span data-ttu-id="0f671-219">Per informazioni su come eseguire un ripristino online, vedere [Ripristino in linea &#40;SQL Server&#41;](online-restore-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="0f671-219">For information about how to perform an online restore, see [Online Restore &#40;SQL Server&#41;](online-restore-sql-server.md).</span></span>  
  
##  <a name="database-recovery-advisor-sql-server-management-studio"></a><a name="DRA"></a> <span data-ttu-id="0f671-220">Database Recovery Advisor (SQL Server Management Studio)</span><span class="sxs-lookup"><span data-stu-id="0f671-220">Database Recovery Advisor (SQL Server Management Studio)</span></span>  
 <span data-ttu-id="0f671-221">Tramite Database Recovery Advisor viene semplificata la costruzione di piani di ripristino mediante i quali vengono implementate ottime sequenze di ripristino corrette.</span><span class="sxs-lookup"><span data-stu-id="0f671-221">The Database Recovery Advisor facilitates constructing restore plans that implement optimal correct restore sequences.</span></span> <span data-ttu-id="0f671-222">Molti problemi noti di ripristino del database sono stati risolti e sono stati apportati molti miglioramenti richiesti dai clienti.</span><span class="sxs-lookup"><span data-stu-id="0f671-222">Many known database restore issues and enhancements requested by customers have been addressed.</span></span> <span data-ttu-id="0f671-223">Di seguito sono riportati i miglioramenti principali introdotti da Database Recovery Advisor:</span><span class="sxs-lookup"><span data-stu-id="0f671-223">Major enhancements introduced by the Database Recovery Advisor include the following:</span></span>  
  
-   <span data-ttu-id="0f671-224">**Algoritmo del piano di ripristino:**  l'algoritmo utilizzato per costruire i piani di ripristino è stato migliorato in modo significativo, in particolare per gli scenari di ripristino complessi.</span><span class="sxs-lookup"><span data-stu-id="0f671-224">**Restore-plan algorithm:**  The algorithm used to construct restore plans has improved significantly, particularly for complex restore scenarios.</span></span> <span data-ttu-id="0f671-225">Molti casi limite, inclusi gli scenari di fork nei ripristini temporizzati, vengono gestititi in modo più efficiente rispetto alle versioni precedenti di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="0f671-225">Many edge cases, including forking scenarios in point-in-time restores, are handled more efficiently than in previous versions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
-   <span data-ttu-id="0f671-226">**Ripristini temporizzati:**  tramite Database Recovery Advisor viene notevolmente semplificato il ripristino di un database in un determinato momento.</span><span class="sxs-lookup"><span data-stu-id="0f671-226">**Point-in-time restores:**  The Database Recovery Advisor greatly simplifies restoring a database to a given point in time.</span></span> <span data-ttu-id="0f671-227">Tramite una cronologia di backup visiva viene migliorato in modo significativo il supporto per i ripristini temporizzati.</span><span class="sxs-lookup"><span data-stu-id="0f671-227">A visual backup timeline significantly enhances support for point-in-time restores.</span></span> <span data-ttu-id="0f671-228">Tramite questa cronologia visiva è possibile identificare un momento appropriato come punto di recupero di destinazione per il ripristino di un database.</span><span class="sxs-lookup"><span data-stu-id="0f671-228">This visual timeline allows you to identify a feasible point in time as the target recovery point for restoring a database.</span></span> <span data-ttu-id="0f671-229">Tramite la cronologia viene semplificato l'attraversamento di un percorso di recupero con fork, cioè un percorso che si estende su più fork di recupero.</span><span class="sxs-lookup"><span data-stu-id="0f671-229">The timeline facilitates traversing a forked recovery path (a path that spans recovery forks).</span></span> <span data-ttu-id="0f671-230">In un piano di ripristino temporizzato specificato sono inclusi automaticamente i backup rilevanti per il ripristino al punto nel tempo previsto (data e ora).</span><span class="sxs-lookup"><span data-stu-id="0f671-230">A given point-in-time restore plan automatically includes the backups that are relevant to the restoring to your target point in time (date and time).</span></span> <span data-ttu-id="0f671-231">Per altre informazioni, vedere [Ripristino di un database di SQL Server fino a un punto specifico all'interno di un backup &#40;modello di recupero con registrazione completa&#41;](restore-a-sql-server-database-to-a-point-in-time-full-recovery-model.md).</span><span class="sxs-lookup"><span data-stu-id="0f671-231">For more information, see [Restore a SQL Server Database to a Point in Time &#40;Full Recovery Model&#41;](restore-a-sql-server-database-to-a-point-in-time-full-recovery-model.md).</span></span>  
  
 <span data-ttu-id="0f671-232">Per ulteriori informazioni su Database Recovery Advisor, vedere i seguenti blog relativi alla facilità di gestione di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] :</span><span class="sxs-lookup"><span data-stu-id="0f671-232">For more information, see about the Database Recovery Advisor, see the following [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Manageability blogs:</span></span>  
  
-   [<span data-ttu-id="0f671-233">Recovery Advisor: pagina di introduzione</span><span class="sxs-lookup"><span data-stu-id="0f671-233">Recovery Advisor: An Introduction</span></span>](https://blogs.msdn.com/b/managingsql/archive/2011/07/13/recovery-advisor-an-introduction.aspx)  
  
-   [<span data-ttu-id="0f671-234">Recovery Advisor: Pagina relativa all'utilizzo di SSMS per creare/ripristinare backup divisi</span><span class="sxs-lookup"><span data-stu-id="0f671-234">Recovery Advisor: Using SSMS to create/restore split backups</span></span>](https://docs.microsoft.com/archive/blogs/managingsql/recovery-advisor-using-ssms-to-createrestore-split-backups)  
  
##  <a name="related-content"></a><a name="RelatedContent"></a> <span data-ttu-id="0f671-235">Contenuto correlato</span><span class="sxs-lookup"><span data-stu-id="0f671-235">Related Content</span></span>  
 <span data-ttu-id="0f671-236">No.</span><span class="sxs-lookup"><span data-stu-id="0f671-236">None.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="0f671-237">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="0f671-237">See Also</span></span>  
 [<span data-ttu-id="0f671-238">Panoramica del backup &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="0f671-238">Backup Overview &#40;SQL Server&#41;</span></span>](backup-overview-sql-server.md)  
  
  
