---
title: Modelli di recupero (SQL Server) | Microsoft Docs
ms.custom: ''
ms.date: 03/07/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: backup-restore
ms.topic: conceptual
helpviewer_keywords:
- database backups [SQL Server], recovery models
- bulk-logged recovery model [SQL Server]
- recovery [SQL Server], recovery model
- restoring transaction logs [SQL Server], recovery models
- backing up databases [SQL Server], recovery models
- recovery models [SQL Server], about
- transaction log backups [SQL Server]
- simple recovery model [SQL Server]
- backups [SQL Server], recovery models
- recovery models [SQL Server]
- recovery models [SQL Server], transaction log management
- database restores [SQL Server], recovery models
- transaction log restores [SQL Server]
- logs [SQL Server], recovery models
- restoring databases [SQL Server], recovery models
- full recovery model [SQL Server]
- backing up transaction logs [SQL Server], recovery models
ms.assetid: 8cfea566-8f89-4581-b30d-c53f1f2c79eb
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 9815d88409b4e76df36adf94af44a11ae11f653b
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87715427"
---
# <a name="recovery-models-sql-server"></a><span data-ttu-id="0bdc1-102">Modelli di recupero (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="0bdc1-102">Recovery Models (SQL Server)</span></span>
  [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="0bdc1-103">le operazioni di backup e ripristino vengono eseguite nel contesto di un modello di recupero del database.</span><span class="sxs-lookup"><span data-stu-id="0bdc1-103">backup and restore operations occur within the context of the recovery model of the database.</span></span> <span data-ttu-id="0bdc1-104">I modelli di recupero sono progettati per controllare la manutenzione del log delle transazioni.</span><span class="sxs-lookup"><span data-stu-id="0bdc1-104">Recovery models are designed to control transaction log maintenance.</span></span> <span data-ttu-id="0bdc1-105">Un *modello di recupero* è una proprietà del database che determina la modalità di registrazione delle transazioni, se è necessario e possibile eseguire il backup del log delle transazioni e quali tipi di operazioni di ripristino sono disponibili.</span><span class="sxs-lookup"><span data-stu-id="0bdc1-105">A *recovery model* is a database property that controls how transactions are logged, whether the transaction log requires (and allows) backing up, and what kinds of restore operations are available.</span></span> <span data-ttu-id="0bdc1-106">Sono tre i modelli di recupero disponibili: con registrazione minima, con registrazione completa e con registrazione minima delle operazioni bulk.</span><span class="sxs-lookup"><span data-stu-id="0bdc1-106">Three recovery models exist: simple, full, and bulk-logged.</span></span> <span data-ttu-id="0bdc1-107">In genere, un database utilizza il modello di recupero con registrazione completa o con registrazione minima.</span><span class="sxs-lookup"><span data-stu-id="0bdc1-107">Typically, a database uses the full recovery model or simple recovery model.</span></span> <span data-ttu-id="0bdc1-108">In un database è possibile passare a un modello di recupero diverso in qualsiasi momento.</span><span class="sxs-lookup"><span data-stu-id="0bdc1-108">A database can be switched to another recovery model at any time.</span></span>  
  
 <span data-ttu-id="0bdc1-109">**Contenuto dell'argomento**</span><span class="sxs-lookup"><span data-stu-id="0bdc1-109">**In this Topic:**</span></span>  
  
-   [<span data-ttu-id="0bdc1-110">Panoramica del modello di recupero</span><span class="sxs-lookup"><span data-stu-id="0bdc1-110">Recovery Model Overview</span></span>](#RMov)  
  
-   [<span data-ttu-id="0bdc1-111">Attività correlate</span><span class="sxs-lookup"><span data-stu-id="0bdc1-111">Related Tasks</span></span>](#RelatedTasks)  
  
##  <a name="recovery-model-overview"></a><a name="RMov"></a> <span data-ttu-id="0bdc1-112">Panoramica del modello di recupero</span><span class="sxs-lookup"><span data-stu-id="0bdc1-112">Recovery Model Overview</span></span>  
 <span data-ttu-id="0bdc1-113">Nella tabella seguente vengono riepilogati i tre modelli di recupero.</span><span class="sxs-lookup"><span data-stu-id="0bdc1-113">The following table summarizes the three recovery models.</span></span>  
  
|<span data-ttu-id="0bdc1-114">modello di recupero</span><span class="sxs-lookup"><span data-stu-id="0bdc1-114">Recovery model</span></span>|<span data-ttu-id="0bdc1-115">Descrizione</span><span class="sxs-lookup"><span data-stu-id="0bdc1-115">Description</span></span>|<span data-ttu-id="0bdc1-116">Potenziale perdita di dati</span><span class="sxs-lookup"><span data-stu-id="0bdc1-116">Work loss exposure</span></span>|<span data-ttu-id="0bdc1-117">Recupero temporizzato</span><span class="sxs-lookup"><span data-stu-id="0bdc1-117">Recover to point in time?</span></span>|  
|--------------------|-----------------|------------------------|-------------------------------|  
|<span data-ttu-id="0bdc1-118">**Simple**</span><span class="sxs-lookup"><span data-stu-id="0bdc1-118">**Simple**</span></span>|<span data-ttu-id="0bdc1-119">Non vengono eseguiti backup del log.</span><span class="sxs-lookup"><span data-stu-id="0bdc1-119">No log backups.</span></span><br /><br /> <span data-ttu-id="0bdc1-120">Lo spazio del log viene automaticamente recuperato per limitare i requisiti di spazio ed evitare la necessità di gestire lo spazio del log delle transazioni.</span><span class="sxs-lookup"><span data-stu-id="0bdc1-120">Automatically reclaims log space to keep space requirements small, essentially eliminating the need to manage the transaction log space.</span></span> <span data-ttu-id="0bdc1-121">Per informazioni sui backup di database nel modello di recupero con registrazione minima, vedere [Backup completo del database &#40;SQL Server&#41;](full-database-backups-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="0bdc1-121">For information about database backups under the simple recovery model, see [Full Database Backups &#40;SQL Server&#41;](full-database-backups-sql-server.md).</span></span><br /><br /> <span data-ttu-id="0bdc1-122">Le operazioni che richiedono i backup dei log delle transazioni non sono supportate dal modello di recupero con registrazione minima.</span><span class="sxs-lookup"><span data-stu-id="0bdc1-122">Operations that require transaction log backups are not supported by the simple recovery model.</span></span> <span data-ttu-id="0bdc1-123">Le seguenti funzionalità non possono essere utilizzate nei modelli di recupero con registrazione minima:</span><span class="sxs-lookup"><span data-stu-id="0bdc1-123">The following features cannot be used in simple recovery mode:</span></span><br /><br /> <span data-ttu-id="0bdc1-124">Log shipping</span><span class="sxs-lookup"><span data-stu-id="0bdc1-124">Log shipping</span></span><br /><br /> <span data-ttu-id="0bdc1-125">Mirroring del database o AlwaysOn</span><span class="sxs-lookup"><span data-stu-id="0bdc1-125">AlwaysOn or Database mirroring</span></span><br /><br /> <span data-ttu-id="0bdc1-126">Recupero dei supporti senza perdita dei dati</span><span class="sxs-lookup"><span data-stu-id="0bdc1-126">Media recovery without data loss</span></span><br /><br /> <span data-ttu-id="0bdc1-127">Ripristini temporizzati</span><span class="sxs-lookup"><span data-stu-id="0bdc1-127">Point-in-time restores</span></span>|<span data-ttu-id="0bdc1-128">Le modifiche eseguite in seguito al backup più recente non sono protette.</span><span class="sxs-lookup"><span data-stu-id="0bdc1-128">Changes since the most recent backup are unprotected.</span></span> <span data-ttu-id="0bdc1-129">In caso di emergenza sarà necessario applicare nuovamente tali modifiche.</span><span class="sxs-lookup"><span data-stu-id="0bdc1-129">In the event of a disaster, those changes must be redone.</span></span>|<span data-ttu-id="0bdc1-130">Consente solo il recupero fino al momento corrispondente al termine di un backup.</span><span class="sxs-lookup"><span data-stu-id="0bdc1-130">Can recover only to the end of a backup.</span></span> <span data-ttu-id="0bdc1-131">Per altre informazioni, vedere [Ripristini di database completi &#40;modello di recupero con registrazione minima&#41;](complete-database-restores-simple-recovery-model.md).</span><span class="sxs-lookup"><span data-stu-id="0bdc1-131">For more information, see [Complete Database Restores &#40;Simple Recovery Model&#41;](complete-database-restores-simple-recovery-model.md).</span></span>|  
|<span data-ttu-id="0bdc1-132">**Completo**</span><span class="sxs-lookup"><span data-stu-id="0bdc1-132">**Full**</span></span>|<span data-ttu-id="0bdc1-133">Devono essere eseguiti backup del log.</span><span class="sxs-lookup"><span data-stu-id="0bdc1-133">Requires log backups.</span></span><br /><br /> <span data-ttu-id="0bdc1-134">Non si verifica alcuna perdita di dati dovuta a un file di dati perduto o danneggiato.</span><span class="sxs-lookup"><span data-stu-id="0bdc1-134">No work is lost due to a lost or damaged data file.</span></span><br /><br /> <span data-ttu-id="0bdc1-135">È possibile eseguire il recupero fino a un punto nel tempo arbitrario, ad esempio precedente all'errore dell'applicazione o dell'utente.</span><span class="sxs-lookup"><span data-stu-id="0bdc1-135">Can recover to an arbitrary point in time (for example, prior to application or user error).</span></span> <span data-ttu-id="0bdc1-136">Per informazioni sui backup di database nel modello di recupero con registrazione completa, vedere [Backup completo del database &#40;SQL Server&#41;](full-database-backups-sql-server.md) e [Ripristini di database completi &#40;modello di recupero con registrazione completa&#41;](complete-database-restores-full-recovery-model.md).</span><span class="sxs-lookup"><span data-stu-id="0bdc1-136">For information about database backups under the full recovery model, see [Full Database Backups &#40;SQL Server&#41;](full-database-backups-sql-server.md) and [Complete Database Restores &#40;Full Recovery Model&#41;](complete-database-restores-full-recovery-model.md).</span></span>|<span data-ttu-id="0bdc1-137">In genere non sussiste alcun rischio.</span><span class="sxs-lookup"><span data-stu-id="0bdc1-137">Normally none.</span></span><br /><br /> <span data-ttu-id="0bdc1-138">Se la parte finale del log è danneggiata, sarà necessario ripetere le modifiche apportate dall'ultimo backup del log.</span><span class="sxs-lookup"><span data-stu-id="0bdc1-138">If the tail of the log is damaged, changes since the most recent log backup must be redone.</span></span>|<span data-ttu-id="0bdc1-139">È possibile eseguire il recupero a una temporizzazione specifica, purché i backup siano completi fino a tale momento specifico.</span><span class="sxs-lookup"><span data-stu-id="0bdc1-139">Can recover to a specific point in time, assuming that your backups are complete up to that point in time.</span></span> <span data-ttu-id="0bdc1-140">Per informazioni sull'utilizzo di backup del log per il ripristino al punto di errore, vedere [Ripristinare un database di SQL Server fino a un punto specifico &#40;modello di recupero con registrazione completa&#41;](restore-a-sql-server-database-to-a-point-in-time-full-recovery-model.md).</span><span class="sxs-lookup"><span data-stu-id="0bdc1-140">For information about using log backups to restore to the point of failure, see [Restore a SQL Server Database to a Point in Time &#40;Full Recovery Model&#41;](restore-a-sql-server-database-to-a-point-in-time-full-recovery-model.md).</span></span><br /><br /> <span data-ttu-id="0bdc1-141">Nota: Se sono presenti due o più database in cui viene usato il modello di recupero con registrazione completa che devono essere coerenti da un punto di vista logico, potrebbe essere necessario implementare procedure speciali per verificare la recuperabilità di questi database.</span><span class="sxs-lookup"><span data-stu-id="0bdc1-141">Note: If you have two or more full-recovery-model databases that must be logically consistent, you may have to implement special procedures to make sure the recoverability of these databases.</span></span> <span data-ttu-id="0bdc1-142">Per altre informazioni, vedere [Recupero di database correlati che contengono transazioni contrassegnate](recovery-of-related-databases-that-contain-marked-transaction.md).</span><span class="sxs-lookup"><span data-stu-id="0bdc1-142">For more information, see [Recovery of Related  Databases That Contain Marked Transaction](recovery-of-related-databases-that-contain-marked-transaction.md).</span></span>|  
|<span data-ttu-id="0bdc1-143">**Con registrazione minima delle operazioni bulk**</span><span class="sxs-lookup"><span data-stu-id="0bdc1-143">**Bulk logged**</span></span>|<span data-ttu-id="0bdc1-144">Devono essere eseguiti backup del log.</span><span class="sxs-lookup"><span data-stu-id="0bdc1-144">Requires log backups.</span></span><br /><br /> <span data-ttu-id="0bdc1-145">Complemento del modello di recupero con registrazione completa che consente operazioni di copia bulk a prestazioni elevate.</span><span class="sxs-lookup"><span data-stu-id="0bdc1-145">An adjunct of the full recovery model that permits high-performance bulk copy operations.</span></span><br /><br /> <span data-ttu-id="0bdc1-146">Riduce l'utilizzo di spazio del log tramite la registrazione minima della maggior parte delle operazioni bulk.</span><span class="sxs-lookup"><span data-stu-id="0bdc1-146">Reduces log space usage by using minimal logging for most bulk operations.</span></span> <span data-ttu-id="0bdc1-147">Per informazioni sulle operazioni a cui può essere applicata la registrazione minima, vedere [Log delle transazioni &#40;SQL Server&#41;](../logs/the-transaction-log-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="0bdc1-147">For information about operations that can be minimally logged, see [The Transaction Log &#40;SQL Server&#41;](../logs/the-transaction-log-sql-server.md).</span></span><br /><br /> <span data-ttu-id="0bdc1-148">Per informazioni sui backup di database nel modello di recupero con registrazione minima delle operazioni bulk, vedere [Backup completo del database &#40;SQL Server&#41;](full-database-backups-sql-server.md) e [Ripristini di database completi &#40;modello di recupero con registrazione completa&#41;](complete-database-restores-full-recovery-model.md).</span><span class="sxs-lookup"><span data-stu-id="0bdc1-148">For information about database backups under the bulk-logged recovery model, see [Full Database Backups &#40;SQL Server&#41;](full-database-backups-sql-server.md) and [Complete Database Restores &#40;Full Recovery Model&#41;](complete-database-restores-full-recovery-model.md).</span></span>|<span data-ttu-id="0bdc1-149">Se il log è danneggiato o sono state eseguite operazioni con registrazione minima delle operazioni bulk dopo l'ultimo backup del log, sarà necessario ripetere le modifiche apportate dall'ultimo backup del log.</span><span class="sxs-lookup"><span data-stu-id="0bdc1-149">If the log is damaged or bulk-logged operations occurred since the most recent log backup, changes since that last backup must be redone.</span></span><br /><br /> <span data-ttu-id="0bdc1-150">Negli altri casi non si verifica alcuna perdita di dati.</span><span class="sxs-lookup"><span data-stu-id="0bdc1-150">Otherwise, no work is lost.</span></span>|<span data-ttu-id="0bdc1-151">Consente il recupero fino al momento corrispondente al termine di ogni backup.</span><span class="sxs-lookup"><span data-stu-id="0bdc1-151">Can recover to the end of any backup.</span></span> <span data-ttu-id="0bdc1-152">Il recupero temporizzato non è supportato.</span><span class="sxs-lookup"><span data-stu-id="0bdc1-152">Point-in-time recovery is not supported.</span></span>|  
  
##  <a name="related-tasks"></a><a name="RelatedTasks"></a> <span data-ttu-id="0bdc1-153">Attività correlate</span><span class="sxs-lookup"><span data-stu-id="0bdc1-153">Related Tasks</span></span>  
  
-   [<span data-ttu-id="0bdc1-154">Visualizzazione o modifica del modello di recupero di un database &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="0bdc1-154">View or Change the Recovery Model of a Database &#40;SQL Server&#41;</span></span>](view-or-change-the-recovery-model-of-a-database-sql-server.md)  
  
-   [<span data-ttu-id="0bdc1-155">Risolvere i problemi relativi a un log delle transazioni completo &#40;Errore di SQL Server 9002&#41;</span><span class="sxs-lookup"><span data-stu-id="0bdc1-155">Troubleshoot a Full Transaction Log &#40;SQL Server Error 9002&#41;</span></span>](../logs/troubleshoot-a-full-transaction-log-sql-server-error-9002.md)  
  
## <a name="see-also"></a><span data-ttu-id="0bdc1-156">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="0bdc1-156">See Also</span></span>  
 <span data-ttu-id="0bdc1-157">[backupset &#40;Transact-SQL&#41;](/sql/relational-databases/system-tables/backupset-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="0bdc1-157">[backupset &#40;Transact-SQL&#41;](/sql/relational-databases/system-tables/backupset-transact-sql) </span></span>  
 <span data-ttu-id="0bdc1-158">[sys.databases &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-databases-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="0bdc1-158">[sys.databases &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-databases-transact-sql) </span></span>  
 <span data-ttu-id="0bdc1-159">[Opzioni ALTER DATABASE SET &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-database-transact-sql-set-options) </span><span class="sxs-lookup"><span data-stu-id="0bdc1-159">[ALTER DATABASE SET Options &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-database-transact-sql-set-options) </span></span>  
 <span data-ttu-id="0bdc1-160">[Backup e ripristino di database SQL Server](back-up-and-restore-of-sql-server-databases.md) </span><span class="sxs-lookup"><span data-stu-id="0bdc1-160">[Back Up and Restore of SQL Server Databases](back-up-and-restore-of-sql-server-databases.md) </span></span>  
 <span data-ttu-id="0bdc1-161">[Log delle transazioni &#40;SQL Server&#41;](../logs/the-transaction-log-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="0bdc1-161">[The Transaction Log &#40;SQL Server&#41;](../logs/the-transaction-log-sql-server.md) </span></span>  
 <span data-ttu-id="0bdc1-162">[Automatizzazione delle attività amministrative &#40;SQL Server Agent&#41;](../../ssms/agent/sql-server-agent.md) </span><span class="sxs-lookup"><span data-stu-id="0bdc1-162">[Automated Administration Tasks &#40;SQL Server Agent&#41;](../../ssms/agent/sql-server-agent.md) </span></span>  
 [<span data-ttu-id="0bdc1-163">Panoramica del ripristino e del recupero &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="0bdc1-163">Restore and Recovery Overview &#40;SQL Server&#41;</span></span>](restore-and-recovery-overview-sql-server.md)  
  
  
