---
title: Backup completi del file (SQL Server) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: backup-restore
ms.topic: conceptual
helpviewer_keywords:
- full backups [SQL Server]
- backing up [SQL Server], files or filegroups
- backups [SQL Server], files or filegroups
- full recovery model [SQL Server], full file backups
- file backups [SQL Server], full
- files [SQL Server], backing up
- filegroups [SQL Server], backing up
- file backups [SQL Server]
ms.assetid: a716bf8d-0c5a-490d-aadd-597b3b0fac0c
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: e2e45dc68afa4d464aa3931075a1c1b3be792e6f
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87635697"
---
# <a name="full-file-backups-sql-server"></a><span data-ttu-id="18cd2-102">Backup completi del file (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="18cd2-102">Full File Backups (SQL Server)</span></span>
  <span data-ttu-id="18cd2-103">Le informazioni contenute in questo argomento sono rilevanti per i database di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] che includono più file o filegroup.</span><span class="sxs-lookup"><span data-stu-id="18cd2-103">This topic is relevant for [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] databases that contain multiple files or filegroups.</span></span>  
  
 <span data-ttu-id="18cd2-104">È possibile eseguire il backup e il ripristino dei singoli file contenuti in un database di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="18cd2-104">The files in a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] database can be backed up and restored individually.</span></span> <span data-ttu-id="18cd2-105">Inoltre, è possibile specificare un intero filegroup anziché ogni singolo file componente.</span><span class="sxs-lookup"><span data-stu-id="18cd2-105">Also, you can specify a whole filegroup instead of specifying each constituent file individually.</span></span> <span data-ttu-id="18cd2-106">Tuttavia, se un qualsiasi file di un filegroup è offline, ad esempio perché il file è in fase di ripristino, l'intero filegroup risulterà offline e non sarà possibile eseguirne il backup.</span><span class="sxs-lookup"><span data-stu-id="18cd2-106">Note that if any file in a filegroup is offline (for example, because the file is being restored), the whole filegroup is offline and cannot be backed up.</span></span>  
  
 <span data-ttu-id="18cd2-107">I backup di file relativi a filegroup di sola lettura possono essere combinati con backup parziali.</span><span class="sxs-lookup"><span data-stu-id="18cd2-107">File backups of read-only filegroups can be combined with partial backups.</span></span> <span data-ttu-id="18cd2-108">Nei backup parziali sono inclusi tutti i filegroup di lettura/scrittura e, facoltativamente, uno o più filegroup di sola lettura.</span><span class="sxs-lookup"><span data-stu-id="18cd2-108">Partial backups include all the read/write filegroups and, optionally, one or more read-only filegroups.</span></span> <span data-ttu-id="18cd2-109">Per altre informazioni, vedere [Backup parziali &#40;SQL Server&#41;](partial-backups-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="18cd2-109">For more information, see [Partial Backups &#40;SQL Server&#41;](partial-backups-sql-server.md).</span></span>  
  
 <span data-ttu-id="18cd2-110">Un backup di file può fungere da *base differenziale* per backup differenziali di file.</span><span class="sxs-lookup"><span data-stu-id="18cd2-110">A file backup can serve as the *differential base* for differential file backups.</span></span> <span data-ttu-id="18cd2-111">Per altre informazioni, vedere [Backup differenziali &#40;SQL Server&#41;](differential-backups-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="18cd2-111">For more information, see [Differential Backups &#40;SQL Server&#41;](differential-backups-sql-server.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="18cd2-112">I backup completi dei file in genere vengono definiti semplicemente *backup dei file*, tranne quando vengono confrontati in modo esplicito con i *backup differenziali dei file*.</span><span class="sxs-lookup"><span data-stu-id="18cd2-112">Full file backups are typically called *file backups*, except when they are being explicitly compared with *differential file backups*.</span></span>  
  
 <span data-ttu-id="18cd2-113">**Contenuto dell'argomento:**</span><span class="sxs-lookup"><span data-stu-id="18cd2-113">**In This Topic:**</span></span>  
  
-   [<span data-ttu-id="18cd2-114">Vantaggi dei backup di file</span><span class="sxs-lookup"><span data-stu-id="18cd2-114">Benefits of File Backups</span></span>](#Benefits)  
  
-   [<span data-ttu-id="18cd2-115">Svantaggi dei backup di file</span><span class="sxs-lookup"><span data-stu-id="18cd2-115">Disadvantages of File Backups</span></span>](#Disadvantages)  
  
-   [<span data-ttu-id="18cd2-116">Panoramica dei backup di file</span><span class="sxs-lookup"><span data-stu-id="18cd2-116">Overview of File Backups</span></span>](#Overview)  
  
-   [<span data-ttu-id="18cd2-117">Attività correlate</span><span class="sxs-lookup"><span data-stu-id="18cd2-117">Related Tasks</span></span>](#RelatedTasks)  
  
##  <a name="benefits-of-file-backups"></a><a name="Benefits"></a> <span data-ttu-id="18cd2-118">Vantaggi dei backup di file</span><span class="sxs-lookup"><span data-stu-id="18cd2-118">Benefits of File Backups</span></span>  
 <span data-ttu-id="18cd2-119">Rispetto ai backup completi del database, i backup di file offrono i seguenti vantaggi:</span><span class="sxs-lookup"><span data-stu-id="18cd2-119">File backups offer the following advantages over database backups:</span></span>  
  
-   <span data-ttu-id="18cd2-120">L'utilizzo dei backup dei file può accelerare il processo di recupero, in quanto consente di ripristinare solo i file danneggiati, anziché l'intero database.</span><span class="sxs-lookup"><span data-stu-id="18cd2-120">Using file backups can increase the speed of recovery by letting you restore only damaged files, without restoring the rest of the database.</span></span>  
  
     <span data-ttu-id="18cd2-121">Se, ad esempio, un database è costituito da più file che si trovano in dischi diversi, in caso di errore di uno dei dischi sarà sufficiente ripristinare il file che si trova in tale disco.</span><span class="sxs-lookup"><span data-stu-id="18cd2-121">For example, if a database consists of several files that are located on different disks and one disk fails, only the file on the failed disk has to be restored.</span></span> <span data-ttu-id="18cd2-122">È possibile ripristinare il file danneggiato rapidamente e il tempo di recupero è minore rispetto al tempo richiesto per un intero database.</span><span class="sxs-lookup"><span data-stu-id="18cd2-122">The damaged file can be quickly restored, and recovery is faster than it would be for an entire database.</span></span>  
  
-   <span data-ttu-id="18cd2-123">I backup di file offrono maggiore flessibilità nella pianificazione e nella gestione dei supporti rispetto ai backup completi del database, che possono diventare poco gestibili in caso di database di dimensioni molto grandi.</span><span class="sxs-lookup"><span data-stu-id="18cd2-123">File backups increase flexibility in scheduling and media handling over full database backups, which for very large databases can become unmanageable.</span></span> <span data-ttu-id="18cd2-124">La maggiore flessibilità dei backup di file o filegroup risulta utile anche per database di grandi dimensioni che includono dati con caratteristiche di aggiornamento variabili.</span><span class="sxs-lookup"><span data-stu-id="18cd2-124">The increased flexibility of file or filegroup backups is also useful for large databases that contain data that has varying update characteristics.</span></span>  
  
##  <a name="disadvantages-of-file-backups"></a><a name="Disadvantages"></a> <span data-ttu-id="18cd2-125">Svantaggi dei backup di file</span><span class="sxs-lookup"><span data-stu-id="18cd2-125">Disadvantages of File Backups</span></span>  
  
-   <span data-ttu-id="18cd2-126">Lo svantaggio principale dei backup di file rispetto ai backup del database è un aumento della complessità a livello amministrativo.</span><span class="sxs-lookup"><span data-stu-id="18cd2-126">The primary disadvantage of file backups compared to full database backups is the additional administrative complexity.</span></span> <span data-ttu-id="18cd2-127">Il mantenimento e la registrazione di un set completo di questi backup può essere un'attività dispendiosa in termini di tempo e può richiedere uno spazio superiore a quello previsto per i backup completi del database.</span><span class="sxs-lookup"><span data-stu-id="18cd2-127">Maintaining and keeping track of a complete set of these backups can be a time-consuming task that might outweigh the space requirements of full database backups.</span></span>  
  
-   <span data-ttu-id="18cd2-128">Un errore di un supporto può rendere irrecuperabile un intero database se manca un backup di un file danneggiato.</span><span class="sxs-lookup"><span data-stu-id="18cd2-128">A media failure can make a complete database unrecoverable if a damaged file lacks a backup.</span></span> <span data-ttu-id="18cd2-129">È quindi necessario creare un intero set di backup di file e, nel caso del modello di recupero con registrazione completa o con registrazione minima delle operazioni bulk, uno o più backup del log che coprano almeno l'intervallo tra il primo backup completo di file e l'ultimo backup completo di file.</span><span class="sxs-lookup"><span data-stu-id="18cd2-129">You must therefore maintain a complete set of file backups, and, for the full/bulk-logged recovery model, one or more log backups covering minimally the interval between the first full file backup and last full file backup.</span></span>  
  
##  <a name="overview-of-file-backups"></a><a name="Overview"></a> <span data-ttu-id="18cd2-130">Panoramica dei backup di file</span><span class="sxs-lookup"><span data-stu-id="18cd2-130">Overview of File Backups</span></span>  
 <span data-ttu-id="18cd2-131">Durante un backup completo di file viene creata una copia di backup di tutti i dati presenti in uno o più file o filegroup.</span><span class="sxs-lookup"><span data-stu-id="18cd2-131">A full file backup backs up all the data in one or more files or filegroups.</span></span> <span data-ttu-id="18cd2-132">Nei backup di file è contenuto, per impostazione predefinita, un numero sufficiente di record del log per il rollforward del file fino al termine dell'operazione di backup.</span><span class="sxs-lookup"><span data-stu-id="18cd2-132">By default, file backups contain enough log records to roll forward the file to the end of the backup operation.</span></span>  
  
 <span data-ttu-id="18cd2-133">Il backup di un file o un filegroup di sola lettura è identico per tutti i modelli di recupero.</span><span class="sxs-lookup"><span data-stu-id="18cd2-133">Backing up a read-only file or filegroup is the same for every recovery model.</span></span> <span data-ttu-id="18cd2-134">In base al modello di recupero con registrazione completa, un intero set di backup completi di file corrisponde, insieme a un numero sufficiente di backup del log tale da coprire tutti i backup di file, a un backup completo del database.</span><span class="sxs-lookup"><span data-stu-id="18cd2-134">Under the full recovery model, a complete set of full file backups, together with enough log backups to span all the file backups, is the equivalent of a full database backup.</span></span>  
  
 <span data-ttu-id="18cd2-135">È possibile eseguire una sola operazione di backup del file alla volta.</span><span class="sxs-lookup"><span data-stu-id="18cd2-135">Only one file backup operation can occur at a time.</span></span> <span data-ttu-id="18cd2-136">È possibile eseguire il backup di più file durante una singola operazione, ma si tenga presente che ciò potrebbe comportare un allungamento del tempo di esecuzione del recupero quando è necessario ripristinare un singolo file,</span><span class="sxs-lookup"><span data-stu-id="18cd2-136">You can back up multiple files in one operation, but this might extend the recovery time if you only have to restore a single file.</span></span> <span data-ttu-id="18cd2-137">perché per individuare tale file è necessario leggere l'intero backup.</span><span class="sxs-lookup"><span data-stu-id="18cd2-137">This is because to locate that file, the whole backup is read.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="18cd2-138">Sebbene sia possibile ripristinare singoli file da un backup del database, l'individuazione e il ripristino di un file da un backup del database, anziché da un backup di file, richiedono maggior tempo.</span><span class="sxs-lookup"><span data-stu-id="18cd2-138">Individual files can be restored from a database backup; however, locating and restoring a file takes longer from a database backup than from a file backup.</span></span>  
  
### <a name="file-backups-and-the-simple-recovery-model"></a><span data-ttu-id="18cd2-139">Backup di file e modello di recupero con registrazione minima</span><span class="sxs-lookup"><span data-stu-id="18cd2-139">File Backups and the Simple Recovery Model</span></span>  
 <span data-ttu-id="18cd2-140">In base al modello di recupero con registrazione minima, è necessario creare una copia di backup contenente tutti i file di lettura/scrittura,</span><span class="sxs-lookup"><span data-stu-id="18cd2-140">Under the simple recovery model, read/write files must all be backed up together.</span></span> <span data-ttu-id="18cd2-141">al fine di garantire che il database possa essere ripristinato fino a un punto nel tempo consistente.</span><span class="sxs-lookup"><span data-stu-id="18cd2-141">This makes sure that the database can be restored to a consistent point in time.</span></span> <span data-ttu-id="18cd2-142">Anziché specificare singolarmente ogni file o filegroup di lettura/scrittura, utilizzare l'opzione READ_WRITE_FILEGROUPS.</span><span class="sxs-lookup"><span data-stu-id="18cd2-142">Instead of individually specifying each read/write file or filegroup, use the READ_WRITE_FILEGROUPS option.</span></span> <span data-ttu-id="18cd2-143">Questa opzione consente di eseguire il backup di tutti i filegroup di lettura/scrittura del database.</span><span class="sxs-lookup"><span data-stu-id="18cd2-143">This option backs up all the read/write filegroups in the database.</span></span> <span data-ttu-id="18cd2-144">Un backup creato con l'opzione READ_WRITE_FILEGROUPS è noto come backup parziale.</span><span class="sxs-lookup"><span data-stu-id="18cd2-144">A backup that is created by specifying READ_WRITE_FILEGROUPS is known as a partial backup.</span></span> <span data-ttu-id="18cd2-145">Per altre informazioni, vedere [Backup parziali &#40;SQL Server&#41;](partial-backups-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="18cd2-145">For more information, see [Partial Backups &#40;SQL Server&#41;](partial-backups-sql-server.md).</span></span>  
  
### <a name="file-backups-and-the-full-recovery-model"></a><span data-ttu-id="18cd2-146">Backup di file e modello di recupero con registrazione completa</span><span class="sxs-lookup"><span data-stu-id="18cd2-146">File Backups and the Full Recovery Model</span></span>  
 <span data-ttu-id="18cd2-147">In base al modello di recupero con registrazione completa, è necessario eseguire il backup del log delle transazioni indipendentemente dalla strategia di backup in uso.</span><span class="sxs-lookup"><span data-stu-id="18cd2-147">Under the full recovery model, you must back up the transaction log, regardless of the rest of your backup strategy.</span></span> <span data-ttu-id="18cd2-148">Un intero set di backup completi di file corrisponde, insieme a un numero sufficiente di backup del log tale da coprire tutti i backup di file dall'inizio del primo backup di file, a un backup completo del database.</span><span class="sxs-lookup"><span data-stu-id="18cd2-148">A complete set of full file backups, together with enough log backups to span all the file backups from the start of the first file backup, is the equivalent of a full database backup.</span></span>  
  
 <span data-ttu-id="18cd2-149">Il ripristino di un database solo tramite backup di file e del log può essere un'operazione complessa.</span><span class="sxs-lookup"><span data-stu-id="18cd2-149">Restoring a database using just file and log backups can be complex.</span></span> <span data-ttu-id="18cd2-150">Se possibile, è quindi consigliabile eseguire un backup completo del database e far iniziare i backup del log prima del primo backup di file.</span><span class="sxs-lookup"><span data-stu-id="18cd2-150">Therefore, if it is possible, it is a best practice to perform a full database backup and start the log backups before the first file backup.</span></span> <span data-ttu-id="18cd2-151">Nella figura seguente viene illustrata una strategia che prevede l'esecuzione di un backup completo del database (punto t1) subito dopo la creazione del database (punto t0).</span><span class="sxs-lookup"><span data-stu-id="18cd2-151">The following illustration shows a strategy in which a full database backup is taken (at time t1) soon after the database is created (at time t0).</span></span> <span data-ttu-id="18cd2-152">Questo primo backup del database consente di avviare i backup del log delle transazioni,</span><span class="sxs-lookup"><span data-stu-id="18cd2-152">This first database backup enables transaction log backups to start.</span></span> <span data-ttu-id="18cd2-153">che vengono pianificati in modo da essere eseguiti a intervalli prestabiliti.</span><span class="sxs-lookup"><span data-stu-id="18cd2-153">Transaction log backups are scheduled to occur at set intervals.</span></span> <span data-ttu-id="18cd2-154">I backup di file vengono eseguiti in base all'intervallo più appropriato alle esigenze aziendali per il database.</span><span class="sxs-lookup"><span data-stu-id="18cd2-154">File backups occur at whatever interval best meets the business requirements for the database.</span></span> <span data-ttu-id="18cd2-155">In questa figura viene illustrato il backup in successione di ognuno dei quattro filegroup.</span><span class="sxs-lookup"><span data-stu-id="18cd2-155">This illustration shows each of the four filegroups being backed up one at a time.</span></span> <span data-ttu-id="18cd2-156">L'ordine in cui viene eseguito il backup (A, C, B, A) è basato sulle esigenze aziendali per il database.</span><span class="sxs-lookup"><span data-stu-id="18cd2-156">The order in which they are backed up (A, C, B, A) reflects the business requirements of the database.</span></span>  
  
 <span data-ttu-id="18cd2-157">![Strategia che combina backup di database, file e log](../../database-engine/media/bnr-rmfull-3-fulldb-filegrps-log-backups.gif "Strategia che combina backup di database, file e log")</span><span class="sxs-lookup"><span data-stu-id="18cd2-157">![Strategy combining database, file, and log backups](../../database-engine/media/bnr-rmfull-3-fulldb-filegrps-log-backups.gif "Strategy combining database, file, and log backups")</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="18cd2-158">In base al modello di recupero con registrazione completa, è necessario eseguire il rollforward del log delle transazioni durante il ripristino di un backup di file di lettura/scrittura, per garantire che il file sia consistente con la parte restante del database.</span><span class="sxs-lookup"><span data-stu-id="18cd2-158">Under the full recovery model, you must roll forward the transaction log when restoring a read/write file backup to make sure that the file is consistent with the rest of the database.</span></span> <span data-ttu-id="18cd2-159">Per evitare il rollforward di numerosi backup del log delle transazioni, è consigliabile utilizzare backup differenziali di file.</span><span class="sxs-lookup"><span data-stu-id="18cd2-159">To avoid rolling forward a lot of transaction log backups, consider using differential file backups.</span></span> <span data-ttu-id="18cd2-160">Per altre informazioni, vedere [Backup differenziali &#40;SQL Server&#41;](differential-backups-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="18cd2-160">For more information, see [Differential Backups &#40;SQL Server&#41;](differential-backups-sql-server.md).</span></span>  
  
##  <a name="related-tasks"></a><a name="RelatedTasks"></a> <span data-ttu-id="18cd2-161">Attività correlate</span><span class="sxs-lookup"><span data-stu-id="18cd2-161">Related Tasks</span></span>  
 <span data-ttu-id="18cd2-162">**Per creare backup di file o filegroup**</span><span class="sxs-lookup"><span data-stu-id="18cd2-162">**To create a file or filegroup backup**</span></span>  
  
-   [<span data-ttu-id="18cd2-163">Backup di file e filegroup &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="18cd2-163">Back Up Files and Filegroups &#40;SQL Server&#41;</span></span>](back-up-files-and-filegroups-sql-server.md)  
  
-   <span data-ttu-id="18cd2-164"><xref:Microsoft.SqlServer.Management.Smo.Backup.SqlBackup%2A> (SMO)</span><span class="sxs-lookup"><span data-stu-id="18cd2-164"><xref:Microsoft.SqlServer.Management.Smo.Backup.SqlBackup%2A> (SMO)</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="18cd2-165">I backup di file non sono supportati dalla Creazione guidata piano di manutenzione.</span><span class="sxs-lookup"><span data-stu-id="18cd2-165">File backups are not supported by the Maintenance Plan Wizard.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="18cd2-166">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="18cd2-166">See Also</span></span>  
 <span data-ttu-id="18cd2-167">[BACKUP &#40;Transact-SQL&#41;](/sql/t-sql/statements/backup-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="18cd2-167">[BACKUP &#40;Transact-SQL&#41;](/sql/t-sql/statements/backup-transact-sql) </span></span>  
 <span data-ttu-id="18cd2-168">[Panoramica del backup &#40;SQL Server&#41;](backup-overview-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="18cd2-168">[Backup Overview &#40;SQL Server&#41;](backup-overview-sql-server.md) </span></span>  
 <span data-ttu-id="18cd2-169">[Backup e ripristino: interoperabilità e coesistenza &#40;SQL Server&#41;](backup-and-restore-interoperability-and-coexistence-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="18cd2-169">[Backup and Restore: Interoperability and Coexistence &#40;SQL Server&#41;](backup-and-restore-interoperability-and-coexistence-sql-server.md) </span></span>  
 <span data-ttu-id="18cd2-170">[Backup differenziali &#40;SQL Server&#41;](differential-backups-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="18cd2-170">[Differential Backups &#40;SQL Server&#41;](differential-backups-sql-server.md) </span></span>  
 <span data-ttu-id="18cd2-171">[Ripristini di file &#40;modello di recupero con registrazione minima&#41;](file-restores-simple-recovery-model.md) </span><span class="sxs-lookup"><span data-stu-id="18cd2-171">[File Restores &#40;Simple Recovery Model&#41;](file-restores-simple-recovery-model.md) </span></span>  
 <span data-ttu-id="18cd2-172">[Ripristini di file &#40;modello di recupero con registrazione completa&#41;](file-restores-full-recovery-model.md) </span><span class="sxs-lookup"><span data-stu-id="18cd2-172">[File Restores &#40;Full Recovery Model&#41;](file-restores-full-recovery-model.md) </span></span>  
 <span data-ttu-id="18cd2-173">[Ripristino online &#40;SQL Server&#41;](online-restore-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="18cd2-173">[Online Restore &#40;SQL Server&#41;](online-restore-sql-server.md) </span></span>  
 [<span data-ttu-id="18cd2-174">Ripristini a fasi &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="18cd2-174">Piecemeal Restores &#40;SQL Server&#41;</span></span>](piecemeal-restores-sql-server.md)  
  
  
