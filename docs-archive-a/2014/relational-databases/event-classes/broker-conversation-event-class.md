---
title: Classe di evento Broker:Conversation | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: supportability
ms.topic: conceptual
topic_type:
- apiref
helpviewer_keywords:
- Broker:Conversation event class
ms.assetid: 784707b5-cc67-46a3-8ae6-8f8ecf4b27c0
author: stevestein
ms.author: sstein
ms.openlocfilehash: 921b23c6aab8be27534d67d7a85bd7adc8258409
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87721452"
---
# <a name="brokerconversation-event-class"></a><span data-ttu-id="647de-102">Broker:Conversation - classe di evento</span><span class="sxs-lookup"><span data-stu-id="647de-102">Broker:Conversation Event Class</span></span>
  [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="647de-103">genera un evento **Broker:Conversation** per indicare lo stato di una conversazione di Service Broker.</span><span class="sxs-lookup"><span data-stu-id="647de-103">generates a **Broker:Conversation** event to report the progress of a Service Broker conversation.</span></span>  
  
## <a name="brokerconversation-event-class-data-columns"></a><span data-ttu-id="647de-104">Colonne di dati della classe di evento Broker:Conversation</span><span class="sxs-lookup"><span data-stu-id="647de-104">Broker:Conversation Event Class Data Columns</span></span>  
  
|<span data-ttu-id="647de-105">Colonna di dati</span><span class="sxs-lookup"><span data-stu-id="647de-105">Data column</span></span>|<span data-ttu-id="647de-106">Type</span><span class="sxs-lookup"><span data-stu-id="647de-106">Type</span></span>|<span data-ttu-id="647de-107">Descrizione</span><span class="sxs-lookup"><span data-stu-id="647de-107">Description</span></span>|<span data-ttu-id="647de-108">Numero di colonna</span><span class="sxs-lookup"><span data-stu-id="647de-108">Column number</span></span>|<span data-ttu-id="647de-109">Filtrabile</span><span class="sxs-lookup"><span data-stu-id="647de-109">Filterable</span></span>|  
|-----------------|----------|-----------------|-------------------|----------------|  
|<span data-ttu-id="647de-110">**ApplicationName**</span><span class="sxs-lookup"><span data-stu-id="647de-110">**ApplicationName**</span></span>|`nvarchar`|<span data-ttu-id="647de-111">Nome dell'applicazione client in cui è stata creata la connessione a un'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="647de-111">The name of the client application that created the connection to an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="647de-112">Questa colonna viene popolata con i valori passati dall'applicazione al posto del nome visualizzato del programma.</span><span class="sxs-lookup"><span data-stu-id="647de-112">This column is populated with the values passed by the application instead of the displayed name of the program.</span></span>|<span data-ttu-id="647de-113">10</span><span class="sxs-lookup"><span data-stu-id="647de-113">10</span></span>|<span data-ttu-id="647de-114">Sì</span><span class="sxs-lookup"><span data-stu-id="647de-114">Yes</span></span>|  
|<span data-ttu-id="647de-115">**ClientProcessID**</span><span class="sxs-lookup"><span data-stu-id="647de-115">**ClientProcessID**</span></span>|`int`|<span data-ttu-id="647de-116">ID assegnato dal computer host al processo in cui è in esecuzione l'applicazione client.</span><span class="sxs-lookup"><span data-stu-id="647de-116">The ID assigned by the host computer to the process where the client application is running.</span></span> <span data-ttu-id="647de-117">Questa colonna di dati viene popolata se l'ID del processo client viene fornito dal client.</span><span class="sxs-lookup"><span data-stu-id="647de-117">This data column is populated if the client process ID is provided by the client.</span></span>|<span data-ttu-id="647de-118">9</span><span class="sxs-lookup"><span data-stu-id="647de-118">9</span></span>|<span data-ttu-id="647de-119">Sì</span><span class="sxs-lookup"><span data-stu-id="647de-119">Yes</span></span>|  
|<span data-ttu-id="647de-120">**DatabaseID**</span><span class="sxs-lookup"><span data-stu-id="647de-120">**DatabaseID**</span></span>|`int`|<span data-ttu-id="647de-121">ID del database specificato dall'istruzione USE *database*</span><span class="sxs-lookup"><span data-stu-id="647de-121">The ID of the database that is specified by the USE *database* statement.</span></span> <span data-ttu-id="647de-122">oppure ID del database predefinito, se non è stata eseguita un'istruzione USE *database*.</span><span class="sxs-lookup"><span data-stu-id="647de-122">If no USE *database*statement has been issued, the ID of the default database.</span></span> [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] <span data-ttu-id="647de-123">visualizza il nome del database se la colonna di dati **ServerName** è acquisita nella traccia e il server è disponibile.</span><span class="sxs-lookup"><span data-stu-id="647de-123">displays the name of the database if the **ServerName** data column is captured in the trace and the server is available.</span></span> <span data-ttu-id="647de-124">Determinare il valore per un database utilizzando la funzione **DB_ID** .</span><span class="sxs-lookup"><span data-stu-id="647de-124">Determine the value for a database by using the **DB_ID** function.</span></span>|<span data-ttu-id="647de-125">3</span><span class="sxs-lookup"><span data-stu-id="647de-125">3</span></span>|<span data-ttu-id="647de-126">Sì</span><span class="sxs-lookup"><span data-stu-id="647de-126">Yes</span></span>|  
|<span data-ttu-id="647de-127">**EventClass**</span><span class="sxs-lookup"><span data-stu-id="647de-127">**EventClass**</span></span>|`int`|<span data-ttu-id="647de-128">Tipo di classe di evento acquisita.</span><span class="sxs-lookup"><span data-stu-id="647de-128">The type of event class captured.</span></span> <span data-ttu-id="647de-129">Per **Broker:Conversation** è sempre **124**.</span><span class="sxs-lookup"><span data-stu-id="647de-129">Always **124** for **Broker:Conversation**.</span></span>|<span data-ttu-id="647de-130">27</span><span class="sxs-lookup"><span data-stu-id="647de-130">27</span></span>|<span data-ttu-id="647de-131">No</span><span class="sxs-lookup"><span data-stu-id="647de-131">No</span></span>|  
|<span data-ttu-id="647de-132">**EventSequence**</span><span class="sxs-lookup"><span data-stu-id="647de-132">**EventSequence**</span></span>|`int`|<span data-ttu-id="647de-133">Numero di sequenza dell'evento.</span><span class="sxs-lookup"><span data-stu-id="647de-133">Sequence number for this event.</span></span>|<span data-ttu-id="647de-134">51</span><span class="sxs-lookup"><span data-stu-id="647de-134">51</span></span>|<span data-ttu-id="647de-135">No</span><span class="sxs-lookup"><span data-stu-id="647de-135">No</span></span>|  
|<span data-ttu-id="647de-136">**EventSubClass**</span><span class="sxs-lookup"><span data-stu-id="647de-136">**EventSubClass**</span></span>|`nvarchar`|<span data-ttu-id="647de-137">Tipo di sottoclasse di evento.</span><span class="sxs-lookup"><span data-stu-id="647de-137">The type of event subclass.</span></span> <span data-ttu-id="647de-138">Fornisce ulteriori informazioni su ogni classe di evento.</span><span class="sxs-lookup"><span data-stu-id="647de-138">This provides more information about each event class.</span></span>|<span data-ttu-id="647de-139">21</span><span class="sxs-lookup"><span data-stu-id="647de-139">21</span></span>|<span data-ttu-id="647de-140">Sì</span><span class="sxs-lookup"><span data-stu-id="647de-140">Yes</span></span>|  
|<span data-ttu-id="647de-141">**GUID**</span><span class="sxs-lookup"><span data-stu-id="647de-141">**GUID**</span></span>|`uniqueidentifier`|<span data-ttu-id="647de-142">ID della conversazione della finestra.</span><span class="sxs-lookup"><span data-stu-id="647de-142">The conversation ID of the dialog.</span></span> <span data-ttu-id="647de-143">Questo identificatore viene trasmesso come parte del messaggio e viene condiviso da entrambi i lati della conversazione.</span><span class="sxs-lookup"><span data-stu-id="647de-143">This identifier is transmitted as part of the message, and is shared between both sides of the conversation.</span></span>|<span data-ttu-id="647de-144">54</span><span class="sxs-lookup"><span data-stu-id="647de-144">54</span></span>|<span data-ttu-id="647de-145">No</span><span class="sxs-lookup"><span data-stu-id="647de-145">No</span></span>|  
|<span data-ttu-id="647de-146">**HostName**</span><span class="sxs-lookup"><span data-stu-id="647de-146">**HostName**</span></span>|`nvarchar`|<span data-ttu-id="647de-147">Nome del computer in cui è in esecuzione il client.</span><span class="sxs-lookup"><span data-stu-id="647de-147">The name of the computer on which the client is running.</span></span> <span data-ttu-id="647de-148">Questa colonna di dati viene popolata se il nome host viene fornito dal client.</span><span class="sxs-lookup"><span data-stu-id="647de-148">This data column is populated if the host name is provided by the client.</span></span> <span data-ttu-id="647de-149">Per determinare il nome host, usare la funzione **HOST_NAME** .</span><span class="sxs-lookup"><span data-stu-id="647de-149">To determine the host name, use the **HOST_NAME** function.</span></span>|<span data-ttu-id="647de-150">8</span><span class="sxs-lookup"><span data-stu-id="647de-150">8</span></span>|<span data-ttu-id="647de-151">Sì</span><span class="sxs-lookup"><span data-stu-id="647de-151">Yes</span></span>|  
|<span data-ttu-id="647de-152">**IsSystem**</span><span class="sxs-lookup"><span data-stu-id="647de-152">**IsSystem**</span></span>|`int`|<span data-ttu-id="647de-153">Indica se l'evento è stato generato per un processo di sistema o un processo utente.</span><span class="sxs-lookup"><span data-stu-id="647de-153">Indicates whether the event occurred on a system process or a user process.</span></span><br /><br /> <span data-ttu-id="647de-154">0 = utente</span><span class="sxs-lookup"><span data-stu-id="647de-154">0 = user</span></span><br /><br /> <span data-ttu-id="647de-155">1 = sistema</span><span class="sxs-lookup"><span data-stu-id="647de-155">1 = system</span></span>|<span data-ttu-id="647de-156">60</span><span class="sxs-lookup"><span data-stu-id="647de-156">60</span></span>|<span data-ttu-id="647de-157">No</span><span class="sxs-lookup"><span data-stu-id="647de-157">No</span></span>|  
|<span data-ttu-id="647de-158">**LoginSid**</span><span class="sxs-lookup"><span data-stu-id="647de-158">**LoginSid**</span></span>|`image`|<span data-ttu-id="647de-159">ID di sicurezza (SID) dell'utente connesso.</span><span class="sxs-lookup"><span data-stu-id="647de-159">The security identification number (SID) of the logged-in user.</span></span> <span data-ttu-id="647de-160">Il SID è univoco per ogni account di accesso nel server.</span><span class="sxs-lookup"><span data-stu-id="647de-160">Each SID is unique for each login in the server.</span></span>|<span data-ttu-id="647de-161">41</span><span class="sxs-lookup"><span data-stu-id="647de-161">41</span></span>|<span data-ttu-id="647de-162">Sì</span><span class="sxs-lookup"><span data-stu-id="647de-162">Yes</span></span>|  
|<span data-ttu-id="647de-163">**MethodName**</span><span class="sxs-lookup"><span data-stu-id="647de-163">**MethodName**</span></span>|`nvarchar`|<span data-ttu-id="647de-164">Gruppo di conversazioni al quale la conversazione appartiene.</span><span class="sxs-lookup"><span data-stu-id="647de-164">The conversation group that the conversation belongs to.</span></span>|<span data-ttu-id="647de-165">47</span><span class="sxs-lookup"><span data-stu-id="647de-165">47</span></span>|<span data-ttu-id="647de-166">No</span><span class="sxs-lookup"><span data-stu-id="647de-166">No</span></span>|  
|<span data-ttu-id="647de-167">**NTDomainName**</span><span class="sxs-lookup"><span data-stu-id="647de-167">**NTDomainName**</span></span>|`nvarchar`|<span data-ttu-id="647de-168">Dominio di Windows a cui appartiene l'utente.</span><span class="sxs-lookup"><span data-stu-id="647de-168">The Windows domain to which the user belongs.</span></span>|<span data-ttu-id="647de-169">7</span><span class="sxs-lookup"><span data-stu-id="647de-169">7</span></span>|<span data-ttu-id="647de-170">Sì</span><span class="sxs-lookup"><span data-stu-id="647de-170">Yes</span></span>|  
|<span data-ttu-id="647de-171">**NTUserName**</span><span class="sxs-lookup"><span data-stu-id="647de-171">**NTUserName**</span></span>|`nvarchar`|<span data-ttu-id="647de-172">Nome dell'utente proprietario della connessione che ha generato questo evento.</span><span class="sxs-lookup"><span data-stu-id="647de-172">The name of the user that owns the connection that generated this event.</span></span>|<span data-ttu-id="647de-173">6</span><span class="sxs-lookup"><span data-stu-id="647de-173">6</span></span>|<span data-ttu-id="647de-174">Sì</span><span class="sxs-lookup"><span data-stu-id="647de-174">Yes</span></span>|  
|<span data-ttu-id="647de-175">**ObjectName**</span><span class="sxs-lookup"><span data-stu-id="647de-175">**ObjectName**</span></span>|`nvarchar`|<span data-ttu-id="647de-176">Handle di conversazione del dialogo.</span><span class="sxs-lookup"><span data-stu-id="647de-176">The conversation handle of the dialog.</span></span>|<span data-ttu-id="647de-177">34</span><span class="sxs-lookup"><span data-stu-id="647de-177">34</span></span>|<span data-ttu-id="647de-178">No</span><span class="sxs-lookup"><span data-stu-id="647de-178">No</span></span>|  
|<span data-ttu-id="647de-179">**Priorità**</span><span class="sxs-lookup"><span data-stu-id="647de-179">**Priority**</span></span>|`int`|<span data-ttu-id="647de-180">Livello di priorità della conversazione</span><span class="sxs-lookup"><span data-stu-id="647de-180">The priority level of the conversation</span></span>|<span data-ttu-id="647de-181">5</span><span class="sxs-lookup"><span data-stu-id="647de-181">5</span></span>|<span data-ttu-id="647de-182">Sì</span><span class="sxs-lookup"><span data-stu-id="647de-182">Yes</span></span>|  
|<span data-ttu-id="647de-183">**RoleName**</span><span class="sxs-lookup"><span data-stu-id="647de-183">**RoleName**</span></span>|`nvarchar`|<span data-ttu-id="647de-184">Ruolo dell'handle di conversazione.</span><span class="sxs-lookup"><span data-stu-id="647de-184">The role of the conversation handle.</span></span> <span data-ttu-id="647de-185">I valori possibili sono **initiator** o **target**.</span><span class="sxs-lookup"><span data-stu-id="647de-185">This is either **initiator** or **target**.</span></span>|<span data-ttu-id="647de-186">38</span><span class="sxs-lookup"><span data-stu-id="647de-186">38</span></span>|<span data-ttu-id="647de-187">No</span><span class="sxs-lookup"><span data-stu-id="647de-187">No</span></span>|  
|<span data-ttu-id="647de-188">**ServerName**</span><span class="sxs-lookup"><span data-stu-id="647de-188">**ServerName**</span></span>|`nvarchar`|<span data-ttu-id="647de-189">Nome dell'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] tracciata.</span><span class="sxs-lookup"><span data-stu-id="647de-189">The name of the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] that is being traced.</span></span>|<span data-ttu-id="647de-190">26</span><span class="sxs-lookup"><span data-stu-id="647de-190">26</span></span>|<span data-ttu-id="647de-191">No</span><span class="sxs-lookup"><span data-stu-id="647de-191">No</span></span>|  
|<span data-ttu-id="647de-192">**Gravità**</span><span class="sxs-lookup"><span data-stu-id="647de-192">**Severity**</span></span>|`int`|<span data-ttu-id="647de-193">Gravità dell'errore di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , se l'evento indica un errore.</span><span class="sxs-lookup"><span data-stu-id="647de-193">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] error severity, if this event reports an error.</span></span>|<span data-ttu-id="647de-194">29</span><span class="sxs-lookup"><span data-stu-id="647de-194">29</span></span>|<span data-ttu-id="647de-195">No</span><span class="sxs-lookup"><span data-stu-id="647de-195">No</span></span>|  
|<span data-ttu-id="647de-196">**SPID**</span><span class="sxs-lookup"><span data-stu-id="647de-196">**SPID**</span></span>|`int`|<span data-ttu-id="647de-197">ID del processo server assegnato da [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] al processo associato al client.</span><span class="sxs-lookup"><span data-stu-id="647de-197">The server process ID that is assigned by [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to the process that is associated with the client.</span></span>|<span data-ttu-id="647de-198">12</span><span class="sxs-lookup"><span data-stu-id="647de-198">12</span></span>|<span data-ttu-id="647de-199">Sì</span><span class="sxs-lookup"><span data-stu-id="647de-199">Yes</span></span>|  
|<span data-ttu-id="647de-200">**StartTime**</span><span class="sxs-lookup"><span data-stu-id="647de-200">**StartTime**</span></span>|`datetime`|<span data-ttu-id="647de-201">Ora di inizio dell'evento, se disponibile.</span><span class="sxs-lookup"><span data-stu-id="647de-201">The time when the event started, when available.</span></span>|<span data-ttu-id="647de-202">14</span><span class="sxs-lookup"><span data-stu-id="647de-202">14</span></span>|<span data-ttu-id="647de-203">Sì</span><span class="sxs-lookup"><span data-stu-id="647de-203">Yes</span></span>|  
|<span data-ttu-id="647de-204">**TextData**</span><span class="sxs-lookup"><span data-stu-id="647de-204">**TextData**</span></span>|`ntext`|<span data-ttu-id="647de-205">Stato corrente della conversazione.</span><span class="sxs-lookup"><span data-stu-id="647de-205">The current state of the conversation.</span></span> <span data-ttu-id="647de-206">I tipi validi sono:</span><span class="sxs-lookup"><span data-stu-id="647de-206">One of the following:</span></span><br /><br /> <span data-ttu-id="647de-207">**Quindi**,</span><span class="sxs-lookup"><span data-stu-id="647de-207">**SO**.</span></span> <span data-ttu-id="647de-208">Avviata in uscita (Started outbound).</span><span class="sxs-lookup"><span data-stu-id="647de-208">Started outbound.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="647de-209">ha elaborato un'istruzione BEGIN CONVERSATION per la conversazione, ma non sono stati inviati messaggi.</span><span class="sxs-lookup"><span data-stu-id="647de-209">processed a BEGIN CONVERSATION for this conversation, but no messages have been sent.</span></span><br /><br /> <span data-ttu-id="647de-210">**Si**.</span><span class="sxs-lookup"><span data-stu-id="647de-210">**SI**.</span></span> <span data-ttu-id="647de-211">Avviata in ingresso (Started inbound).</span><span class="sxs-lookup"><span data-stu-id="647de-211">Started inbound.</span></span> <span data-ttu-id="647de-212">Un'altra istanza del [!INCLUDE[ssDE](../../includes/ssde-md.md)] ha avviato una nuova conversazione con l'istanza corrente, che tuttavia non ha completato la ricezione del primo messaggio.</span><span class="sxs-lookup"><span data-stu-id="647de-212">Another instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] started a new conversation with the current instance, but the current instance has not finished receiving the first message.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="647de-213">potrebbe creare una conversazione in questo stato se il primo messaggio fosse frammentato oppure se [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ricevesse messaggi non ordinati.</span><span class="sxs-lookup"><span data-stu-id="647de-213">might create the conversation in this state if the first message is fragmented or [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] receives messages out of order.</span></span> <span data-ttu-id="647de-214">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] potrebbe tuttavia creare la conversazione nello stato CO se la prima trasmissione ricevuta per la conversazione contenesse il primo messaggio per intero.</span><span class="sxs-lookup"><span data-stu-id="647de-214">However, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] might create the conversation in the CO state if the first transmission that was received for the conversation contains the complete first message.</span></span><br /><br /> <span data-ttu-id="647de-215">**Co**.</span><span class="sxs-lookup"><span data-stu-id="647de-215">**CO**.</span></span> <span data-ttu-id="647de-216">In corso (Conversing).</span><span class="sxs-lookup"><span data-stu-id="647de-216">Conversing.</span></span> <span data-ttu-id="647de-217">La conversazione è stata stabilita ed entrambi i lati della conversazione possono inviare messaggi.</span><span class="sxs-lookup"><span data-stu-id="647de-217">The conversation is established, and both sides of the conversation can send messages.</span></span> <span data-ttu-id="647de-218">La maggior parte delle comunicazioni di un servizio tipico ha luogo quando la conversazione è in questo stato.</span><span class="sxs-lookup"><span data-stu-id="647de-218">Most communication for a typical service happens when the conversation is in this state.</span></span><br /><br /> <span data-ttu-id="647de-219">**Di**.</span><span class="sxs-lookup"><span data-stu-id="647de-219">**DI**.</span></span> <span data-ttu-id="647de-220">Disconnessa in ingresso (Disconnected inbound).</span><span class="sxs-lookup"><span data-stu-id="647de-220">Disconnected inbound.</span></span> <span data-ttu-id="647de-221">Il lato remoto della conversazione ha eseguito un'istruzione END CONVERSATION.</span><span class="sxs-lookup"><span data-stu-id="647de-221">The remote side of the conversation has issued an END CONVERSATION.</span></span> <span data-ttu-id="647de-222">La conversazione rimane in questo stato finché il lato locale della conversazione non esegue un'istruzione END CONVERSATION.</span><span class="sxs-lookup"><span data-stu-id="647de-222">The conversation remains in this state until the local side of the conversation issues an END CONVERSATION.</span></span> <span data-ttu-id="647de-223">Un'applicazione può ancora ricevere messaggi per la conversazione.</span><span class="sxs-lookup"><span data-stu-id="647de-223">An application can still receive messages for the conversation.</span></span> <span data-ttu-id="647de-224">Poiché sul lato remoto la conversazione è terminata, non può invece inviare messaggi nella conversazione.</span><span class="sxs-lookup"><span data-stu-id="647de-224">Because the remote side of the conversation has ended the conversation, an application cannot send messages on this conversation.</span></span> <span data-ttu-id="647de-225">Quando un'applicazione esegue un'istruzione END CONVERSATION, la conversazione passa allo stato CLOSED (CD).</span><span class="sxs-lookup"><span data-stu-id="647de-225">When an application issues an END CONVERSATION, the conversation moves to the Closed (CD) state.</span></span><br /><br /> <span data-ttu-id="647de-226">**Do**.</span><span class="sxs-lookup"><span data-stu-id="647de-226">**DO**.</span></span> <span data-ttu-id="647de-227">Disconnessa in uscita (Disconnected outbound).</span><span class="sxs-lookup"><span data-stu-id="647de-227">Disconnected outbound.</span></span> <span data-ttu-id="647de-228">Il lato locale della conversazione ha eseguito un'istruzione END CONVERSATION.</span><span class="sxs-lookup"><span data-stu-id="647de-228">The local side of the conversation has issued an END CONVERSATION.</span></span> <span data-ttu-id="647de-229">La conversazione rimane in questo stato finché il lato remoto della conversazione invia un acknowledgement dell'istruzione END CONVERSATION.</span><span class="sxs-lookup"><span data-stu-id="647de-229">The conversation remains in this state until the remote side of the conversation acknowledges the END CONVERSATION.</span></span> <span data-ttu-id="647de-230">Un'applicazione non può inviare o ricevere messaggi per la conversazione.</span><span class="sxs-lookup"><span data-stu-id="647de-230">An application cannot send or receive messages for the conversation.</span></span> <span data-ttu-id="647de-231">Quando il lato remoto della conversazione invia un acknowledgement per END CONVERSATION, la conversazione passa allo stato CLOSED (CD).</span><span class="sxs-lookup"><span data-stu-id="647de-231">When the remote side of the conversation acknowledges the END CONVERSATION, the conversation moves to the Closed (CD) state.</span></span><br /><br /> <span data-ttu-id="647de-232">**Er**.</span><span class="sxs-lookup"><span data-stu-id="647de-232">**ER**.</span></span> <span data-ttu-id="647de-233">Errore.</span><span class="sxs-lookup"><span data-stu-id="647de-233">Error.</span></span> <span data-ttu-id="647de-234">In questo endpoint si è verificato un errore.</span><span class="sxs-lookup"><span data-stu-id="647de-234">An error has occurred on this endpoint.</span></span> <span data-ttu-id="647de-235">Le colonne Error, Severity e State contengono informazioni sull'errore specifico verificatosi.</span><span class="sxs-lookup"><span data-stu-id="647de-235">The Error, Severity, and State columns contain information about the specific error that occurred.</span></span><br /><br /> <span data-ttu-id="647de-236">**CD**.</span><span class="sxs-lookup"><span data-stu-id="647de-236">**CD**.</span></span> <span data-ttu-id="647de-237">Chiusa.</span><span class="sxs-lookup"><span data-stu-id="647de-237">Closed.</span></span> <span data-ttu-id="647de-238">L'endpoint di conversazione non è più in uso.</span><span class="sxs-lookup"><span data-stu-id="647de-238">The conversation endpoint is no longer in use.</span></span>|<span data-ttu-id="647de-239">1</span><span class="sxs-lookup"><span data-stu-id="647de-239">1</span></span>|<span data-ttu-id="647de-240">Sì</span><span class="sxs-lookup"><span data-stu-id="647de-240">Yes</span></span>|  
|<span data-ttu-id="647de-241">**TransactionID**</span><span class="sxs-lookup"><span data-stu-id="647de-241">**Transaction ID**</span></span>|`bigint`|<span data-ttu-id="647de-242">ID della transazione assegnato dal sistema.</span><span class="sxs-lookup"><span data-stu-id="647de-242">The system-assigned ID of the transaction.</span></span>|<span data-ttu-id="647de-243">4</span><span class="sxs-lookup"><span data-stu-id="647de-243">4</span></span>|<span data-ttu-id="647de-244">No</span><span class="sxs-lookup"><span data-stu-id="647de-244">No</span></span>|  
  
 <span data-ttu-id="647de-245">Nella tabella seguente sono elencati i valori delle sottoclassi di questa classe di evento.</span><span class="sxs-lookup"><span data-stu-id="647de-245">The following table lists the subclass values for this event class.</span></span>  
  
|<span data-ttu-id="647de-246">ID</span><span class="sxs-lookup"><span data-stu-id="647de-246">ID</span></span>|<span data-ttu-id="647de-247">Sottoclasse</span><span class="sxs-lookup"><span data-stu-id="647de-247">Subclass</span></span>|<span data-ttu-id="647de-248">Descrizione</span><span class="sxs-lookup"><span data-stu-id="647de-248">Description</span></span>|  
|--------|--------------|-----------------|  
|<span data-ttu-id="647de-249">1</span><span class="sxs-lookup"><span data-stu-id="647de-249">1</span></span>|<span data-ttu-id="647de-250">SEND Message</span><span class="sxs-lookup"><span data-stu-id="647de-250">SEND Message</span></span>|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]<span data-ttu-id="647de-251">genera un evento **Send Message** quando [!INCLUDE[ssDE](../../includes/ssde-md.md)] esegue un'istruzione SEND.</span><span class="sxs-lookup"><span data-stu-id="647de-251">generates a **SEND Message** event when the [!INCLUDE[ssDE](../../includes/ssde-md.md)] executes a SEND statement.</span></span>|  
|<span data-ttu-id="647de-252">2</span><span class="sxs-lookup"><span data-stu-id="647de-252">2</span></span>|<span data-ttu-id="647de-253">END CONVERSATION</span><span class="sxs-lookup"><span data-stu-id="647de-253">END CONVERSATION</span></span>|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]<span data-ttu-id="647de-254">genera un evento **end Conversation** quando [!INCLUDE[ssDE](../../includes/ssde-md.md)] esegue un'istruzione END CONVERSATION che non include la clausola with Error.</span><span class="sxs-lookup"><span data-stu-id="647de-254">generates an **END CONVERSATION** event when the [!INCLUDE[ssDE](../../includes/ssde-md.md)] executes an END CONVERSATION statement that does not include the WITH ERROR clause.</span></span>|  
|<span data-ttu-id="647de-255">3</span><span class="sxs-lookup"><span data-stu-id="647de-255">3</span></span>|<span data-ttu-id="647de-256">END CONVERSATION WITH ERROR</span><span class="sxs-lookup"><span data-stu-id="647de-256">END CONVERSATION WITH ERROR</span></span>|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]<span data-ttu-id="647de-257">genera un evento **end Conversation with Error** quando [!INCLUDE[ssDE](../../includes/ssde-md.md)] esegue un'istruzione END CONVERSATION che include la clausola with Error.</span><span class="sxs-lookup"><span data-stu-id="647de-257">generates an **END CONVERSATION WITH ERROR** event when the [!INCLUDE[ssDE](../../includes/ssde-md.md)] executes an END CONVERSATION statement that includes the WITH ERROR clause.</span></span>|  
|<span data-ttu-id="647de-258">4</span><span class="sxs-lookup"><span data-stu-id="647de-258">4</span></span>|<span data-ttu-id="647de-259">Broker Initiated Error</span><span class="sxs-lookup"><span data-stu-id="647de-259">Broker Initiated Error</span></span>|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]<span data-ttu-id="647de-260">genera un evento di **errore avviato dal broker** ogni volta che [!INCLUDE[ssSB](../../includes/sssb-md.md)] Crea un messaggio di errore.</span><span class="sxs-lookup"><span data-stu-id="647de-260">generates a **Broker Initiated Error** event whenever [!INCLUDE[ssSB](../../includes/sssb-md.md)] creates an error message.</span></span> <span data-ttu-id="647de-261">Ad esempio, quando [!INCLUDE[ssSB](../../includes/sssb-md.md)] non può eseguire correttamente il routing di un messaggio per un dialogo, il broker crea un messaggio di errore per il dialogo e genera questo evento.</span><span class="sxs-lookup"><span data-stu-id="647de-261">For example, when [!INCLUDE[ssSB](../../includes/sssb-md.md)] cannot successfully route a message for a dialog, the broker creates an error message for the dialog and generates this event.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="647de-262">non genera l'evento quando un'applicazione termina una conversazione con un errore.</span><span class="sxs-lookup"><span data-stu-id="647de-262">does not generate this event when an application program ends a conversation with an error.</span></span>|  
|<span data-ttu-id="647de-263">5</span><span class="sxs-lookup"><span data-stu-id="647de-263">5</span></span>|<span data-ttu-id="647de-264">Terminate Dialog</span><span class="sxs-lookup"><span data-stu-id="647de-264">Terminate Dialog</span></span>|[!INCLUDE[ssSB](../../includes/sssb-md.md)] <span data-ttu-id="647de-265">ha terminato il dialogo.</span><span class="sxs-lookup"><span data-stu-id="647de-265">terminated the dialog.</span></span> [!INCLUDE[ssSB](../../includes/sssb-md.md)] <span data-ttu-id="647de-266">termina i dialoghi quando si verificano condizioni che ne impediscono la continuazione diverse da errori o dalla normale fine di una conversazione.</span><span class="sxs-lookup"><span data-stu-id="647de-266">terminates dialogs in response to conditions that prevent the dialog from continuing, but which are not errors or the normal end of a conversation.</span></span> <span data-ttu-id="647de-267">Ad esempio, l'eliminazione di un servizio causa la terminazione di tutti i dialoghi di tale servizio da parte di [!INCLUDE[ssSB](../../includes/sssb-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="647de-267">For example, dropping a service causes [!INCLUDE[ssSB](../../includes/sssb-md.md)] to terminate all dialogs for that service.</span></span>|  
|<span data-ttu-id="647de-268">6</span><span class="sxs-lookup"><span data-stu-id="647de-268">6</span></span>|<span data-ttu-id="647de-269">Received Sequenced Message</span><span class="sxs-lookup"><span data-stu-id="647de-269">Received Sequenced Message</span></span>|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]<span data-ttu-id="647de-270">genera una classe di evento **Received Sequenced Message** quando [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] riceve un messaggio contenente un numero di sequenza del messaggio.</span><span class="sxs-lookup"><span data-stu-id="647de-270">generates a **Received Sequenced Message** event class when [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] receives a message that contains a message sequence number.</span></span> <span data-ttu-id="647de-271">Tutti i tipi di messaggio definiti dall'utente sono messaggi in sequenza.</span><span class="sxs-lookup"><span data-stu-id="647de-271">All user-defined message types are sequenced messages.</span></span> [!INCLUDE[ssSB](../../includes/sssb-md.md)] <span data-ttu-id="647de-272">genera un messaggio non in sequenza in due casi:</span><span class="sxs-lookup"><span data-stu-id="647de-272">generates an unsequenced message in two cases:</span></span><br /><br /> <span data-ttu-id="647de-273">I messaggi di errore generati da [!INCLUDE[ssSB](../../includes/sssb-md.md)] non sono in sequenza.</span><span class="sxs-lookup"><span data-stu-id="647de-273">Error messages generated by [!INCLUDE[ssSB](../../includes/sssb-md.md)] are unsequenced.</span></span><br /><br /> <span data-ttu-id="647de-274">È possibile che gli acknowledgement dei messaggi siano non in sequenza.</span><span class="sxs-lookup"><span data-stu-id="647de-274">Message acknowledgements might be unsequenced.</span></span> <span data-ttu-id="647de-275">Per motivi di efficienza, [!INCLUDE[ssSB](../../includes/sssb-md.md)] include qualsiasi acknowledgement disponibile come parte di un messaggio in sequenza.</span><span class="sxs-lookup"><span data-stu-id="647de-275">For efficiency, [!INCLUDE[ssSB](../../includes/sssb-md.md)] includes message any available acknowledgement as part of a sequenced message .</span></span> <span data-ttu-id="647de-276">Se un'applicazione non invia un messaggio in sequenza all'endpoint remoto entro un determinato periodo di tempo, tuttavia, [!INCLUDE[ssSB](../../includes/sssb-md.md)] crea un messaggio non in sequenza per l'acknowledgement del messaggio.</span><span class="sxs-lookup"><span data-stu-id="647de-276">However, if an application does not send a sequenced message to the remote endpoint within a certain period of time, [!INCLUDE[ssSB](../../includes/sssb-md.md)] creates an unsequenced message for the message acknowledgement.</span></span>|  
|<span data-ttu-id="647de-277">7</span><span class="sxs-lookup"><span data-stu-id="647de-277">7</span></span>|<span data-ttu-id="647de-278">Received END CONVERSATION</span><span class="sxs-lookup"><span data-stu-id="647de-278">Received END CONVERSATION</span></span>|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="647de-279">genera un evento Received END CONVERSATION quando [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] riceve un messaggio di fine dialogo dall'altro lato della conversazione.</span><span class="sxs-lookup"><span data-stu-id="647de-279">generates a Received END CONVERSATION event when [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] receives an End Dialog message from the other side of the conversation.</span></span>|  
|<span data-ttu-id="647de-280">8</span><span class="sxs-lookup"><span data-stu-id="647de-280">8</span></span>|<span data-ttu-id="647de-281">Received END CONVERSATION WITH ERROR</span><span class="sxs-lookup"><span data-stu-id="647de-281">Received END CONVERSATION WITH ERROR</span></span>|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]<span data-ttu-id="647de-282">genera un evento **received end Conversation with Error** quando [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] riceve un errore definito dall'utente dall'altro lato della conversazione.</span><span class="sxs-lookup"><span data-stu-id="647de-282">generates a **Received END CONVERSATION WITH ERROR** event when [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] receives a user-defined error from the other side of the conversation.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="647de-283">non genera questo evento quando [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] riceve un errore definito dal broker.</span><span class="sxs-lookup"><span data-stu-id="647de-283">does not generate this event when [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] receives a broker-defined error.</span></span>|  
|<span data-ttu-id="647de-284">9</span><span class="sxs-lookup"><span data-stu-id="647de-284">9</span></span>|<span data-ttu-id="647de-285">Received Broker Error Message</span><span class="sxs-lookup"><span data-stu-id="647de-285">Received Broker Error Message</span></span>|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]<span data-ttu-id="647de-286">genera un evento **Received Broker Error Message** quando [!INCLUDE[ssSB](../../includes/sssb-md.md)] riceve un messaggio di errore definito dal broker dall'altro lato della conversazione.</span><span class="sxs-lookup"><span data-stu-id="647de-286">generates a **Received Broker Error Message** event when [!INCLUDE[ssSB](../../includes/sssb-md.md)] receives a broker-defined error message from the other side of the conversation.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="647de-287">non genera questo evento quando [!INCLUDE[ssSB](../../includes/sssb-md.md)] riceve un messaggio di errore generato da un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="647de-287">does not generate this event when [!INCLUDE[ssSB](../../includes/sssb-md.md)] receives an error message that was generated by an application.</span></span><br /><br /> <span data-ttu-id="647de-288">Se il database corrente contiene una route predefinita per un database di inoltro, ad esempio, [!INCLUDE[ssSB](../../includes/sssb-md.md)] esegue il routing di un messaggio con un nome di servizio sconosciuto al database di inoltro.</span><span class="sxs-lookup"><span data-stu-id="647de-288">For example, if the current database contains a default route to a forwarding database, [!INCLUDE[ssSB](../../includes/sssb-md.md)] routes a message with an unknown service name to the forwarding database.</span></span> <span data-ttu-id="647de-289">Se il database di inoltro non è in grado di eseguire il routing del messaggio, l'istanza di Service Broker di quel database crea un messaggio di errore e lo restituisce al database corrente.</span><span class="sxs-lookup"><span data-stu-id="647de-289">If that database cannot route the message, the broker in that database creates an error message and returns that error message to the current database.</span></span> <span data-ttu-id="647de-290">Quando il database corrente riceve il messaggio generato dal broker dal database di inoltro, genera un evento **Received Broker Error Message** .</span><span class="sxs-lookup"><span data-stu-id="647de-290">When the current database receives the broker-generated error from the forwarding database, the current database generates a **Received Broker Error Message** event.</span></span>|  
|<span data-ttu-id="647de-291">10</span><span class="sxs-lookup"><span data-stu-id="647de-291">10</span></span>|<span data-ttu-id="647de-292">Received END CONVERSATION Ack</span><span class="sxs-lookup"><span data-stu-id="647de-292">Received END CONVERSATION Ack</span></span>|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]<span data-ttu-id="647de-293">genera una classe di evento **Received END CONVERSATION Ack** quando l'altro lato di una conversazione riconosce una finestra di dialogo di fine o un messaggio di errore inviato da questo lato della conversazione.</span><span class="sxs-lookup"><span data-stu-id="647de-293">generates a **Received END CONVERSATION Ack** event class when the other side of a conversation acknowledges an End Dialog or Error message sent by this side of the conversation.</span></span>|  
|<span data-ttu-id="647de-294">11</span><span class="sxs-lookup"><span data-stu-id="647de-294">11</span></span>|<span data-ttu-id="647de-295">BEGIN DIALOG</span><span class="sxs-lookup"><span data-stu-id="647de-295">BEGIN DIALOG</span></span>|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]<span data-ttu-id="647de-296">genera un evento **BEGIN DIALOG** quando il motore di database esegue un comando BEGIN DIALOG.</span><span class="sxs-lookup"><span data-stu-id="647de-296">generates a **BEGIN DIALOG** event when the Database Engine executes a BEGIN DIALOG command.</span></span>|  
|<span data-ttu-id="647de-297">12</span><span class="sxs-lookup"><span data-stu-id="647de-297">12</span></span>|<span data-ttu-id="647de-298">Dialog Created</span><span class="sxs-lookup"><span data-stu-id="647de-298">Dialog Created</span></span>|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]<span data-ttu-id="647de-299">genera un evento **Dialog created** quando [!INCLUDE[ssSB](../../includes/sssb-md.md)] Crea un endpoint per una finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="647de-299">generates a **Dialog Created** event when [!INCLUDE[ssSB](../../includes/sssb-md.md)] creates an endpoint for a dialog.</span></span> [!INCLUDE[ssSB](../../includes/sssb-md.md)] <span data-ttu-id="647de-300">crea un endpoint ogni volta che viene stabilito un nuovo dialogo, indipendentemente dal fatto che il database corrente sia l'iniziatore o la destinazione del dialogo.</span><span class="sxs-lookup"><span data-stu-id="647de-300">creates an endpoint whenever a new dialog is established, regardless of whether the current database is the initiator or the target of the dialog.</span></span>|  
|<span data-ttu-id="647de-301">13</span><span class="sxs-lookup"><span data-stu-id="647de-301">13</span></span>|<span data-ttu-id="647de-302">END CONVERSATION WITH CLEANUP</span><span class="sxs-lookup"><span data-stu-id="647de-302">END CONVERSATION WITH CLEANUP</span></span>|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="647de-303">genera un evento END CONVERSATION WITH CLEANUP quando il [!INCLUDE[ssDE](../../includes/ssde-md.md)] esegue un'istruzione END CONVERSATION che include la clausola WITH CLEANUP.</span><span class="sxs-lookup"><span data-stu-id="647de-303">generates an END CONVERSATION WITH CLEANUP event when the [!INCLUDE[ssDE](../../includes/ssde-md.md)] executes an END CONVERSATION statement that includes the WITH CLEANUP clause.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="647de-304">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="647de-304">See Also</span></span>  
 [<span data-ttu-id="647de-305">SQL Server Service Broker</span><span class="sxs-lookup"><span data-stu-id="647de-305">SQL Server Service Broker</span></span>](../../database-engine/configure-windows/sql-server-service-broker.md)  
  
  
