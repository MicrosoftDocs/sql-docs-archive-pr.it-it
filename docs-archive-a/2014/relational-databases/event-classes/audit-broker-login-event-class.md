---
title: Classe di evento Audit Broker Login | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: supportability
ms.topic: conceptual
topic_type:
- apiref
helpviewer_keywords:
- Audit Broker Login event class
ms.assetid: af9b1153-2791-40ef-a95c-50923cd0cc97
author: stevestein
ms.author: sstein
ms.openlocfilehash: 200ef467f5c1fc64e4d5056cb60fc442ec998f77
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87716356"
---
# <a name="audit-broker-login-event-class"></a><span data-ttu-id="07d79-102">Audit Broker Login - classe di evento</span><span class="sxs-lookup"><span data-stu-id="07d79-102">Audit Broker Login Event Class</span></span>
  [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="07d79-103">crea un evento **Audit Broker Login** per indicare i messaggi di controllo correlati alla sicurezza del trasporto di Service Broker.</span><span class="sxs-lookup"><span data-stu-id="07d79-103">creates an **Audit Broker Login** event to report audit messages related to Service Broker transport security.</span></span>  
  
## <a name="audit-broker-login-event-class-data-columns"></a><span data-ttu-id="07d79-104">Colonne di dati della classe di evento Audit Broker Login</span><span class="sxs-lookup"><span data-stu-id="07d79-104">Audit Broker Login Event Class Data Columns</span></span>  
  
|<span data-ttu-id="07d79-105">Colonna di dati</span><span class="sxs-lookup"><span data-stu-id="07d79-105">Data column</span></span>|<span data-ttu-id="07d79-106">Type</span><span class="sxs-lookup"><span data-stu-id="07d79-106">Type</span></span>|<span data-ttu-id="07d79-107">Descrizione</span><span class="sxs-lookup"><span data-stu-id="07d79-107">Description</span></span>|<span data-ttu-id="07d79-108">Numero di colonna</span><span class="sxs-lookup"><span data-stu-id="07d79-108">Column number</span></span>|<span data-ttu-id="07d79-109">Filtrabile</span><span class="sxs-lookup"><span data-stu-id="07d79-109">Filterable</span></span>|  
|-----------------|----------|-----------------|-------------------|----------------|  
|<span data-ttu-id="07d79-110">**ApplicationName**</span><span class="sxs-lookup"><span data-stu-id="07d79-110">**ApplicationName**</span></span>|<span data-ttu-id="07d79-111">**nvarchar**</span><span class="sxs-lookup"><span data-stu-id="07d79-111">**nvarchar**</span></span>|<span data-ttu-id="07d79-112">Non utilizzata per questa classe di evento.</span><span class="sxs-lookup"><span data-stu-id="07d79-112">Unused in this event class.</span></span>|<span data-ttu-id="07d79-113">10</span><span class="sxs-lookup"><span data-stu-id="07d79-113">10</span></span>|<span data-ttu-id="07d79-114">Sì</span><span class="sxs-lookup"><span data-stu-id="07d79-114">Yes</span></span>|  
|<span data-ttu-id="07d79-115">**ClientProcessID**</span><span class="sxs-lookup"><span data-stu-id="07d79-115">**ClientProcessID**</span></span>|<span data-ttu-id="07d79-116">**int**</span><span class="sxs-lookup"><span data-stu-id="07d79-116">**int**</span></span>|<span data-ttu-id="07d79-117">Non utilizzata per questa classe di evento.</span><span class="sxs-lookup"><span data-stu-id="07d79-117">Unused in this event class.</span></span>|<span data-ttu-id="07d79-118">9</span><span class="sxs-lookup"><span data-stu-id="07d79-118">9</span></span>|<span data-ttu-id="07d79-119">Sì</span><span class="sxs-lookup"><span data-stu-id="07d79-119">Yes</span></span>|  
|<span data-ttu-id="07d79-120">**DatabaseID**</span><span class="sxs-lookup"><span data-stu-id="07d79-120">**DatabaseID**</span></span>|<span data-ttu-id="07d79-121">**int**</span><span class="sxs-lookup"><span data-stu-id="07d79-121">**int**</span></span>|[!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] <span data-ttu-id="07d79-122">visualizza il nome del database se la colonna di dati **ServerName** è acquisita nella traccia e il server è disponibile.</span><span class="sxs-lookup"><span data-stu-id="07d79-122">displays the name of the database if the **ServerName** data column is captured in the trace and the server is available.</span></span> <span data-ttu-id="07d79-123">Determinare il valore per un database utilizzando la funzione DB_ID.</span><span class="sxs-lookup"><span data-stu-id="07d79-123">Determine the value for a database by using the DB_ID function.</span></span>|<span data-ttu-id="07d79-124">3</span><span class="sxs-lookup"><span data-stu-id="07d79-124">3</span></span>|<span data-ttu-id="07d79-125">Sì</span><span class="sxs-lookup"><span data-stu-id="07d79-125">Yes</span></span>|  
|<span data-ttu-id="07d79-126">**EventClass**</span><span class="sxs-lookup"><span data-stu-id="07d79-126">**EventClass**</span></span>|<span data-ttu-id="07d79-127">**int**</span><span class="sxs-lookup"><span data-stu-id="07d79-127">**int**</span></span>|<span data-ttu-id="07d79-128">Tipo di classe di evento acquisita.</span><span class="sxs-lookup"><span data-stu-id="07d79-128">The type of event class captured.</span></span> <span data-ttu-id="07d79-129">Per **Audit Broker Login** corrisponde sempre a **159**.</span><span class="sxs-lookup"><span data-stu-id="07d79-129">Always **159** for **Audit Broker Login**.</span></span>|<span data-ttu-id="07d79-130">27</span><span class="sxs-lookup"><span data-stu-id="07d79-130">27</span></span>|<span data-ttu-id="07d79-131">No</span><span class="sxs-lookup"><span data-stu-id="07d79-131">No</span></span>|  
|<span data-ttu-id="07d79-132">**EventSequence**</span><span class="sxs-lookup"><span data-stu-id="07d79-132">**EventSequence**</span></span>|<span data-ttu-id="07d79-133">**int**</span><span class="sxs-lookup"><span data-stu-id="07d79-133">**int**</span></span>|<span data-ttu-id="07d79-134">Numero di sequenza dell'evento.</span><span class="sxs-lookup"><span data-stu-id="07d79-134">Sequence number for this event.</span></span>|<span data-ttu-id="07d79-135">51</span><span class="sxs-lookup"><span data-stu-id="07d79-135">51</span></span>|<span data-ttu-id="07d79-136">No</span><span class="sxs-lookup"><span data-stu-id="07d79-136">No</span></span>|  
|<span data-ttu-id="07d79-137">**EventSubClass**</span><span class="sxs-lookup"><span data-stu-id="07d79-137">**EventSubClass**</span></span>|<span data-ttu-id="07d79-138">**int**</span><span class="sxs-lookup"><span data-stu-id="07d79-138">**int**</span></span>|<span data-ttu-id="07d79-139">Tipo di sottoclasse di evento in cui sono disponibili informazioni aggiuntive su ogni classe di evento.</span><span class="sxs-lookup"><span data-stu-id="07d79-139">The type of event subclass, providing further information about each event class.</span></span> <span data-ttu-id="07d79-140">Nella tabella seguente sono elencati i valori di sottoclasse per questo evento.</span><span class="sxs-lookup"><span data-stu-id="07d79-140">The table below lists the event subclass values for this event.</span></span>|<span data-ttu-id="07d79-141">21</span><span class="sxs-lookup"><span data-stu-id="07d79-141">21</span></span>|<span data-ttu-id="07d79-142">Sì</span><span class="sxs-lookup"><span data-stu-id="07d79-142">Yes</span></span>|  
|<span data-ttu-id="07d79-143">**FileName**</span><span class="sxs-lookup"><span data-stu-id="07d79-143">**FileName**</span></span>|<span data-ttu-id="07d79-144">**nvarchar**</span><span class="sxs-lookup"><span data-stu-id="07d79-144">**nvarchar**</span></span>|<span data-ttu-id="07d79-145">Livello di autenticazione dell'istanza remota di Service Broker.</span><span class="sxs-lookup"><span data-stu-id="07d79-145">Remote broker authentication level.</span></span> <span data-ttu-id="07d79-146">Metodo di autenticazione supportato configurato nell'endpoint dell'istanza remota di Service Broker.</span><span class="sxs-lookup"><span data-stu-id="07d79-146">Supported authentication method configured on the remote broker endpoint.</span></span> <span data-ttu-id="07d79-147">Se è disponibile più di un metodo, l'endpoint di accettazione (destinazione) determina quale metodo viene utilizzato per primo.</span><span class="sxs-lookup"><span data-stu-id="07d79-147">When more than one method is available, the accepting (target) endpoint determines which method is tried first.</span></span> <span data-ttu-id="07d79-148">I valori possibili sono:</span><span class="sxs-lookup"><span data-stu-id="07d79-148">Possible values are:</span></span><br /><br /> <span data-ttu-id="07d79-149">**Nessuno**.</span><span class="sxs-lookup"><span data-stu-id="07d79-149">**None**.</span></span> <span data-ttu-id="07d79-150">Non è configurato alcun metodo di autenticazione.</span><span class="sxs-lookup"><span data-stu-id="07d79-150">No authentication method is configured.</span></span><br /><br /> <span data-ttu-id="07d79-151">**NTLM**.</span><span class="sxs-lookup"><span data-stu-id="07d79-151">**NTLM**.</span></span> <span data-ttu-id="07d79-152">Richiede un'autenticazione NTLM.</span><span class="sxs-lookup"><span data-stu-id="07d79-152">Requires NTLM authentication.</span></span><br /><br /> <span data-ttu-id="07d79-153">**KERBEROS**.</span><span class="sxs-lookup"><span data-stu-id="07d79-153">**KERBEROS**.</span></span> <span data-ttu-id="07d79-154">Richiede un'autenticazione Kerberos.</span><span class="sxs-lookup"><span data-stu-id="07d79-154">Requires Kerberos authentication.</span></span><br /><br /> <span data-ttu-id="07d79-155">**NEGOTIATE**.</span><span class="sxs-lookup"><span data-stu-id="07d79-155">**NEGOTIATE**.</span></span> <span data-ttu-id="07d79-156">Il metodo di autenticazione viene negoziato da Windows.</span><span class="sxs-lookup"><span data-stu-id="07d79-156">Windows negotiates the authentication method.</span></span><br /><br /> <span data-ttu-id="07d79-157">**CERTIFICATE**.</span><span class="sxs-lookup"><span data-stu-id="07d79-157">**CERTIFICATE**.</span></span> <span data-ttu-id="07d79-158">Richiede il certificato configurato per l'endpoint, archiviato nel database **master** .</span><span class="sxs-lookup"><span data-stu-id="07d79-158">Requires the certificate configured for the endpoint, which is stored in the **master** database.</span></span><br /><br /> <span data-ttu-id="07d79-159">**NTLM, CERTIFICATE**.</span><span class="sxs-lookup"><span data-stu-id="07d79-159">**NTLM, CERTIFICATE**.</span></span> <span data-ttu-id="07d79-160">Accetta l'autenticazione NTLM o basata sul certificato SSL.</span><span class="sxs-lookup"><span data-stu-id="07d79-160">Accepts NTLM or SSL certificate authentication.</span></span><br /><br /> <span data-ttu-id="07d79-161">**KERBEROS, CERTIFICATE**.</span><span class="sxs-lookup"><span data-stu-id="07d79-161">**KERBEROS, CERTIFICATE**.</span></span> <span data-ttu-id="07d79-162">Accetta l'autenticazione Kerberos o basata sul certificato dell'endpoint.</span><span class="sxs-lookup"><span data-stu-id="07d79-162">Accepts Kerberos or the endpoint certificate authentication.</span></span><br /><br /> <span data-ttu-id="07d79-163">**NEGOTIATE, CERTIFICATE**.</span><span class="sxs-lookup"><span data-stu-id="07d79-163">**NEGOTIATE, CERTIFICATE**.</span></span> <span data-ttu-id="07d79-164">Il metodo di autenticazione viene negoziato da Windows oppure per l'autenticazione può essere utilizzato un certificato dell'endpoint.</span><span class="sxs-lookup"><span data-stu-id="07d79-164">Windows negotiates the authentication method or an endpoint certificate can be used for authentication.</span></span><br /><br /> <span data-ttu-id="07d79-165">**CERTIFICATE, NTLM**.</span><span class="sxs-lookup"><span data-stu-id="07d79-165">**CERTIFICATE, NTLM**.</span></span> <span data-ttu-id="07d79-166">Accetta un certificato dell'endpoint o un'autenticazione NTLM.</span><span class="sxs-lookup"><span data-stu-id="07d79-166">Accepts an endpoint certificate or NTLM for authentication.</span></span><br /><br /> <span data-ttu-id="07d79-167">**CERTIFICATE, KERBEROS**.</span><span class="sxs-lookup"><span data-stu-id="07d79-167">**CERTIFICATE, KERBEROS**.</span></span> <span data-ttu-id="07d79-168">Accetta il certificato di un endpoint o l'autenticazione Kerberos.</span><span class="sxs-lookup"><span data-stu-id="07d79-168">Accepts an endpoint certificate or Kerberos for authentication.</span></span><br /><br /> <span data-ttu-id="07d79-169">**CERTIFICATE, NEGOTIATE**.</span><span class="sxs-lookup"><span data-stu-id="07d79-169">**CERTIFICATE, NEGOTIATE**.</span></span> <span data-ttu-id="07d79-170">Accetta il certificato di un endpoint, oppure il metodo di autenticazione è negoziato da Windows.</span><span class="sxs-lookup"><span data-stu-id="07d79-170">Accepts an endpoint certificate for authentication or Windows negotiates the authentication method..</span></span>|<span data-ttu-id="07d79-171">36</span><span class="sxs-lookup"><span data-stu-id="07d79-171">36</span></span>|<span data-ttu-id="07d79-172">No</span><span class="sxs-lookup"><span data-stu-id="07d79-172">No</span></span>|  
|<span data-ttu-id="07d79-173">**HostName**</span><span class="sxs-lookup"><span data-stu-id="07d79-173">**HostName**</span></span>|<span data-ttu-id="07d79-174">**nvarchar**</span><span class="sxs-lookup"><span data-stu-id="07d79-174">**nvarchar**</span></span>|<span data-ttu-id="07d79-175">Non utilizzata per questa classe di evento.</span><span class="sxs-lookup"><span data-stu-id="07d79-175">Unused in this event class.</span></span>|<span data-ttu-id="07d79-176">8</span><span class="sxs-lookup"><span data-stu-id="07d79-176">8</span></span>|<span data-ttu-id="07d79-177">Sì</span><span class="sxs-lookup"><span data-stu-id="07d79-177">Yes</span></span>|  
|<span data-ttu-id="07d79-178">**IsSystem**</span><span class="sxs-lookup"><span data-stu-id="07d79-178">**IsSystem**</span></span>|<span data-ttu-id="07d79-179">**int**</span><span class="sxs-lookup"><span data-stu-id="07d79-179">**int**</span></span>|<span data-ttu-id="07d79-180">Indica se l'evento è stato generato per un processo di sistema o un processo utente.</span><span class="sxs-lookup"><span data-stu-id="07d79-180">Indicates whether the event occurred on a system process or a user process.</span></span> <span data-ttu-id="07d79-181">1 = sistema, 0 = utente.</span><span class="sxs-lookup"><span data-stu-id="07d79-181">1 = system, 0 = user.</span></span>|<span data-ttu-id="07d79-182">60</span><span class="sxs-lookup"><span data-stu-id="07d79-182">60</span></span>|<span data-ttu-id="07d79-183">No</span><span class="sxs-lookup"><span data-stu-id="07d79-183">No</span></span>|  
|<span data-ttu-id="07d79-184">**LoginSid**</span><span class="sxs-lookup"><span data-stu-id="07d79-184">**LoginSid**</span></span>|<span data-ttu-id="07d79-185">**image**</span><span class="sxs-lookup"><span data-stu-id="07d79-185">**image**</span></span>|<span data-ttu-id="07d79-186">ID di sicurezza (SID) dell'utente connesso.</span><span class="sxs-lookup"><span data-stu-id="07d79-186">The security identification number (SID) of the logged-in user.</span></span> <span data-ttu-id="07d79-187">Il SID è univoco per ogni account di accesso nel server.</span><span class="sxs-lookup"><span data-stu-id="07d79-187">Each SID is unique for each login in the server.</span></span>|<span data-ttu-id="07d79-188">41</span><span class="sxs-lookup"><span data-stu-id="07d79-188">41</span></span>|<span data-ttu-id="07d79-189">Sì</span><span class="sxs-lookup"><span data-stu-id="07d79-189">Yes</span></span>|  
|<span data-ttu-id="07d79-190">**NTDomainName**</span><span class="sxs-lookup"><span data-stu-id="07d79-190">**NTDomainName**</span></span>|<span data-ttu-id="07d79-191">**nvarchar**</span><span class="sxs-lookup"><span data-stu-id="07d79-191">**nvarchar**</span></span>|<span data-ttu-id="07d79-192">Dominio di Windows a cui appartiene l'utente.</span><span class="sxs-lookup"><span data-stu-id="07d79-192">The Windows domain to which the user belongs.</span></span>|<span data-ttu-id="07d79-193">7</span><span class="sxs-lookup"><span data-stu-id="07d79-193">7</span></span>|<span data-ttu-id="07d79-194">Sì</span><span class="sxs-lookup"><span data-stu-id="07d79-194">Yes</span></span>|  
|<span data-ttu-id="07d79-195">**NTUserName**</span><span class="sxs-lookup"><span data-stu-id="07d79-195">**NTUserName**</span></span>|<span data-ttu-id="07d79-196">**nvarchar**</span><span class="sxs-lookup"><span data-stu-id="07d79-196">**nvarchar**</span></span>|<span data-ttu-id="07d79-197">Nome dell'utente proprietario della connessione che ha generato questo evento.</span><span class="sxs-lookup"><span data-stu-id="07d79-197">The name of the user that owns the connection that generated this event.</span></span>|<span data-ttu-id="07d79-198">6</span><span class="sxs-lookup"><span data-stu-id="07d79-198">6</span></span>|<span data-ttu-id="07d79-199">Sì</span><span class="sxs-lookup"><span data-stu-id="07d79-199">Yes</span></span>|  
|<span data-ttu-id="07d79-200">**ObjectName**</span><span class="sxs-lookup"><span data-stu-id="07d79-200">**ObjectName**</span></span>|<span data-ttu-id="07d79-201">**nvarchar**</span><span class="sxs-lookup"><span data-stu-id="07d79-201">**nvarchar**</span></span>|<span data-ttu-id="07d79-202">La stringa di connessione utilizzata per questa connessione.</span><span class="sxs-lookup"><span data-stu-id="07d79-202">The connect string used for this connection.</span></span>|<span data-ttu-id="07d79-203">34</span><span class="sxs-lookup"><span data-stu-id="07d79-203">34</span></span>|<span data-ttu-id="07d79-204">No</span><span class="sxs-lookup"><span data-stu-id="07d79-204">No</span></span>|  
|<span data-ttu-id="07d79-205">**OwnerName**</span><span class="sxs-lookup"><span data-stu-id="07d79-205">**OwnerName**</span></span>|<span data-ttu-id="07d79-206">**nvarchar**</span><span class="sxs-lookup"><span data-stu-id="07d79-206">**nvarchar**</span></span>|<span data-ttu-id="07d79-207">Metodo di autenticazione supportato configurato nell'endpoint dell'istanza locale di Service Broker.</span><span class="sxs-lookup"><span data-stu-id="07d79-207">Supported authentication method configured on the local broker endpoint.</span></span> <span data-ttu-id="07d79-208">Se è disponibile più di un metodo, l'endpoint di accettazione (destinazione) determina quale metodo viene utilizzato per primo.</span><span class="sxs-lookup"><span data-stu-id="07d79-208">When more than one method is available, the accepting (target) endpoint determines which method is tried first.</span></span> <span data-ttu-id="07d79-209">I valori possibili sono:</span><span class="sxs-lookup"><span data-stu-id="07d79-209">Possible values are:</span></span><br /><br /> <span data-ttu-id="07d79-210">**Nessuno**.</span><span class="sxs-lookup"><span data-stu-id="07d79-210">**None**.</span></span> <span data-ttu-id="07d79-211">Non è configurato alcun metodo di autenticazione.</span><span class="sxs-lookup"><span data-stu-id="07d79-211">No authentication method is configured.</span></span><br /><br /> <span data-ttu-id="07d79-212">**NTLM**.</span><span class="sxs-lookup"><span data-stu-id="07d79-212">**NTLM**.</span></span> <span data-ttu-id="07d79-213">Richiede un'autenticazione NTLM.</span><span class="sxs-lookup"><span data-stu-id="07d79-213">Requires NTLM authentication.</span></span><br /><br /> <span data-ttu-id="07d79-214">**KERBEROS**.</span><span class="sxs-lookup"><span data-stu-id="07d79-214">**KERBEROS**.</span></span> <span data-ttu-id="07d79-215">Richiede un'autenticazione Kerberos.</span><span class="sxs-lookup"><span data-stu-id="07d79-215">Requires Kerberos authentication.</span></span><br /><br /> <span data-ttu-id="07d79-216">**NEGOTIATE**.</span><span class="sxs-lookup"><span data-stu-id="07d79-216">**NEGOTIATE**.</span></span> <span data-ttu-id="07d79-217">Il metodo di autenticazione viene negoziato da Windows.</span><span class="sxs-lookup"><span data-stu-id="07d79-217">Windows negotiates the authentication method.</span></span><br /><br /> <span data-ttu-id="07d79-218">**CERTIFICATE**.</span><span class="sxs-lookup"><span data-stu-id="07d79-218">**CERTIFICATE**.</span></span> <span data-ttu-id="07d79-219">Richiede il certificato configurato per l'endpoint, archiviato nel database **master** .</span><span class="sxs-lookup"><span data-stu-id="07d79-219">Requires the certificate configured for the endpoint, which is stored in the **master** database.</span></span><br /><br /> <span data-ttu-id="07d79-220">**NTLM, CERTIFICATE**.</span><span class="sxs-lookup"><span data-stu-id="07d79-220">**NTLM, CERTIFICATE**.</span></span> <span data-ttu-id="07d79-221">Accetta l'autenticazione NTLM o basata sul certificato SSL.</span><span class="sxs-lookup"><span data-stu-id="07d79-221">Accepts NTLM or SSL certificate authentication.</span></span><br /><br /> <span data-ttu-id="07d79-222">**KERBEROS, CERTIFICATE**.</span><span class="sxs-lookup"><span data-stu-id="07d79-222">**KERBEROS, CERTIFICATE**.</span></span> <span data-ttu-id="07d79-223">Accetta l'autenticazione Kerberos o basata sul certificato dell'endpoint.</span><span class="sxs-lookup"><span data-stu-id="07d79-223">Accepts Kerberos or the endpoint certificate authentication.</span></span><br /><br /> <span data-ttu-id="07d79-224">**NEGOTIATE, CERTIFICATE**.</span><span class="sxs-lookup"><span data-stu-id="07d79-224">**NEGOTIATE, CERTIFICATE**.</span></span> <span data-ttu-id="07d79-225">Il metodo di autenticazione viene negoziato da Windows oppure per l'autenticazione può essere utilizzato un certificato dell'endpoint.</span><span class="sxs-lookup"><span data-stu-id="07d79-225">Windows negotiates the authentication method or an endpoint certificate can be used for authentication.</span></span><br /><br /> <span data-ttu-id="07d79-226">**CERTIFICATE, NTLM**.</span><span class="sxs-lookup"><span data-stu-id="07d79-226">**CERTIFICATE, NTLM**.</span></span> <span data-ttu-id="07d79-227">Accetta il certificato di un endpoint o l'autenticazione NTLM.</span><span class="sxs-lookup"><span data-stu-id="07d79-227">Accepts an endpoint certificate or for NTLM authentication.</span></span><br /><br /> <span data-ttu-id="07d79-228">**CERTIFICATE, KERBEROS**.</span><span class="sxs-lookup"><span data-stu-id="07d79-228">**CERTIFICATE, KERBEROS**.</span></span> <span data-ttu-id="07d79-229">Accetta il certificato di un endpoint o l'autenticazione Kerberos.</span><span class="sxs-lookup"><span data-stu-id="07d79-229">Accepts an endpoint certificate or Kerberos for authentication.</span></span><br /><br /> <span data-ttu-id="07d79-230">**CERTIFICATE, NEGOTIATE**.</span><span class="sxs-lookup"><span data-stu-id="07d79-230">**CERTIFICATE, NEGOTIATE**.</span></span> <span data-ttu-id="07d79-231">Accetta il certificato di un endpoint, oppure il metodo di autenticazione è negoziato da Windows.</span><span class="sxs-lookup"><span data-stu-id="07d79-231">Accepts an endpoint certificate for authentication or Windows negotiates the authentication method..</span></span>|<span data-ttu-id="07d79-232">37</span><span class="sxs-lookup"><span data-stu-id="07d79-232">37</span></span>|<span data-ttu-id="07d79-233">No</span><span class="sxs-lookup"><span data-stu-id="07d79-233">No</span></span>|  
|<span data-ttu-id="07d79-234">**ProviderName**</span><span class="sxs-lookup"><span data-stu-id="07d79-234">**ProviderName**</span></span>|<span data-ttu-id="07d79-235">**nvarchar**</span><span class="sxs-lookup"><span data-stu-id="07d79-235">**nvarchar**</span></span>|<span data-ttu-id="07d79-236">Metodo di autenticazione utilizzato per la connessione.</span><span class="sxs-lookup"><span data-stu-id="07d79-236">The authentication method used for this connection</span></span>|<span data-ttu-id="07d79-237">46</span><span class="sxs-lookup"><span data-stu-id="07d79-237">46</span></span>|<span data-ttu-id="07d79-238">No</span><span class="sxs-lookup"><span data-stu-id="07d79-238">No</span></span>|  
|<span data-ttu-id="07d79-239">**RoleName**</span><span class="sxs-lookup"><span data-stu-id="07d79-239">**RoleName**</span></span>|<span data-ttu-id="07d79-240">**nvarchar**</span><span class="sxs-lookup"><span data-stu-id="07d79-240">**nvarchar**</span></span>|<span data-ttu-id="07d79-241">Ruolo della connessione.</span><span class="sxs-lookup"><span data-stu-id="07d79-241">The role of the connection.</span></span> <span data-ttu-id="07d79-242">I valori possibili sono **initiator** o **target**.</span><span class="sxs-lookup"><span data-stu-id="07d79-242">This is either **initiator** or **target**.</span></span>|<span data-ttu-id="07d79-243">38</span><span class="sxs-lookup"><span data-stu-id="07d79-243">38</span></span>|<span data-ttu-id="07d79-244">No</span><span class="sxs-lookup"><span data-stu-id="07d79-244">No</span></span>|  
|<span data-ttu-id="07d79-245">**ServerName**</span><span class="sxs-lookup"><span data-stu-id="07d79-245">**ServerName**</span></span>|<span data-ttu-id="07d79-246">**nvarchar**</span><span class="sxs-lookup"><span data-stu-id="07d79-246">**nvarchar**</span></span>|<span data-ttu-id="07d79-247">Nome dell'istanza di SQL Server tracciata.</span><span class="sxs-lookup"><span data-stu-id="07d79-247">The name of the instance of SQL Server being traced.</span></span>|<span data-ttu-id="07d79-248">26</span><span class="sxs-lookup"><span data-stu-id="07d79-248">26</span></span>|<span data-ttu-id="07d79-249">No</span><span class="sxs-lookup"><span data-stu-id="07d79-249">No</span></span>|  
|<span data-ttu-id="07d79-250">**SPID**</span><span class="sxs-lookup"><span data-stu-id="07d79-250">**SPID**</span></span>|<span data-ttu-id="07d79-251">**int**</span><span class="sxs-lookup"><span data-stu-id="07d79-251">**int**</span></span>|<span data-ttu-id="07d79-252">ID del processo server assegnato da SQL Server al processo associato al client.</span><span class="sxs-lookup"><span data-stu-id="07d79-252">The server process ID assigned by SQL Server to the process associated with the client.</span></span>|<span data-ttu-id="07d79-253">12</span><span class="sxs-lookup"><span data-stu-id="07d79-253">12</span></span>|<span data-ttu-id="07d79-254">Sì</span><span class="sxs-lookup"><span data-stu-id="07d79-254">Yes</span></span>|  
|<span data-ttu-id="07d79-255">**StartTime**</span><span class="sxs-lookup"><span data-stu-id="07d79-255">**StartTime**</span></span>|<span data-ttu-id="07d79-256">**datetime**</span><span class="sxs-lookup"><span data-stu-id="07d79-256">**datetime**</span></span>|<span data-ttu-id="07d79-257">Ora di inizio dell'evento, se disponibile.</span><span class="sxs-lookup"><span data-stu-id="07d79-257">The time at which the event started, when available.</span></span>|<span data-ttu-id="07d79-258">14</span><span class="sxs-lookup"><span data-stu-id="07d79-258">14</span></span>|<span data-ttu-id="07d79-259">Sì</span><span class="sxs-lookup"><span data-stu-id="07d79-259">Yes</span></span>|  
|<span data-ttu-id="07d79-260">**State**</span><span class="sxs-lookup"><span data-stu-id="07d79-260">**State**</span></span>|<span data-ttu-id="07d79-261">**int**</span><span class="sxs-lookup"><span data-stu-id="07d79-261">**int**</span></span>|<span data-ttu-id="07d79-262">Indica il punto del codice sorgente di SQL Server che ha generato l'evento.</span><span class="sxs-lookup"><span data-stu-id="07d79-262">Indicates the location within the SQL Server source code that produced the event.</span></span> <span data-ttu-id="07d79-263">Ogni punto che può generare questo evento è contraddistinto da un codice di stato diverso.</span><span class="sxs-lookup"><span data-stu-id="07d79-263">Each location that may produce this event has a different state code.</span></span> <span data-ttu-id="07d79-264">Questo codice di stato consente al supporto tecnico Microsoft di individuare la posizione in cui è stato generato l'evento.</span><span class="sxs-lookup"><span data-stu-id="07d79-264">A Microsoft support engineer can use this state code to find where the event was produced.</span></span>|<span data-ttu-id="07d79-265">30</span><span class="sxs-lookup"><span data-stu-id="07d79-265">30</span></span>|<span data-ttu-id="07d79-266">No</span><span class="sxs-lookup"><span data-stu-id="07d79-266">No</span></span>|  
|<span data-ttu-id="07d79-267">**TargetUserName**</span><span class="sxs-lookup"><span data-stu-id="07d79-267">**TargetUserName**</span></span>|<span data-ttu-id="07d79-268">**nvarchar**</span><span class="sxs-lookup"><span data-stu-id="07d79-268">**nvarchar**</span></span>|<span data-ttu-id="07d79-269">Stato di accesso.</span><span class="sxs-lookup"><span data-stu-id="07d79-269">Login state.</span></span> <span data-ttu-id="07d79-270">Uno dei valori possibili:</span><span class="sxs-lookup"><span data-stu-id="07d79-270">One of:</span></span><br /><br /> <span data-ttu-id="07d79-271">INITIAL</span><span class="sxs-lookup"><span data-stu-id="07d79-271">INITIAL</span></span><br /><br /> <span data-ttu-id="07d79-272">WAIT LOGIN NEGOTIATE</span><span class="sxs-lookup"><span data-stu-id="07d79-272">WAIT LOGIN NEGOTIATE</span></span><br /><br /> <span data-ttu-id="07d79-273">ONE ISC</span><span class="sxs-lookup"><span data-stu-id="07d79-273">ONE ISC</span></span><br /><br /> <span data-ttu-id="07d79-274">ONE ASC</span><span class="sxs-lookup"><span data-stu-id="07d79-274">ONE ASC</span></span><br /><br /> <span data-ttu-id="07d79-275">TWO ISC</span><span class="sxs-lookup"><span data-stu-id="07d79-275">TWO ISC</span></span><br /><br /> <span data-ttu-id="07d79-276">TWO ASC</span><span class="sxs-lookup"><span data-stu-id="07d79-276">TWO ASC</span></span><br /><br /> <span data-ttu-id="07d79-277">WAIT ISC Confirm</span><span class="sxs-lookup"><span data-stu-id="07d79-277">WAIT ISC Confirm</span></span><br /><br /> <span data-ttu-id="07d79-278">WAIT ASC Confirm</span><span class="sxs-lookup"><span data-stu-id="07d79-278">WAIT ASC Confirm</span></span><br /><br /> <span data-ttu-id="07d79-279">WAIT REJECT</span><span class="sxs-lookup"><span data-stu-id="07d79-279">WAIT REJECT</span></span><br /><br /> <span data-ttu-id="07d79-280">WAIT PRE-MASTER SECRET</span><span class="sxs-lookup"><span data-stu-id="07d79-280">WAIT PRE-MASTER SECRET</span></span><br /><br /> <span data-ttu-id="07d79-281">WAIT VALIDATION</span><span class="sxs-lookup"><span data-stu-id="07d79-281">WAIT VALIDATION</span></span><br /><br /> <span data-ttu-id="07d79-282">WAIT ARBITRATION</span><span class="sxs-lookup"><span data-stu-id="07d79-282">WAIT ARBITRATION</span></span><br /><br /> <span data-ttu-id="07d79-283">ONLINE</span><span class="sxs-lookup"><span data-stu-id="07d79-283">ONLINE</span></span><br /><br /> <span data-ttu-id="07d79-284">ERRORE</span><span class="sxs-lookup"><span data-stu-id="07d79-284">ERROR</span></span><br /><br /> <span data-ttu-id="07d79-285">**Nota** ISC = avviare il contesto di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="07d79-285">**Note** ISC = Initiate Security Context.</span></span> <span data-ttu-id="07d79-286">ASC = Accept Security Context.</span><span class="sxs-lookup"><span data-stu-id="07d79-286">ASC = Accept Security Context</span></span>|<span data-ttu-id="07d79-287">39</span><span class="sxs-lookup"><span data-stu-id="07d79-287">39</span></span>|<span data-ttu-id="07d79-288">No</span><span class="sxs-lookup"><span data-stu-id="07d79-288">No</span></span>|  
|<span data-ttu-id="07d79-289">**TransactionID**</span><span class="sxs-lookup"><span data-stu-id="07d79-289">**TransactionID**</span></span>|<span data-ttu-id="07d79-290">**bigint**</span><span class="sxs-lookup"><span data-stu-id="07d79-290">**bigint**</span></span>|<span data-ttu-id="07d79-291">ID della transazione assegnato dal sistema.</span><span class="sxs-lookup"><span data-stu-id="07d79-291">The system-assigned ID of the transaction.</span></span>|<span data-ttu-id="07d79-292">4</span><span class="sxs-lookup"><span data-stu-id="07d79-292">4</span></span>|<span data-ttu-id="07d79-293">No</span><span class="sxs-lookup"><span data-stu-id="07d79-293">No</span></span>|  
  
 <span data-ttu-id="07d79-294">Nella tabella seguente sono elencati i valori di sottoclasse per questa classe di evento.</span><span class="sxs-lookup"><span data-stu-id="07d79-294">The table below lists the subclass values for this event class.</span></span>  
  
|<span data-ttu-id="07d79-295">ID</span><span class="sxs-lookup"><span data-stu-id="07d79-295">ID</span></span>|<span data-ttu-id="07d79-296">Sottoclasse</span><span class="sxs-lookup"><span data-stu-id="07d79-296">Subclass</span></span>|<span data-ttu-id="07d79-297">Descrizione</span><span class="sxs-lookup"><span data-stu-id="07d79-297">Description</span></span>|  
|--------|--------------|-----------------|  
|<span data-ttu-id="07d79-298">1</span><span class="sxs-lookup"><span data-stu-id="07d79-298">1</span></span>|<span data-ttu-id="07d79-299">Login Success</span><span class="sxs-lookup"><span data-stu-id="07d79-299">Login Success</span></span>|<span data-ttu-id="07d79-300">L'evento Login Success indica che la procedura di accesso dell'istanza di Service Broker adiacente ha avuto esito positivo.</span><span class="sxs-lookup"><span data-stu-id="07d79-300">A Login Success event reports that the adjacent broker login process has finished successfully.</span></span>|  
|<span data-ttu-id="07d79-301">2</span><span class="sxs-lookup"><span data-stu-id="07d79-301">2</span></span>|<span data-ttu-id="07d79-302">Login Protocol Error</span><span class="sxs-lookup"><span data-stu-id="07d79-302">Login Protocol Error</span></span>|<span data-ttu-id="07d79-303">L'evento Login Protocol Error indica che Service Broker riceve un messaggio in formato corretto, ma non valido per lo stato attuale della procedura di accesso.</span><span class="sxs-lookup"><span data-stu-id="07d79-303">A Login Protocol Error event reports that the broker receives a message that is well-formed but not valid for the current state of the of the login process.</span></span> <span data-ttu-id="07d79-304">Questo messaggio potrebbe essere andato perduto o potrebbe essere stato inviato fuori sequenza.</span><span class="sxs-lookup"><span data-stu-id="07d79-304">The message may have been lost or sent out-of-sequence.</span></span>|  
|<span data-ttu-id="07d79-305">3</span><span class="sxs-lookup"><span data-stu-id="07d79-305">3</span></span>|<span data-ttu-id="07d79-306">Message Format Error</span><span class="sxs-lookup"><span data-stu-id="07d79-306">Message Format Error</span></span>|<span data-ttu-id="07d79-307">L'evento Message Format Error indica che Service Broker ha ricevuto un messaggio in un formato non previsto.</span><span class="sxs-lookup"><span data-stu-id="07d79-307">A Message Format Error event reports that the broker received a message that does not match the expected format.</span></span> <span data-ttu-id="07d79-308">È possibile che il messaggio sia danneggiato oppure che un programma diverso da SQL Server stia inviando messaggi alla porta utilizzata da Service Broker.</span><span class="sxs-lookup"><span data-stu-id="07d79-308">The message may have been corrupted, or a program other than SQL Server may be sending messages to the port that Service Broker uses.</span></span>|  
|<span data-ttu-id="07d79-309">4</span><span class="sxs-lookup"><span data-stu-id="07d79-309">4</span></span>|<span data-ttu-id="07d79-310">Negotiate Failure</span><span class="sxs-lookup"><span data-stu-id="07d79-310">Negotiate Failure</span></span>|<span data-ttu-id="07d79-311">L'evento Negotiate Failure indica che l'istanza locale e l'istanza remota di Service Broker supportano livelli di autenticazione che si escludono a vicenda.</span><span class="sxs-lookup"><span data-stu-id="07d79-311">A Negotiate Failure event reports that the local broker and the remote broker support mutually exclusive levels of authentication.</span></span>|  
|<span data-ttu-id="07d79-312">5</span><span class="sxs-lookup"><span data-stu-id="07d79-312">5</span></span>|<span data-ttu-id="07d79-313">Authentication Failure</span><span class="sxs-lookup"><span data-stu-id="07d79-313">Authentication Failure</span></span>|<span data-ttu-id="07d79-314">L'evento Authentication Failure indica che Service Broker non può eseguire l'autenticazione della connessione a causa di un errore.</span><span class="sxs-lookup"><span data-stu-id="07d79-314">An Authentication Failure event reports that Service Broker cannot perform authentication for the connection due to an error.</span></span> <span data-ttu-id="07d79-315">Per l'autenticazione di Windows, questo evento indica che Service Broker non può utilizzare l'autenticazione di Windows.</span><span class="sxs-lookup"><span data-stu-id="07d79-315">For Windows Authentication, this event reports that Service Broker is unable to use Windows Authentication.</span></span> <span data-ttu-id="07d79-316">Per l'autenticazione basata sui certificati, questo evento indica che Service Broker non può accedere al certificato.</span><span class="sxs-lookup"><span data-stu-id="07d79-316">For certificate-based authentication, this event reports that Service Broker is unable to access the certificate.</span></span>|  
|<span data-ttu-id="07d79-317">6</span><span class="sxs-lookup"><span data-stu-id="07d79-317">6</span></span>|<span data-ttu-id="07d79-318">Errore di autorizzazione</span><span class="sxs-lookup"><span data-stu-id="07d79-318">Authorization Failure</span></span>|<span data-ttu-id="07d79-319">L'evento Authorization Failure indica che Service Broker ha negato l'autorizzazione per la connessione.</span><span class="sxs-lookup"><span data-stu-id="07d79-319">An Authorization Failure event reports that Service Broker denied authorization for the connection.</span></span> <span data-ttu-id="07d79-320">Per l'autenticazione di Windows, questo evento segnala che l'ID di sicurezza per la connessione non corrisponde a un utente del database.</span><span class="sxs-lookup"><span data-stu-id="07d79-320">For Windows Authentication, this event reports that the security identifier for the connection does not match a database user.</span></span> <span data-ttu-id="07d79-321">Per l'autenticazione basata sui certificati, questo evento indica che la chiave pubblica recapitata nel messaggio non corrisponde a un certificato nel database.</span><span class="sxs-lookup"><span data-stu-id="07d79-321">For certificate-based authentication, this event reports that the public key delivered in the message does not correspond to a certificate in the database.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="07d79-322">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="07d79-322">See Also</span></span>  
 <span data-ttu-id="07d79-323">[CREATE ENDPOINT &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-endpoint-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="07d79-323">[CREATE ENDPOINT &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-endpoint-transact-sql) </span></span>  
 <span data-ttu-id="07d79-324">[ALTER ENDPOINT &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-endpoint-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="07d79-324">[ALTER ENDPOINT &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-endpoint-transact-sql) </span></span>  
 [<span data-ttu-id="07d79-325">SQL Server Service Broker</span><span class="sxs-lookup"><span data-stu-id="07d79-325">SQL Server Service Broker</span></span>](../../database-engine/configure-windows/sql-server-service-broker.md)  
  
  
