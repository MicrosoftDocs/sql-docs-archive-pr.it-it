---
title: Supporto del tipo di dati per i miglioramenti di data e ora ODBC | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: native-client
ms.topic: reference
helpviewer_keywords:
- date/time [ODBC], data type support
- ODBC, date/time improvements
ms.assetid: 8e0d9ba2-3ec1-4680-86e3-b2590ba8e2e9
author: rothja
ms.author: jroth
ms.openlocfilehash: df0877a17ad8e2310db5c6e3ab4acd0c14d05611
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87628646"
---
# <a name="data-type-support-for-odbc-date-and-time-improvements"></a><span data-ttu-id="1a7fa-102">Supporto dei tipi di dati per i miglioramenti relativi a data e ora ODBC</span><span class="sxs-lookup"><span data-stu-id="1a7fa-102">Data Type Support for ODBC Date and Time Improvements</span></span>
  <span data-ttu-id="1a7fa-103">In questo argomento vengono fornite informazioni sui tipi ODBC che supportano i tipi di dati di data e ora [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="1a7fa-103">This topic provides information about ODBC types that support [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] date and time data types.</span></span>  
  
## <a name="data-type-mapping-in-parameters-and-resultsets"></a><span data-ttu-id="1a7fa-104">Mapping dei tipi di dati nei parametri e nei set di risultati</span><span class="sxs-lookup"><span data-stu-id="1a7fa-104">Data Type Mapping in Parameters and Resultsets</span></span>  
 <span data-ttu-id="1a7fa-105">Oltre ai tipi di dati ODBC (SQL_TYPE_TIMESTAMP e SQL_TIMESTAMP), nel provider ODBC di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Native Client sono stati aggiunti due nuovi tipi di dati per esporre i nuovi tipi di server:</span><span class="sxs-lookup"><span data-stu-id="1a7fa-105">In addition to the ODBC data types (SQL_TYPE_TIMESTAMP and SQL_TIMESTAMP), two new data types were added in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Native Client ODBC to expose the new server types:</span></span>  
  
-   <span data-ttu-id="1a7fa-106">SQL_SS_TIME2</span><span class="sxs-lookup"><span data-stu-id="1a7fa-106">SQL_SS_TIME2</span></span>  
  
-   <span data-ttu-id="1a7fa-107">SQL_SS_TIMESTAMPOFFSET</span><span class="sxs-lookup"><span data-stu-id="1a7fa-107">SQL_SS_TIMESTAMPOFFSET</span></span>  
  
 <span data-ttu-id="1a7fa-108">Nella tabella seguente viene illustrato il mapping completo per il tipo di server.</span><span class="sxs-lookup"><span data-stu-id="1a7fa-108">The following table shows the complete server-type mapping.</span></span> <span data-ttu-id="1a7fa-109">Si noti che alcune celle della tabella contengono due voci; in questi casi, la prima è il valore per ODBC 3.0 mentre la seconda è il valore per ODBC 2.0.</span><span class="sxs-lookup"><span data-stu-id="1a7fa-109">Notice that some cells of the table contain two entries; in these cases, the first is the ODBC 3.0 value and the second is the ODBC 2.0 value.</span></span>  
  
|<span data-ttu-id="1a7fa-110">Tipo di dati di SQL Server</span><span class="sxs-lookup"><span data-stu-id="1a7fa-110">SQL Server data type</span></span>|<span data-ttu-id="1a7fa-111">Tipo di dati SQL</span><span class="sxs-lookup"><span data-stu-id="1a7fa-111">SQL data type</span></span>|<span data-ttu-id="1a7fa-112">Valore</span><span class="sxs-lookup"><span data-stu-id="1a7fa-112">Value</span></span>|  
|--------------------------|-------------------|-----------|  
|<span data-ttu-id="1a7fa-113">Datetime</span><span class="sxs-lookup"><span data-stu-id="1a7fa-113">Datetime</span></span>|<span data-ttu-id="1a7fa-114">SQL_TYPE_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="1a7fa-114">SQL_TYPE_TIMESTAMP</span></span><br /><br /> <span data-ttu-id="1a7fa-115">SQL_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="1a7fa-115">SQL_TIMESTAMP</span></span>|<span data-ttu-id="1a7fa-116">93 (sql.h)</span><span class="sxs-lookup"><span data-stu-id="1a7fa-116">93 (sql.h)</span></span><br /><br /> <span data-ttu-id="1a7fa-117">11 (sqlext.h)</span><span class="sxs-lookup"><span data-stu-id="1a7fa-117">11 (sqlext.h)</span></span>|  
|<span data-ttu-id="1a7fa-118">Smalldatetime</span><span class="sxs-lookup"><span data-stu-id="1a7fa-118">Smalldatetime</span></span>|<span data-ttu-id="1a7fa-119">SQL_TYPE_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="1a7fa-119">SQL_TYPE_TIMESTAMP</span></span><br /><br /> <span data-ttu-id="1a7fa-120">SQL_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="1a7fa-120">SQL_TIMESTAMP</span></span>|<span data-ttu-id="1a7fa-121">93 (sql.h)</span><span class="sxs-lookup"><span data-stu-id="1a7fa-121">93 (sql.h)</span></span><br /><br /> <span data-ttu-id="1a7fa-122">11 (sqlext.h)</span><span class="sxs-lookup"><span data-stu-id="1a7fa-122">11 (sqlext.h)</span></span>|  
|<span data-ttu-id="1a7fa-123">Data</span><span class="sxs-lookup"><span data-stu-id="1a7fa-123">Date</span></span>|<span data-ttu-id="1a7fa-124">SQL_TYPE_DATE</span><span class="sxs-lookup"><span data-stu-id="1a7fa-124">SQL_TYPE_DATE</span></span><br /><br /> <span data-ttu-id="1a7fa-125">SQL_DATE</span><span class="sxs-lookup"><span data-stu-id="1a7fa-125">SQL_DATE</span></span>|<span data-ttu-id="1a7fa-126">91 (SQL. h)</span><span class="sxs-lookup"><span data-stu-id="1a7fa-126">91 (sql.h)</span></span><br /><br /> <span data-ttu-id="1a7fa-127">9 (sqlext. h)</span><span class="sxs-lookup"><span data-stu-id="1a7fa-127">9 (sqlext.h)</span></span>|  
|<span data-ttu-id="1a7fa-128">Tempo</span><span class="sxs-lookup"><span data-stu-id="1a7fa-128">Time</span></span>|<span data-ttu-id="1a7fa-129">SQL_SS_TIME2</span><span class="sxs-lookup"><span data-stu-id="1a7fa-129">SQL_SS_TIME2</span></span>|<span data-ttu-id="1a7fa-130">-154 (SQLNCLI. h)</span><span class="sxs-lookup"><span data-stu-id="1a7fa-130">-154 (SQLNCLI.h)</span></span>|  
|<span data-ttu-id="1a7fa-131">DatetimeOFFSET</span><span class="sxs-lookup"><span data-stu-id="1a7fa-131">DatetimeOFFSET</span></span>|<span data-ttu-id="1a7fa-132">SQL_SS_TIMESTAMPOFFSET</span><span class="sxs-lookup"><span data-stu-id="1a7fa-132">SQL_SS_TIMESTAMPOFFSET</span></span>|<span data-ttu-id="1a7fa-133">-155 (SQLNCLI.h)</span><span class="sxs-lookup"><span data-stu-id="1a7fa-133">-155 (SQLNCLI.h)</span></span>|  
|<span data-ttu-id="1a7fa-134">Datetime2</span><span class="sxs-lookup"><span data-stu-id="1a7fa-134">Datetime2</span></span>|<span data-ttu-id="1a7fa-135">SQL_TYPE_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="1a7fa-135">SQL_TYPE_TIMESTAMP</span></span><br /><br /> <span data-ttu-id="1a7fa-136">SQL_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="1a7fa-136">SQL_TIMESTAMP</span></span>|<span data-ttu-id="1a7fa-137">93 (sql.h)</span><span class="sxs-lookup"><span data-stu-id="1a7fa-137">93 (sql.h)</span></span><br /><br /> <span data-ttu-id="1a7fa-138">11 (sqlext.h)</span><span class="sxs-lookup"><span data-stu-id="1a7fa-138">11 (sqlext.h)</span></span>|  
  
 <span data-ttu-id="1a7fa-139">Nella tabella seguente vengono elencati i tipi ODBC C e le strutture corrispondenti.</span><span class="sxs-lookup"><span data-stu-id="1a7fa-139">The following table lists the corresponding structures and ODBC C types.</span></span> <span data-ttu-id="1a7fa-140">Poiché ODBC non consente i tipi C definiti dal driver, viene utilizzato SQL_C_BINARY per time e datetimeoffset come strutture binarie.</span><span class="sxs-lookup"><span data-stu-id="1a7fa-140">Because ODBC does not permit driver defined C types, SQL_C_BINARY is used for time and datetimeoffset as binary structures.</span></span>  
  
|<span data-ttu-id="1a7fa-141">Tipo di dati SQL</span><span class="sxs-lookup"><span data-stu-id="1a7fa-141">SQL data type</span></span>|<span data-ttu-id="1a7fa-142">Layout in memoria</span><span class="sxs-lookup"><span data-stu-id="1a7fa-142">Memory layout</span></span>|<span data-ttu-id="1a7fa-143">Tipo di dati C predefinito</span><span class="sxs-lookup"><span data-stu-id="1a7fa-143">Default C data type</span></span>|<span data-ttu-id="1a7fa-144">Valore (sqlext.h)</span><span class="sxs-lookup"><span data-stu-id="1a7fa-144">Value (sqlext.h)</span></span>|  
|-------------------|-------------------|-------------------------|------------------------|  
|<span data-ttu-id="1a7fa-145">SQL_TYPE_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="1a7fa-145">SQL_TYPE_TIMESTAMP</span></span><br /><br /> <span data-ttu-id="1a7fa-146">SQL_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="1a7fa-146">SQL_TIMESTAMP</span></span>|<span data-ttu-id="1a7fa-147">SQL_TIMESTAMP_STRUCT</span><span class="sxs-lookup"><span data-stu-id="1a7fa-147">SQL_TIMESTAMP_STRUCT</span></span><br /><br /> <span data-ttu-id="1a7fa-148">TIMESTAMP_STRUCT</span><span class="sxs-lookup"><span data-stu-id="1a7fa-148">TIMESTAMP_STRUCT</span></span>|<span data-ttu-id="1a7fa-149">SQL_C_TYPE_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="1a7fa-149">SQL_C_TYPE_TIMESTAMP</span></span><br /><br /> <span data-ttu-id="1a7fa-150">SQL_C_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="1a7fa-150">SQL_C_TIMESTAMP</span></span>|<span data-ttu-id="1a7fa-151">SQL_TYPE_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="1a7fa-151">SQL_TYPE_TIMESTAMP</span></span><br /><br /> <span data-ttu-id="1a7fa-152">SQL_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="1a7fa-152">SQL_TIMESTAMP</span></span>|  
|<span data-ttu-id="1a7fa-153">SQL_TYPE_DATE</span><span class="sxs-lookup"><span data-stu-id="1a7fa-153">SQL_TYPE_DATE</span></span><br /><br /> <span data-ttu-id="1a7fa-154">SQL_DATE</span><span class="sxs-lookup"><span data-stu-id="1a7fa-154">SQL_DATE</span></span>|<span data-ttu-id="1a7fa-155">SQL_DATE_STRUCT</span><span class="sxs-lookup"><span data-stu-id="1a7fa-155">SQL_DATE_STRUCT</span></span><br /><br /> <span data-ttu-id="1a7fa-156">DATE_STRUCT</span><span class="sxs-lookup"><span data-stu-id="1a7fa-156">DATE_STRUCT</span></span>|<span data-ttu-id="1a7fa-157">SQL_C_TYPE_DATE</span><span class="sxs-lookup"><span data-stu-id="1a7fa-157">SQL_C_TYPE_DATE</span></span><br /><br /> <span data-ttu-id="1a7fa-158">SQL_C_DATE</span><span class="sxs-lookup"><span data-stu-id="1a7fa-158">SQL_C_DATE</span></span>|<span data-ttu-id="1a7fa-159">SQL_TYPE_DATE</span><span class="sxs-lookup"><span data-stu-id="1a7fa-159">SQL_TYPE_DATE</span></span><br /><br /> <span data-ttu-id="1a7fa-160">SQL_DATE</span><span class="sxs-lookup"><span data-stu-id="1a7fa-160">SQL_DATE</span></span>|  
|<span data-ttu-id="1a7fa-161">SQL_SS_TIME2</span><span class="sxs-lookup"><span data-stu-id="1a7fa-161">SQL_SS_TIME2</span></span>|<span data-ttu-id="1a7fa-162">SQL_SS_TIME2_STRUCT</span><span class="sxs-lookup"><span data-stu-id="1a7fa-162">SQL_SS_TIME2_STRUCT</span></span>|<span data-ttu-id="1a7fa-163">SQL_C_SS_TIME2</span><span class="sxs-lookup"><span data-stu-id="1a7fa-163">SQL_C_SS_TIME2</span></span><br /><br /> <span data-ttu-id="1a7fa-164">SQL_C_BINARY (ODBC 3.5 e versioni precedenti)</span><span class="sxs-lookup"><span data-stu-id="1a7fa-164">SQL_C_BINARY (ODBC 3.5 and earlier)</span></span>|<span data-ttu-id="1a7fa-165">0x4000 (sqlncli.h)</span><span class="sxs-lookup"><span data-stu-id="1a7fa-165">0x4000 (sqlncli.h)</span></span><br /><br /> <span data-ttu-id="1a7fa-166">SQL_BINARY (-2)</span><span class="sxs-lookup"><span data-stu-id="1a7fa-166">SQL_BINARY (-2)</span></span>|  
|<span data-ttu-id="1a7fa-167">SQL_SS_TIMESTAMPOFFSET</span><span class="sxs-lookup"><span data-stu-id="1a7fa-167">SQL_SS_TIMESTAMPOFFSET</span></span>|<span data-ttu-id="1a7fa-168">SQL_SS_TIMESTAMPOFFSET_STRUCT</span><span class="sxs-lookup"><span data-stu-id="1a7fa-168">SQL_SS_TIMESTAMPOFFSET_STRUCT</span></span>|<span data-ttu-id="1a7fa-169">SQL_C_SS_TIMESTAMPOFFSET</span><span class="sxs-lookup"><span data-stu-id="1a7fa-169">SQL_C_SS_TIMESTAMPOFFSET</span></span><br /><br /> <span data-ttu-id="1a7fa-170">SQL_C_BINARY (ODBC 3.5 e versioni precedenti)</span><span class="sxs-lookup"><span data-stu-id="1a7fa-170">SQL_C_BINARY (ODBC 3.5 and earlier)</span></span>|<span data-ttu-id="1a7fa-171">0x4001 (sqlncli.h)</span><span class="sxs-lookup"><span data-stu-id="1a7fa-171">0x4001 (sqlncli.h)</span></span><br /><br /> <span data-ttu-id="1a7fa-172">SQL_BINARY (-2)</span><span class="sxs-lookup"><span data-stu-id="1a7fa-172">SQL_BINARY (-2)</span></span>|  
  
 <span data-ttu-id="1a7fa-173">Quando viene specificata l'associazione SQL_C_BINARY, viene eseguito il controllo dell'allineamento e viene segnalato un errore in caso di allineamento non corretto.</span><span class="sxs-lookup"><span data-stu-id="1a7fa-173">When SQL_C_BINARY binding is specified, alignment checking will be performed and an error reported for incorrect alignment.</span></span> <span data-ttu-id="1a7fa-174">L'identificativo SQLSTATE per questo errore è IM016, con un messaggio indicante che l'allineamento della struttura non è corretto.</span><span class="sxs-lookup"><span data-stu-id="1a7fa-174">The SQLSTATE for this error will be IM016, with the message "Incorrect structure alignment".</span></span>  
  
## <a name="data-formats-strings-and-literals"></a><span data-ttu-id="1a7fa-175">Formati di dati: stringhe e valori letterali</span><span class="sxs-lookup"><span data-stu-id="1a7fa-175">Data Formats: Strings and Literals</span></span>  
 <span data-ttu-id="1a7fa-176">Nella tabella seguente vengono illustrati i mapping tra tipi di dati [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], tipi di dati ODBC e valori letterali stringa ODBC.</span><span class="sxs-lookup"><span data-stu-id="1a7fa-176">The following table shows the mappings between [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] data types, ODBC data types, and the ODBC string literals.</span></span>  
  
|<span data-ttu-id="1a7fa-177">Tipo di dati di SQL Server</span><span class="sxs-lookup"><span data-stu-id="1a7fa-177">SQL Server data type</span></span>|<span data-ttu-id="1a7fa-178">Tipo di dati ODBC</span><span class="sxs-lookup"><span data-stu-id="1a7fa-178">ODBC data type</span></span>|<span data-ttu-id="1a7fa-179">Formato stringa per le conversioni client</span><span class="sxs-lookup"><span data-stu-id="1a7fa-179">String format for client conversions</span></span>|  
|--------------------------|--------------------|------------------------------------------|  
|<span data-ttu-id="1a7fa-180">Datetime</span><span class="sxs-lookup"><span data-stu-id="1a7fa-180">Datetime</span></span>|<span data-ttu-id="1a7fa-181">SQL_TYPE_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="1a7fa-181">SQL_TYPE_TIMESTAMP</span></span><br /><br /> <span data-ttu-id="1a7fa-182">SQL_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="1a7fa-182">SQL_TIMESTAMP</span></span>|<span data-ttu-id="1a7fa-183">'yyyy-mm-dd hh:mm:ss[.999]'</span><span class="sxs-lookup"><span data-stu-id="1a7fa-183">'yyyy-mm-dd hh:mm:ss[.999]'</span></span><br /><br /> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="1a7fa-184">supporta fino a tre cifre per i secondi frazionari per datetime.</span><span class="sxs-lookup"><span data-stu-id="1a7fa-184">supports up to three fractional second digits for Datetime.</span></span>|  
|<span data-ttu-id="1a7fa-185">Smalldatetime</span><span class="sxs-lookup"><span data-stu-id="1a7fa-185">Smalldatetime</span></span>|<span data-ttu-id="1a7fa-186">SQL_TYPE_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="1a7fa-186">SQL_TYPE_TIMESTAMP</span></span><br /><br /> <span data-ttu-id="1a7fa-187">SQL_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="1a7fa-187">SQL_TIMESTAMP</span></span>|<span data-ttu-id="1a7fa-188">'yyyy-mm-dd hh:hh:ss'</span><span class="sxs-lookup"><span data-stu-id="1a7fa-188">'yyyy-mm-dd hh:hh:ss'</span></span><br /><br /> <span data-ttu-id="1a7fa-189">Questo tipo di dati ha un'accuratezza di un minuto.</span><span class="sxs-lookup"><span data-stu-id="1a7fa-189">This data type has an accuracy of one minute.</span></span> <span data-ttu-id="1a7fa-190">Il componente dei secondi sarà zero nell'output mentre verrà arrotondato dal server nell'input.</span><span class="sxs-lookup"><span data-stu-id="1a7fa-190">The seconds component will be zero on output and will be rounded by the server on input.</span></span>|  
|<span data-ttu-id="1a7fa-191">Data</span><span class="sxs-lookup"><span data-stu-id="1a7fa-191">Date</span></span>|<span data-ttu-id="1a7fa-192">SQL_TYPE_DATE</span><span class="sxs-lookup"><span data-stu-id="1a7fa-192">SQL_TYPE_DATE</span></span><br /><br /> <span data-ttu-id="1a7fa-193">SQL_DATE</span><span class="sxs-lookup"><span data-stu-id="1a7fa-193">SQL_DATE</span></span>|<span data-ttu-id="1a7fa-194">'yyyy-mm-dd'</span><span class="sxs-lookup"><span data-stu-id="1a7fa-194">'yyyy-mm-dd'</span></span>|  
|<span data-ttu-id="1a7fa-195">Tempo</span><span class="sxs-lookup"><span data-stu-id="1a7fa-195">Time</span></span>|<span data-ttu-id="1a7fa-196">SQL_SS_TIME2</span><span class="sxs-lookup"><span data-stu-id="1a7fa-196">SQL_SS_TIME2</span></span>|<span data-ttu-id="1a7fa-197">'hh:mm:ss[.9999999]'</span><span class="sxs-lookup"><span data-stu-id="1a7fa-197">'hh:mm:ss[.9999999]'</span></span><br /><br /> <span data-ttu-id="1a7fa-198">I secondi frazionari possono essere specificati facoltativamente utilizzando fino a sette cifre.</span><span class="sxs-lookup"><span data-stu-id="1a7fa-198">Fractional seconds can optionally be specified using up to seven digits.</span></span>|  
|<span data-ttu-id="1a7fa-199">Datetime2</span><span class="sxs-lookup"><span data-stu-id="1a7fa-199">Datetime2</span></span>|<span data-ttu-id="1a7fa-200">SQL_TYPE_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="1a7fa-200">SQL_TYPE_TIMESTAMP</span></span><br /><br /> <span data-ttu-id="1a7fa-201">SQL_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="1a7fa-201">SQL_TIMESTAMP</span></span>|<span data-ttu-id="1a7fa-202">' aaaa-mm-gg hh: mm: SS [. 9999999]'</span><span class="sxs-lookup"><span data-stu-id="1a7fa-202">'yyyy-mm-dd hh:mm:ss[.9999999]'</span></span><br /><br /> <span data-ttu-id="1a7fa-203">I secondi frazionari possono essere specificati facoltativamente utilizzando fino a sette cifre.</span><span class="sxs-lookup"><span data-stu-id="1a7fa-203">Fractional seconds can optionally be specified using up to seven digits.</span></span>|  
|<span data-ttu-id="1a7fa-204">DatetimeOFFSET</span><span class="sxs-lookup"><span data-stu-id="1a7fa-204">DatetimeOFFSET</span></span>|<span data-ttu-id="1a7fa-205">SQL_SS_TIMESTAMPOFFSET</span><span class="sxs-lookup"><span data-stu-id="1a7fa-205">SQL_SS_TIMESTAMPOFFSET</span></span>|<span data-ttu-id="1a7fa-206">'yyyy-mm-dd hh:mm:ss[.9999999] +/- hh:mm'</span><span class="sxs-lookup"><span data-stu-id="1a7fa-206">'yyyy-mm-dd hh:mm:ss[.9999999] +/- hh:mm'</span></span><br /><br /> <span data-ttu-id="1a7fa-207">I secondi frazionari possono essere specificati facoltativamente utilizzando fino a sette cifre.</span><span class="sxs-lookup"><span data-stu-id="1a7fa-207">Fractional seconds can optionally be specified using up to seven digits.</span></span>|  
  
 <span data-ttu-id="1a7fa-208">Non vi sono modifiche nelle sequenze di escape ODBC per i valori letterali di data/ora.</span><span class="sxs-lookup"><span data-stu-id="1a7fa-208">There are no changes to the ODBC escape sequences for date/time literals.</span></span>  
  
 <span data-ttu-id="1a7fa-209">I secondi frazionari nei risultati utilizzano sempre il punto (.), anziché i due punti (:).</span><span class="sxs-lookup"><span data-stu-id="1a7fa-209">Fractional seconds in results always use a dot (.), rather than a colon (:).</span></span>  
  
 <span data-ttu-id="1a7fa-210">I valori stringa restituiti alle applicazioni sono sempre della stessa lunghezza per una specifica colonna.</span><span class="sxs-lookup"><span data-stu-id="1a7fa-210">String values returned to applications are always the same length for a given column.</span></span> <span data-ttu-id="1a7fa-211">Nei componenti anno, mese, giorno, ora, minuto e secondo vengono aggiunti zero iniziali fino alla lunghezza massima e nei valori datetime è presente uno spazio tra la data e l'ora.</span><span class="sxs-lookup"><span data-stu-id="1a7fa-211">Year, month, day, hour, minute, and second components are padded with leading zeros to their maximum width, and there is one space between date and time in datetime values.</span></span> <span data-ttu-id="1a7fa-212">È inoltre presente uno spazio tra l'ora e la differenza di fuso orario in un valore datetimeoffset.</span><span class="sxs-lookup"><span data-stu-id="1a7fa-212">There is also one space between the time and timezone offset in a datetimeoffset value.</span></span> <span data-ttu-id="1a7fa-213">La differenza di fuso orario viene sempre preceduta da un segno. Quando la differenza è zero, il segno è un più (+).</span><span class="sxs-lookup"><span data-stu-id="1a7fa-213">A timezone offset is always preceded by a sign; when the offset is zero, this sign is a plus (+).</span></span> <span data-ttu-id="1a7fa-214">Se necessario, nei secondi frazionari vengono aggiunti zero finali fino alla precisione definita per la colonna.</span><span class="sxs-lookup"><span data-stu-id="1a7fa-214">Fractional seconds are padded with trailing zeros if necessary, up to the defined precision for the column.</span></span> <span data-ttu-id="1a7fa-215">Per le colonne di tipo datetime, vi sono tre cifre per i secondi frazionari.</span><span class="sxs-lookup"><span data-stu-id="1a7fa-215">For datetime columns, there are three fractional seconds digits.</span></span> <span data-ttu-id="1a7fa-216">Per le colonne di tipo smalldatetime, non vi sono cifre per i secondi frazionari e i secondi saranno sempre zero.</span><span class="sxs-lookup"><span data-stu-id="1a7fa-216">For smalldatetime columns, there are no fractional seconds' digits, and the seconds will always be zero.</span></span>  
  
 <span data-ttu-id="1a7fa-217">Una stringa vuota non è un valore letterale di data/ora valido e non rappresenta un valore NULL.</span><span class="sxs-lookup"><span data-stu-id="1a7fa-217">An empty string is not a valid date/time literal and it does not represent a NULL value.</span></span> <span data-ttu-id="1a7fa-218">Un tentativo di convertire una stringa vuota in un valore di data/ora genererà un errore con l'identificativo SQLState 22018 e il messaggio "Carattere non valido per la specifica del cast".</span><span class="sxs-lookup"><span data-stu-id="1a7fa-218">An attempt to convert an empty string to a date/time value will result in SQLState 22018 error and the message "Invalid character value for cast specification".</span></span>  
  
 <span data-ttu-id="1a7fa-219">Nelle conversioni dai parametri di stringa si otterranno stringhe nello stesso formato, ad eccezione del fatto che il segno di un fuso orario con zero ore e zero minuti può essere sia più che meno e che sono consentiti zero finali per i secondi frazionari fino a un massimo di 9 cifre.</span><span class="sxs-lookup"><span data-stu-id="1a7fa-219">Conversions from string parameters will expect strings in the same format, with the exceptions that the sign of a timezone with zero hours and zero minutes can be either plus or minus, and trailing zeros are allowed for fractional seconds up to a maximum of 9 digits.</span></span> <span data-ttu-id="1a7fa-220">Un componente per le ore può terminare con un separatore decimale e senza cifre per i secondi frazionari.</span><span class="sxs-lookup"><span data-stu-id="1a7fa-220">A time component can terminate with a decimal point and no fractional seconds digits.</span></span>  
  
 <span data-ttu-id="1a7fa-221">Il driver consente attualmente uno spazio vuoto aggiuntivo prima e dopo i caratteri di punteggiatura mentre lo spazio tra l'ora e la differenza di fuso orario è facoltativo.</span><span class="sxs-lookup"><span data-stu-id="1a7fa-221">Currently, the driver allows additional white space around punctuation characters and the space between time and timezone offset is optional.</span></span> <span data-ttu-id="1a7fa-222">Nelle versioni future tuttavia queste regole potrebbero essere modificate, per cui le applicazioni non devono basarsi sul comportamento corrente.</span><span class="sxs-lookup"><span data-stu-id="1a7fa-222">However, this might change in a future release; applications should not rely on the current behavior.</span></span>  
  
## <a name="data-formats-data-structures"></a><span data-ttu-id="1a7fa-223">Formati di dati: strutture di dati</span><span class="sxs-lookup"><span data-stu-id="1a7fa-223">Data Formats: Data Structures</span></span>  
 <span data-ttu-id="1a7fa-224">Nelle strutture descritte di seguito, ODBC specifica i vincoli seguenti, secondo il calendario gregoriano:</span><span class="sxs-lookup"><span data-stu-id="1a7fa-224">In the structures described below, ODBC specifies the following constraints, which are taken from the Gregorian calendar:</span></span>  
  
-   <span data-ttu-id="1a7fa-225">L'intervallo per i mesi è compreso tra 1 e 12.</span><span class="sxs-lookup"><span data-stu-id="1a7fa-225">Month range is 1 through 12.</span></span>  
  
-   <span data-ttu-id="1a7fa-226">L'intervallo per il campo del giorno è compreso tra 1 e il numero di giorni nel mese e deve essere coerente con i campi dell'anno e del mese, considerando gli anni bisestili.</span><span class="sxs-lookup"><span data-stu-id="1a7fa-226">Day field range is 1 through the number of days in the month, and must be consistent with year and month fields, taking account of leap years.</span></span>  
  
-   <span data-ttu-id="1a7fa-227">L'intervallo delle ore è compreso tra 0 e 23.</span><span class="sxs-lookup"><span data-stu-id="1a7fa-227">Hour range is 0 through 23.</span></span>  
  
-   <span data-ttu-id="1a7fa-228">L'intervallo dei minuti è compreso tra 0 e 59.</span><span class="sxs-lookup"><span data-stu-id="1a7fa-228">Minute range is 0 through 59.</span></span>  
  
-   <span data-ttu-id="1a7fa-229">L'intervallo per i secondi è compreso tra 0 e 61,9(n),</span><span class="sxs-lookup"><span data-stu-id="1a7fa-229">Seconds range is 0 through 61.9(n).</span></span> <span data-ttu-id="1a7fa-230">consentendo fino a due secondi di compensazione per mantenere la sincronizzazione con l'ora siderale.</span><span class="sxs-lookup"><span data-stu-id="1a7fa-230">This allows up to two leap seconds to maintain synchronization with sidereal time.</span></span>  
  
     <span data-ttu-id="1a7fa-231">Notare che [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] non consente i secondi di compensazione, pertanto i valori dei secondi maggiori di 59 generano un errore del server.</span><span class="sxs-lookup"><span data-stu-id="1a7fa-231">Note that [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] does not allow leap seconds, so second values greater than 59 will cause a server error.</span></span>  
  
 <span data-ttu-id="1a7fa-232">Sono state modificate le implementazioni per le seguenti strutture ODBC esistenti in modo da supportare i nuovi tipi [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] di data e ora.</span><span class="sxs-lookup"><span data-stu-id="1a7fa-232">Implementations for the following existing ODBC structs have been modified to support the new [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] date and time data types.</span></span> <span data-ttu-id="1a7fa-233">Le definizioni, tuttavia, non sono state modificate.</span><span class="sxs-lookup"><span data-stu-id="1a7fa-233">The definitions, however, have not changed.</span></span>  
  
-   <span data-ttu-id="1a7fa-234">DATE_STRUCT</span><span class="sxs-lookup"><span data-stu-id="1a7fa-234">DATE_STRUCT</span></span>  
  
-   <span data-ttu-id="1a7fa-235">TIME_STRUCT</span><span class="sxs-lookup"><span data-stu-id="1a7fa-235">TIME_STRUCT</span></span>  
  
-   <span data-ttu-id="1a7fa-236">TIMESTAMP_STRUCT</span><span class="sxs-lookup"><span data-stu-id="1a7fa-236">TIMESTAMP_STRUCT</span></span>  
  
 <span data-ttu-id="1a7fa-237">Sono inoltre disponibile due nuove strutture:</span><span class="sxs-lookup"><span data-stu-id="1a7fa-237">There are also two new structs:</span></span>  
  
-   <span data-ttu-id="1a7fa-238">SQL_SS_TIME2_STRUCT</span><span class="sxs-lookup"><span data-stu-id="1a7fa-238">SQL_SS_TIME2_STRUCT</span></span>  
  
-   <span data-ttu-id="1a7fa-239">SQL_SS_TIMESTAMPOFFSET_STRUCT</span><span class="sxs-lookup"><span data-stu-id="1a7fa-239">SQL_SS_TIMESTAMPOFFSET_STRUCT</span></span>  
  
### <a name="sql_ss_time2_struct"></a><span data-ttu-id="1a7fa-240">SQL_SS_TIME2_STRUCT</span><span class="sxs-lookup"><span data-stu-id="1a7fa-240">SQL_SS_TIME2_STRUCT</span></span>  
 <span data-ttu-id="1a7fa-241">In questa struttura è possibile aggiungere fino a 12 byte nei sistemi operativi a 32 bit e a 64 bit.</span><span class="sxs-lookup"><span data-stu-id="1a7fa-241">This struct is padded to 12 bytes on both 32-bit and 64-bit operating systems.</span></span>  
  
```  
typedef struct tagSS_TIME2_STRUCT {  
   SQLUSMALLINT hour;  
   SQLUSMALLINT minute;  
   SQLUSMALLINT second;  
   SQLUINTEGER fraction;  
} SQL_SS_TIME2_STRUCT;  
```  
  
### <a name="sql_ss_timestampoffset_struct"></a><span data-ttu-id="1a7fa-242">SQL_SS_TIMESTAMPOFFSET_STRUCT</span><span class="sxs-lookup"><span data-stu-id="1a7fa-242">SQL_SS_TIMESTAMPOFFSET_STRUCT</span></span>  
  
```  
typedef struct tagSS_TIMESTAMPOFFSET_STRUCT {  
   SQLSMALLINT year;  
   SQLUSMALLINT month;  
   SQLUSMALLINT day;  
   SQLUSMALLINT hour;  
   SQLUSMALLINT minute;  
   SQLUSMALLINT second;  
   SQLUINTEGER fraction;  
   SQLSMALLINT timezone_hour;  
   SQLSMALLINT timezone_minute;  
} SQL_SS_TIMESTAMPOFFSET_STRUCT;  
```  
  
 <span data-ttu-id="1a7fa-243">Se `timezone_hour` è negativo, `timezone_minute` deve essere negativo o zero.</span><span class="sxs-lookup"><span data-stu-id="1a7fa-243">If the `timezone_hour` is negative, the `timezone_minute` must be negative or zero.</span></span> <span data-ttu-id="1a7fa-244">Se `timezone_hour` è positivo, `timezone_minute` deve essere positivo o zero.</span><span class="sxs-lookup"><span data-stu-id="1a7fa-244">If the `timezone_hour` is positive, the `timezone_minute` must be positive or zero.</span></span> <span data-ttu-id="1a7fa-245">Se `timezone_hour` è zero, `timezone_minute` può essere qualsiasi valore compreso nell'intervallo che va da -59 a +59.</span><span class="sxs-lookup"><span data-stu-id="1a7fa-245">If the `timezone_hour` is zero, the s`timezone_minute` may have any value in the range -59 through +59.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="1a7fa-246">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="1a7fa-246">See Also</span></span>  
 [<span data-ttu-id="1a7fa-247">Miglioramenti di data e ora &#40;ODBC&#41;</span><span class="sxs-lookup"><span data-stu-id="1a7fa-247">Date and Time Improvements &#40;ODBC&#41;</span></span>](date-and-time-improvements-odbc.md)  
  
  
