---
title: Piani di manutenzione | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: supportability
ms.topic: conceptual
f1_keywords:
- SQL12.AG.MAINTPLAN.LEGACY.F1
helpviewer_keywords:
- maintenance plans [SQL Server], about database maintenance plans
- maintenance plans [SQL Server], database compatibility level displayed in designer
- maintenance plans [SQL Server]
ms.assetid: 5982ca65-74fe-44e3-aef9-00a65a0db169
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 2f614e2cfad78cb1efddc49cc897ca57087fec68
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87623259"
---
# <a name="maintenance-plans"></a><span data-ttu-id="9fa75-102">Piani di manutenzione</span><span class="sxs-lookup"><span data-stu-id="9fa75-102">Maintenance Plans</span></span>
  <span data-ttu-id="9fa75-103">Con i piani di manutenzione è possibile creare un flusso di lavoro per le attività necessarie per assicurare prestazioni ottimali del database, eseguire regolarmente il backup del database e verificare che nel database non siano presenti incoerenze.</span><span class="sxs-lookup"><span data-stu-id="9fa75-103">Maintenance plans create a workflow of the tasks required to make sure that your database is optimized, regularly backed up, and free of inconsistencies.</span></span> <span data-ttu-id="9fa75-104">Sebbene sia possibile utilizzare anche Creazione guidata piano di manutenzione per creare i piani di manutenzione principali, la creazione manuale dei piani offre una maggiore flessibilità.</span><span class="sxs-lookup"><span data-stu-id="9fa75-104">The Maintenance Plan Wizard also creates core maintenance plans, but creating plans manually gives you much more flexibility.</span></span>  
  
## <a name="benefits-of-maintenance-plans"></a><span data-ttu-id="9fa75-105">Vantaggi di piani di manutenzione</span><span class="sxs-lookup"><span data-stu-id="9fa75-105">Benefits of Maintenance Plans</span></span>  
 <span data-ttu-id="9fa75-106">In [!INCLUDE[ssDECurrent](../../includes/ssdecurrent-md.md)], i piani di manutenzione vengono creati come pacchetti di [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)], eseguiti tramite un processo di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent.</span><span class="sxs-lookup"><span data-stu-id="9fa75-106">In [!INCLUDE[ssDECurrent](../../includes/ssdecurrent-md.md)], maintenance plans create an [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] package, which is run by a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent job.</span></span> <span data-ttu-id="9fa75-107">I piani di manutenzione possono essere eseguiti manualmente o automaticamente in base a intervalli pianificati.</span><span class="sxs-lookup"><span data-stu-id="9fa75-107">Maintenance plans can be run manually or automatically at scheduled intervals.</span></span>  
  
 <span data-ttu-id="9fa75-108">I piani di manutenzione di [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] offrono le funzionalità seguenti:</span><span class="sxs-lookup"><span data-stu-id="9fa75-108">[!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] maintenance plans provide the following features:</span></span>  
  
-   <span data-ttu-id="9fa75-109">Creazione del flusso di lavoro tramite una vasta gamma di normali attività di manutenzione.</span><span class="sxs-lookup"><span data-stu-id="9fa75-109">Workflow creation using a variety of typical maintenance tasks.</span></span> <span data-ttu-id="9fa75-110">È inoltre possibile creare script [!INCLUDE[tsql](../../includes/tsql-md.md)] personalizzati.</span><span class="sxs-lookup"><span data-stu-id="9fa75-110">You can also create your own custom [!INCLUDE[tsql](../../includes/tsql-md.md)] scripts.</span></span>  
  
-   <span data-ttu-id="9fa75-111">Gerarchie concettuali.</span><span class="sxs-lookup"><span data-stu-id="9fa75-111">Conceptual hierarchies.</span></span> <span data-ttu-id="9fa75-112">Ogni piano consente di creare o modificare i flussi di lavoro delle attività.</span><span class="sxs-lookup"><span data-stu-id="9fa75-112">Each plan lets you create or edit task workflows.</span></span> <span data-ttu-id="9fa75-113">Le attività in ogni piano possono essere raggruppate in sottopiani, per i quali è possibile pianificare l'esecuzione in momenti diversi.</span><span class="sxs-lookup"><span data-stu-id="9fa75-113">Tasks in each plan can be grouped into subplans, which can be scheduled to run at different times.</span></span>  
  
-   <span data-ttu-id="9fa75-114">Supporto di piani multiserver utilizzabili in ambienti con server master/server di destinazione.</span><span class="sxs-lookup"><span data-stu-id="9fa75-114">Support for multiserver plans that can be used in master server/target server environments.</span></span>  
  
-   <span data-ttu-id="9fa75-115">Supporto della registrazione della cronologia del piano in server remoti.</span><span class="sxs-lookup"><span data-stu-id="9fa75-115">Support for logging plan history to remote servers.</span></span>  
  
-   <span data-ttu-id="9fa75-116">Supporto dell'autenticazione di Windows e dell'autenticazione di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="9fa75-116">Support for Windows Authentication and [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Authentication.</span></span> [!INCLUDE[ssNoteWinAuthentication](../../includes/ssnotewinauthentication-md.md)]  
  
## <a name="maintenace-plan-functionality"></a><span data-ttu-id="9fa75-117">Funzionalità del piano di manutenzione</span><span class="sxs-lookup"><span data-stu-id="9fa75-117">Maintenace Plan Functionality</span></span>  
 <span data-ttu-id="9fa75-118">È possibile creare piani di manutenzione per eseguire le attività seguenti:</span><span class="sxs-lookup"><span data-stu-id="9fa75-118">Maintenance plans can be created to perform the following tasks:</span></span>  
  
-   <span data-ttu-id="9fa75-119">Riorganizzazione dei dati e delle pagine di indice mediante la ricompilazione degli indici con un nuovo fattore di riempimento.</span><span class="sxs-lookup"><span data-stu-id="9fa75-119">Reorganize the data on the data and index pages by rebuilding indexes with a new fill factor.</span></span> <span data-ttu-id="9fa75-120">Questa operazione assicura che le pagine di database includano una quantità di dati e di spazio libero equamente distribuita</span><span class="sxs-lookup"><span data-stu-id="9fa75-120">Rebuilding indexes with a new fill factor makes sure that database pages contain an equally distributed amount of data and free space.</span></span> <span data-ttu-id="9fa75-121">per consentire in futuro un più rapido aumento delle dimensioni.</span><span class="sxs-lookup"><span data-stu-id="9fa75-121">It also enables faster growth in the future.</span></span> <span data-ttu-id="9fa75-122">Per altre informazioni, vedere [Specificare un fattore di riempimento per un indice](../indexes/specify-fill-factor-for-an-index.md).</span><span class="sxs-lookup"><span data-stu-id="9fa75-122">For more information, see [Specify Fill Factor for an Index](../indexes/specify-fill-factor-for-an-index.md).</span></span>  
  
-   <span data-ttu-id="9fa75-123">Compressione dei file di dati mediante la rimozione delle pagine di database vuote.</span><span class="sxs-lookup"><span data-stu-id="9fa75-123">Compress data files by removing empty database pages.</span></span>  
  
-   <span data-ttu-id="9fa75-124">Aggiornamento delle statistiche dell'indice per garantire che Query Optimizer disponga di informazioni aggiornate sulla distribuzione dei valori di dati nelle tabelle.</span><span class="sxs-lookup"><span data-stu-id="9fa75-124">Update index statistics to make sure the query optimizer has current information about the distribution of data values in the tables.</span></span> <span data-ttu-id="9fa75-125">In tal modo Query Optimizer può scegliere il metodo di accesso ai dati più indicato perché sono disponibili più informazioni sui dati archiviati nel database.</span><span class="sxs-lookup"><span data-stu-id="9fa75-125">This enables the query optimizer to make better judgments about the best way to access data, because it has more information about the data stored in the database.</span></span> <span data-ttu-id="9fa75-126">Sebbene le statistiche dell'indice vengano aggiornate automaticamente e periodicamente da [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], questa opzione può forzare l'aggiornamento immediato delle statistiche.</span><span class="sxs-lookup"><span data-stu-id="9fa75-126">Although index statistics are automatically updated by [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] periodically, this option can force the statistics to update immediately.</span></span>  
  
-   <span data-ttu-id="9fa75-127">Esecuzione dei controlli di coerenza interna dei dati e delle pagine di dati all'interno del database per assicurarsi che i dati non siano stati danneggiati a causa di un problema di sistema o del software.</span><span class="sxs-lookup"><span data-stu-id="9fa75-127">Perform internal consistency checks of the data and data pages within the database to make sure that a system or software problem has not damaged data.</span></span>  
  
-   <span data-ttu-id="9fa75-128">Backup del database e dei file del log delle transazioni.</span><span class="sxs-lookup"><span data-stu-id="9fa75-128">Back up the database and transaction log files.</span></span> <span data-ttu-id="9fa75-129">I backup dei database e dei log possono essere mantenuti per un periodo specificato.</span><span class="sxs-lookup"><span data-stu-id="9fa75-129">Database and log backups can be retained for a specified period.</span></span> <span data-ttu-id="9fa75-130">In tal modo è possibile creare una cronologia dei backup da utilizzare se è necessario ripristinare il database in base allo stato in cui si trovata prima dell'ultimo backup.</span><span class="sxs-lookup"><span data-stu-id="9fa75-130">This lets you create a history of backups to be used if you have to restore the database to a time earlier than the last database backup.</span></span> <span data-ttu-id="9fa75-131">È anche possibile eseguire backup differenziali.</span><span class="sxs-lookup"><span data-stu-id="9fa75-131">You can also perform differential backups.</span></span>  
  
-   <span data-ttu-id="9fa75-132">Esecuzione di processi di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent.</span><span class="sxs-lookup"><span data-stu-id="9fa75-132">Run [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent jobs.</span></span> <span data-ttu-id="9fa75-133">Questa operazione consente di creare processi che eseguono una serie di operazioni, nonché i piani di manutenzione per l'esecuzione dei processi.</span><span class="sxs-lookup"><span data-stu-id="9fa75-133">This can be used to create jobs that perform a variety of actions and the maintenance plans to run those jobs.</span></span>  
  
 <span data-ttu-id="9fa75-134">I risultati generati dalle attività di manutenzione possono essere scritti come report in un file di testo oppure nelle tabelle dei piani di manutenzione (`sysmaintplan_log` e `sysmaintplan_logdetail`) in `msdb`.</span><span class="sxs-lookup"><span data-stu-id="9fa75-134">The results generated by the maintenance tasks can be written as a report to a text file or to the maintenance plan tables (`sysmaintplan_log` and `sysmaintplan_logdetail`) in `msdb`.</span></span> <span data-ttu-id="9fa75-135">Per visualizzare i risultati nel visualizzatore file di log, fare clic con il pulsante destro del mouse su **Piani di manutenzione** e quindi scegliere **Visualizza cronologia**.</span><span class="sxs-lookup"><span data-stu-id="9fa75-135">To view the results in the log file viewer, right-click **Maintenance Plans**, and then click **View History**.</span></span>  
  
## <a name="related-tasks"></a><span data-ttu-id="9fa75-136">Attività correlate</span><span class="sxs-lookup"><span data-stu-id="9fa75-136">Related Tasks</span></span>  
 <span data-ttu-id="9fa75-137">Utilizzare i seguenti argomenti per avere un'introduzione ai piani di manutenzione.</span><span class="sxs-lookup"><span data-stu-id="9fa75-137">Use the following topics to get started with maintenance plans.</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="9fa75-138">**Descrizione**</span><span class="sxs-lookup"><span data-stu-id="9fa75-138">**Description**</span></span>|<span data-ttu-id="9fa75-139">**Argomento**</span><span class="sxs-lookup"><span data-stu-id="9fa75-139">**Topic**</span></span>|  
|<span data-ttu-id="9fa75-140">Viene illustrata la creazione di un piano di manutenzione tramite [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] o [!INCLUDE[tsql](../../includes/tsql-md.md)].</span><span class="sxs-lookup"><span data-stu-id="9fa75-140">Describes how to create a maintenance plan by using [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] or [!INCLUDE[tsql](../../includes/tsql-md.md)].</span></span>|[<span data-ttu-id="9fa75-141">Creare un piano di manutenzione</span><span class="sxs-lookup"><span data-stu-id="9fa75-141">Create a Maintenance Plan</span></span>](create-a-maintenance-plan.md)|  
|<span data-ttu-id="9fa75-142">Viene illustrata la creazione di un piano di manutenzione tramite l'area di progettazione del piano di manutenzione.</span><span class="sxs-lookup"><span data-stu-id="9fa75-142">Describes how to create a maintenance plan by using the Maintenance Plan Design Surface.</span></span>|[<span data-ttu-id="9fa75-143">Creare un piano di manutenzione &#40;area di progettazione del piano di manutenzione&#41;</span><span class="sxs-lookup"><span data-stu-id="9fa75-143">Create a Maintenance Plan &#40;Maintenance Plan Design Surface&#41;</span></span>](create-a-maintenance-plan-maintenance-plan-design-surface.md)|  
|<span data-ttu-id="9fa75-144">Documenta la funzionalità del piano di manutenzione disponibile in Esplora oggetti.</span><span class="sxs-lookup"><span data-stu-id="9fa75-144">Documents maintenance plan functionality available in Object Explorer.</span></span>|[<span data-ttu-id="9fa75-145">Nodo Piani di manutenzione &#40;Esplora oggetti&#41;</span><span class="sxs-lookup"><span data-stu-id="9fa75-145">Maintenance Plans Node &#40;Object Explorer&#41;</span></span>](../../ssms/object/object-explorer.md)|  
  
  
