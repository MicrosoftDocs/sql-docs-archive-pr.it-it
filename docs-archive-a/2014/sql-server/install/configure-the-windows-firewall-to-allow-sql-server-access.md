---
title: Configurare Windows Firewall per consentire l'accesso a SQL Server |Microsoft Docs
ms.custom: ''
ms.date: 06/22/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: install
ms.topic: conceptual
helpviewer_keywords:
- Windows Firewall ports
- WMI firewall ports
- Windows Firewall [Database Engine]
- firewall systems, configuring
- advfirewall
- firewall systems
- rules firewall
- firewall systems, overview and port list
- 1433 TCP port
- portopening using netsh
- ports [SQL Server], TCP
- netsh to open firewall ports
ms.assetid: f55c6a0e-b6bd-4803-b51a-f3a419803024
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: d1a0bc32040fc90e5f73faa708f314722bc8f3b5
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87626491"
---
# <a name="configure-the-windows-firewall-to-allow-sql-server-access"></a><span data-ttu-id="48bcf-102">Configure the Windows Firewall to Allow SQL Server Access</span><span class="sxs-lookup"><span data-stu-id="48bcf-102">Configure the Windows Firewall to Allow SQL Server Access</span></span>
  <span data-ttu-id="48bcf-103">I sistemi firewall contribuiscono a impedire l'accesso non autorizzato alle risorse del computer.</span><span class="sxs-lookup"><span data-stu-id="48bcf-103">Firewall systems help prevent unauthorized access to computer resources.</span></span> <span data-ttu-id="48bcf-104">Se un firewall viene abilitato ma non configurato correttamente, i tentativi di connessione a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] potrebbero essere bloccati.</span><span class="sxs-lookup"><span data-stu-id="48bcf-104">If a firewall is turned on but not correctly configured, attempts to connect to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] might be blocked.</span></span>  
  
 <span data-ttu-id="48bcf-105">Per accedere a un'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] attraverso un firewall, è necessario configurare il firewall nel computer in cui viene eseguito [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] per consentire l'accesso.</span><span class="sxs-lookup"><span data-stu-id="48bcf-105">To access an instance of the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] through a firewall, you must configure the firewall on the computer that is running [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to allow access.</span></span> <span data-ttu-id="48bcf-106">Il firewall è un componente di [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows.</span><span class="sxs-lookup"><span data-stu-id="48bcf-106">The firewall is a component of [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows.</span></span> <span data-ttu-id="48bcf-107">È possibile anche installare un firewall di un altro produttore.</span><span class="sxs-lookup"><span data-stu-id="48bcf-107">You can also install a firewall from another company.</span></span> <span data-ttu-id="48bcf-108">In questo argomento viene illustrato come configurare Windows Firewall, ma i principi di base si applicano anche ad altri tipi di firewall.</span><span class="sxs-lookup"><span data-stu-id="48bcf-108">This topic discusses how to configure the Windows firewall, but the basic principles apply to other firewall programs.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="48bcf-109">In questo argomento viene fornita una panoramica della configurazione del firewall e vengono riepilogate le informazioni utili a un amministratore di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="48bcf-109">This topic provides an overview of firewall configuration and summarizes information of interest to a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] administrator.</span></span> <span data-ttu-id="48bcf-110">Per ulteriori informazioni sul firewall, vedere la documentazione di riferimento, ad esempio [Windows Firewall with Advanced Security and IPSec](https://go.microsoft.com/fwlink/?LinkID=116904).</span><span class="sxs-lookup"><span data-stu-id="48bcf-110">For more information about the firewall and for authoritative firewall information, see the firewall documentation, such as [Windows Firewall with Advanced Security and IPsec](https://go.microsoft.com/fwlink/?LinkID=116904).</span></span>  
  
 <span data-ttu-id="48bcf-111">Gli utenti che già conoscono l'elemento **Windows Firewall** del Pannello di controllo, lo snap-in MMC Windows Firewall con sicurezza avanzata e le impostazioni da configurare possono passare direttamente agli argomenti elencati di seguito:</span><span class="sxs-lookup"><span data-stu-id="48bcf-111">Users familiar with the **Windows Firewall** item in Control Panel and with the Windows Firewall with Advanced Security Microsoft Management Console (MMC) snap-in and who know which firewall settings they want to configure can move directly to the topics in the following list:</span></span>  
  
-   [<span data-ttu-id="48bcf-112">Configurare Windows Firewall per l'accesso al motore di database</span><span class="sxs-lookup"><span data-stu-id="48bcf-112">Configure a Windows Firewall for Database Engine Access</span></span>](../../database-engine/configure-windows/configure-a-windows-firewall-for-database-engine-access.md)  
  
-   [<span data-ttu-id="48bcf-113">Configurare Windows Firewall per consentire l'accesso ad Analysis Services</span><span class="sxs-lookup"><span data-stu-id="48bcf-113">Configure the Windows Firewall to Allow Analysis Services Access</span></span>](../../../2014/analysis-services/instances/configure-the-windows-firewall-to-allow-analysis-services-access.md)  
  
-   [<span data-ttu-id="48bcf-114">Configurare un firewall per l'accesso al server di report</span><span class="sxs-lookup"><span data-stu-id="48bcf-114">Configure a Firewall for Report Server Access</span></span>](../../reporting-services/report-server/configure-a-firewall-for-report-server-access.md)  
  

  
##  <a name="basic-firewall-information"></a><a name="BKMK_basic"></a> <span data-ttu-id="48bcf-115">Informazioni di base sul firewall</span><span class="sxs-lookup"><span data-stu-id="48bcf-115">Basic Firewall Information</span></span>  
 <span data-ttu-id="48bcf-116">Il meccanismo alla base del funzionamento dei firewall è il controllo dei pacchetti in ingresso seguito dal confronto rispetto a un set di regole.</span><span class="sxs-lookup"><span data-stu-id="48bcf-116">Firewalls work by inspecting incoming packets, and comparing them against a set of rules.</span></span> <span data-ttu-id="48bcf-117">Se le regole consentono il pacchetto, esso viene passato al protocollo TCP/IP per un'elaborazione ulteriore.</span><span class="sxs-lookup"><span data-stu-id="48bcf-117">If the rules allow the packet, the firewall passes the packet to the TCP/IP protocol for additional processing.</span></span> <span data-ttu-id="48bcf-118">Se non lo consentono, il pacchetto viene ignorato e, se la registrazione è abilitata, viene creata una voce nel file di registrazione del firewall.</span><span class="sxs-lookup"><span data-stu-id="48bcf-118">If the rules do not allow the packet, the firewall discards the packet and, if logging is enabled, creates an entry in the firewall logging file.</span></span>  
  
 <span data-ttu-id="48bcf-119">L'elenco del traffico consentito viene creato in uno dei modi seguenti:</span><span class="sxs-lookup"><span data-stu-id="48bcf-119">The list of allowed traffic is populated in one of the following ways:</span></span>  
  
-   <span data-ttu-id="48bcf-120">Quando il computer che include il firewall abilitato avvia la comunicazione, il firewall crea una voce nell'elenco in modo da consentire la risposta.</span><span class="sxs-lookup"><span data-stu-id="48bcf-120">When the computer that has the firewall enabled initiates communication, the firewall creates an entry in the list so that the response is allowed.</span></span> <span data-ttu-id="48bcf-121">La risposta in ingresso è considerata traffico richiesto e non è necessario effettuare alcuna configurazione.</span><span class="sxs-lookup"><span data-stu-id="48bcf-121">The incoming response is considered solicited traffic and you do not have to configure this.</span></span>  
  
-   <span data-ttu-id="48bcf-122">Le eccezioni per il firewall vengono configurate dall'amministratore.</span><span class="sxs-lookup"><span data-stu-id="48bcf-122">An administrator configures exceptions to the firewall.</span></span> <span data-ttu-id="48bcf-123">In questo modo è possibile accedere a programmi specificati in esecuzione o a porte di connessione specificate nel computer.</span><span class="sxs-lookup"><span data-stu-id="48bcf-123">This allows either access to specified programs running on your computer, or access to specified connection ports on your computer.</span></span> <span data-ttu-id="48bcf-124">In questo caso, il computer accetta il traffico in ingresso non richiesto quando svolge le funzioni di server, listener o peer.</span><span class="sxs-lookup"><span data-stu-id="48bcf-124">In this case, the computer accepts unsolicited incoming traffic when acting as a server, a listener, or a peer.</span></span> <span data-ttu-id="48bcf-125">Questo è il tipo di configurazione che è necessario completare per connettersi a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="48bcf-125">This is the type of configuration that must be completed to connect to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="48bcf-126">La scelta del tipo di firewall più adatto alle proprie esigenze non si limita alla decisione relativa alla necessità di aprire o chiudere una determinata porta</span><span class="sxs-lookup"><span data-stu-id="48bcf-126">Choosing a firewall strategy is more complex than just deciding if a given port should be open or closed.</span></span> <span data-ttu-id="48bcf-127">e presuppone che vengano prese in considerazione tutte le regole e le opzioni di configurazione disponibili.</span><span class="sxs-lookup"><span data-stu-id="48bcf-127">When designing a firewall strategy for your enterprise, make sure that you consider all the rules and configuration options available to you.</span></span> <span data-ttu-id="48bcf-128">In questo argomento non verranno esaminate tutte le possibili opzioni del firewall.</span><span class="sxs-lookup"><span data-stu-id="48bcf-128">This topic does not review all the possible firewall options.</span></span> <span data-ttu-id="48bcf-129">Si consiglia di consultare i documenti seguenti:</span><span class="sxs-lookup"><span data-stu-id="48bcf-129">We recommend that you review the following documents:</span></span>  
  
 [<span data-ttu-id="48bcf-130">Guida introduttiva a Windows Firewall con sicurezza avanzata</span><span class="sxs-lookup"><span data-stu-id="48bcf-130">Windows Firewall with Advanced Security Getting Started Guide</span></span>](https://go.microsoft.com/fwlink/?LinkId=116080)  
  
 [<span data-ttu-id="48bcf-131">Pagina concernente la guida alla progettazione di Windows Firewall con sicurezza avanzata</span><span class="sxs-lookup"><span data-stu-id="48bcf-131">Windows Firewall with Advanced Security Design Guide</span></span>](https://go.microsoft.com/fwlink/?LinkId=116904)  
  
 [<span data-ttu-id="48bcf-132">Pagina concernente l'introduzione all'isolamento di dominio e server</span><span class="sxs-lookup"><span data-stu-id="48bcf-132">Introduction to Server and Domain Isolation</span></span>](https://go.microsoft.com/fwlink/?LinkId=116081)  
  
##  <a name="default-firewall-settings"></a><a name="BKMK_default"></a> <span data-ttu-id="48bcf-133">Impostazioni del firewall predefinite</span><span class="sxs-lookup"><span data-stu-id="48bcf-133">Default Firewall Settings</span></span>  
 <span data-ttu-id="48bcf-134">Il primo passaggio della pianificazione della configurazione del firewall consiste nel determinare lo stato corrente del firewall per il sistema operativo in uso.</span><span class="sxs-lookup"><span data-stu-id="48bcf-134">The first step in planning your firewall configuration is to determine the current status of the firewall for your operating system.</span></span> <span data-ttu-id="48bcf-135">Se quest'ultimo è stato aggiornato da una versione precedente, è possibile che le impostazioni del firewall siano state conservate o</span><span class="sxs-lookup"><span data-stu-id="48bcf-135">If the operating system was upgraded from a previous version, the earlier firewall settings may have been preserved.</span></span> <span data-ttu-id="48bcf-136">che siano state modificate da un altro amministratore o da Criteri di gruppo nel dominio.</span><span class="sxs-lookup"><span data-stu-id="48bcf-136">Also, the firewall settings could have been changed by another administrator or by a Group Policy in your domain.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="48bcf-137">L'attivazione del firewall influisce su altri programmi a cui è consentito l'accesso al computer, ad esempio la condivisione di file e stampanti e le connessioni desktop remoto.</span><span class="sxs-lookup"><span data-stu-id="48bcf-137">Turning on the firewall will affect other programs that access this computer, such as file and print sharing, and remote desktop connections.</span></span> <span data-ttu-id="48bcf-138">Prima di modificare le impostazioni del firewall, gli amministratori devono tener conto di tutte le applicazioni in esecuzione nel computer.</span><span class="sxs-lookup"><span data-stu-id="48bcf-138">Administrators should consider all applications that are running on the computer before adjusting the firewall settings.</span></span>  
  
##  <a name="programs-to-configure-the-firewall"></a><a name="BKMK_programs"></a> <span data-ttu-id="48bcf-139">Programmi di configurazione del firewall</span><span class="sxs-lookup"><span data-stu-id="48bcf-139">Programs to Configure the Firewall</span></span>  
 <span data-ttu-id="48bcf-140">Sono disponibili tre metodi per configurare le impostazioni di Windows Firewall.</span><span class="sxs-lookup"><span data-stu-id="48bcf-140">There are three ways to configure the Windows Firewall settings.</span></span>  
  
-   <span data-ttu-id="48bcf-141">**Elemento Windows Firewall nel Pannello di controllo**</span><span class="sxs-lookup"><span data-stu-id="48bcf-141">**Windows Firewall item in Control Panel**</span></span>  
  
     <span data-ttu-id="48bcf-142">L'elemento **Windows Firewall** può essere aperto dal Pannello di controllo.</span><span class="sxs-lookup"><span data-stu-id="48bcf-142">The **Windows Firewall** item can be opened from Control Panel.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="48bcf-143">Le modifiche apportate all'elemento **Windows Firewall** nel Pannello di controllo influiscono solo sul profilo corrente.</span><span class="sxs-lookup"><span data-stu-id="48bcf-143">Changes made in the **Windows Firewall** item in Control Panel only affect the current profile.</span></span> <span data-ttu-id="48bcf-144">È preferibile non usare l'elemento **Windows Firewall** del Pannello di controllo nei dispositivi mobili, ad esempio i laptop, in quanto il profilo potrebbe subire delle modifiche quando è connesso in una configurazione diversa.</span><span class="sxs-lookup"><span data-stu-id="48bcf-144">Mobile devices, for example a laptop, should not use the **Windows Firewall** item in Control Panel as the profile might change when it is connected in a different configuration.</span></span> <span data-ttu-id="48bcf-145">Se ciò accade, il profilo configurato in precedenza non sarà più attivo.</span><span class="sxs-lookup"><span data-stu-id="48bcf-145">Then the previously-configured profile will not be in effect.</span></span> <span data-ttu-id="48bcf-146">Per ulteriori informazioni sui profili, vedere [Guida introduttiva a Windows Firewall con sicurezza avanzata](https://go.microsoft.com/fwlink/?LinkId=116080).</span><span class="sxs-lookup"><span data-stu-id="48bcf-146">For more information about profiles, see [Windows Firewall with Advanced Security Getting Started Guide](https://go.microsoft.com/fwlink/?LinkId=116080).</span></span>  
  
     <span data-ttu-id="48bcf-147">L'elemento **Windows Firewall** nel Pannello di controllo consente di configurare le opzioni di base,</span><span class="sxs-lookup"><span data-stu-id="48bcf-147">The **Windows Firewall** item in Control Panel allows you to configure basic options.</span></span> <span data-ttu-id="48bcf-148">tra cui:</span><span class="sxs-lookup"><span data-stu-id="48bcf-148">These include the following:</span></span>  
  
    -   <span data-ttu-id="48bcf-149">Abilitazione e disabilitazione dell'elemento **Windows Firewall** nel Pannello di controllo.</span><span class="sxs-lookup"><span data-stu-id="48bcf-149">Turning the **Windows Firewall** item in Control Panel on or off</span></span>  
  
    -   <span data-ttu-id="48bcf-150">Abilitazione e disabilitazione delle regole</span><span class="sxs-lookup"><span data-stu-id="48bcf-150">Enabling and disabling rules</span></span>  
  
    -   <span data-ttu-id="48bcf-151">Concessione di eccezioni relative a porte e programmi</span><span class="sxs-lookup"><span data-stu-id="48bcf-151">Granting exceptions for ports and programs</span></span>  
  
    -   <span data-ttu-id="48bcf-152">Impostazione di alcune restrizioni dell'ambito</span><span class="sxs-lookup"><span data-stu-id="48bcf-152">Setting some scope restrictions</span></span>  
  
     <span data-ttu-id="48bcf-153">L'elemento **Windows Firewall** del Pannello di controllo risulta particolarmente adatto agli utenti che hanno scarsa familiarità con la configurazione del firewall e che effettuano la configurazione delle opzioni di base del firewall per computer non portatili.</span><span class="sxs-lookup"><span data-stu-id="48bcf-153">The **Windows Firewall** item in Control Panel is most appropriate for users who are not experienced in firewall configuration, and who are configuring basic firewall options for computers that are not mobile.</span></span> <span data-ttu-id="48bcf-154">È inoltre possibile aprire l'elemento **Windows Firewall** nel pannello di controllo dal `run` comando utilizzando la seguente procedura:</span><span class="sxs-lookup"><span data-stu-id="48bcf-154">You can also open the **Windows Firewall** item in Control Panel from the `run` command by using the following procedure:</span></span>  
  
    #### <a name="to-open-the-windows-firewall-item"></a><span data-ttu-id="48bcf-155">Per aprire l'elemento Windows Firewall</span><span class="sxs-lookup"><span data-stu-id="48bcf-155">To open the Windows Firewall item</span></span>  
  
    1.  <span data-ttu-id="48bcf-156">Fare clic sul pulsante **Start** , scegliere **Esegui**, quindi immettere `firewall.cpl`.</span><span class="sxs-lookup"><span data-stu-id="48bcf-156">On the **Start** menu, click **Run**, and then enter `firewall.cpl`.</span></span>  
  
    2.  [!INCLUDE[clickOK](../../includes/clickok-md.md)]  
  
-   <span data-ttu-id="48bcf-157">**Microsoft Management Console (MMC)**</span><span class="sxs-lookup"><span data-stu-id="48bcf-157">**Microsoft Management Console (MMC)**</span></span>  
  
     <span data-ttu-id="48bcf-158">Lo snap-in MMC Windows Firewall con sicurezza avanzata consente di configurare impostazioni del firewall più avanzate.</span><span class="sxs-lookup"><span data-stu-id="48bcf-158">The Windows Firewall with Advanced Security MMC snap-in lets you configure more advanced firewall settings.</span></span> <span data-ttu-id="48bcf-159">Questo snap-in presenta la maggior parte delle opzioni di firewall in una modalità di facile utilizzo e presenta tutti i profili firewall.</span><span class="sxs-lookup"><span data-stu-id="48bcf-159">This snap-in presents most of the firewall options in an easy-to-use manner, and presents all firewall profiles.</span></span> <span data-ttu-id="48bcf-160">Per altre informazioni, vedere [Utilizzo dello snap-in Windows Firewall con sicurezza avanzata](#BKMK_WF_msc) più avanti in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="48bcf-160">For more information, see [Using the Windows Firewall with Advanced Security Snap-in](#BKMK_WF_msc) later in this topic.</span></span>  
  
-   <span data-ttu-id="48bcf-161">**netsh**</span><span class="sxs-lookup"><span data-stu-id="48bcf-161">**netsh**</span></span>  
  
     <span data-ttu-id="48bcf-162">Lo strumento **netsh.exe** può essere usato da un amministratore per configurare e monitorare i computer basati su Windows in un prompt dei comandi o con un file batch **.**</span><span class="sxs-lookup"><span data-stu-id="48bcf-162">The **netsh.exe** tool can be used by an administrator to configure and monitor Windows-based computers at a command prompt or using a batch file **.**</span></span> <span data-ttu-id="48bcf-163">Usando lo strumento **netsh** è possibile indirizzare i comandi contestuali all'helper adatto per far sì che questo esegua il comando desiderato.</span><span class="sxs-lookup"><span data-stu-id="48bcf-163">By using the **netsh** tool, you can direct the context commands you enter to the appropriate helper, and the helper then performs the command.</span></span> <span data-ttu-id="48bcf-164">Un helper è un file DLL (Dynamic Link Library, libreria di collegamento dinamico) che estende la funzionalità dello strumento **netsh** e fornisce configurazione, monitoraggio e supporto per uno o più servizi, utilità o protocolli.</span><span class="sxs-lookup"><span data-stu-id="48bcf-164">A helper is a Dynamic Link Library (.dll) file that extends the functionality of the **netsh** tool by providing configuration, monitoring, and support for one or more services, utilities, or protocols.</span></span> <span data-ttu-id="48bcf-165">Tutti i sistemi operativi che supportano [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] dispongono di un helper del firewall.</span><span class="sxs-lookup"><span data-stu-id="48bcf-165">All operating systems that support [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] have a firewall helper.</span></span> [!INCLUDE[firstref_longhorn](../../includes/firstref-longhorn-md.md)] <span data-ttu-id="48bcf-166">ha anche un helper del firewall avanzato denominato **advfirewall**.</span><span class="sxs-lookup"><span data-stu-id="48bcf-166">also has an advanced firewall helper called **advfirewall**.</span></span> <span data-ttu-id="48bcf-167">I dettagli sull'uso di **netsh** non vengono descritti in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="48bcf-167">The details of using **netsh** are not discussed in this topic.</span></span> <span data-ttu-id="48bcf-168">Tuttavia, molte delle opzioni di configurazione descritte possono essere configurate con **netsh**.</span><span class="sxs-lookup"><span data-stu-id="48bcf-168">However, many of the configuration options described can be configured by using **netsh**.</span></span> <span data-ttu-id="48bcf-169">Ad esempio, eseguire lo script seguente al prompt dei comandi per aprire la porta TCP 1433:</span><span class="sxs-lookup"><span data-stu-id="48bcf-169">For example, run the following script at a command prompt to open TCP port 1433:</span></span>  
  
    ```  
    netsh firewall set portopening protocol = TCP port = 1433 name = SQLPort mode = ENABLE scope = SUBNET profile = CURRENT  
    ```  
  
     <span data-ttu-id="48bcf-170">Esempio simile utilizzando l'helper Windows Firewall con sicurezza avanzata:</span><span class="sxs-lookup"><span data-stu-id="48bcf-170">A similar example using the Windows Firewall for Advanced Security helper:</span></span>  
  
    ```  
    netsh advfirewall firewall add rule name = SQLPort dir = in protocol = tcp action = allow localport = 1433 remoteip = localsubnet profile = DOMAIN  
    ```  
  
     <span data-ttu-id="48bcf-171">Per altre informazioni su **netsh**, vedere i collegamenti seguenti:</span><span class="sxs-lookup"><span data-stu-id="48bcf-171">For more information about **netsh**, see the following links:</span></span>  
  
    -   [<span data-ttu-id="48bcf-172">Utilizzo dello strumento Netsh.exe e parametri della riga di comando</span><span class="sxs-lookup"><span data-stu-id="48bcf-172">How to Use the Netsh.exe Tool and Command-Line Switches</span></span>](https://support.microsoft.com/kb/242468)  
  
    -   [<span data-ttu-id="48bcf-173">Utilizzo del contesto "netsh advfirewall firewall" anziché del contesto "netsh firewall" per controllare il comportamento di Windows Firewall in Windows Server 2008 e in Windows Vista</span><span class="sxs-lookup"><span data-stu-id="48bcf-173">How to use the "netsh advfirewall firewall" context instead of the "netsh firewall" context to control Windows Firewall behavior in Windows Server 2008 and in Windows Vista</span></span>](https://support.microsoft.com/kb/947709)  
  
    -   [<span data-ttu-id="48bcf-174">Pagina relativa alla mancata configurazione del profilo pubblico in un computer basato su Windows Vista qualora il comando "netsh firewall" venga utilizzato con il parametro "profile=all"</span><span class="sxs-lookup"><span data-stu-id="48bcf-174">The "netsh firewall" command together with the "profile=all" parameter does not configure the public profile on a Windows Vista-based computer</span></span>](https://support.microsoft.com/kb/947213)  
  
## <a name="ports-used-by-ssnoversion"></a><span data-ttu-id="48bcf-175">Porte utilizzate da [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="48bcf-175">Ports Used By [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span></span>  
 <span data-ttu-id="48bcf-176">Le tabelle seguenti consentono di identificare le porte utilizzate da [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="48bcf-176">The following tables can help you identify the ports being used by [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
###  <a name="ports-used-by-the-database-engine"></a><a name="BKMK_ssde"></a> <span data-ttu-id="48bcf-177">Ports Used By the Database Engine</span><span class="sxs-lookup"><span data-stu-id="48bcf-177">Ports Used By the Database Engine</span></span>  
 <span data-ttu-id="48bcf-178">Nella tabella seguente sono indicate le porte più utilizzate dal [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span><span class="sxs-lookup"><span data-stu-id="48bcf-178">The following table lists the ports that are frequently used by the [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span></span>  
  
|<span data-ttu-id="48bcf-179">Scenario</span><span class="sxs-lookup"><span data-stu-id="48bcf-179">Scenario</span></span>|<span data-ttu-id="48bcf-180">Porta</span><span class="sxs-lookup"><span data-stu-id="48bcf-180">Port</span></span>|<span data-ttu-id="48bcf-181">Commenti</span><span class="sxs-lookup"><span data-stu-id="48bcf-181">Comments</span></span>|  
|--------------|----------|--------------|  
|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="48bcf-182">in esecuzione su TCP</span><span class="sxs-lookup"><span data-stu-id="48bcf-182">default instance running over TCP</span></span>|<span data-ttu-id="48bcf-183">Porta TCP 1433</span><span class="sxs-lookup"><span data-stu-id="48bcf-183">TCP port 1433</span></span>|<span data-ttu-id="48bcf-184">Si tratta della porta più comune consentita dal firewall.</span><span class="sxs-lookup"><span data-stu-id="48bcf-184">This is the most common port allowed through the firewall.</span></span> <span data-ttu-id="48bcf-185">Viene utilizzata nelle connessioni di routine all'installazione predefinita del [!INCLUDE[ssDE](../../includes/ssde-md.md)]o a un'istanza denominata che rappresenta l'unica istanza in esecuzione nel computer.</span><span class="sxs-lookup"><span data-stu-id="48bcf-185">It applies to routine connections to the default installation of the [!INCLUDE[ssDE](../../includes/ssde-md.md)], or a named instance that is the only instance running on the computer.</span></span> <span data-ttu-id="48bcf-186">Le istanze denominate presuppongo alcune considerazioni speciali.</span><span class="sxs-lookup"><span data-stu-id="48bcf-186">(Named instances have special considerations.</span></span> <span data-ttu-id="48bcf-187">Vedere [porte dinamiche](#BKMK_dynamic_ports) più avanti in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="48bcf-187">See [Dynamic Ports](#BKMK_dynamic_ports) later in this topic.)</span></span>|  
|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="48bcf-188">nella configurazione predefinita</span><span class="sxs-lookup"><span data-stu-id="48bcf-188">named instances in the default configuration</span></span>|<span data-ttu-id="48bcf-189">La porta TCP è una porta dinamica determinata all'avvio del [!INCLUDE[ssDE](../../includes/ssde-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="48bcf-189">The TCP port is a dynamic port determined at the time the [!INCLUDE[ssDE](../../includes/ssde-md.md)] starts.</span></span>|<span data-ttu-id="48bcf-190">Vedere la discussione che segue nella sezione [Porte dinamiche](#BKMK_dynamic_ports).</span><span class="sxs-lookup"><span data-stu-id="48bcf-190">See the discussion below in the section [Dynamic Ports](#BKMK_dynamic_ports).</span></span> <span data-ttu-id="48bcf-191">La porta UDP 1434 potrebbe essere richiesta per il servizio [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser durante l'utilizzo di istanze denominate.</span><span class="sxs-lookup"><span data-stu-id="48bcf-191">UDP port 1434 might be required for the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser Service when you are using named instances.</span></span>|  
|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="48bcf-192">quando vengono configurate per l'utilizzo di una porta fissa</span><span class="sxs-lookup"><span data-stu-id="48bcf-192">named instances when they are configured to use a fixed port</span></span>|<span data-ttu-id="48bcf-193">Il numero di porta configurato dall'amministratore.</span><span class="sxs-lookup"><span data-stu-id="48bcf-193">The port number configured by the administrator.</span></span>|<span data-ttu-id="48bcf-194">Vedere la discussione che segue nella sezione [Porte dinamiche](#BKMK_dynamic_ports).</span><span class="sxs-lookup"><span data-stu-id="48bcf-194">See the discussion below in the section [Dynamic Ports](#BKMK_dynamic_ports).</span></span>|  
|<span data-ttu-id="48bcf-195">Dedicated Admin Connection</span><span class="sxs-lookup"><span data-stu-id="48bcf-195">Dedicated Admin Connection</span></span>|<span data-ttu-id="48bcf-196">Porta TCP 1434 per l'istanza predefinita.</span><span class="sxs-lookup"><span data-stu-id="48bcf-196">TCP port 1434 for the default instance.</span></span> <span data-ttu-id="48bcf-197">Per le istanze denominate vengono utilizzate altre porte.</span><span class="sxs-lookup"><span data-stu-id="48bcf-197">Other ports are used for named instances.</span></span> <span data-ttu-id="48bcf-198">Per informazioni sul numero di porta, controllare il log degli errori.</span><span class="sxs-lookup"><span data-stu-id="48bcf-198">Check the error log for the port number.</span></span>|<span data-ttu-id="48bcf-199">Per impostazione predefinita, le connessioni amministrative dedicate (DAC, Dedicated Administrator Connection) remote non sono abilitate.</span><span class="sxs-lookup"><span data-stu-id="48bcf-199">By default, remote connections to the Dedicated Administrator Connection (DAC) are not enabled.</span></span> <span data-ttu-id="48bcf-200">Per abilitare le connessioni DAC remote, utilizzare il facet Configurazione superficie di attacco.</span><span class="sxs-lookup"><span data-stu-id="48bcf-200">To enable remote DAC, use the Surface Area Configuration facet.</span></span> <span data-ttu-id="48bcf-201">Per ulteriori informazioni, vedere [Surface Area Configuration](../../relational-databases/security/surface-area-configuration.md).</span><span class="sxs-lookup"><span data-stu-id="48bcf-201">For more information, see [Surface Area Configuration](../../relational-databases/security/surface-area-configuration.md).</span></span>|  
|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="48bcf-202">Browser</span><span class="sxs-lookup"><span data-stu-id="48bcf-202">Browser service</span></span>|<span data-ttu-id="48bcf-203">Porta UDP 1434</span><span class="sxs-lookup"><span data-stu-id="48bcf-203">UDP port 1434</span></span>|<span data-ttu-id="48bcf-204">Il servizio [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser è in attesa delle connessioni in ingresso a un'istanza denominata e fornisce al client il numero di porta TCP corrispondente.</span><span class="sxs-lookup"><span data-stu-id="48bcf-204">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser service listens for incoming connections to a named instance and provides the client the TCP port number that corresponds to that named instance.</span></span> <span data-ttu-id="48bcf-205">In genere il servizio [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser viene avviato ogni volta che si usano istanze denominate del [!INCLUDE[ssDE](../../includes/ssde-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="48bcf-205">Normally the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser service is started whenever named instances of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] are used.</span></span> <span data-ttu-id="48bcf-206">Non è necessario avviare il servizio [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser se il client è configurato per la connessione alla porta specifica dell'istanza denominata.</span><span class="sxs-lookup"><span data-stu-id="48bcf-206">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser service does not have to be started if the client is configured to connect to the specific port of the named instance.</span></span>|  
|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="48bcf-207">in esecuzione su un endpoint HTTP.</span><span class="sxs-lookup"><span data-stu-id="48bcf-207">instance running over an HTTP endpoint.</span></span>|<span data-ttu-id="48bcf-208">Può essere specificata quando viene creato un endpoint HTTP.</span><span class="sxs-lookup"><span data-stu-id="48bcf-208">Can be specified when an HTTP endpoint is created.</span></span> <span data-ttu-id="48bcf-209">Le impostazioni predefinite sono la porta TCP 80 per il traffico CLEAR_PORT e la porta 443 per il traffico SSL_PORT.</span><span class="sxs-lookup"><span data-stu-id="48bcf-209">The default is TCP port 80 for CLEAR_PORT traffic and 443 for SSL_PORT traffic.</span></span>|<span data-ttu-id="48bcf-210">Utilizzata per una connessione HTTP tramite un URL.</span><span class="sxs-lookup"><span data-stu-id="48bcf-210">Used for an HTTP connection through a URL.</span></span>|  
|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="48bcf-211">in esecuzione su un endpoint HTTPS.</span><span class="sxs-lookup"><span data-stu-id="48bcf-211">default instance running over an HTTPS endpoint.</span></span>|<span data-ttu-id="48bcf-212">Porta TCP 443</span><span class="sxs-lookup"><span data-stu-id="48bcf-212">TCP port 443</span></span>|<span data-ttu-id="48bcf-213">Utilizzata per una connessione HTTPS tramite un URL.</span><span class="sxs-lookup"><span data-stu-id="48bcf-213">Used for an HTTPS connection through a URL.</span></span> <span data-ttu-id="48bcf-214">HTTPS è una connessione HTTP che utilizza il protocollo SSL (Secure Sockets Layer).</span><span class="sxs-lookup"><span data-stu-id="48bcf-214">HTTPS is an HTTP connection that uses secure sockets layer (SSL).</span></span>|  
|[!INCLUDE[ssSB](../../includes/sssb-md.md)]|<span data-ttu-id="48bcf-215">Porta TCP 4022.</span><span class="sxs-lookup"><span data-stu-id="48bcf-215">TCP port 4022.</span></span> <span data-ttu-id="48bcf-216">Per verificare la porta utilizzata, eseguire la query seguente:</span><span class="sxs-lookup"><span data-stu-id="48bcf-216">To verify the port used, execute the following query:</span></span><br /><br /> `SELECT name, protocol_desc, port, state_desc`<br /><br /> `FROM sys.tcp_endpoints`<br /><br /> `WHERE type_desc = 'SERVICE_BROKER'`|<span data-ttu-id="48bcf-217">Per [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)][!INCLUDE[ssSB](../../includes/sssb-md.md)]non sono disponibili porte predefinite, ma questa è la configurazione convenzionale usata negli esempi della documentazione online.</span><span class="sxs-lookup"><span data-stu-id="48bcf-217">There is no default port for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)][!INCLUDE[ssSB](../../includes/sssb-md.md)], but this is the conventional configuration used in Books Online examples.</span></span>|  
|<span data-ttu-id="48bcf-218">Mirroring del database</span><span class="sxs-lookup"><span data-stu-id="48bcf-218">Database Mirroring</span></span>|<span data-ttu-id="48bcf-219">Porta scelta dall'amministratore.</span><span class="sxs-lookup"><span data-stu-id="48bcf-219">Administrator chosen port.</span></span> <span data-ttu-id="48bcf-220">Per determinare la porta, eseguire la query seguente:</span><span class="sxs-lookup"><span data-stu-id="48bcf-220">To determine the port, execute the following query:</span></span><br /><br /> `SELECT name, protocol_desc, port, state_desc FROM sys.tcp_endpoints`<br /><br /> `WHERE type_desc = 'DATABASE_MIRRORING'`|<span data-ttu-id="48bcf-221">Per il mirroring del database non sono disponibili porte predefinite, tuttavia negli esempi della documentazione online viene utilizzata la porta TCP 7022.</span><span class="sxs-lookup"><span data-stu-id="48bcf-221">There is no default port for database mirroring however Books Online examples use TCP port 7022.</span></span> <span data-ttu-id="48bcf-222">È molto importante evitare di interrompere un endpoint del mirroring in uso, soprattutto in modalità a protezione elevata con failover automatico.</span><span class="sxs-lookup"><span data-stu-id="48bcf-222">It is very important to avoid interrupting an in-use mirroring endpoint, especially in high-safety mode with automatic failover.</span></span> <span data-ttu-id="48bcf-223">La configurazione del firewall deve evitare di interrompere il quorum.</span><span class="sxs-lookup"><span data-stu-id="48bcf-223">Your firewall configuration must avoid breaking quorum.</span></span> <span data-ttu-id="48bcf-224">Per altre informazioni, vedere [Specificare un indirizzo di rete del server &#40;Mirroring del database&#41;](../../database-engine/database-mirroring/specify-a-server-network-address-database-mirroring.md).</span><span class="sxs-lookup"><span data-stu-id="48bcf-224">For more information, see [Specify a Server Network Address &#40;Database Mirroring&#41;](../../database-engine/database-mirroring/specify-a-server-network-address-database-mirroring.md).</span></span>|  
|<span data-ttu-id="48bcf-225">Replica</span><span class="sxs-lookup"><span data-stu-id="48bcf-225">Replication</span></span>|<span data-ttu-id="48bcf-226">Per le connessioni di replica a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] vengono utilizzate le tipiche porte standard del [!INCLUDE[ssDE](../../includes/ssde-md.md)] (porta TCP 1433 per l'istanza predefinita e così via).</span><span class="sxs-lookup"><span data-stu-id="48bcf-226">Replication connections to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] use the typical regular [!INCLUDE[ssDE](../../includes/ssde-md.md)] ports (TCP port 1433 for the default instance, etc.)</span></span><br /><br /> <span data-ttu-id="48bcf-227">La sincronizzazione Web e l'accesso FTP/UNC per snapshot di replica richiedono l'apertura di porte aggiuntive sul firewall.</span><span class="sxs-lookup"><span data-stu-id="48bcf-227">Web synchronization and FTP/UNC access for replication snapshot require additional ports to be opened on the firewall.</span></span> <span data-ttu-id="48bcf-228">Per trasferire lo schema e i dati iniziali da una posizione all'altra, per la replica possono essere utilizzati il protocollo FTP (porta TCP 21), la sincronizzazione su HTTP (porta TCP 80) o la condivisione di file.</span><span class="sxs-lookup"><span data-stu-id="48bcf-228">To transfer initial data and schema from one location to another, replication can use FTP (TCP port 21), or sync over HTTP (TCP port 80) or File Sharing.</span></span> <span data-ttu-id="48bcf-229">Nella condivisione di file vengono utilizzate le porte UDP 137 e 138 a la porta TCP 139 in caso di utilizzo di NetBios.</span><span class="sxs-lookup"><span data-stu-id="48bcf-229">File sharing uses UDP port 137 and 138, and TCP port 139 if it using NetBIOS.</span></span> <span data-ttu-id="48bcf-230">La condivisione file utilizza la porta TCP 445.</span><span class="sxs-lookup"><span data-stu-id="48bcf-230">File Sharing uses TCP port 445.</span></span>|<span data-ttu-id="48bcf-231">Per la sincronizzazione su HTTP, la replica utilizza l'endpoint IIS, ovvero le porte per le quali è configurabile, anche se la porta 80 rappresenta l'impostazione predefinita, ma il processo IIS si connette a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] di back-end tramite le porte standard (1433 per l'istanza predefinita).</span><span class="sxs-lookup"><span data-stu-id="48bcf-231">For sync over HTTP, replication uses the IIS endpoint (ports for which are configurable but is port 80 by default), but the IIS process connects to the backend [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] through the standard ports (1433 for the default instance.</span></span><br /><br /> <span data-ttu-id="48bcf-232">Durante la sincronizzazione Web tramite FTP, il trasferimento FTP avviene tra IIS e il server di pubblicazione [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , non tra il sottoscrittore e IIS.</span><span class="sxs-lookup"><span data-stu-id="48bcf-232">During Web synchronization using FTP, the FTP transfer is between IIS and the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] publisher, not between subscriber and IIS.</span></span>|  
|[!INCLUDE[tsql](../../includes/tsql-md.md)] <span data-ttu-id="48bcf-233">debugger</span><span class="sxs-lookup"><span data-stu-id="48bcf-233">debugger</span></span>|<span data-ttu-id="48bcf-234">Porta TCP 135</span><span class="sxs-lookup"><span data-stu-id="48bcf-234">TCP port 135</span></span><br /><br /> <span data-ttu-id="48bcf-235">Vedere [Considerazioni speciali per la porta 135](#BKMK_port_135)</span><span class="sxs-lookup"><span data-stu-id="48bcf-235">See [Special Considerations for Port 135](#BKMK_port_135)</span></span><br /><br /> <span data-ttu-id="48bcf-236">Potrebbe essere necessaria anche l'eccezione [IPsec](#BKMK_additional_ports) .</span><span class="sxs-lookup"><span data-stu-id="48bcf-236">The [IPsec](#BKMK_additional_ports) exception might also be required.</span></span>|<span data-ttu-id="48bcf-237">Se si utilizza [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)], nel computer host di [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)] , è necessario aggiungere anche **Devenv.exe** all'elenco di eccezioni e aprire la porta TCP 135.</span><span class="sxs-lookup"><span data-stu-id="48bcf-237">If using [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)], on the [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)] host computer, you must also add **Devenv.exe** to the Exceptions list and open TCP port 135.</span></span><br /><br /> <span data-ttu-id="48bcf-238">Se si utilizza [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)], nel computer host di [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)] , è necessario aggiungere anche **ssms.exe** all'elenco di eccezioni e aprire la porta TCP 135.</span><span class="sxs-lookup"><span data-stu-id="48bcf-238">If using [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)], on the [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)] host computer, you must also add **ssms.exe** to the Exceptions list and open TCP port 135.</span></span> <span data-ttu-id="48bcf-239">Per ulteriori informazioni, vedere [la pagina relativa alla configurazione del debugger Transact-SQL](../../relational-databases/scripting/configure-firewall-rules-before-running-the-tsql-debugger.md).</span><span class="sxs-lookup"><span data-stu-id="48bcf-239">For more information, see [Configure the Transact-SQL Debugger](../../relational-databases/scripting/configure-firewall-rules-before-running-the-tsql-debugger.md).</span></span>|  
  
 <span data-ttu-id="48bcf-240">Per istruzioni dettagliate sulla configurazione di Windows Firewall per il [!INCLUDE[ssDE](../../includes/ssde-md.md)], vedere [Configurazione di Windows Firewall per l'accesso al Motore di database](../../database-engine/configure-windows/configure-a-windows-firewall-for-database-engine-access.md).</span><span class="sxs-lookup"><span data-stu-id="48bcf-240">For step by step instructions to configure the Windows Firewall for the [!INCLUDE[ssDE](../../includes/ssde-md.md)], see [Configure a Windows Firewall for Database Engine Access](../../database-engine/configure-windows/configure-a-windows-firewall-for-database-engine-access.md).</span></span>  
  
####  <a name="dynamic-ports"></a><a name="BKMK_dynamic_ports"></a> <span data-ttu-id="48bcf-241">Porte dinamiche</span><span class="sxs-lookup"><span data-stu-id="48bcf-241">Dynamic Ports</span></span>  
 <span data-ttu-id="48bcf-242">Per impostazione predefinita, per le istanze denominate, inclusa [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)], vengono utilizzate porte dinamiche.</span><span class="sxs-lookup"><span data-stu-id="48bcf-242">By default, named instances (including [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)]) use dynamic ports.</span></span> <span data-ttu-id="48bcf-243">Ciò significa che ogni volta che il [!INCLUDE[ssDE](../../includes/ssde-md.md)] viene avviato, identifica una porta disponibile e ne utilizza il numero.</span><span class="sxs-lookup"><span data-stu-id="48bcf-243">That means that every time that the [!INCLUDE[ssDE](../../includes/ssde-md.md)] starts, it identifies an available port and uses that port number.</span></span> <span data-ttu-id="48bcf-244">Se l'istanza denominata è l'unica istanza del [!INCLUDE[ssDE](../../includes/ssde-md.md)] installata, è probabile che venga utilizzata la porta TCP 1433.</span><span class="sxs-lookup"><span data-stu-id="48bcf-244">If the named instance is the only instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] installed, it will probably use TCP port 1433.</span></span> <span data-ttu-id="48bcf-245">Se sono installate altre istanze del [!INCLUDE[ssDE](../../includes/ssde-md.md)] , è probabile che venga utilizzata una porta TCP diversa.</span><span class="sxs-lookup"><span data-stu-id="48bcf-245">If other instances of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] are installed, it will probably use a different TCP port.</span></span> <span data-ttu-id="48bcf-246">Poiché la porta selezionata potrebbe cambiare ogni volta che il [!INCLUDE[ssDE](../../includes/ssde-md.md)] viene avviato, è difficile configurare il firewall per abilitare l'accesso al numero di porta corretto.</span><span class="sxs-lookup"><span data-stu-id="48bcf-246">Because the port selected might change every time that the [!INCLUDE[ssDE](../../includes/ssde-md.md)] is started, it is difficult to configure the firewall to enable access to the correct port number.</span></span> <span data-ttu-id="48bcf-247">Pertanto, se si utilizza un firewall, è consigliabile riconfigurare il [!INCLUDE[ssDE](../../includes/ssde-md.md)] affinché utilizzi ogni volta lo stesso numero di porta.</span><span class="sxs-lookup"><span data-stu-id="48bcf-247">Therefore, if a firewall is used, we recommend reconfiguring the [!INCLUDE[ssDE](../../includes/ssde-md.md)] to use the same port number every time.</span></span> <span data-ttu-id="48bcf-248">In questi casi si parla quindi di porta fissa o porta statica.</span><span class="sxs-lookup"><span data-stu-id="48bcf-248">This is called a fixed port or a static port.</span></span> <span data-ttu-id="48bcf-249">Per altre informazioni, vedere [Configurazione di un server per l'attesa su una porta TCP specifica &#40;Gestione configurazione SQL Server&#41;](../../database-engine/configure-windows/configure-a-server-to-listen-on-a-specific-tcp-port.md).</span><span class="sxs-lookup"><span data-stu-id="48bcf-249">For more information, see [Configure a Server to Listen on a Specific TCP Port &#40;SQL Server Configuration Manager&#41;](../../database-engine/configure-windows/configure-a-server-to-listen-on-a-specific-tcp-port.md).</span></span>  
  
 <span data-ttu-id="48bcf-250">Un'alternativa alla configurazione di un'istanza denominata in modo che si metta in attesa su una porta fissa consiste nel creare un'eccezione nel firewall per un programma di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , ad esempio **sqlservr.exe** per il [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span><span class="sxs-lookup"><span data-stu-id="48bcf-250">An alternative to configuring a named instance to listen on a fixed port is to create an exception in the firewall for a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] program such as **sqlservr.exe** (for the [!INCLUDE[ssDE](../../includes/ssde-md.md)]).</span></span> <span data-ttu-id="48bcf-251">Anche se può risultare utile, il numero di porta non verrà visualizzato nella colonna **Porta locale** della pagina **Regole in entrata** quando si usa lo snap-in MMC Windows Firewall con sicurezza avanzata.</span><span class="sxs-lookup"><span data-stu-id="48bcf-251">This can be convenient, but the port number will not appear in the **Local Port** column of the **Inbound Rules** page when you are using the Windows Firewall with Advanced Security MMC snap-in.</span></span> <span data-ttu-id="48bcf-252">Questa operazione può rendere più difficile il controllo delle porte aperte.</span><span class="sxs-lookup"><span data-stu-id="48bcf-252">This can make it more difficult to audit which ports are open.</span></span> <span data-ttu-id="48bcf-253">Tenere anche presente che un Service Pack o un aggiornamento cumulativo può modificare il percorso del file eseguibile di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , rendendo non valida la regola del firewall.</span><span class="sxs-lookup"><span data-stu-id="48bcf-253">Another consideration is that a service pack or cumulative update can change the path to the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] executable which will invalidate the firewall rule.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="48bcf-254">La procedura riportata di seguito utilizza l'elemento **Windows Firewall** del Pannello di controllo.</span><span class="sxs-lookup"><span data-stu-id="48bcf-254">The following procedure uses the **Windows Firewall** item in Control Panel.</span></span> <span data-ttu-id="48bcf-255">Lo snap-in MMC Windows Firewall con sicurezza avanzata consente di configurare una regola più complessa,</span><span class="sxs-lookup"><span data-stu-id="48bcf-255">The Windows Firewall with Advanced Security MMC snap-in can configure a more complex rule.</span></span> <span data-ttu-id="48bcf-256">inclusa la configurazione di un'eccezione del servizio che può risultare utile per offrire una difesa più avanzata.</span><span class="sxs-lookup"><span data-stu-id="48bcf-256">This includes configuring a service exception which can be useful for providing defense in depth.</span></span> <span data-ttu-id="48bcf-257">Vedere [Utilizzo dello snap-in Windows Firewall con sicurezza avanzata](#BKMK_WF_msc) più avanti.</span><span class="sxs-lookup"><span data-stu-id="48bcf-257">See [Using the Windows Firewall with Advanced Security Snap-in](#BKMK_WF_msc) below.</span></span>  
  
###### <a name="to-add-a-program-exception-to-the-firewall-using-the-windows-firewall-item-in-control-panel"></a><span data-ttu-id="48bcf-258">Per aggiungere un'eccezione del programma al firewall utilizzando l'elemento Windows Firewall nel Pannello di controllo</span><span class="sxs-lookup"><span data-stu-id="48bcf-258">To add a program exception to the firewall using the Windows Firewall item in Control Panel.</span></span>  
  
1.  <span data-ttu-id="48bcf-259">Nella scheda **Eccezioni** dell'elemento **Windows Firewall** nel Pannello di controllo fare clic su **Aggiungi programma**.</span><span class="sxs-lookup"><span data-stu-id="48bcf-259">On the **Exceptions** tab of the **Windows Firewall** item in Control Panel, click **Add a program**.</span></span>  
  
2.  <span data-ttu-id="48bcf-260">Individuare il percorso dell'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] che si desidera consentire attraverso il firewall, ad esempio C:\Programmi\Microsoft **SQL Server\MSSQL12. <instance_name> \MSSQL\Binn**, selezionare **sqlservr.exe**e quindi fare clic su **Apri**.</span><span class="sxs-lookup"><span data-stu-id="48bcf-260">Browse to the location of the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] that you want to allow through the firewall, for example **C:\Program Files\Microsoft SQL Server\MSSQL12.<instance_name>\MSSQL\Binn**, select **sqlservr.exe**, and then click **Open**.</span></span>  
  
3.  [!INCLUDE[clickOK](../../includes/clickok-md.md)]  
  
 <span data-ttu-id="48bcf-261">Per altre informazioni sugli endpoint, vedere [Configurazione del Motore di database per l'attesa su più porte TCP](../../database-engine/configure-windows/configure-the-database-engine-to-listen-on-multiple-tcp-ports.md) e [Viste del catalogo degli endpoint &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/endpoints-catalog-views-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="48bcf-261">For more information about endpoints, see [Configure the Database Engine to Listen on Multiple TCP Ports](../../database-engine/configure-windows/configure-the-database-engine-to-listen-on-multiple-tcp-ports.md) and [Endpoints Catalog Views &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/endpoints-catalog-views-transact-sql).</span></span>  
  
###  <a name="ports-used-by-analysis-services"></a><a name="BKMK_ssas"></a> <span data-ttu-id="48bcf-262">Porte utilizzate da Analysis Services</span><span class="sxs-lookup"><span data-stu-id="48bcf-262">Ports Used By Analysis Services</span></span>  
 <span data-ttu-id="48bcf-263">Nella tabella seguente sono indicate le porte più utilizzate da [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="48bcf-263">The following table lists the ports that are frequently used by [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span>  
  
|<span data-ttu-id="48bcf-264">Funzionalità</span><span class="sxs-lookup"><span data-stu-id="48bcf-264">Feature</span></span>|<span data-ttu-id="48bcf-265">Porta</span><span class="sxs-lookup"><span data-stu-id="48bcf-265">Port</span></span>|<span data-ttu-id="48bcf-266">Commenti</span><span class="sxs-lookup"><span data-stu-id="48bcf-266">Comments</span></span>|  
|-------------|----------|--------------|  
|[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]|<span data-ttu-id="48bcf-267">Porta TCP 2383 per l'istanza predefinita</span><span class="sxs-lookup"><span data-stu-id="48bcf-267">TCP port 2383 for the default instance</span></span>|<span data-ttu-id="48bcf-268">La porta standard per l'istanza predefinita di [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="48bcf-268">The standard port for the default instance of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span>|  
|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="48bcf-269">Browser</span><span class="sxs-lookup"><span data-stu-id="48bcf-269">Browser service</span></span>|<span data-ttu-id="48bcf-270">Porta TCP 2382 necessaria solo per un'istanza denominata di [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="48bcf-270">TCP port 2382 only needed for an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] named instance</span></span>|<span data-ttu-id="48bcf-271">Le richieste di connessione client per un'istanza denominata di [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] che non specificano un numero di porta vengono indirizzate alla porta 2382, ovvero la porta su cui è in attesa [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser.</span><span class="sxs-lookup"><span data-stu-id="48bcf-271">Client connection requests for a named instance of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] that do not specify a port number are directed to port 2382, the port on which [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser listens.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="48bcf-272">Browser la richiesta viene quindi reindirizzata alla porta utilizzata dall'istanza denominata.</span><span class="sxs-lookup"><span data-stu-id="48bcf-272">Browser then redirects the request to the port that the named instance uses.</span></span>|  
|[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] <span data-ttu-id="48bcf-273">configurato per l'uso tramite IIS/HTTP</span><span class="sxs-lookup"><span data-stu-id="48bcf-273">configured for use through IIS/HTTP</span></span><br /><br /> <span data-ttu-id="48bcf-274">(Tabella pivot?</span><span class="sxs-lookup"><span data-stu-id="48bcf-274">(The PivotTable??</span></span> <span data-ttu-id="48bcf-275">Il servizio Usa HTTP o HTTPS)</span><span class="sxs-lookup"><span data-stu-id="48bcf-275">Service uses HTTP or HTTPS)</span></span>|<span data-ttu-id="48bcf-276">Porta TCP 80</span><span class="sxs-lookup"><span data-stu-id="48bcf-276">TCP port 80</span></span>|<span data-ttu-id="48bcf-277">Utilizzata per una connessione HTTP tramite un URL.</span><span class="sxs-lookup"><span data-stu-id="48bcf-277">Used for an HTTP connection through a URL.</span></span>|  
|[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] <span data-ttu-id="48bcf-278">configurato per l'uso tramite IIS/HTTPS</span><span class="sxs-lookup"><span data-stu-id="48bcf-278">configured for use through IIS/HTTPS</span></span><br /><br /> <span data-ttu-id="48bcf-279">(Tabella pivot?</span><span class="sxs-lookup"><span data-stu-id="48bcf-279">(The PivotTable??</span></span> <span data-ttu-id="48bcf-280">Il servizio Usa HTTP o HTTPS)</span><span class="sxs-lookup"><span data-stu-id="48bcf-280">Service uses HTTP or HTTPS)</span></span>|<span data-ttu-id="48bcf-281">Porta TCP 443</span><span class="sxs-lookup"><span data-stu-id="48bcf-281">TCP port 443</span></span>|<span data-ttu-id="48bcf-282">Utilizzata per una connessione HTTPS tramite un URL.</span><span class="sxs-lookup"><span data-stu-id="48bcf-282">Used for an HTTPS connection through a URL.</span></span> <span data-ttu-id="48bcf-283">HTTPS è una connessione HTTP che utilizza il protocollo SSL (Secure Sockets Layer).</span><span class="sxs-lookup"><span data-stu-id="48bcf-283">HTTPS is an HTTP connection that uses secure sockets layer (SSL).</span></span>|  
  
 <span data-ttu-id="48bcf-284">Se gli utenti accedono a [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] tramite IIS e Internet, è necessario aprire la porta su cui IIS è in attesa e specificare la porta nella stringa di connessione client.</span><span class="sxs-lookup"><span data-stu-id="48bcf-284">If users access [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] through IIS and the Internet, you must open the port on which IIS is listening and specify that port in the client connection string.</span></span> <span data-ttu-id="48bcf-285">In questo caso, non è necessario aprire alcuna porta per l'accesso diretto ad [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="48bcf-285">In this case, no ports have to be open for direct access to [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span> <span data-ttu-id="48bcf-286">È consigliabile limitare la porta predefinita 2389 e la porta 2382 insieme a tutte le altre porte non necessarie.</span><span class="sxs-lookup"><span data-stu-id="48bcf-286">The default port 2389, and port 2382, should be restricted together with all other ports that are not required.</span></span>  
  
 <span data-ttu-id="48bcf-287">Per istruzioni dettagliate su come configurare Windows Firewall per [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], vedere [Configurare Windows Firewall per consentire l'accesso ad Analysis Services](../../../2014/analysis-services/instances/configure-the-windows-firewall-to-allow-analysis-services-access.md).</span><span class="sxs-lookup"><span data-stu-id="48bcf-287">For step by step instructions to configure the Windows Firewall for [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], see [Configure the Windows Firewall to Allow Analysis Services Access](../../../2014/analysis-services/instances/configure-the-windows-firewall-to-allow-analysis-services-access.md).</span></span>  
  
###  <a name="ports-used-by-reporting-services"></a><a name="BKMK_ssrs"></a> <span data-ttu-id="48bcf-288">Porte utilizzate da Reporting Services</span><span class="sxs-lookup"><span data-stu-id="48bcf-288">Ports Used By Reporting Services</span></span>  
 <span data-ttu-id="48bcf-289">Nella tabella seguente sono indicate le porte più utilizzate da [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="48bcf-289">The following table lists the ports that are frequently used by [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)].</span></span>  
  
|<span data-ttu-id="48bcf-290">Funzionalità</span><span class="sxs-lookup"><span data-stu-id="48bcf-290">Feature</span></span>|<span data-ttu-id="48bcf-291">Porta</span><span class="sxs-lookup"><span data-stu-id="48bcf-291">Port</span></span>|<span data-ttu-id="48bcf-292">Commenti</span><span class="sxs-lookup"><span data-stu-id="48bcf-292">Comments</span></span>|  
|-------------|----------|--------------|  
|[!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] <span data-ttu-id="48bcf-293">Servizi Web</span><span class="sxs-lookup"><span data-stu-id="48bcf-293">Web Services</span></span>|<span data-ttu-id="48bcf-294">Porta TCP 80</span><span class="sxs-lookup"><span data-stu-id="48bcf-294">TCP port 80</span></span>|<span data-ttu-id="48bcf-295">Utilizzata per una connessione HTTP a [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] tramite un URL.</span><span class="sxs-lookup"><span data-stu-id="48bcf-295">Used for an HTTP connection to [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] through a URL.</span></span> <span data-ttu-id="48bcf-296">È consigliabile non usare la regola preconfigurata **Servizi Web (HTTP)** .</span><span class="sxs-lookup"><span data-stu-id="48bcf-296">We recommend that you do not use the preconfigured rule **World Wide Web Services (HTTP)**.</span></span> <span data-ttu-id="48bcf-297">Per ulteriori informazioni, vedere la sezione [Interazione con altre regole del firewall](#BKMK_other_rules) più avanti.</span><span class="sxs-lookup"><span data-stu-id="48bcf-297">For more information, see the [Interaction with Other Firewall Rules](#BKMK_other_rules) section below.</span></span>|  
|[!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] <span data-ttu-id="48bcf-298">configurato per l'utilizzo tramite HTTPS</span><span class="sxs-lookup"><span data-stu-id="48bcf-298">configured for use through HTTPS</span></span>|<span data-ttu-id="48bcf-299">Porta TCP 443</span><span class="sxs-lookup"><span data-stu-id="48bcf-299">TCP port 443</span></span>|<span data-ttu-id="48bcf-300">Utilizzata per una connessione HTTPS tramite un URL.</span><span class="sxs-lookup"><span data-stu-id="48bcf-300">Used for an HTTPS connection through a URL.</span></span> <span data-ttu-id="48bcf-301">HTTPS è una connessione HTTP che utilizza il protocollo SSL (Secure Sockets Layer).</span><span class="sxs-lookup"><span data-stu-id="48bcf-301">HTTPS is an HTTP connection that uses secure sockets layer (SSL).</span></span> <span data-ttu-id="48bcf-302">È consigliabile non usare la regola preconfigurata **Servizi Web protetti (HTTP)** .</span><span class="sxs-lookup"><span data-stu-id="48bcf-302">We recommend that you do not use the preconfigured rule **Secure World Wide Web Services (HTTPS)**.</span></span> <span data-ttu-id="48bcf-303">Per ulteriori informazioni, vedere la sezione [Interazione con altre regole del firewall](#BKMK_other_rules) più avanti.</span><span class="sxs-lookup"><span data-stu-id="48bcf-303">For more information, see the [Interaction with Other Firewall Rules](#BKMK_other_rules) section below.</span></span>|  
  
 <span data-ttu-id="48bcf-304">Quando [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] si connette a un'istanza del [!INCLUDE[ssDE](../../includes/ssde-md.md)] o di [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], è necessario aprire anche le porte adatte per quei servizi.</span><span class="sxs-lookup"><span data-stu-id="48bcf-304">When [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] connects to an instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] or [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], you must also open the appropriate ports for those services.</span></span> <span data-ttu-id="48bcf-305">Per istruzioni dettagliate su come configurare Windows Firewall per [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)], vedere [Configurare un firewall per l'accesso al server di report](../../reporting-services/report-server/configure-a-firewall-for-report-server-access.md).</span><span class="sxs-lookup"><span data-stu-id="48bcf-305">For step-by-step instructions to configure the Windows Firewall for [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)], [Configure a Firewall for Report Server Access](../../reporting-services/report-server/configure-a-firewall-for-report-server-access.md).</span></span>  
  
###  <a name="ports-used-by-integration-services"></a><a name="BKMK_ssis"></a> <span data-ttu-id="48bcf-306">Porte utilizzate da Integration Services</span><span class="sxs-lookup"><span data-stu-id="48bcf-306">Ports Used By Integration Services</span></span>  
 <span data-ttu-id="48bcf-307">Nella tabella seguente sono indicate le porte utilizzate dal servizio [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="48bcf-307">The following table lists the ports that are used by the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] service.</span></span>  
  
|<span data-ttu-id="48bcf-308">Funzionalità</span><span class="sxs-lookup"><span data-stu-id="48bcf-308">Feature</span></span>|<span data-ttu-id="48bcf-309">Porta</span><span class="sxs-lookup"><span data-stu-id="48bcf-309">Port</span></span>|<span data-ttu-id="48bcf-310">Commenti</span><span class="sxs-lookup"><span data-stu-id="48bcf-310">Comments</span></span>|  
|-------------|----------|--------------|  
|[!INCLUDE[msCoName](../../includes/msconame-md.md)] <span data-ttu-id="48bcf-311">Remote Procedure Call (MS RPC)</span><span class="sxs-lookup"><span data-stu-id="48bcf-311">remote procedure calls (MS RPC)</span></span><br /><br /> <span data-ttu-id="48bcf-312">Utilizzate dal runtime di [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="48bcf-312">Used by the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] runtime.</span></span>|<span data-ttu-id="48bcf-313">Porta TCP 135</span><span class="sxs-lookup"><span data-stu-id="48bcf-313">TCP port 135</span></span><br /><br /> <span data-ttu-id="48bcf-314">Vedere [Considerazioni speciali per la porta 135](#BKMK_port_135)</span><span class="sxs-lookup"><span data-stu-id="48bcf-314">See [Special Considerations for Port 135](#BKMK_port_135)</span></span>|<span data-ttu-id="48bcf-315">Il servizio [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] utilizza il protocollo DCOM sulla porta 135.</span><span class="sxs-lookup"><span data-stu-id="48bcf-315">The [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] service uses DCOM on port 135.</span></span> <span data-ttu-id="48bcf-316">Gestione controllo servizi utilizza la porta 135 per eseguire operazioni come l'avvio e l'arresto del servizio [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] e la trasmissione di richieste di controllo al servizio in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="48bcf-316">The Service Control Manager uses port 135 to perform tasks such as starting and stopping the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] service and transmitting control requests to the running service.</span></span> <span data-ttu-id="48bcf-317">Il numero di porta non può essere modificato.</span><span class="sxs-lookup"><span data-stu-id="48bcf-317">The port number cannot be changed.</span></span><br /><br /> <span data-ttu-id="48bcf-318">Questa porta deve essere aperta solo se si sta effettuando la connessione a un'istanza remota del servizio [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] da [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)] o da un'applicazione personalizzata.</span><span class="sxs-lookup"><span data-stu-id="48bcf-318">This port is only required to be open if you are connecting to a remote instance of the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] service from [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)] or a custom application.</span></span>|  
  
 <span data-ttu-id="48bcf-319">Per istruzioni dettagliate sulla configurazione di Windows Firewall per il [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)], vedere [Configurare un Windows Firewall per l'accesso al servizio SSIS](../../../2014/integration-services/configure-a-windows-firewall-for-access-to-the-ssis-service.md).</span><span class="sxs-lookup"><span data-stu-id="48bcf-319">For step-by-step instructions to configure the Windows Firewall for [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)], see [Configure a Windows Firewall for Access to the SSIS Service](../../../2014/integration-services/configure-a-windows-firewall-for-access-to-the-ssis-service.md).</span></span>  
  
###  <a name="additional-ports-and-services"></a><a name="BKMK_additional_ports"></a> <span data-ttu-id="48bcf-320">Porte e servizi aggiuntivi</span><span class="sxs-lookup"><span data-stu-id="48bcf-320">Additional Ports and Services</span></span>  
 <span data-ttu-id="48bcf-321">Nella tabella riportata di seguito sono elencati i servizi e le porte da cui potrebbe dipendere [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="48bcf-321">The following table lists ports and services that [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] might depend on.</span></span>  
  
|<span data-ttu-id="48bcf-322">Scenario</span><span class="sxs-lookup"><span data-stu-id="48bcf-322">Scenario</span></span>|<span data-ttu-id="48bcf-323">Porta</span><span class="sxs-lookup"><span data-stu-id="48bcf-323">Port</span></span>|<span data-ttu-id="48bcf-324">Commenti</span><span class="sxs-lookup"><span data-stu-id="48bcf-324">Comments</span></span>|  
|--------------|----------|--------------|  
|<span data-ttu-id="48bcf-325">Strumentazione gestione Windows (WMI)</span><span class="sxs-lookup"><span data-stu-id="48bcf-325">Windows Management Instrumentation</span></span><br /><br /> <span data-ttu-id="48bcf-326">Per ulteriori informazioni su Strumentazione gestione Windows (WMI), vedere [WMI Provider for Configuration Management Concepts](../../relational-databases/wmi-provider-configuration/wmi-provider-for-configuration-management.md).</span><span class="sxs-lookup"><span data-stu-id="48bcf-326">For more information about WMI, see [WMI Provider for Configuration Management Concepts](../../relational-databases/wmi-provider-configuration/wmi-provider-for-configuration-management.md)</span></span>|<span data-ttu-id="48bcf-327">WMI viene eseguito come parte di un host del servizio condiviso con porte assegnate tramite DCOM e</span><span class="sxs-lookup"><span data-stu-id="48bcf-327">WMI runs as part of a shared service host with ports assigned through DCOM.</span></span> <span data-ttu-id="48bcf-328">potrebbe utilizzare la porta TCP 135.</span><span class="sxs-lookup"><span data-stu-id="48bcf-328">WMI might be using TCP port 135.</span></span><br /><br /> <span data-ttu-id="48bcf-329">Vedere [Considerazioni speciali per la porta 135](#BKMK_port_135)</span><span class="sxs-lookup"><span data-stu-id="48bcf-329">See [Special Considerations for Port 135](#BKMK_port_135)</span></span>|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="48bcf-330">utilizza WMI per elencare e gestire servizi.</span><span class="sxs-lookup"><span data-stu-id="48bcf-330">Configuration Manager uses WMI to list and manage services.</span></span> <span data-ttu-id="48bcf-331">È consigliabile usare il gruppo di regole preconfigurate **Strumentazione gestione Windows (WMI)** .</span><span class="sxs-lookup"><span data-stu-id="48bcf-331">We recommend that you use the preconfigured rule group **Windows Management Instrumentation (WMI)**.</span></span> <span data-ttu-id="48bcf-332">Per ulteriori informazioni, vedere la sezione [Interazione con altre regole del firewall](#BKMK_other_rules) più avanti.</span><span class="sxs-lookup"><span data-stu-id="48bcf-332">For more information, see the [Interaction with Other Firewall Rules](#BKMK_other_rules) section below.</span></span>|  
|[!INCLUDE[msCoName](../../includes/msconame-md.md)] <span data-ttu-id="48bcf-333">Distributed Transaction Coordinator (MS DTC)</span><span class="sxs-lookup"><span data-stu-id="48bcf-333">Distributed Transaction Coordinator (MS DTC)</span></span>|<span data-ttu-id="48bcf-334">Porta TCP 135</span><span class="sxs-lookup"><span data-stu-id="48bcf-334">TCP port 135</span></span><br /><br /> <span data-ttu-id="48bcf-335">Vedere [Considerazioni speciali per la porta 135](#BKMK_port_135)</span><span class="sxs-lookup"><span data-stu-id="48bcf-335">See [Special Considerations for Port 135](#BKMK_port_135)</span></span>|<span data-ttu-id="48bcf-336">Se l'applicazione utilizza transazioni distribuite, può essere necessario configurare il firewall in modo da consentire il flusso del traffico di [!INCLUDE[msCoName](../../includes/msconame-md.md)] Distributed Transaction Coordinator (MS DTC) tra istanze MS DTC separate e tra MS DTC e strumenti di gestione delle risorse come [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="48bcf-336">If your application uses distributed transactions, you might have to configure the firewall to allow [!INCLUDE[msCoName](../../includes/msconame-md.md)] Distributed Transaction Coordinator (MS DTC) traffic to flow between separate MS DTC instances, and between the MS DTC and resource managers such as [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="48bcf-337">È consigliabile utilizzare il gruppo di regole preconfigurato **Distributed Transaction Coordinator** .</span><span class="sxs-lookup"><span data-stu-id="48bcf-337">We recommend that you use the preconfigured **Distributed Transaction Coordinator** rule group.</span></span><br /><br /> <span data-ttu-id="48bcf-338">Quando è configurato un solo oggetto MS DTC condiviso per l'intero cluster in un gruppo di risorse distinto, è necessario aggiungere sqlservr.exe come eccezione al firewall.</span><span class="sxs-lookup"><span data-stu-id="48bcf-338">When a single shared MS DTC is configured for the entire cluster in a separate resource group you should add sqlservr.exe as an exception to the firewall.</span></span>|  
|<span data-ttu-id="48bcf-339">Il pulsante Sfoglia in [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)] utilizza il protocollo UDP per connettersi al servizio [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser.</span><span class="sxs-lookup"><span data-stu-id="48bcf-339">The browse button in [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)] uses UDP to connect to the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser Service.</span></span> <span data-ttu-id="48bcf-340">Per altre informazioni, vedere [Servizio SQL Server Browser &#40;Motore database e SSAS&#41;](../../database-engine/configure-windows/sql-server-browser-service-database-engine-and-ssas.md).</span><span class="sxs-lookup"><span data-stu-id="48bcf-340">For more information, see [SQL Server Browser Service &#40;Database Engine and SSAS&#41;](../../database-engine/configure-windows/sql-server-browser-service-database-engine-and-ssas.md).</span></span>|<span data-ttu-id="48bcf-341">Porta UDP 1434</span><span class="sxs-lookup"><span data-stu-id="48bcf-341">UDP port 1434</span></span>|<span data-ttu-id="48bcf-342">UDP è un protocollo senza connessione.</span><span class="sxs-lookup"><span data-stu-id="48bcf-342">UDP is a connectionless protocol.</span></span><br /><br /> <span data-ttu-id="48bcf-343">Il firewall include un'impostazione, denominata [UnicastResponsesToMulticastBroadcastDisabled Property of the INetFwProfile Interface](https://go.microsoft.com/fwlink/?LinkId=118371) che controlla il comportamento del firewall relativamente alle risposte unicast a una richiesta UDP di trasmissione (o multicast).</span><span class="sxs-lookup"><span data-stu-id="48bcf-343">The firewall has a setting, which is named [UnicastResponsesToMulticastBroadcastDisabled Property of the INetFwProfile Interface](https://go.microsoft.com/fwlink/?LinkId=118371) which controls the behavior of the firewall with respect to unicast responses to a broadcast (or multicast) UDP request.</span></span>  <span data-ttu-id="48bcf-344">Sono possibili due comportamenti:</span><span class="sxs-lookup"><span data-stu-id="48bcf-344">It has two behaviors:</span></span><br /><br /> <span data-ttu-id="48bcf-345">Se l'impostazione è TRUE, non sono consentite risposte unicast a una trasmissione.</span><span class="sxs-lookup"><span data-stu-id="48bcf-345">If the setting is TRUE, no unicast responses to a broadcast are permitted at all.</span></span> <span data-ttu-id="48bcf-346">I servizi di enumerazione non possono essere eseguiti correttamente.</span><span class="sxs-lookup"><span data-stu-id="48bcf-346">Enumerating services will fail.</span></span><br /><br /> <span data-ttu-id="48bcf-347">Se l'impostazione è FALSE (impostazione predefinita), le risposte unicast sono consentite per 3 secondi.</span><span class="sxs-lookup"><span data-stu-id="48bcf-347">If the setting is FALSE (default), unicast responses are permitted for 3 seconds.</span></span> <span data-ttu-id="48bcf-348">La durata non è configurabile.</span><span class="sxs-lookup"><span data-stu-id="48bcf-348">The length of time is not configurable.</span></span> <span data-ttu-id="48bcf-349">In una rete congestionata o ad alta latenza o nei server con carico elevato i tentativi di enumerazione delle istanze di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] potrebbero restituire un elenco parziale e fuorviante per gli utenti.</span><span class="sxs-lookup"><span data-stu-id="48bcf-349">in a congested or high-latency network, or for heavily loaded servers, tries to enumerate instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] might return a partial list, which might mislead users.</span></span>|  
|<span data-ttu-id="48bcf-350">Traffico IPsec</span><span class="sxs-lookup"><span data-stu-id="48bcf-350">IPsec traffic</span></span>|<span data-ttu-id="48bcf-351">Porta UDP 500 e porta UDP 4500</span><span class="sxs-lookup"><span data-stu-id="48bcf-351">UDP port 500 and UDP port 4500</span></span>|<span data-ttu-id="48bcf-352">Se i criteri di dominio richiedono che le comunicazioni di rete vengano eseguite tramite IPsec, è necessario aggiungere anche le porte UDP 4500 e UDP 500 all'elenco delle eccezioni.</span><span class="sxs-lookup"><span data-stu-id="48bcf-352">If the domain policy requires network communications to be done through IPsec, you must also add UDP port 4500 and UDP port 500 to the exception list.</span></span> <span data-ttu-id="48bcf-353">IPsec è un'opzione che usa la **Creazione guidata nuova regola connessioni in entrata** nello snap-in Windows Firewall.</span><span class="sxs-lookup"><span data-stu-id="48bcf-353">IPsec is an option using the **New Inbound Rule Wizard** in the Windows Firewall snap-in.</span></span> <span data-ttu-id="48bcf-354">Per altre informazioni, vedere [Utilizzo dello snap-in Windows Firewall con sicurezza avanzata](#BKMK_WF_msc) più avanti.</span><span class="sxs-lookup"><span data-stu-id="48bcf-354">For more information, see [Using the Windows Firewall with Advanced Security Snap-in](#BKMK_WF_msc) below.</span></span>|  
|<span data-ttu-id="48bcf-355">Utilizzo dell'autenticazione di Windows con domini trusted</span><span class="sxs-lookup"><span data-stu-id="48bcf-355">Using Windows Authentication with Trusted Domains</span></span>|<span data-ttu-id="48bcf-356">Per consentire le richieste di autenticazione, è necessario configurare i firewall.</span><span class="sxs-lookup"><span data-stu-id="48bcf-356">Firewalls must be configured to allow authentication requests.</span></span>|<span data-ttu-id="48bcf-357">Per ulteriori informazioni, vedere [Configurazione di un firewall per domini e trust](https://support.microsoft.com/kb/179442/).</span><span class="sxs-lookup"><span data-stu-id="48bcf-357">For more information, see [How to configure a firewall for domains and trusts](https://support.microsoft.com/kb/179442/).</span></span>|  
|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="48bcf-358">e servizio cluster di Windows</span><span class="sxs-lookup"><span data-stu-id="48bcf-358">and Windows Clustering</span></span>|<span data-ttu-id="48bcf-359">Il clustering richiede porte aggiuntive non direttamente correlate a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="48bcf-359">Clustering requires additional ports that are not directly related to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>|<span data-ttu-id="48bcf-360">Per ulteriori informazioni, vedere [Enable a network for cluster use](https://go.microsoft.com/fwlink/?LinkId=118372).</span><span class="sxs-lookup"><span data-stu-id="48bcf-360">For more information, see [Enable a network for cluster use](https://go.microsoft.com/fwlink/?LinkId=118372).</span></span>|  
|<span data-ttu-id="48bcf-361">Spazi dei nomi URL riservati in HTTP Server API (HTTP.SYS)</span><span class="sxs-lookup"><span data-stu-id="48bcf-361">URL namespaces reserved in the HTTP Server API (HTTP.SYS)</span></span>|<span data-ttu-id="48bcf-362">Probabilmente la porta TCP 80, ma può essere configurata su altre porte.</span><span class="sxs-lookup"><span data-stu-id="48bcf-362">Probably TCP port 80, but can be configured to other ports.</span></span> <span data-ttu-id="48bcf-363">Per informazioni generali, vedere [Configuring HTTP and HTTPS](https://go.microsoft.com/fwlink/?LinkId=118373).</span><span class="sxs-lookup"><span data-stu-id="48bcf-363">For general information, see [Configuring HTTP and HTTPS](https://go.microsoft.com/fwlink/?LinkId=118373).</span></span>|<span data-ttu-id="48bcf-364">Per informazioni specifiche [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] sulla prenotazione di un endpoint HTTP.SYS usando HttpCfg.exe, vedere [Informazioni su prenotazioni e registrazione URL &#40;Gestione configurazione SSRS&#41;](../../reporting-services/install-windows/about-url-reservations-and-registration-ssrs-configuration-manager.md).</span><span class="sxs-lookup"><span data-stu-id="48bcf-364">For [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] specific information about reserving an HTTP.SYS endpoint using HttpCfg.exe, see [About URL Reservations and Registration  &#40;SSRS Configuration Manager&#41;](../../reporting-services/install-windows/about-url-reservations-and-registration-ssrs-configuration-manager.md).</span></span>|  
  
##  <a name="special-considerations-for-port-135"></a><a name="BKMK_port_135"></a> <span data-ttu-id="48bcf-365">Considerazioni speciali per la porta 135</span><span class="sxs-lookup"><span data-stu-id="48bcf-365">Special Considerations for Port 135</span></span>  
 <span data-ttu-id="48bcf-366">Quando si utilizza RPC con TCP/IP o UDP/IP come trasporto, le porte in ingresso spesso vengono assegnate dinamicamente ai servizi di sistema, se necessario. Vengono utilizzate le porte TCP/IP e UDP/IP che sono più grandi della porta 1024</span><span class="sxs-lookup"><span data-stu-id="48bcf-366">When you use RPC with TCP/IP or with UDP/IP as the transport, inbound ports are frequently dynamically assigned to system services as required; TCP/IP and UDP/IP ports that are larger than port 1024 are used.</span></span> <span data-ttu-id="48bcf-367">e spesso vengono definite in modo informale "porte RPC casuali".</span><span class="sxs-lookup"><span data-stu-id="48bcf-367">These are frequently informally referred to as "random RPC ports."</span></span> <span data-ttu-id="48bcf-368">In questi casi, i client RPC si basano sul mapper di endpoint RPC per indicare le porte dinamiche assegnate al server.</span><span class="sxs-lookup"><span data-stu-id="48bcf-368">In these cases, RPC clients rely on the RPC endpoint mapper to tell them which dynamic ports were assigned to the server.</span></span> <span data-ttu-id="48bcf-369">Per alcuni servizi basati su RPC è possibile configurare una porta specifica anziché consentire a RPC un'assegnazione dinamica.</span><span class="sxs-lookup"><span data-stu-id="48bcf-369">For some RPC-based services, you can configure a specific port instead of letting RPC assign one dynamically.</span></span> <span data-ttu-id="48bcf-370">È inoltre possibile limitare l'intervallo di porte assegnate dinamicamente da RPC a un piccolo intervallo, indipendentemente dal servizio.</span><span class="sxs-lookup"><span data-stu-id="48bcf-370">You can also restrict the range of ports that RPC dynamically assigns to a small range, regardless of the service.</span></span> <span data-ttu-id="48bcf-371">Poiché la porta 135 viene utilizzata per molti servizi, viene attaccata di frequente da utenti malintenzionati.</span><span class="sxs-lookup"><span data-stu-id="48bcf-371">Because port 135 is used for many services it is frequently attacked by malicious users.</span></span> <span data-ttu-id="48bcf-372">Quando si apre la porta 135, limitare l'ambito della regola del firewall.</span><span class="sxs-lookup"><span data-stu-id="48bcf-372">When opening port 135, consider restricting the scope of the firewall rule.</span></span>  
  
 <span data-ttu-id="48bcf-373">Per ulteriori informazioni sulla porta 135, consultare i riferimenti seguenti:</span><span class="sxs-lookup"><span data-stu-id="48bcf-373">For more information about port 135, see the following references:</span></span>  
  
-   [<span data-ttu-id="48bcf-374">Panoramica dei servizi e requisiti per le porte di rete per il sistema server Windows</span><span class="sxs-lookup"><span data-stu-id="48bcf-374">Service overview and network port requirements for the Windows Server system</span></span>](https://support.microsoft.com/kb/832017)  
  
-   [<span data-ttu-id="48bcf-375">Troubleshooting RPC Endpoint Mapper errors using the Windows Server 2003 Support Tools from the product CD</span><span class="sxs-lookup"><span data-stu-id="48bcf-375">Troubleshooting RPC Endpoint Mapper errors using the Windows Server 2003 Support Tools from the product CD</span></span>](https://support.microsoft.com/kb/839880)  
  
-   [<span data-ttu-id="48bcf-376">Remote procedure call (RPC)</span><span class="sxs-lookup"><span data-stu-id="48bcf-376">Remote procedure call (RPC)</span></span>](https://go.microsoft.com/fwlink/?LinkId=118375)  
  
-   [<span data-ttu-id="48bcf-377">Configurazione dell'allocazione delle porte dinamiche RPC perché funzionino con i firewall</span><span class="sxs-lookup"><span data-stu-id="48bcf-377">How to configure RPC dynamic port allocation to work with firewalls</span></span>](https://support.microsoft.com/kb/154596/)  
  
##  <a name="interaction-with-other-firewall-rules"></a><a name="BKMK_other_rules"></a> <span data-ttu-id="48bcf-378">Interazione con altre regole del firewall</span><span class="sxs-lookup"><span data-stu-id="48bcf-378">Interaction with Other Firewall Rules</span></span>  
 <span data-ttu-id="48bcf-379">Per effettuare la configurazione di Windows Firewall, è necessario utilizzare regole e gruppi di regole.</span><span class="sxs-lookup"><span data-stu-id="48bcf-379">The Windows Firewall uses rules and rule groups to establish its configuration.</span></span> <span data-ttu-id="48bcf-380">Ogni regola o gruppo di regole in genere è associato a un particolare programma o un servizio ed è possibile che tale programma o servizio modifichi o elimini la regola all'insaputa dell'utente.</span><span class="sxs-lookup"><span data-stu-id="48bcf-380">Each rule or rule group is generally associated with a particular program or service, and that program or service might modify or delete that rule without your knowledge.</span></span> <span data-ttu-id="48bcf-381">I gruppi di regole **Servizi Web (HTTP)** e **Servizi Web (HTTPS)** , ad esempio, sono associati a IIS.</span><span class="sxs-lookup"><span data-stu-id="48bcf-381">For example, the rule groups **World Wide Web Services (HTTP)** and **World Wide Web Services (HTTPS)** are associated with IIS.</span></span> <span data-ttu-id="48bcf-382">L'abilitazione di queste due regole comporterà l'apertura delle porte 80 e 443 e l'attivazione delle funzionalità di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] che dipendono da tali porte.</span><span class="sxs-lookup"><span data-stu-id="48bcf-382">Enabling those rules will open ports 80 and 443, and [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] features that depend on ports 80 and 443 will function if those rules are enabled.</span></span> <span data-ttu-id="48bcf-383">È tuttavia possibile che gli amministratori che configurano IIS le modifichino o disabilitino.</span><span class="sxs-lookup"><span data-stu-id="48bcf-383">However, administrators configuring IIS might modify or disable those rules.</span></span> <span data-ttu-id="48bcf-384">Pertanto, se si utilizza la porta 80 o la porta 443 per [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], è necessario creare una regola o un gruppo di regole personalizzate che mantenga la configurazione delle porte desiderata, indipendentemente dalle altre regole IIS.</span><span class="sxs-lookup"><span data-stu-id="48bcf-384">Therefore, if you are using port 80 or port 443 for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], you should create your own rule or rule group that maintains your desired port configuration independently of the other IIS rules.</span></span>  
  
 <span data-ttu-id="48bcf-385">Lo snap-in MMC Windows Firewall con sicurezza avanzata consente tutto il traffico che corrisponde alle regole di concessione applicabili.</span><span class="sxs-lookup"><span data-stu-id="48bcf-385">The Windows Firewall with Advanced Security MMC snap-in allows any traffic that matches any applicable allow rule.</span></span> <span data-ttu-id="48bcf-386">Pertanto, se esistono due regole applicabili entrambe alla porta 80 (con parametri diversi), il traffico che corrisponde all'una o all'altra verrà consentito.</span><span class="sxs-lookup"><span data-stu-id="48bcf-386">So if there are two rules that both apply to port 80 (with different parameters), traffic that matches either rule will be permitted.</span></span> <span data-ttu-id="48bcf-387">Se una regola consente il traffico sulla porta 80 da una subnet locale e l'altra il traffico da qualsiasi indirizzo, l'effetto finale è che tutto il traffico verso la porta 80 verrà consentito, indipendentemente dall'origine.</span><span class="sxs-lookup"><span data-stu-id="48bcf-387">So if one rule allows traffic over port 80 from local subnet and one rule allows traffic from any address, the net effect is that all traffic to port 80 is permitted regardless of the source.</span></span> <span data-ttu-id="48bcf-388">Per gestire efficacemente l'accesso a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], gli amministratori devono verificare periodicamente tutte le regole del firewall abilitate sul server.</span><span class="sxs-lookup"><span data-stu-id="48bcf-388">To effectively manage access to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], administrators should periodically review all firewall rules enabled on the server.</span></span>  
  
##  <a name="overview-of-firewall-profiles"></a><a name="BKMK_profiles"></a> <span data-ttu-id="48bcf-389">Panoramica sui profili del firewall</span><span class="sxs-lookup"><span data-stu-id="48bcf-389">Overview of Firewall Profiles</span></span>  
 <span data-ttu-id="48bcf-390">I profili del firewall vengono illustrati in [Guida introduttiva a Windows Firewall con sicurezza avanzata](https://go.microsoft.com/fwlink/?LinkId=116080) nella sezione relativa al **firewall host con riconoscimento del percorso di rete**.</span><span class="sxs-lookup"><span data-stu-id="48bcf-390">Firewall profiles are discussed in [Windows Firewall with Advanced Security Getting Started Guide](https://go.microsoft.com/fwlink/?LinkId=116080) in the section **Network location-aware host firewall**.</span></span> <span data-ttu-id="48bcf-391">Per riepilogare, i sistemi operativi sono in grado di identificare e memorizzare ciascuna delle reti alle quali si connettono per tutto quello che riguarda la connettività, le connessioni e la categoria.</span><span class="sxs-lookup"><span data-stu-id="48bcf-391">To summarize, the operating systems identify and remember each of the networks to which they connect with regard to connectivity, connections, and category.</span></span>  
  
 <span data-ttu-id="48bcf-392">Sono disponibili tre tipi di percorsi di rete in Windows Firewall con sicurezza avanzata:</span><span class="sxs-lookup"><span data-stu-id="48bcf-392">There are three network location types in Windows Firewall with Advanced Security:</span></span>  
  
-   <span data-ttu-id="48bcf-393">Dominio.</span><span class="sxs-lookup"><span data-stu-id="48bcf-393">Domain.</span></span> <span data-ttu-id="48bcf-394">Windows può autenticare l'accesso al controller di dominio per il dominio al quale il computer viene unito.</span><span class="sxs-lookup"><span data-stu-id="48bcf-394">Windows can authenticate access to the domain controller for the domain to which the computer is joined.</span></span>  
  
-   <span data-ttu-id="48bcf-395">Pubblica.</span><span class="sxs-lookup"><span data-stu-id="48bcf-395">Public.</span></span> <span data-ttu-id="48bcf-396">Ad eccezione di quelle del dominio, tutte le reti sono inizialmente classificate come pubbliche.</span><span class="sxs-lookup"><span data-stu-id="48bcf-396">Other than domain networks, all networks are initially categorized as public.</span></span> <span data-ttu-id="48bcf-397">Le reti che rappresentano connessioni dirette a Internet o che si trovano in luoghi pubblici, ad esempio aeroporti e Internet caffè, dovrebbero essere sempre pubbliche.</span><span class="sxs-lookup"><span data-stu-id="48bcf-397">Networks that represent direct connections to the Internet or are in public locations, such as airports and coffee shops should be left public.</span></span>  
  
-   <span data-ttu-id="48bcf-398">Privata.</span><span class="sxs-lookup"><span data-stu-id="48bcf-398">Private.</span></span> <span data-ttu-id="48bcf-399">Una rete identificata da un utente o da un'applicazione come privata.</span><span class="sxs-lookup"><span data-stu-id="48bcf-399">A network identified by a user or application as private.</span></span> <span data-ttu-id="48bcf-400">Solo le reti attendibili devono essere identificate come reti private.</span><span class="sxs-lookup"><span data-stu-id="48bcf-400">Only trusted networks should be identified as private networks.</span></span> <span data-ttu-id="48bcf-401">In genere gli utenti desiderano identificare come private le reti domestiche o di piccole aziende.</span><span class="sxs-lookup"><span data-stu-id="48bcf-401">Users will likely want to identify home or small business networks as private.</span></span>  
  
 <span data-ttu-id="48bcf-402">L'amministratore può creare un profilo per ogni tipo di percorso di rete, contenente diversi criteri del firewall.</span><span class="sxs-lookup"><span data-stu-id="48bcf-402">The administrator can create a profile for each network location type, with each profile containing different firewall policies.</span></span> <span data-ttu-id="48bcf-403">È possibile applicare un solo profilo alla volta.</span><span class="sxs-lookup"><span data-stu-id="48bcf-403">Only one profile is applied at any time.</span></span> <span data-ttu-id="48bcf-404">L'ordine di applicazione è il seguente:</span><span class="sxs-lookup"><span data-stu-id="48bcf-404">Profile order is applied as follows:</span></span>  
  
1.  <span data-ttu-id="48bcf-405">Se tutte le interfacce vengono autenticate nel controller di dominio per il dominio del quale il computer è membro, il profilo del dominio viene applicato.</span><span class="sxs-lookup"><span data-stu-id="48bcf-405">If all interfaces are authenticated to the domain controller for the domain of which the computer is a member, the domain profile is applied.</span></span>  
  
2.  <span data-ttu-id="48bcf-406">Se tutte le interfacce sono autenticate nel controller di dominio o sono connesse a reti classificate come percorsi di rete privati, viene applicato il profilo privato.</span><span class="sxs-lookup"><span data-stu-id="48bcf-406">If all interfaces are either authenticated to the domain controller or are connected to networks that are classified as private network locations, the private profile is applied.</span></span>  
  
3.  <span data-ttu-id="48bcf-407">In caso contrario, viene applicato il profilo pubblico.</span><span class="sxs-lookup"><span data-stu-id="48bcf-407">Otherwise, the public profile is applied.</span></span>  
  
 <span data-ttu-id="48bcf-408">Utilizzare lo snap-in MMC Windows Firewall con sicurezza avanzata per visualizzare e configurare tutti i profili del firewall.</span><span class="sxs-lookup"><span data-stu-id="48bcf-408">Use the Windows Firewall with Advanced Security MMC snap-in to view and configure all firewall profiles.</span></span> <span data-ttu-id="48bcf-409">L'elemento **Windows Firewall** del Pannello di controllo configura solo il profilo corrente.</span><span class="sxs-lookup"><span data-stu-id="48bcf-409">The **Windows Firewall** item in Control Panel only configures the current profile.</span></span>  
  
##  <a name="additional-firewall-settings-using-the-windows-firewall-item-in-control-panel"></a><a name="BKMK_additional_settings"></a> <span data-ttu-id="48bcf-410">Impostazioni aggiuntive del firewall mediante l'elemento Windows Firewall del Pannello di controllo</span><span class="sxs-lookup"><span data-stu-id="48bcf-410">Additional Firewall Settings Using the Windows Firewall Item in Control Panel</span></span>  
 <span data-ttu-id="48bcf-411">Le eccezioni aggiunte al firewall possono limitare l'apertura della porta alle connessioni in ingresso da computer specifici o dalla subnet locale.</span><span class="sxs-lookup"><span data-stu-id="48bcf-411">Exceptions that you add to the firewall can restrict the opening of the port to incoming connections from specific computers or the local subnet.</span></span> <span data-ttu-id="48bcf-412">Questa restrizione dell'ambito di apertura della porta è consigliata e può ridurre il livello di esposizione del computer agli utenti malintenzionati.</span><span class="sxs-lookup"><span data-stu-id="48bcf-412">This restriction of the scope of the port opening can reduce how much your computer is exposed to malicious users, and is recommended.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="48bcf-413">L'uso dell'elemento **Windows Firewall** del Pannello di controllo configura solo il profilo del firewall corrente.</span><span class="sxs-lookup"><span data-stu-id="48bcf-413">Using the **Windows Firewall** item in Control Panel only configures the current firewall profile.</span></span>  
  
#### <a name="to-change-the-scope-of-a-firewall-exception-using-the-windows-firewall-item-in-control-panel"></a><span data-ttu-id="48bcf-414">Per modificare l'ambito dell'eccezione di un firewall mediante l'elemento Windows Firewall del Pannello di controllo</span><span class="sxs-lookup"><span data-stu-id="48bcf-414">To change the scope of a firewall exception using the Windows Firewall item in Control Panel</span></span>  
  
1.  <span data-ttu-id="48bcf-415">Nell'elemento **Windows Firewall** del Pannello di controllo selezionare un programma o una porta nella scheda **Eccezioni** , quindi fare clic su **Proprietà** o **Modifica**.</span><span class="sxs-lookup"><span data-stu-id="48bcf-415">In the **Windows Firewall** item in Control Panel, select a program or port on the **Exceptions** tab, and then click **Properties** or **Edit**.</span></span>  
  
2.  <span data-ttu-id="48bcf-416">Nella finestra di dialogo **Modifica programma** o **Modifica porta** fare clic su **Cambia ambito**.</span><span class="sxs-lookup"><span data-stu-id="48bcf-416">In the **Edit a Program** or **Edit a Port** dialog box, click **Change Scope**.</span></span>  
  
3.  <span data-ttu-id="48bcf-417">Scegliere una delle opzioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="48bcf-417">Choose one of the following options:</span></span>  
  
    -   <span data-ttu-id="48bcf-418">**Tutti i computer (compresi quelli in Internet)**</span><span class="sxs-lookup"><span data-stu-id="48bcf-418">**Any computer (including those on the Internet)**</span></span>  
  
         <span data-ttu-id="48bcf-419">Non consigliata.</span><span class="sxs-lookup"><span data-stu-id="48bcf-419">Not recommended.</span></span> <span data-ttu-id="48bcf-420">Questa opzione consente a tutti i computer che riescono a comunicare con il computer dell'utente di connettersi al programma o alla porta specificata.</span><span class="sxs-lookup"><span data-stu-id="48bcf-420">This will allow any computer that can address your computer to connect to the specified program or port.</span></span> <span data-ttu-id="48bcf-421">Questa impostazione potrebbe essere necessaria per consentire la presentazione delle informazioni a utenti anonimi su Internet, ma aumenta l'esposizione a utenti malintenzionati.</span><span class="sxs-lookup"><span data-stu-id="48bcf-421">This setting might be necessary to allow information to be presented to anonymous users on the internet, but increases your exposure to malicious users.</span></span> <span data-ttu-id="48bcf-422">L'esposizione può essere ulteriormente aumentata se insieme a questa impostazione viene abilitato anche l'attraversamento NAT (Network Address Translation), ad esempio l'opzione Consenti attraversamento confini.</span><span class="sxs-lookup"><span data-stu-id="48bcf-422">Your exposure can be further increased if you enable this setting and also allow Network Address Translation (NAT) traversal, such as the Allow edge traversal option.</span></span>  
  
    -   <span data-ttu-id="48bcf-423">**Solo la rete (subnet) locale**</span><span class="sxs-lookup"><span data-stu-id="48bcf-423">**My network (subnet) only**</span></span>  
  
         <span data-ttu-id="48bcf-424">Questa impostazione offre una protezione maggiore rispetto a **Tutti i computer**.</span><span class="sxs-lookup"><span data-stu-id="48bcf-424">This is a more secure setting than **Any computer**.</span></span> <span data-ttu-id="48bcf-425">Solo i computer che si trovano nella subnet locale della rete possono connettersi al programma o alla porta.</span><span class="sxs-lookup"><span data-stu-id="48bcf-425">Only computers on the local subnet of your network can connect to the program or port.</span></span>  
  
    -   <span data-ttu-id="48bcf-426">**Elenco personalizzato:**</span><span class="sxs-lookup"><span data-stu-id="48bcf-426">**Custom list:**</span></span>  
  
     <span data-ttu-id="48bcf-427">Solo i computer che dispongono degli indirizzi IP elencati possono connettersi.</span><span class="sxs-lookup"><span data-stu-id="48bcf-427">Only computers that have the IP addresses you list can connect.</span></span> <span data-ttu-id="48bcf-428">Questa opzione offre un livello di protezione ancora più elevato di **Solo la rete (subnet) locale**, anche se i computer client che usano DHCP possono modificare occasionalmente l'indirizzo IP.</span><span class="sxs-lookup"><span data-stu-id="48bcf-428">This can be a more secure setting than **My network (subnet) only**, however, client computers using DHCP can occasionally change their IP address.</span></span> <span data-ttu-id="48bcf-429">Pertanto il computer desiderato non sarà in grado di connettersi.</span><span class="sxs-lookup"><span data-stu-id="48bcf-429">Then the intended computer will not be able to connect.</span></span> <span data-ttu-id="48bcf-430">Un altro computer, a cui non è stata concessa l'autorizzazione, potrebbe accettare l'indirizzo IP elencato ed essere in grado di connettersi.</span><span class="sxs-lookup"><span data-stu-id="48bcf-430">Another computer, which you had not intended to authorize, might accept the listed IP address and then be able to connect.</span></span> <span data-ttu-id="48bcf-431">L'opzione **Elenco personalizzato** può risultare adatta per elencare altri server configurati per l'utilizzo di un indirizzo IP fisso anche se gli indirizzi IP possono essere soggetti a spoofing da parte di un intruso.</span><span class="sxs-lookup"><span data-stu-id="48bcf-431">The **Custom list** option might be appropriate for listing other servers which are configured to use a fixed IP address; however, IP addresses might be spoofed by an intruder.</span></span> <span data-ttu-id="48bcf-432">L'efficacia delle regole di limitazione del firewall equivale solo a quella dell'infrastruttura di rete.</span><span class="sxs-lookup"><span data-stu-id="48bcf-432">Restricting firewall rules are only as strong as your network infrastructure.</span></span>  
  
##  <a name="using-the-windows-firewall-with-advanced-security-snap-in"></a><a name="BKMK_WF_msc"></a> <span data-ttu-id="48bcf-433">Utilizzo dello snap-in Windows Firewall con sicurezza avanzata</span><span class="sxs-lookup"><span data-stu-id="48bcf-433">Using the Windows Firewall with Advanced Security Snap-in</span></span>  
 <span data-ttu-id="48bcf-434">È possibile configurare impostazioni del firewall avanzate aggiuntive tramite lo snap-in MMC Windows Firewall con sicurezza avanzata.</span><span class="sxs-lookup"><span data-stu-id="48bcf-434">Additional advanced firewall settings can be configured by using the Windows Firewall with Advanced Security MMC snap-in.</span></span> <span data-ttu-id="48bcf-435">Lo snap-in include una procedura guidata di creazione delle regole ed espone impostazioni aggiuntive non disponibili nell'elemento **Windows Firewall** del Pannello di controllo.</span><span class="sxs-lookup"><span data-stu-id="48bcf-435">The snap-in includes a rule wizard and exposes additional settings that are not available in the **Windows Firewall** item in Control Panel.</span></span> <span data-ttu-id="48bcf-436">Tali impostazioni includono quanto segue:</span><span class="sxs-lookup"><span data-stu-id="48bcf-436">These settings include the following:</span></span>  
  
-   <span data-ttu-id="48bcf-437">Impostazioni di crittografia</span><span class="sxs-lookup"><span data-stu-id="48bcf-437">Encryption settings</span></span>  
  
-   <span data-ttu-id="48bcf-438">Restrizioni dei servizi</span><span class="sxs-lookup"><span data-stu-id="48bcf-438">Services restrictions</span></span>  
  
-   <span data-ttu-id="48bcf-439">Restrizione delle connessioni per i computer in base al nome</span><span class="sxs-lookup"><span data-stu-id="48bcf-439">Restricting connections for computers by name</span></span>  
  
-   <span data-ttu-id="48bcf-440">Restrizione delle connessioni a utenti o profili specifici</span><span class="sxs-lookup"><span data-stu-id="48bcf-440">Restricting connections to specific users or profiles</span></span>  
  
-   <span data-ttu-id="48bcf-441">Attraversamento dei confini che consente al traffico di ignorare i router NAT (Network Address Translation)</span><span class="sxs-lookup"><span data-stu-id="48bcf-441">Edge traversal allowing traffic to bypass Network Address Translation (NAT) routers</span></span>  
  
-   <span data-ttu-id="48bcf-442">Configurazione di regole in uscita</span><span class="sxs-lookup"><span data-stu-id="48bcf-442">Configuring outbound rules</span></span>  
  
-   <span data-ttu-id="48bcf-443">Configurazione di regole di sicurezza</span><span class="sxs-lookup"><span data-stu-id="48bcf-443">Configuring security rules</span></span>  
  
-   <span data-ttu-id="48bcf-444">Richiesta di IPsec per le connessioni in ingresso</span><span class="sxs-lookup"><span data-stu-id="48bcf-444">Requiring IPsec for incoming connections</span></span>  
  
#### <a name="to-create-a-new-firewall-rule-using-the-new-rule-wizard"></a><span data-ttu-id="48bcf-445">Per creare una nuova regola del firewall utilizzando la Creazione guidata nuova regola connessioni in entrata</span><span class="sxs-lookup"><span data-stu-id="48bcf-445">To create a new firewall rule using the New Rule wizard</span></span>  
  
1.  <span data-ttu-id="48bcf-446">Dal menu Start scegliere **Esegui**, digitare **WF.msc**, quindi fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="48bcf-446">On the Start menu, click **Run**, type **WF.msc**, and then click **OK**.</span></span>  
  
2.  <span data-ttu-id="48bcf-447">In **Windows Firewall con sicurezza avanzata**, nel riquadro sinistro, fare clic con il pulsante destro del mouse su **Regole in entrata**, quindi scegliere **Nuova regola**.</span><span class="sxs-lookup"><span data-stu-id="48bcf-447">In the **Windows Firewall with Advanced Security**, in the left pane, right-click **Inbound Rules**, and then click **New Rule**.</span></span>  
  
3.  <span data-ttu-id="48bcf-448">Completare la **Creazione guidata nuova regola connessioni in entrata** utilizzando le impostazioni desiderate.</span><span class="sxs-lookup"><span data-stu-id="48bcf-448">Complete the **New Inbound Rule Wizard** using the settings that you want.</span></span>  
  
##  <a name="troubleshooting-firewall-settings"></a><a name="BKMK_troubleshooting"></a> <span data-ttu-id="48bcf-449">Risoluzione dei problemi relativi alle impostazioni del firewall</span><span class="sxs-lookup"><span data-stu-id="48bcf-449">Troubleshooting Firewall Settings</span></span>  
 <span data-ttu-id="48bcf-450">Le tecniche e gli strumenti illustrati di seguito possono risultare utili per la risoluzione dei problemi del firewall.</span><span class="sxs-lookup"><span data-stu-id="48bcf-450">The following tools and techniques can be useful in troubleshooting firewall issues:</span></span>  
  
-   <span data-ttu-id="48bcf-451">Lo stato della porta più efficace è l'unione di tutte le regole relative alla porta.</span><span class="sxs-lookup"><span data-stu-id="48bcf-451">The effective port status is the union of all rules related to the port.</span></span> <span data-ttu-id="48bcf-452">Quando si tenta di bloccare l'accesso attraverso una porta, può essere utile verificare tutte le regole in cui viene citato il numero della porta.</span><span class="sxs-lookup"><span data-stu-id="48bcf-452">When trying to block access through a port, it can be helpful to review all the rules which cite the port number.</span></span> <span data-ttu-id="48bcf-453">A questo scopo, utilizzare lo snap-in MMC Windows Firewall con sicurezza avanzata e ordinare le regole in entrata e in uscita in base al numero della porta.</span><span class="sxs-lookup"><span data-stu-id="48bcf-453">To do this, use the Windows Firewall with Advanced Security MMC snap-in and sort the inbound and outbound rules by port number.</span></span>  
  
-   <span data-ttu-id="48bcf-454">Verificare le porte attive nel computer su cui è in esecuzione [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="48bcf-454">Review the ports that are active on the computer on which [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is running.</span></span> <span data-ttu-id="48bcf-455">Questo processo di verifica include l'individuazione delle porte TCP/IP in attesa, nonché dello stato delle porte.</span><span class="sxs-lookup"><span data-stu-id="48bcf-455">This review process includes verifying which TCP/IP ports are listening and also verifying the status of the ports.</span></span>  
  
     <span data-ttu-id="48bcf-456">Per verificare quali porte siano in attesa, usare l'utilità da riga di comando **netstat** .</span><span class="sxs-lookup"><span data-stu-id="48bcf-456">To verify which ports are listening, use the **netstat** command-line utility.</span></span> <span data-ttu-id="48bcf-457">Oltre alle connessioni TCP attive, l'utilità **netstat** visualizza anche un'ampia gamma di statistiche e informazioni relative al protocollo IP.</span><span class="sxs-lookup"><span data-stu-id="48bcf-457">In addition to displaying active TCP connections, the **netstat** utility also displays a variety of IP statistics and information.</span></span>  
  
    #### <a name="to-list-which-tcpip-ports-are-listening"></a><span data-ttu-id="48bcf-458">Per elencare le porte TCP/IP in attesa</span><span class="sxs-lookup"><span data-stu-id="48bcf-458">To list which TCP/IP ports are listening</span></span>  
  
    1.  <span data-ttu-id="48bcf-459">Aprire una finestra del prompt dei comandi.</span><span class="sxs-lookup"><span data-stu-id="48bcf-459">Open the Command Prompt window.</span></span>  
  
    2.  <span data-ttu-id="48bcf-460">Al prompt dei comandi digitare `netstat -n -a`.</span><span class="sxs-lookup"><span data-stu-id="48bcf-460">At the command prompt, type `netstat -n -a`.</span></span>  
  
         <span data-ttu-id="48bcf-461">L'opzione **-n** indica a **netstat** di visualizzare in valori numerici l'indirizzo e il numero di porta delle connessioni TCP attive.</span><span class="sxs-lookup"><span data-stu-id="48bcf-461">The **-n** switch instructs **netstat** to numerically display the address and port number of active TCP connections.</span></span> <span data-ttu-id="48bcf-462">L'opzione **-a** indica a **netstat** di visualizzare le porte TCP e UDP su cui è in attesa il computer.</span><span class="sxs-lookup"><span data-stu-id="48bcf-462">The **-a** switch instructs **netstat** to display the TCP and UDP ports on which the computer is listening.</span></span>  
  
-   <span data-ttu-id="48bcf-463">L'utilità **PortQry** può essere usata per indicare lo stato delle porte TCP/IP come in attesa, non in attesa o filtrato.</span><span class="sxs-lookup"><span data-stu-id="48bcf-463">The **PortQry** utility can be used to report the status of TCP/IP ports as listening, not listening, or filtered.</span></span> <span data-ttu-id="48bcf-464">Uno stato filtrato non indica se la porta è o non è in attesa, bensì che l'utilità non ha ricevuto alcuna risposta dalla porta. È possibile scaricare l'utilità **PortQry** dalla pagina relativa nell' [area download Microsoft](https://www.microsoft.com/download/details.aspx?id=17148).</span><span class="sxs-lookup"><span data-stu-id="48bcf-464">(With a filtered status, the port might or might not be listening; this status indicates that the utility did not receive a response from the port.) The **PortQry** utility is available for download from the [Microsoft Download Center](https://www.microsoft.com/download/details.aspx?id=17148).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="48bcf-465">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="48bcf-465">See Also</span></span>  
 [<span data-ttu-id="48bcf-466">Panoramica dei servizi e requisiti per le porte di rete per il sistema server Windows</span><span class="sxs-lookup"><span data-stu-id="48bcf-466">Service overview and network port requirements for the Windows Server system</span></span>](https://support.microsoft.com/kb/832017)  
