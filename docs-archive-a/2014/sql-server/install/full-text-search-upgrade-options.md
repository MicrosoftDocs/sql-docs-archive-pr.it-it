---
title: Opzioni di aggiornamento della ricerca full-text | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
f1_keywords:
- Full-Text Search
- Upgrade options, Full-Text Search
ms.assetid: 16c9376b-5fbb-4495-a429-06a2493849c9
author: rothja
ms.author: jroth
ms.openlocfilehash: ade7a05563598440c3fdc79dd4b3584f7f797d4e
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87713732"
---
# <a name="full-text-search-upgrade-options"></a><span data-ttu-id="ed7c9-102">Opzioni di aggiornamento della ricerca full-text</span><span class="sxs-lookup"><span data-stu-id="ed7c9-102">Full-Text Search Upgrade Options</span></span>
  <span data-ttu-id="ed7c9-103">Utilizzare la pagina Opzioni di aggiornamento della ricerca full-text dell'Installazione guidata di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] per selezionare l'opzione di aggiornamento della ricerca full-text da utilizzare per l'aggiornamento dei database.</span><span class="sxs-lookup"><span data-stu-id="ed7c9-103">Use the Full-Text Search Upgrade Options page of the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Installation Wizard to select the full-text search upgrade option to use for the databases that you are upgrading at this time.</span></span>  
  
 <span data-ttu-id="ed7c9-104">In [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] ogni indice full-text risiede in un catalogo full-text che appartiene a un filegroup, dispone di un percorso fisico e viene considerato un file di database.</span><span class="sxs-lookup"><span data-stu-id="ed7c9-104">In [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] each full-text index resides in a full-text catalog that belongs to a filegroup, has a physical path, and is treated as a database file.</span></span> <span data-ttu-id="ed7c9-105">A questo punto, un catalogo full-text è un concetto logico, ovvero un oggetto virtuale, che fa riferimento a un gruppo di indici full-text.</span><span class="sxs-lookup"><span data-stu-id="ed7c9-105">Now, a full-text catalog is a logical concept-a virtual object-that refers to a group of full-text indexes.</span></span> <span data-ttu-id="ed7c9-106">Pertanto, un nuovo catalogo full-text non viene considerato un file di database con un percorso fisico.</span><span class="sxs-lookup"><span data-stu-id="ed7c9-106">Therefore, a new full-text catalog is not treated as a database file with a physical path.</span></span> <span data-ttu-id="ed7c9-107">Tuttavia, durante l'aggiornamento di un catalogo full-text contenente file di dati viene creato un nuovo filegroup nello stesso disco</span><span class="sxs-lookup"><span data-stu-id="ed7c9-107">However, during upgrade of any full-text catalog that contains data files, a new filegroup is created on same disk.</span></span> <span data-ttu-id="ed7c9-108">mantenendo in questo modo il vecchio comportamento I/O su disco dopo l'aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="ed7c9-108">This maintains the old disk I/O behavior after upgrade.</span></span> <span data-ttu-id="ed7c9-109">Tutti gli indici full-text di quel catalogo vengono posizionati nel nuovo filegroup se esiste il percorso radice.</span><span class="sxs-lookup"><span data-stu-id="ed7c9-109">Any full-text index from that catalog is placed in the new filegroup if the root path exists.</span></span> <span data-ttu-id="ed7c9-110">Se il vecchio percorso del catalogo full-text non è valido, l'indice full-text rimane nello stesso filegroup della tabella di base o nel filegroup primario nel caso di una tabella partizionata.</span><span class="sxs-lookup"><span data-stu-id="ed7c9-110">If the old full-text catalog path is invalid, the upgrade keeps the full-text index in the same filegroup as base table or, for a partitioned table, in the primary filegroup.</span></span>  
  
## <a name="options"></a><span data-ttu-id="ed7c9-111">Opzioni</span><span class="sxs-lookup"><span data-stu-id="ed7c9-111">Options</span></span>  
 <span data-ttu-id="ed7c9-112">Quando si esegue l'aggiornamento a [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], scegliere una delle opzioni di aggiornamento full-text seguenti.</span><span class="sxs-lookup"><span data-stu-id="ed7c9-112">When you upgrade to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], choose one of the following full-text upgrade options.</span></span>  
  
 <span data-ttu-id="ed7c9-113">**Importa**</span><span class="sxs-lookup"><span data-stu-id="ed7c9-113">**Import**</span></span>  
 <span data-ttu-id="ed7c9-114">I cataloghi full-text vengono importati.</span><span class="sxs-lookup"><span data-stu-id="ed7c9-114">Full-text catalogs are imported.</span></span> <span data-ttu-id="ed7c9-115">In genere, l'importazione è molto più veloce della ricompilazione.</span><span class="sxs-lookup"><span data-stu-id="ed7c9-115">Typically, import is significantly faster than rebuild.</span></span> <span data-ttu-id="ed7c9-116">Se ad esempio si utilizza solo una CPU, l'importazione è di circa 10 volte più veloce della ricompilazione.</span><span class="sxs-lookup"><span data-stu-id="ed7c9-116">For example, when using only one CPU, import runs about 10 times faster than rebuild.</span></span> <span data-ttu-id="ed7c9-117">Tuttavia, un catalogo full-text importato da [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] non utilizza i word breaker nuovi e migliorati, pertanto potrebbe essere necessario ricompilare i cataloghi full-text.</span><span class="sxs-lookup"><span data-stu-id="ed7c9-117">However, a full-text catalog imported from [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] does not use the new and enhanced word breakers, so you might want to rebuild your full-text catalogs eventually.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="ed7c9-118">La ricompilazione può essere eseguita in modalità a thread multipli e, nel caso in cui siano disponibili più di 10 CPU, può risultare più veloce dell'importazione se si consente alla ricompilazione di utilizzare tutte le CPU.</span><span class="sxs-lookup"><span data-stu-id="ed7c9-118">Rebuild can run in multi-threaded mode, and if more than 10 CPUs are available, rebuild might run faster than import if you allow rebuild to use all of the CPUs.</span></span>  
  
 <span data-ttu-id="ed7c9-119">Se un catalogo full-text non è disponibile, gli indici full-text associati vengono ricreati.</span><span class="sxs-lookup"><span data-stu-id="ed7c9-119">If a full-text catalog is not available, the associated full-text indexes are rebuilt.</span></span> <span data-ttu-id="ed7c9-120">Questa opzione è disponibile solo per i database di [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="ed7c9-120">This option is available for only [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] databases.</span></span>  
  
 <span data-ttu-id="ed7c9-121">Per informazioni sull'impatto dell'importazione di un indice full-text, vedere "Considerazioni per la scelta di un'opzione di aggiornamento full-text" più avanti in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="ed7c9-121">For information about the impact of importing full-text index, see "Considerations for Choosing a Full-Text Upgrade Option," later in this topic.</span></span>  
  
 <span data-ttu-id="ed7c9-122">**Ricostruzione**</span><span class="sxs-lookup"><span data-stu-id="ed7c9-122">**Rebuild**</span></span>  
 <span data-ttu-id="ed7c9-123">I cataloghi full-text vengono ricompilati utilizzando i nuovi word breaker ottimizzati.</span><span class="sxs-lookup"><span data-stu-id="ed7c9-123">Full-text catalogs are rebuilt using the new and enhanced word breakers.</span></span> <span data-ttu-id="ed7c9-124">La ricompilazione degli indici può richiedere molto tempo. Dopo l'aggiornamento, inoltre, potrebbe essere necessaria una quantità significativa di CPU e di memoria.</span><span class="sxs-lookup"><span data-stu-id="ed7c9-124">Rebuilding indexes can take a lot of time, and a significant amount of CPU and memory might be required after the upgrade.</span></span>  
  
 <span data-ttu-id="ed7c9-125">**Reimpostazione**</span><span class="sxs-lookup"><span data-stu-id="ed7c9-125">**Reset**</span></span>  
 <span data-ttu-id="ed7c9-126">I cataloghi full-text vengono ripristinati.</span><span class="sxs-lookup"><span data-stu-id="ed7c9-126">Full-text catalogs are reset.</span></span> <span data-ttu-id="ed7c9-127">Quando si esegue l'aggiornamento da [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], i file dei cataloghi full-text vengono rimossi, ma i metadati per i cataloghi full-text e gli indici full-text vengono mantenuti.</span><span class="sxs-lookup"><span data-stu-id="ed7c9-127">When upgrading from [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], full-text catalog files are removed, but the metadata for full-text catalogs and full-text indexes is retained.</span></span> <span data-ttu-id="ed7c9-128">Dopo l'aggiornamento, in tutti gli indici full-text il rilevamento delle modifiche viene disabilitato e le ricerche per indicizzazione non vengono avviate automaticamente.</span><span class="sxs-lookup"><span data-stu-id="ed7c9-128">After being upgraded, all full-text indexes are disabled for change tracking and crawls are not started automatically.</span></span> <span data-ttu-id="ed7c9-129">Il catalogo resterà vuoto fino a quando non si eseguirà manualmente un popolamento completo al termine dell'aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="ed7c9-129">The catalog will remain empty until you manually issue a full population, after the upgrade completes.</span></span>  
  
 <span data-ttu-id="ed7c9-130">Tutte queste opzioni di aggiornamento consentono ai database aggiornati di sfruttare appieno i miglioramenti delle prestazioni full-text.</span><span class="sxs-lookup"><span data-stu-id="ed7c9-130">All of these upgrade options ensure that upgraded databases benefit fully from full-text performance enhancements.</span></span>  
  
## <a name="considerations-for-choosing-a-full-text-upgrade-option"></a><span data-ttu-id="ed7c9-131">Considerazioni per la scelta di un'opzione di aggiornamento full-text</span><span class="sxs-lookup"><span data-stu-id="ed7c9-131">Considerations for Choosing a Full-Text Upgrade Option</span></span>  
 <span data-ttu-id="ed7c9-132">Quando si sceglie l'opzione di aggiornamento, considerare gli elementi seguenti:</span><span class="sxs-lookup"><span data-stu-id="ed7c9-132">When choosing the upgrade option for your upgrade, consider the following:</span></span>  
  
-   <span data-ttu-id="ed7c9-133">Modalità di utilizzo dei word breaker</span><span class="sxs-lookup"><span data-stu-id="ed7c9-133">How do you use word breakers?</span></span>  
  
     <span data-ttu-id="ed7c9-134">Il servizio di ricerca full-text in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] include nuovi word breaker e stemmer</span><span class="sxs-lookup"><span data-stu-id="ed7c9-134">The full-text search service in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] includes word breakers and stemmers.</span></span> <span data-ttu-id="ed7c9-135">che potrebbero modificare i risultati delle query full-text rispetto a [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] per un modello di testo o uno scenario specifico.</span><span class="sxs-lookup"><span data-stu-id="ed7c9-135">These might change the results of full-text queries from [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] for a specific text pattern or scenario.</span></span> <span data-ttu-id="ed7c9-136">Pertanto, la modalità di utilizzo dei word breaker è importante nella scelta di un'opzione di aggiornamento appropriata:</span><span class="sxs-lookup"><span data-stu-id="ed7c9-136">Therefore, how you use word breakers is important when choosing a suitable upgrade option:</span></span>  
  
    -   <span data-ttu-id="ed7c9-137">Se i word breaker della lingua utilizzata per la ricerca full-text non sono stati modificati o se l'accuratezza delle chiamate non è fondamentale, è consigliabile utilizzare l'importazione.</span><span class="sxs-lookup"><span data-stu-id="ed7c9-137">If the word breakers of the full-text language you use did not change, or if recall accuracy is not critical to you, importing is suitable.</span></span> <span data-ttu-id="ed7c9-138">Se successivamente si verificano problemi relativi alle chiamate, è possibile eseguire l'aggiornamento ai nuovi word breaker ricompilando semplicemente i cataloghi full-text.</span><span class="sxs-lookup"><span data-stu-id="ed7c9-138">Later, if you experience any recall issues, you can upgrade to the new word breakers simply by rebuilding your full-text catalogs.</span></span>  
  
    -   <span data-ttu-id="ed7c9-139">Se invece l'accuratezza delle chiamate è importante e si utilizza uno dei word breaker aggiunti dopo [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], è consigliabile eseguire la ricompilazione.</span><span class="sxs-lookup"><span data-stu-id="ed7c9-139">If you care about recall accuracy and you use one of the word breakers that were added after [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], rebuilding is suitable.</span></span>  
  
-   <span data-ttu-id="ed7c9-140">Eventuale presenza di indici full-text compilati in colonne chiave full-text di tipo integer</span><span class="sxs-lookup"><span data-stu-id="ed7c9-140">Were any full-text indexes built on integer full-text key columns?</span></span>  
  
     <span data-ttu-id="ed7c9-141">Con la ricompilazione vengono eseguite ottimizzazioni interne che in alcuni casi migliorano le prestazioni di esecuzione delle query dell'indice full-text aggiornato.</span><span class="sxs-lookup"><span data-stu-id="ed7c9-141">Rebuilding performs internal optimizations that improve the query performance of the upgraded full-text index in some cases.</span></span> <span data-ttu-id="ed7c9-142">In particolare, se si dispone di cataloghi full-text che contengono indici full-text per i quali la colonna chiave full-text della tabella di base è un tipo di dati integer, la ricompilazione consente di ottenere prestazioni ideali delle query full-text dopo l'aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="ed7c9-142">Specifically, if you have full-text catalogs that contain full-text indexes for which the full-text key column of the base table is an integer data type, rebuilding achieves ideal performance of full-text queries after upgrade.</span></span> <span data-ttu-id="ed7c9-143">In questo caso, è consigliabile usare l'opzione **Ricompila** .</span><span class="sxs-lookup"><span data-stu-id="ed7c9-143">In this case, we highly recommend you to use the **Rebuild** option.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="ed7c9-144">Per gli indici full-text in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]è consigliabile che la colonna utilizzata come chiave full-text sia un tipo di dati integer.</span><span class="sxs-lookup"><span data-stu-id="ed7c9-144">For full-text indexes in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], we recommend that the column serving as the full-text key be an integer data type.</span></span> <span data-ttu-id="ed7c9-145">Per altre informazioni, vedere [Miglioramento delle prestazioni di indici full-text](../../relational-databases/indexes/indexes.md).</span><span class="sxs-lookup"><span data-stu-id="ed7c9-145">For more information, see [Improve the Performance of Full-Text Indexes](../../relational-databases/indexes/indexes.md).</span></span>  
  
-   <span data-ttu-id="ed7c9-146">Priorità della disponibilità online dell'istanza del server</span><span class="sxs-lookup"><span data-stu-id="ed7c9-146">What is the priority for getting your server instance online?</span></span>  
  
     <span data-ttu-id="ed7c9-147">L'importazione o la ricompilazione durante l'aggiornamento richiede l'utilizzo di molte risorse della CPU ritardando in questo modo l'aggiornamento del resto dell'istanza del server e la disponibilità online dell'istanza stessa.</span><span class="sxs-lookup"><span data-stu-id="ed7c9-147">Importing or rebuilding during upgrade takes a lot of CPU resources, which delays getting the rest of the server instance upgraded and online.</span></span> <span data-ttu-id="ed7c9-148">Se la disponibilità online dell'istanza del server è essenziale e si desidera eseguire un popolamento manuale dopo l'aggiornamento, è consigliabile utilizzare l'opzione **Reimposta** .</span><span class="sxs-lookup"><span data-stu-id="ed7c9-148">If getting the server instance online as soon as possible is important and if you are willing to run a manual population after the upgrade, **Reset** is suitable.</span></span>  
  
## <a name="additional-resources"></a><span data-ttu-id="ed7c9-149">Risorse aggiuntive</span><span class="sxs-lookup"><span data-stu-id="ed7c9-149">Additional Resources</span></span>  
  
