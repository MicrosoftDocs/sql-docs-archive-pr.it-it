---
title: Verificare che l'aumento automatico sia attivato per tutti i file di dati e di log durante il processo di aggiornamento | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
helpviewer_keywords:
- log files [SQL Server], size
- data files [SQL Server], size
- tempdb [SQL Server], size
- autogrow [SQL Server]
ms.assetid: a5860904-e2be-4224-8a51-df18a10d3fb9
author: mashamsft
ms.author: mathoma
ms.openlocfilehash: 8ca12075598bce210a905cbdfba89f2d879cf09b
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87726427"
---
# <a name="verify-autogrow-is-turned-on-for-all-data-and-log-files-during-the-upgrade-process"></a><span data-ttu-id="67893-102">Verificare che l'aumento di dimensioni automatico sia attivato per tutti i file di dati e di log durante il processo di aggiornamento</span><span class="sxs-lookup"><span data-stu-id="67893-102">Verify autogrow is turned on for all data and log files during the upgrade process</span></span>
  <span data-ttu-id="67893-103">Sono stati rilevati file di dati o di log per cui non è impostato l'aumento automatico delle dimensioni.</span><span class="sxs-lookup"><span data-stu-id="67893-103">Upgrade Advisor detected data or log files that are not set to autogrow.</span></span> <span data-ttu-id="67893-104">Le funzionalità nuove e migliorate richiedono ulteriore spazio su disco per i database utente e il database di sistema **tempdb** .</span><span class="sxs-lookup"><span data-stu-id="67893-104">New and enhanced features require additional disk space for user databases and the **tempdb** system database.</span></span> <span data-ttu-id="67893-105">Per garantire che le risorse possano supportare gli aumenti di dimensioni durante l'aggiornamento e le successive operazioni di produzione, è consigliabile impostare l'aumento automatico delle dimensioni su ON per tutti i file di dati e di log dell'utente e i file di log e di dati **tempdb**</span><span class="sxs-lookup"><span data-stu-id="67893-105">To ensure resources can accommodate size increases during upgrade and subsequent production operations, we recommend setting autogrow to ON for all user data and log files and the **tempdb** data and log files before upgrading.</span></span>  
  
 <span data-ttu-id="67893-106">Dopo aver aggiornato i carichi di lavoro e averne eseguito il test, è necessario disabilitare l'aumento automatico delle dimensioni o modificare l'incremento FILEGROWTH in modo appropriato per i file di log e i file di dati degli utenti.</span><span class="sxs-lookup"><span data-stu-id="67893-106">After you have upgraded and tested your workloads, you may want to turn autogrow off or adjust the FILEGROWTH increment accordingly for user data and log files.</span></span> <span data-ttu-id="67893-107">È consigliabile che l'aumento automatico delle dimensioni rimanga attivo per il database di sistema **tempdb** .</span><span class="sxs-lookup"><span data-stu-id="67893-107">We recommend that autogrow remain on for the **tempdb** system database.</span></span> <span data-ttu-id="67893-108">Per ulteriori informazioni, vedere "Pianificazione delle capacità per tempdb" nella documentazione online di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="67893-108">For more information, see "Capacity Planning for tempdb" in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Books Online.</span></span>  
  
## <a name="component"></a><span data-ttu-id="67893-109">Componente</span><span class="sxs-lookup"><span data-stu-id="67893-109">Component</span></span>  
 [!INCLUDE[ssDE](../../includes/ssde-md.md)]  
  
## <a name="description"></a><span data-ttu-id="67893-110">Descrizione</span><span class="sxs-lookup"><span data-stu-id="67893-110">Description</span></span>  
 <span data-ttu-id="67893-111">**File di dati**</span><span class="sxs-lookup"><span data-stu-id="67893-111">**Data files**</span></span>  
  
 <span data-ttu-id="67893-112">Nella tabella seguente sono elencate le modifiche apportate alle caratteristiche di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] che comportano un aumento dei requisiti di spazio su disco per i file di dati definiti dall'utente.</span><span class="sxs-lookup"><span data-stu-id="67893-112">The following table lists changes to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] features that result in additional disk space requirements for user-defined data files.</span></span>  
  
|<span data-ttu-id="67893-113">Feature</span><span class="sxs-lookup"><span data-stu-id="67893-113">Feature</span></span>|<span data-ttu-id="67893-114">Modifiche introdotte in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="67893-114">Changes Introduced in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span></span>|  
|-------------|-----------------------------------------------------|  
|<span data-ttu-id="67893-115">Full-text</span><span class="sxs-lookup"><span data-stu-id="67893-115">Full-text</span></span>|<span data-ttu-id="67893-116">La mappa ID (DOCID) del documento è archiviata nel file di dati anziché nel catalogo full-text.</span><span class="sxs-lookup"><span data-stu-id="67893-116">The document ID (DOCID) map is stored in the data file instead of in the full-text catalog.</span></span>|  
|<span data-ttu-id="67893-117">Colonne `text`, `ntext` e `image`</span><span class="sxs-lookup"><span data-stu-id="67893-117">`text`, `ntext`, and `image` columns</span></span>|<span data-ttu-id="67893-118">Le colonne LOB definite come tipi di dati `text`, `ntext` o `image` necessitano di altri 40 byte di spazio su disco per colonna.</span><span class="sxs-lookup"><span data-stu-id="67893-118">Large object (LOB) columns defined as `text`, `ntext`, or `image` data types require an additional 40 bytes of disk space per column.</span></span> <span data-ttu-id="67893-119">Quest'unico aumento di spazio viene richiesto durante il primo aggiornamento di ogni colonna LOB.</span><span class="sxs-lookup"><span data-stu-id="67893-119">This one-time space increase occurs during the first update of each LOB column.</span></span>|  
|<span data-ttu-id="67893-120">metadata</span><span class="sxs-lookup"><span data-stu-id="67893-120">metadata</span></span>|<span data-ttu-id="67893-121">Vengono creati e mantenuti metadati di sistema aggiuntivi nel filegroup PRIMARY di ogni database utente per gli oggetti di database e le autorizzazioni utente.</span><span class="sxs-lookup"><span data-stu-id="67893-121">Additional system metadata is created and maintained in the PRIMARY filegroup of each user database for database objects and user permissions.</span></span> <span data-ttu-id="67893-122">Ad esempio, nelle versioni precedenti di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] le autorizzazioni associate a un utente che concede le autorizzazioni o a un utente autorizzato vengono archiviate su un'unica riga come bitmap,</span><span class="sxs-lookup"><span data-stu-id="67893-122">For example, in earlier versions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], the permissions associated with a grantor or grantee is stored in a single row as a bitmap.</span></span> <span data-ttu-id="67893-123">mentre la bitmap viene estesa su più righe.</span><span class="sxs-lookup"><span data-stu-id="67893-123">The bitmap is expanded into multiple rows.</span></span><br /><br /> <span data-ttu-id="67893-124">Durante il processo di aggiornamento, lo spazio disponibile deve essere sufficiente per archiviare sia i nuovi metadati che quelli precedenti.</span><span class="sxs-lookup"><span data-stu-id="67893-124">During the upgrade process, there must be enough disk space to store both the old and new metadata.</span></span> <span data-ttu-id="67893-125">Questi ultimi vengono eliminati dopo il completamento dell'aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="67893-125">The old metadata is deleted after the upgrade is complete.</span></span>|  
  
 <span data-ttu-id="67893-126">**File di log delle transazioni**</span><span class="sxs-lookup"><span data-stu-id="67893-126">**Transaction log files**</span></span>  
  
 <span data-ttu-id="67893-127">Nella tabella seguente sono elencate le modifiche apportate alle caratteristiche di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] che comportano un aumento dei requisiti di spazio su disco per i file di log delle transazioni definiti dall'utente.</span><span class="sxs-lookup"><span data-stu-id="67893-127">The following table lists changes to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] features that result in additional disk space requirements for user-defined transaction log files.</span></span>  
  
|<span data-ttu-id="67893-128">Feature</span><span class="sxs-lookup"><span data-stu-id="67893-128">Feature</span></span>|<span data-ttu-id="67893-129">Modifiche introdotte in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="67893-129">Changes Introduced in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span></span>|  
|-------------|-----------------------------------------------------|  
|<span data-ttu-id="67893-130">Ripristino e recupero</span><span class="sxs-lookup"><span data-stu-id="67893-130">Restore and recovery</span></span>|<span data-ttu-id="67893-131">Durante la fase di rollback di un recupero a seguito dell'arresto anomalo del sistema, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] consente agli utenti di accedere al database.</span><span class="sxs-lookup"><span data-stu-id="67893-131">During the undo phase of a crash recovery, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] allows users to access the database.</span></span> <span data-ttu-id="67893-132">Questo è possibile in quanto le transazioni di cui non è stato eseguito il commit quando si è verificato l'arresto anomalo del sistema riacquisiscono eventuali blocchi applicati prima di tale arresto.</span><span class="sxs-lookup"><span data-stu-id="67893-132">This is possible because the transactions that were uncommitted when the crash occurred reacquire any locks they held before the crash.</span></span> <span data-ttu-id="67893-133">Durante il rollback di tali transazioni, i relativi blocchi le proteggono da interferenze da parte degli utenti.</span><span class="sxs-lookup"><span data-stu-id="67893-133">While transactions are being rolled back, their locks protect them from interference by users.</span></span> <span data-ttu-id="67893-134">Questo blocco aggiuntivo delle informazioni deve essere mantenuto nel log delle transazioni.</span><span class="sxs-lookup"><span data-stu-id="67893-134">This additional locking information must be maintained in the transaction log.</span></span>|  
  
 <span data-ttu-id="67893-135">**file di log e di dati di tempdb**</span><span class="sxs-lookup"><span data-stu-id="67893-135">**tempdb data and log files**</span></span>  
  
 <span data-ttu-id="67893-136">Nelle versioni precedenti di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] il database **tempdb** viene utilizzato per archiviare gli oggetti seguenti:</span><span class="sxs-lookup"><span data-stu-id="67893-136">In earlier versions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], the **tempdb** database is used to store the following objects:</span></span>  
  
-   <span data-ttu-id="67893-137">Oggetti temporanei creati in modo esplicito, ad esempio tabelle, stored procedure, variabili di tabella o cursori.</span><span class="sxs-lookup"><span data-stu-id="67893-137">Temporary objects explicitly created such as tables, stored procedures, table variables, or cursors.</span></span>  
  
-   <span data-ttu-id="67893-138">Tabelle di lavoro interne create dal [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span><span class="sxs-lookup"><span data-stu-id="67893-138">Internal work tables created by the [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span></span>  
  
-   <span data-ttu-id="67893-139">Risultati degli ordinamenti temporanei quando vengono creati o ricompilati indici, se SORT_IN_TEMPDB è specificato.</span><span class="sxs-lookup"><span data-stu-id="67893-139">Results from temporary sorts when you create or rebuild indexes, if SORT_IN_TEMPDB is specified.</span></span>  
  
 <span data-ttu-id="67893-140">Gli oggetti aggiuntivi utilizzano anche il database **tempdb** .</span><span class="sxs-lookup"><span data-stu-id="67893-140">Additional objects also use the **tempdb** database.</span></span> <span data-ttu-id="67893-141">Nella tabella seguente sono elencate le modifiche o le aggiunte alle [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] funzionalità che hanno come risultato requisiti di spazio su disco aggiuntivi per i file di dati e di log di **tempdb** .</span><span class="sxs-lookup"><span data-stu-id="67893-141">The following table lists changes or additions to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] features that result in additional disk space requirements for **tempdb** data and log files.</span></span>  
  
|<span data-ttu-id="67893-142">Feature</span><span class="sxs-lookup"><span data-stu-id="67893-142">Feature</span></span>|<span data-ttu-id="67893-143">Modifiche introdotte in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="67893-143">Changes Introduced in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span></span>|  
|-------------|-----------------------------------------------------|  
|<span data-ttu-id="67893-144">Controllo delle versioni delle righe</span><span class="sxs-lookup"><span data-stu-id="67893-144">Row versioning</span></span>|<span data-ttu-id="67893-145">Il controllo delle versioni delle righe è un framework generale in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] utilizzato per:</span><span class="sxs-lookup"><span data-stu-id="67893-145">Row versioning is a general framework in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] that is used to:</span></span><br /><br /> <span data-ttu-id="67893-146">Trigger di supporto: compilare le tabelle inserite ed eliminate nei trigger.</span><span class="sxs-lookup"><span data-stu-id="67893-146">Support triggers: Build the inserted and deleted tables in triggers.</span></span> <span data-ttu-id="67893-147">Le righe modificate dal trigger vengono sottoposte al controllo delle versioni.</span><span class="sxs-lookup"><span data-stu-id="67893-147">Any rows modified by the trigger are versioned.</span></span> <span data-ttu-id="67893-148">Questo include le righe modificate dall'istruzione che ha avviato il trigger, nonché qualsiasi modifica ai dati eseguita dal trigger.</span><span class="sxs-lookup"><span data-stu-id="67893-148">This includes the rows modified by the statement that launched the trigger, as well as any data modifications made by the trigger.</span></span> <span data-ttu-id="67893-149">I trigger AFTER utilizzano l'archivio delle versioni di **tempdb** per contenere le immagini precedenti delle righe modificate dal trigger.</span><span class="sxs-lookup"><span data-stu-id="67893-149">AFTER triggers use the version store of **tempdb** to hold the before images of the rows changed by the trigger.</span></span> <span data-ttu-id="67893-150">Quando si esegue il caricamento bulk con i trigger abilitati, all'archivio delle versioni viene aggiunta una copia di ogni riga.</span><span class="sxs-lookup"><span data-stu-id="67893-150">When you bulkload data with triggers enabled, a copy of each row is added to the version store.</span></span><br /><br /> <span data-ttu-id="67893-151">Supportare più set di risultati attivi (MARS).</span><span class="sxs-lookup"><span data-stu-id="67893-151">Support Multiple Active Result Sets (MARS).</span></span> <span data-ttu-id="67893-152">Se una sessione MARS genera un'istruzione di modifica dei dati (ad esempio INSERT, UPDATE oppure DELETE) nel momento in cui è attivo un set di risultati, le righe influenzate dall'istruzione di modifica sono sottoposte al controllo delle versioni.</span><span class="sxs-lookup"><span data-stu-id="67893-152">If a MARS session issues a data modification statement (such as INSERT, UPDATE, or DELETE) at a time there is an active result set, the rows affected by the modification statement are versioned.</span></span><br /><br /> <span data-ttu-id="67893-153">Supportare operazioni di indice che specificano l'opzione ONLINE.</span><span class="sxs-lookup"><span data-stu-id="67893-153">Support index operations that specify the ONLINE option.</span></span> <span data-ttu-id="67893-154">Nelle operazioni sugli indici online viene utilizzato il controllo delle versioni delle righe per isolare le operazioni dagli effetti delle modifiche apportate da altre transazioni.</span><span class="sxs-lookup"><span data-stu-id="67893-154">Online index operations use row versioning to isolate the index operation from the effects of modifications made by other transactions.</span></span> <span data-ttu-id="67893-155">In questo modo, non è necessario richiedere blocchi di condivisione sulle righe lette.</span><span class="sxs-lookup"><span data-stu-id="67893-155">This avoids the need for requesting share locks on rows that have been read.</span></span> <span data-ttu-id="67893-156">Inoltre, le operazioni di aggiornamento ed eliminazione simultanee degli utenti durante le operazioni sugli indici online richiedono spazio per i record di versione in **tempdb**.</span><span class="sxs-lookup"><span data-stu-id="67893-156">In addition, concurrent user update and delete operations during online index operations require space for version records in **tempdb**.</span></span><br /><br /> <span data-ttu-id="67893-157">Supportare i livelli di isolamento delle transazioni basati sul controllo delle versioni delle righe: una nuova implementazione del livello di isolamento Read committed che utilizza il controllo delle versioni delle righe per fornire la coerenza di lettura a livello di istruzione.</span><span class="sxs-lookup"><span data-stu-id="67893-157">Support row versioning-based transaction isolation levels: A new implementation of read committed isolation level that uses row versioning to provide statement-level read consistency.</span></span> <span data-ttu-id="67893-158">Un nuovo livello di isolamento, snapshot, per offrire consistenza di lettura a livello di transazione.</span><span class="sxs-lookup"><span data-stu-id="67893-158">A new isolation level, snapshot, to provide transaction-level read consistency.</span></span><br /><br /> <br /><br /> <span data-ttu-id="67893-159">Le versioni di riga vengono mantenute nell'archivio delle versioni di **tempdb** abbastanza per soddisfare i requisiti delle transazioni in esecuzione con i livelli di isolamento basati sul controllo delle versioni delle righe.</span><span class="sxs-lookup"><span data-stu-id="67893-159">Row versions are held in the **tempdb** version store long enough to satisfy the requirements of transactions running under row versioning-based isolation levels.</span></span><br /><br /> <span data-ttu-id="67893-160">Per ulteriori informazioni sul controllo delle versioni delle righe e sull'archivio delle versioni, vedere "Informazioni sui livelli di isolamento basati sul controllo delle versioni delle righe" nella documentazione online di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="67893-160">For more information about row versioning and the version store, see the topic "Understanding Row Versioning-based Isolation Levels" in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Books Online.</span></span>|  
|<span data-ttu-id="67893-161">Memorizzazione nella cache dei metadati di tabella temporanea e variabile temporanea</span><span class="sxs-lookup"><span data-stu-id="67893-161">Caching of temp table and temp variable metadata</span></span>|<span data-ttu-id="67893-162">Per ogni metadati della tabella temporanea e della variabile temporanea memorizzati nella cache dei metadati da [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , vengono allocate due pagine aggiuntive per **tempdb**.</span><span class="sxs-lookup"><span data-stu-id="67893-162">For every metadata of temp table and temp variable cached in the metadata cache by [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], two extra pages are allocated for **tempdb**.</span></span><br /><br /> <span data-ttu-id="67893-163">Se una stored procedure o un trigger crea una tabella temporanea o una variabile temporanea, l'oggetto temporaneo non viene eliminato al completamento della stored procedure o del trigger,</span><span class="sxs-lookup"><span data-stu-id="67893-163">If a stored procedure or trigger creates a temp table or temp variable, the temporary object is not deleted when the procedure or trigger completes execution.</span></span> <span data-ttu-id="67893-164">ma viene invece troncato in un'unica pagina e riutilizzato alla successiva esecuzione della stored procedure o del trigger.</span><span class="sxs-lookup"><span data-stu-id="67893-164">Instead, the temporary object is truncated to one page and reused the next time the procedure or trigger is executed.</span></span>|  
|<span data-ttu-id="67893-165">Indici in tabelle partizionate</span><span class="sxs-lookup"><span data-stu-id="67893-165">Indexes on partitioned tables</span></span>|<span data-ttu-id="67893-166">Quando [!INCLUDE[ssDE](../../includes/ssde-md.md)] esegue l'ordinamento per compilare indici partizionati, è necessario spazio sufficiente per l'esecuzione delle operazioni di ordinamento intermedie di ogni partizione in **tempdb** se viene specificata l'opzione SORT_IN_TEMPDB index.</span><span class="sxs-lookup"><span data-stu-id="67893-166">When the [!INCLUDE[ssDE](../../includes/ssde-md.md)] performs sorting to build partitioned indexes, enough space to hold the intermediate sort runs of each partition is required in **tempdb** if the SORT_IN_TEMPDB index option is specified.</span></span>|  
|[!INCLUDE[ssSB](../../includes/sssb-md.md)]|[!INCLUDE[ssSB](../../includes/sssb-md.md)]<span data-ttu-id="67893-167">USA in modo esplicito **tempdb** quando si conserva il contesto della finestra di dialogo esistente che non può rimanere in memoria (approssimativamente 1 KB per dialogo).</span><span class="sxs-lookup"><span data-stu-id="67893-167">explicitly uses **tempdb** when preserving existing dialog context that cannot stay in memory (approximately 1 KB per dialog).</span></span><br /><br /> [!INCLUDE[ssSB](../../includes/sssb-md.md)]<span data-ttu-id="67893-168">utilizza in modo implicito **tempdb** tramite la memorizzazione nella cache di oggetti nel contesto dell'esecuzione della query.</span><span class="sxs-lookup"><span data-stu-id="67893-168">implicitly uses **tempdb** through the caching of objects in the context of query execution.</span></span> <span data-ttu-id="67893-169">ad esempio le tabelle di lavoro utilizzate per gli eventi del timer e le conversazioni recapitate in background.</span><span class="sxs-lookup"><span data-stu-id="67893-169">For example, work tables used for timer events and background delivered conversations.</span></span><br /><br /> <span data-ttu-id="67893-170">Le caratteristiche DBMail, le notifiche degli eventi e le notifiche delle query utilizzano in modo implicito [!INCLUDE[ssSB](../../includes/sssb-md.md)].</span><span class="sxs-lookup"><span data-stu-id="67893-170">The features DBMail, event notifications, and query notifications implicitly use [!INCLUDE[ssSB](../../includes/sssb-md.md)].</span></span>|  
|<span data-ttu-id="67893-171">Tipi di dati LOB</span><span class="sxs-lookup"><span data-stu-id="67893-171">Large object (LOB) data type</span></span><br /><br /> <span data-ttu-id="67893-172">Variabili e parametri LOB</span><span class="sxs-lookup"><span data-stu-id="67893-172">LOB variables and parameters</span></span>|<span data-ttu-id="67893-173">I tipi di dati `varchar(max)` , `nvarchar(max)` , **varbinary (max) Text**, `ntext` `image,` e `xml` sono tipi LOB.</span><span class="sxs-lookup"><span data-stu-id="67893-173">The data types `varchar(max)`, `nvarchar(max)`, **varbinary(max)text**, `ntext`, `image,` and `xml` are large object types.</span></span><br /><br /> <span data-ttu-id="67893-174">Quando nel database è abilitato un livello di isolamento delle transazioni basato sul controllo delle versioni delle righe e vengono apportate modifiche a oggetti di grandi dimensioni, il frammento modificato del LOB viene copiato nell'archivio delle versioni in **tempdb**.</span><span class="sxs-lookup"><span data-stu-id="67893-174">When a row versioning-based transaction isolation level is enabled on the database and modifications of large objects are made, the changed fragment of the LOB is copied to the version store in **tempdb**.</span></span><br /><br /> <span data-ttu-id="67893-175">I parametri definiti come tipo di dati LOB vengono archiviati in **tempdb**.</span><span class="sxs-lookup"><span data-stu-id="67893-175">Parameters defined as a large object data type are stored in **tempdb**.</span></span>|  
|<span data-ttu-id="67893-176">Espressioni di tabella comuni</span><span class="sxs-lookup"><span data-stu-id="67893-176">Common table expressions (CTEs)</span></span>|<span data-ttu-id="67893-177">Le tabelle di lavoro temporanee per le operazioni di spooling vengono create in **tempdb** quando vengono eseguite query di espressioni di tabella comuni.</span><span class="sxs-lookup"><span data-stu-id="67893-177">Temporary work tables for spool operations are created in **tempdb** when common table expression queries are executed.</span></span>|  
  
## <a name="corrective-action"></a><span data-ttu-id="67893-178">Azione correttiva</span><span class="sxs-lookup"><span data-stu-id="67893-178">Corrective Action</span></span>  
 <span data-ttu-id="67893-179">Per impostare un file di dati o di log per l'aumento automatico di dimensioni, modificare le istruzioni seguenti per specificare i dati e il log per il database.</span><span class="sxs-lookup"><span data-stu-id="67893-179">To set a data or log file to autogrow, modify the following statements to specify the data and log for your database.</span></span> <span data-ttu-id="67893-180">È necessario regolare l'incremento FILEGROWTH su un valore appropriato per l'ambiente.</span><span class="sxs-lookup"><span data-stu-id="67893-180">You should adjust the FILEGROWTH increment to a value that is appropriate for your environment.</span></span>  
  
```  
ALTER DATABASE tempdb  
MODIFY FILE  
    (NAME = tempdev,  
    FILEGROWTH = 20MB);  
GO  
ALTER DATABASE tempdb  
MODIFY FILE  
    (NAME = templog,  
    FILEGROWTH = 10MB);  
```  
  
 <span data-ttu-id="67893-181">L'incremento predefinito per l'aumento delle dimensioni dei file di dati è di 1 MB.</span><span class="sxs-lookup"><span data-stu-id="67893-181">The default growth increment for data files is 1 MB.</span></span> <span data-ttu-id="67893-182">L'impostazione predefinita del file di log è 10%.</span><span class="sxs-lookup"><span data-stu-id="67893-182">The log file default is10%.</span></span> <span data-ttu-id="67893-183">Per l'impostazione dell'incremento FILEGROWTH, è consigliabile applicare le linee guida generali seguenti:</span><span class="sxs-lookup"><span data-stu-id="67893-183">We recommend the following general guidelines when setting the FILEGROWTH increment:</span></span>  
  
|<span data-ttu-id="67893-184">Dimensione del file</span><span class="sxs-lookup"><span data-stu-id="67893-184">File size</span></span>|<span data-ttu-id="67893-185">Incremento FILEGROWTH</span><span class="sxs-lookup"><span data-stu-id="67893-185">FILEGROWTH increment</span></span>|  
|---------------|--------------------------|  
|<span data-ttu-id="67893-186">0-50 MB</span><span class="sxs-lookup"><span data-stu-id="67893-186">0-50MB</span></span>|<span data-ttu-id="67893-187">10 MB</span><span class="sxs-lookup"><span data-stu-id="67893-187">10MB</span></span>|  
|<span data-ttu-id="67893-188">100-200 MB</span><span class="sxs-lookup"><span data-stu-id="67893-188">100-200MB</span></span>|<span data-ttu-id="67893-189">20MB</span><span class="sxs-lookup"><span data-stu-id="67893-189">20MB</span></span>|  
|<span data-ttu-id="67893-190">500MB o più</span><span class="sxs-lookup"><span data-stu-id="67893-190">500MB or more</span></span>|<span data-ttu-id="67893-191">10%</span><span class="sxs-lookup"><span data-stu-id="67893-191">10%</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="67893-192">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="67893-192">See Also</span></span>  
 <span data-ttu-id="67893-193">[Problemi di aggiornamento motore di database](../../../2014/sql-server/install/database-engine-upgrade-issues.md) </span><span class="sxs-lookup"><span data-stu-id="67893-193">[Database Engine Upgrade Issues](../../../2014/sql-server/install/database-engine-upgrade-issues.md) </span></span>  
 [<span data-ttu-id="67893-194">SQL Server 2014 preparazione aggiornamento &#91;nuova&#93;</span><span class="sxs-lookup"><span data-stu-id="67893-194">SQL Server 2014 Upgrade Advisor &#91;new&#93;</span></span>](sql-server-2014-upgrade-advisor.md)  
  
  
