---
title: WSFC (Windows Server Failover Clustering) con SQL Server | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
helpviewer_keywords:
- Availability Groups [SQL Server], WSFC clusters
- Windows Server Failover Clustering (WSFC), with SQL Server
- WSFC, with SQL Server
- quorum [SQL Server]
- failover clustering [SQL Server], AlwaysOn Availability Groups
ms.assetid: 79d2ea5a-edd8-4b3b-9502-96202057b01a
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: e1fec03d7eb7a63353fd8eaea8c1e7051a306049
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87628258"
---
# <a name="windows-server-failover-clustering-wsfc-with-sql-server"></a><span data-ttu-id="3a2af-102">WSFC (Windows Server Failover Clustering) con SQL Server</span><span class="sxs-lookup"><span data-stu-id="3a2af-102">Windows Server Failover Clustering (WSFC) with SQL Server</span></span>
  <span data-ttu-id="3a2af-103">Un cluster *Windows Server Failover Clustering (WSFC)* è un gruppo di server indipendenti usati congiuntamente per aumentare la disponibilità di applicazioni e servizi.</span><span class="sxs-lookup"><span data-stu-id="3a2af-103">A *Windows Server Failover Clustering* (WSFC) cluster is a group of independent servers that work together to increase the availability of applications and services.</span></span> [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] <span data-ttu-id="3a2af-104">vengono utilizzate le funzionalità e i servizi di WSFC per supportare le istanze del cluster di failover di [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] e [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="3a2af-104">takes advantage of WSFC services and capabilities to support [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] and [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Failover Cluster Instances.</span></span>

 

##  <a name="terms-and-definitions"></a><a name="TermsAndDefs"></a> <span data-ttu-id="3a2af-105">Termini e definizioni</span><span class="sxs-lookup"><span data-stu-id="3a2af-105">Terms and Definitions</span></span>
 <span data-ttu-id="3a2af-106">Cluster WSFC un cluster WSFC (Windows Server Failover Clustering) è un gruppo di server indipendenti che interagiscono per aumentare la disponibilità di applicazioni e servizi.</span><span class="sxs-lookup"><span data-stu-id="3a2af-106">WSFC cluster A Windows Server Failover Clustering (WSFC) cluster is a group of independent servers that work together to increase the availability of applications and services.</span></span>

 <span data-ttu-id="3a2af-107">Istanza del cluster di failover un'istanza di un servizio Windows che gestisce una risorsa di indirizzo IP, una risorsa del nome di rete e risorse aggiuntive necessarie per eseguire uno o più servizi o applicazioni.</span><span class="sxs-lookup"><span data-stu-id="3a2af-107">Failover cluster instance An instance of a Windows service that manages an IP address resource, a network name resource, and additional resources that are required to run one or more applications or services.</span></span> <span data-ttu-id="3a2af-108">Il nome di rete può essere utilizzato dai client per accedere alle risorse nel gruppo, in modo analogo all'utilizzo del nome di un computer per accedere ai servizi in un server fisico.</span><span class="sxs-lookup"><span data-stu-id="3a2af-108">Clients can use the network name to access the resources in the group, similar to using a computer name to access the services on a physical server.</span></span> <span data-ttu-id="3a2af-109">Tuttavia, poiché un'istanza del cluster di failover è un gruppo, non è possibile eseguirne il failover in un altro nodo senza influire sul nome o l'indirizzo sottostante.</span><span class="sxs-lookup"><span data-stu-id="3a2af-109">However, because a failover cluster instance is a group, it can be failed over to another node without affecting the underlying name or address.</span></span>

 <span data-ttu-id="3a2af-110">Nodo un sistema Microsoft Windows Server che è un membro attivo o inattivo di un cluster di server.</span><span class="sxs-lookup"><span data-stu-id="3a2af-110">Node A Microsoft Windows Server system that is an active or inactive member of a server cluster.</span></span>

 <span data-ttu-id="3a2af-111">Risorsa cluster un'entità fisica o logica che può essere di proprietà di un nodo, portata online e portata offline, spostata tra i nodi e gestita come oggetto cluster.</span><span class="sxs-lookup"><span data-stu-id="3a2af-111">Cluster resource A physical or logical entity that can be owned by a node, brought online and taken offline, moved between nodes, and managed as a cluster object.</span></span> <span data-ttu-id="3a2af-112">Una risorsa cluster può essere solo di proprietà di un nodo singolo in qualsiasi punto nel tempo.</span><span class="sxs-lookup"><span data-stu-id="3a2af-112">A cluster resource can be owned by only a single node at any point in time.</span></span>

 <span data-ttu-id="3a2af-113">Gruppo di risorse raccolta di risorse cluster gestite come singolo oggetto cluster.</span><span class="sxs-lookup"><span data-stu-id="3a2af-113">Resource group A collection of cluster resources managed as a single cluster object.</span></span> <span data-ttu-id="3a2af-114">In genere, un gruppo di risorse contiene tutte le risorse cluster richieste per eseguire un'applicazione o un servizio specifico.</span><span class="sxs-lookup"><span data-stu-id="3a2af-114">Typically a resource group contains all of the cluster resources that are required to run a specific application or service.</span></span> <span data-ttu-id="3a2af-115">Failover e failback vengono sempre eseguiti su gruppi di risorse.</span><span class="sxs-lookup"><span data-stu-id="3a2af-115">Failover and failback always act on resource groups.</span></span>

 <span data-ttu-id="3a2af-116">Dipendenza di una risorsa da cui dipende un'altra risorsa.</span><span class="sxs-lookup"><span data-stu-id="3a2af-116">Resource dependency A resource on which another resource depends.</span></span> <span data-ttu-id="3a2af-117">Se la risorsa A dipende dalla risorsa B, B è una dipendenza di A.</span><span class="sxs-lookup"><span data-stu-id="3a2af-117">If resource A depends on resource B, then B is a dependency of A.</span></span>

 <span data-ttu-id="3a2af-118">Risorsa nome di rete un nome di server logico gestito come risorsa cluster.</span><span class="sxs-lookup"><span data-stu-id="3a2af-118">Network name resource A logical server name that is managed as a cluster resource.</span></span> <span data-ttu-id="3a2af-119">Una risorsa nome di rete deve essere utilizzata con una risorsa indirizzo IP.</span><span class="sxs-lookup"><span data-stu-id="3a2af-119">A network name resource must be used with an IP address resource.</span></span>

 <span data-ttu-id="3a2af-120">Proprietario preferito un nodo in cui è preferibile eseguire un gruppo di risorse.</span><span class="sxs-lookup"><span data-stu-id="3a2af-120">Preferred owner A node on which a resource group prefers to run.</span></span> <span data-ttu-id="3a2af-121">Ogni gruppo di risorse è associato a un elenco di proprietari preferiti ordinato in base alla preferenza.</span><span class="sxs-lookup"><span data-stu-id="3a2af-121">Each resource group is associated with a list of preferred owners sorted in order of preference.</span></span> <span data-ttu-id="3a2af-122">Durante il failover automatico, il gruppo di risorse viene spostato al nodo preferito successivo nell'elenco di proprietari preferiti.</span><span class="sxs-lookup"><span data-stu-id="3a2af-122">During automatic failover, the resource group is moved to the next preferred node in the preferred owner list.</span></span>

 <span data-ttu-id="3a2af-123">Possibile proprietario un nodo secondario in cui è possibile eseguire una risorsa.</span><span class="sxs-lookup"><span data-stu-id="3a2af-123">Possible owner A secondary node on which a resource can run.</span></span> <span data-ttu-id="3a2af-124">Ogni gruppo di risorse è associato a un elenco di possibili proprietari.</span><span class="sxs-lookup"><span data-stu-id="3a2af-124">Each resource group is associated with a list of possible owners.</span></span> <span data-ttu-id="3a2af-125">È possibile eseguire il failover dei gruppi di risorse solo ai nodi elencati come possibili proprietari.</span><span class="sxs-lookup"><span data-stu-id="3a2af-125">Resource groups can fail over only to nodes that are listed as possible owners.</span></span>

 <span data-ttu-id="3a2af-126">Modalità quorum la configurazione del quorum in un cluster di failover che determina il numero di errori dei nodi che il cluster è in grado di sostenere.</span><span class="sxs-lookup"><span data-stu-id="3a2af-126">Quorum mode The quorum configuration in a failover cluster that determines the number of node failures that the cluster can sustain.</span></span>

 <span data-ttu-id="3a2af-127">Quorum forzato il processo di avvio del cluster anche se solo una minoranza degli elementi richiesti per il quorum è in comunicazione.</span><span class="sxs-lookup"><span data-stu-id="3a2af-127">Forced quorum The process to start the cluster even though only a minority of the elements that are required for quorum are in communication.</span></span>

 <span data-ttu-id="3a2af-128">Per ulteriori informazioni, vedere la pagina relativa al [glossario del cluster di failover](/previous-versions/windows/desktop/MsCS/server-cluster-glossary).</span><span class="sxs-lookup"><span data-stu-id="3a2af-128">For more information, see: [Failover Cluster Glossary](/previous-versions/windows/desktop/MsCS/server-cluster-glossary)</span></span>

##  <a name="overview-of-windows-server-failover-clustering"></a><a name="Overview"></a> <span data-ttu-id="3a2af-129">Panoramica di Windows Server Failover Clustering</span><span class="sxs-lookup"><span data-stu-id="3a2af-129">Overview of Windows Server Failover Clustering</span></span>
 <span data-ttu-id="3a2af-130">In Windows Server Failover Clustering sono disponibili funzionalità di infrastruttura che supportano gli scenari di disponibilità elevata e ripristino di emergenza delle applicazioni server ospitate quali Microsoft [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] e Microsoft Exchange.</span><span class="sxs-lookup"><span data-stu-id="3a2af-130">Windows Server Failover Clustering provides infrastructure features that support the high-availability and disaster recovery scenarios of hosted server applications such as Microsoft [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] and Microsoft Exchange.</span></span> <span data-ttu-id="3a2af-131">Se si verifica un errore in un nodo o servizio cluster, i servizi ospitati su tale nodo possono essere trasferiti automaticamente o manualmente a un altro nodo disponibile in un processo noto come *failover*.</span><span class="sxs-lookup"><span data-stu-id="3a2af-131">If a cluster node or service fails, the services that were hosted on that node can be automatically or manually transferred to another available node in a process known as *failover*.</span></span>

 <span data-ttu-id="3a2af-132">I nodi del cluster WSFC operano insieme per fornire collettivamente questi tipi di funzionalità:</span><span class="sxs-lookup"><span data-stu-id="3a2af-132">The nodes in the WSFC cluster work together to collectively provide these types of capabilities:</span></span>

-   <span data-ttu-id="3a2af-133">**Notifiche e metadati distribuiti.**</span><span class="sxs-lookup"><span data-stu-id="3a2af-133">**Distributed metadata and notifications.**</span></span> <span data-ttu-id="3a2af-134">I metadati del servizio WSFC e delle applicazioni ospitate vengono gestiti in ogni nodo del cluster.</span><span class="sxs-lookup"><span data-stu-id="3a2af-134">WSFC service and hosted application metadata is maintained on each node in the cluster.</span></span> <span data-ttu-id="3a2af-135">I metadati includono la configurazione e lo stato di WSFC oltre alle impostazioni delle applicazioni ospitate.</span><span class="sxs-lookup"><span data-stu-id="3a2af-135">This metadata includes WSFC configuration and status in addition to hosted application settings.</span></span> <span data-ttu-id="3a2af-136">Le modifiche apportate ai metadati o allo stato di un nodo vengono automaticamente propagate agli altri nodi del cluster.</span><span class="sxs-lookup"><span data-stu-id="3a2af-136">Changes to a node's metadata or status are automatically propagated to the other nodes in the cluster.</span></span>

-   <span data-ttu-id="3a2af-137">**Gestione delle risorse.**</span><span class="sxs-lookup"><span data-stu-id="3a2af-137">**Resource management.**</span></span> <span data-ttu-id="3a2af-138">I singoli nodi del cluster possono fornire risorse fisiche, ad esempio archiviazione a collegamento diretto, interfacce di rete e accesso all'archiviazione su dischi condivisi.</span><span class="sxs-lookup"><span data-stu-id="3a2af-138">Individual nodes in the cluster may provide physical resources such as direct-attached storage, network interfaces, and access to shared disk storage.</span></span> <span data-ttu-id="3a2af-139">Le applicazioni ospitate effettuano la registrazione come risorse cluster e possono configurare dipendenze di avvio e integrità su altre risorse.</span><span class="sxs-lookup"><span data-stu-id="3a2af-139">Hosted applications register themselves as a cluster resource, and may configure startup and health dependencies upon other resources.</span></span>

-   <span data-ttu-id="3a2af-140">**Monitoraggio dello stato.**</span><span class="sxs-lookup"><span data-stu-id="3a2af-140">**Health monitoring.**</span></span> <span data-ttu-id="3a2af-141">Il rilevamento dello stato del nodo primario e tra nodi viene effettuato tramite una combinazione di comunicazioni di rete di tipo heartbeat e di monitoraggio delle risorse.</span><span class="sxs-lookup"><span data-stu-id="3a2af-141">Inter-node and primary node health detection is accomplished through a combination of heartbeat-style network communications and resource monitoring.</span></span> <span data-ttu-id="3a2af-142">Lo stato complessivo del cluster è determinato dai voti di un quorum di nodi nel cluster.</span><span class="sxs-lookup"><span data-stu-id="3a2af-142">The overall health of the cluster is determined by the votes of a quorum of nodes in the cluster.</span></span>

-   <span data-ttu-id="3a2af-143">**Coordinamento del failover.**</span><span class="sxs-lookup"><span data-stu-id="3a2af-143">**Failover coordination.**</span></span> <span data-ttu-id="3a2af-144">Ogni risorsa è configurata per essere ospitata su un nodo primario e può essere trasferita automaticamente o manualmente a uno o più nodi secondari.</span><span class="sxs-lookup"><span data-stu-id="3a2af-144">Each resource is configured to be hosted on a primary node, and each can be automatically or manually transferred to one or more secondary nodes.</span></span> <span data-ttu-id="3a2af-145">I criteri di failover basati sull'integrità controllano il trasferimento automatico della proprietà della risorsa tra i nodi.</span><span class="sxs-lookup"><span data-stu-id="3a2af-145">A health-based failover policy controls automatic transfer of resource ownership between nodes.</span></span> <span data-ttu-id="3a2af-146">Quando si verifica il failover, viene inviata una notifica ai nodi e alle applicazioni ospitate affinché siano in grado di reagire nel modo appropriato.</span><span class="sxs-lookup"><span data-stu-id="3a2af-146">Nodes and hosted applications are notified when failover occurs so that they may react appropriately.</span></span>

 <span data-ttu-id="3a2af-147">Per ulteriori informazioni, vedere la pagina relativa ai [cluster di failover in Windows Server 2008 R2](https://technet.microsoft.com/library/ff182338\(WS.10\).aspx).</span><span class="sxs-lookup"><span data-stu-id="3a2af-147">For more information, see: [Failover Clusters in Windows Server 2008 R2](https://technet.microsoft.com/library/ff182338\(WS.10\).aspx)</span></span>

##  <a name="sql-server-alwayson-technologies-and-wsfc"></a><a name="AlwaysOnWsfcTech"></a><span data-ttu-id="3a2af-148">SQL Server tecnologie AlwaysOn e WSFC</span><span class="sxs-lookup"><span data-stu-id="3a2af-148">SQL Server AlwaysOn Technologies and WSFC</span></span>
 [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)]<span data-ttu-id="3a2af-149">*AlwaysOn* è una nuova soluzione per la disponibilità elevata e il ripristino di emergenza che sfrutta i vantaggi di WSFC.</span><span class="sxs-lookup"><span data-stu-id="3a2af-149">*AlwaysOn* is a new high availability and disaster recovery solution that takes advantage of WSFC.</span></span> <span data-ttu-id="3a2af-150">AlwaysOn è una soluzione integrata e flessibile che aumenta la disponibilità delle applicazioni, garantisce un migliore utile sugli investimenti in componenti hardware e semplifica la distribuzione e la gestione della disponibilità elevata.</span><span class="sxs-lookup"><span data-stu-id="3a2af-150">AlwaysOn provides an integrated, flexible solution that increases application availability, provides better returns on hardware investments, and simplifies high availability deployment and management.</span></span>

 <span data-ttu-id="3a2af-151">Per le istanze del cluster di failover [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] e AlwaysOn viene utilizzata la tecnologia della piattaforma WSFC che prevede la registrazione dei componenti come risorse cluster WSFC.</span><span class="sxs-lookup"><span data-stu-id="3a2af-151">Both [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] and AlwaysOn Failover Cluster Instances use WSFC as a platform technology, registering components as WSFC cluster resources.</span></span>  <span data-ttu-id="3a2af-152">Le risorse correlate vengono combinate in un *gruppo di risorse*che può essere reso dipendente dalle altre risorse del cluster WSFC.</span><span class="sxs-lookup"><span data-stu-id="3a2af-152">Related resources are combined into a *resource group*, which can be made dependent upon other WSFC cluster resources.</span></span> <span data-ttu-id="3a2af-153">Il servizio cluster WSFC può quindi rilevare e segnalare la necessità di riavviare l'istanza di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] o eseguirne automaticamente il failover a un altro nodo server nel cluster WSFC.</span><span class="sxs-lookup"><span data-stu-id="3a2af-153">The WSFC cluster service can then sense and signal the need to restart the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance or automatically fail it over to a different server node in the WSFC cluster.</span></span>

> [!IMPORTANT]
>  <span data-ttu-id="3a2af-154">Per sfruttare al meglio i vantaggi delle tecnologie [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] AlwaysOn, è necessario applicare diversi prerequisiti correlati a WSFC.</span><span class="sxs-lookup"><span data-stu-id="3a2af-154">To take full advantage of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] AlwaysOn technologies, you should apply several WSFC-related prerequisites.</span></span>
> 
>  <span data-ttu-id="3a2af-155">Per ulteriori informazioni, vedere la pagina relativa ai [prerequisiti, alle restrizioni e ai consigli per Gruppi di disponibilità AlwaysOn &#40;SQL Server&#41;](../../../database-engine/availability-groups/windows/prereqs-restrictions-recommendations-always-on-availability.md)</span><span class="sxs-lookup"><span data-stu-id="3a2af-155">For more information, see: [Prerequisites, Restrictions, and Recommendations for AlwaysOn Availability Groups &#40;SQL Server&#41;](../../../database-engine/availability-groups/windows/prereqs-restrictions-recommendations-always-on-availability.md)</span></span>

### <a name="instance-level-high-availability-with-alwayson-failover-cluster-instances"></a><span data-ttu-id="3a2af-156">Disponibilità elevata a livello di istanza con istanze del cluster di failover AlwaysOn</span><span class="sxs-lookup"><span data-stu-id="3a2af-156">Instance-level High Availability with AlwaysOn Failover Cluster Instances</span></span>
 <span data-ttu-id="3a2af-157">Un' *istanza del cluster di failover* AlwaysOn è un'istanza di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] installata nei nodi di un cluster WSFC.</span><span class="sxs-lookup"><span data-stu-id="3a2af-157">An AlwaysOn *Failover Cluster Instance* (FCI) is a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance that is installed across nodes in a WSFC cluster.</span></span> <span data-ttu-id="3a2af-158">Questo tipo di istanza dispone di dipendenze dalle risorse sull'archiviazione su disco condivisa (tramite Fibre Channel o SAN iSCSI) e su un nome di rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="3a2af-158">This type of instance has resource dependencies on shared disk storage (via Fibre Channel or iSCSI SAN) and on a virtual network name.</span></span> <span data-ttu-id="3a2af-159">Il nome di rete virtuale presenta una dipendenza dalle risorse su uno o più indirizzi IP virtuali, ciascuno in una subnet diversa.</span><span class="sxs-lookup"><span data-stu-id="3a2af-159">The virtual network name has a resource dependency on one or more virtual IP addresses, each in a different subnet.</span></span> <span data-ttu-id="3a2af-160">Il servizio SQL Server e il servizio SQL Server Agent vengono registrati come risorse ed entrambi vengono resi dipendenti dalla risorsa del nome di rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="3a2af-160">The SQL Server service and the SQL Server Agent service are registered as resources, and both are made dependent upon the virtual network name resource.</span></span>

 <span data-ttu-id="3a2af-161">In caso di failover, la proprietà delle risorse di un'istanza viene trasferita dal servizio WSFC a un nodo di failover definito.</span><span class="sxs-lookup"><span data-stu-id="3a2af-161">In the event of a failover, the WSFC service transfers ownership of instance's resources to a designated failover node.</span></span> <span data-ttu-id="3a2af-162">L'istanza di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] viene quindi riavviata sul nodo di failover e i database vengono recuperati nel modo consueto.</span><span class="sxs-lookup"><span data-stu-id="3a2af-162">The [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance is then re-started on the failover node, and databases are recovered as usual.</span></span> <span data-ttu-id="3a2af-163">In un qualsiasi momento specifico, solo un nodo singolo nel cluster può ospitare l'istanza del cluster di failover e le risorse sottostanti.</span><span class="sxs-lookup"><span data-stu-id="3a2af-163">At any given moment, only a single node in the cluster can host the FCI and underlying resources.</span></span>

> [!NOTE]
>  <span data-ttu-id="3a2af-164">Un'istanza del cluster di failover AlwaysOn richiede l'archiviazione su disco condiviso simmetrica, ad esempio una rete di archiviazione SAN o una condivisione file SMB.</span><span class="sxs-lookup"><span data-stu-id="3a2af-164">An AlwaysOn Failover Cluster Instance requires symmetrical shared disk storage such as a storage area network (SAN) or SMB file share.</span></span>  <span data-ttu-id="3a2af-165">I volumi dell'archiviazione su disco condiviso devono essere disponibili a tutti i nodi di failover potenziali nel cluster WSFC.</span><span class="sxs-lookup"><span data-stu-id="3a2af-165">The shared disk storage volumes must be available to all potential failover nodes in the WSFC cluster.</span></span>

 <span data-ttu-id="3a2af-166">Per ulteriori informazioni, vedere: [istanze del cluster di failover AlwaysOn](always-on-failover-cluster-instances-sql-server.md)</span><span class="sxs-lookup"><span data-stu-id="3a2af-166">For more information, see: [AlwaysOn Failover Cluster Instances](always-on-failover-cluster-instances-sql-server.md)</span></span>

### <a name="database-level-high-availability-with-sshadr"></a><span data-ttu-id="3a2af-167">Disponibilità elevata a livello di database con [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)]</span><span class="sxs-lookup"><span data-stu-id="3a2af-167">Database-level High Availability with [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)]</span></span>
 <span data-ttu-id="3a2af-168">Un *gruppo di disponibilità* è un set di database utente il cui failover viene eseguito contemporaneamente.</span><span class="sxs-lookup"><span data-stu-id="3a2af-168">An *availability group* is a set of user databases that fail over together.</span></span> <span data-ttu-id="3a2af-169">Un gruppo di disponibilità è costituito da una *replica di disponibilità primaria* e da una a quattro repliche secondarie gestite tramite lo spostamento dati basato su log di SQL Server per la protezione dei dati senza la necessità di archiviazione condivisa.</span><span class="sxs-lookup"><span data-stu-id="3a2af-169">An availability group consists of a primary *availability replica* and one to four secondary replicas that are maintained through SQL Server log-based data movement for data protection without the need for shared storage.</span></span> <span data-ttu-id="3a2af-170">Ogni replica è ospitata da un'istanza di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] su un nodo diverso del cluster WSFC.</span><span class="sxs-lookup"><span data-stu-id="3a2af-170">Each replica is hosted by an instance of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] on a different node of the WSFC cluster.</span></span> <span data-ttu-id="3a2af-171">Il gruppo di disponibilità e un nome di rete virtuale corrispondente sono registrati come risorse nel cluster WSFC.</span><span class="sxs-lookup"><span data-stu-id="3a2af-171">The availability group and a corresponding virtual network name are registered as resources in the WSFC cluster.</span></span>

 <span data-ttu-id="3a2af-172">Tramite un *listener del gruppo di disponibilità* sul nodo della replica primaria si risponde alle richieste client in ingresso per connettersi al nome di rete virtuale e, in base agli attributi nella stringa di connessione, si indirizza ogni richiesta all'istanza di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] appropriata.</span><span class="sxs-lookup"><span data-stu-id="3a2af-172">An *availability group listener* on the primary replica's node responds to incoming client requests to connect to the virtual network name, and based on attributes in the connection string, it redirects each request to the appropriate [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance.</span></span>

 <span data-ttu-id="3a2af-173">In caso di failover, anziché trasferire la proprietà delle risorse fisiche condivise a un altro nodo si utilizza WSFC per riconfigurare una replica secondaria su un'altra istanza di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] come replica primaria del gruppo di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="3a2af-173">In the event of a failover, instead of transferring ownership of shared physical resources to another node, WSFC is leveraged to reconfigure a secondary replica on another [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance to become the availability group's primary replica.</span></span> <span data-ttu-id="3a2af-174">La risorsa del nome di rete virtuale del gruppo di disponibilità viene quindi trasferita a tale istanza.</span><span class="sxs-lookup"><span data-stu-id="3a2af-174">The availability group's virtual network name resource is then transferred to that instance.</span></span>

 <span data-ttu-id="3a2af-175">In un qualsiasi momento specifico, solo una singola istanza di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] può ospitare la replica primaria dei database di un gruppo di disponibilità; tutte le repliche secondarie associate devono trovarsi ciascuna in un'istanza separata e ogni istanza deve risiedere su nodi fisici separati.</span><span class="sxs-lookup"><span data-stu-id="3a2af-175">At any given moment, only a single [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance may host the primary replica of an availability group's databases, all associated secondary replicas must each reside on a separate instance, and each instance must reside on separate physical nodes.</span></span>

> [!NOTE]
>  <span data-ttu-id="3a2af-176">Per [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] non è necessario distribuire un'istanza del cluster di failover né utilizzare l'archiviazione condivisa simmetrica (SAN o SMB).</span><span class="sxs-lookup"><span data-stu-id="3a2af-176">[!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] do not require deployment of a Failover Cluster Instance or use of symmetric shared storage (SAN or SMB).</span></span>
> 
>  <span data-ttu-id="3a2af-177">È possibile utilizzare un'istanza del cluster di failover con un gruppo di disponibilità per migliorare la disponibilità di una replica di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="3a2af-177">A Failover Cluster Instance (FCI) may be used together with an availability group to enhance the availability of an availability replica.</span></span> <span data-ttu-id="3a2af-178">Per evitare potenziali race condition nel cluster WSFC, tuttavia, non è consentito eseguire il failover automatico del gruppo di disponibilità a o da una replica di disponibilità ospitata in un'istanza del cluster di failover.</span><span class="sxs-lookup"><span data-stu-id="3a2af-178">However, to prevent potential race conditions in the WSFC cluster, automatic failover of the availability group is not supported to or from an availability replica that is hosted on a FCI.</span></span>

 <span data-ttu-id="3a2af-179">Per altre informazioni, vedere [Panoramica di Gruppi di disponibilità Always On &#40;SQL Server&#41;](../../../database-engine/availability-groups/windows/overview-of-always-on-availability-groups-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="3a2af-179">For more information, see: [Overview of AlwaysOn Availability Groups &#40;SQL Server&#41;](../../../database-engine/availability-groups/windows/overview-of-always-on-availability-groups-sql-server.md)</span></span>

##  <a name="wsfc-health-monitoring-and-failover"></a><a name="AlwaysOnWsfcHealth"></a><span data-ttu-id="3a2af-180">Monitoraggio dello stato e failover di WSFC</span><span class="sxs-lookup"><span data-stu-id="3a2af-180">WSFC Health Monitoring and Failover</span></span>
 <span data-ttu-id="3a2af-181">La disponibilità elevata per una soluzione AlwaysOn viene realizzata attraverso il monitoraggio dello stato proattivo di risorse cluster WSFC fisiche e logiche, insieme al failover automatico e alla riconfigurazione dell'hardware ridondante.</span><span class="sxs-lookup"><span data-stu-id="3a2af-181">High availability for an AlwaysOn solution is accomplished though proactive health monitoring of physical and logical WSFC cluster resources, together with automatic failover onto and re-configuration of redundant hardware.</span></span>  <span data-ttu-id="3a2af-182">Un amministratore di sistema può inoltre iniziare un *failover manuale* di un gruppo di disponibilità o un'istanza di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] da un nodo a un altro.</span><span class="sxs-lookup"><span data-stu-id="3a2af-182">A system administrator can also initiate a *manual failover* of an availability group or [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance from one node to another.</span></span>

### <a name="failover-policies-for-nodes-failover-cluster-instances-and-availability-groups"></a><span data-ttu-id="3a2af-183">Criteri di failover per nodi, istanze del cluster di failover e gruppi di disponibilità</span><span class="sxs-lookup"><span data-stu-id="3a2af-183">Failover Policies for Nodes, Failover Cluster Instances, and Availability Groups</span></span>
 <span data-ttu-id="3a2af-184">I *criteri di failover* vengono configurati a livello di nodo del cluster WSFC, di istanza del cluster di failover di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] e di gruppo di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="3a2af-184">A *failover policy* is configured at the WSFC cluster node, the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Failover Cluster Instance (FCI), and the availability group levels.</span></span>  <span data-ttu-id="3a2af-185">Tali criteri, basati sulla gravità, la durata e la frequenza degli stati non integri delle risorse cluster e sulla velocità di risposta del nodo, possono attivare un riavvio del servizio o un *failover automatico* delle risorse cluster da un nodo a un altro oppure attivare lo spostamento di una replica primaria del gruppo di disponibilità da un'istanza di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] a un'altra.</span><span class="sxs-lookup"><span data-stu-id="3a2af-185">These policies, based on the severity, duration, and frequency of unhealthy cluster resource status and node responsiveness, can trigger a service restart or an *automatic failover* of cluster resources from one node to another, or can trigger the move of an availability group primary replica from one [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance to another.</span></span>

 <span data-ttu-id="3a2af-186">Il failover di una replica del gruppo di disponibilità non ha effetti sull'istanza di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] sottostante.</span><span class="sxs-lookup"><span data-stu-id="3a2af-186">Failover of an availability group replica does not affect the underlying [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance.</span></span>  <span data-ttu-id="3a2af-187">Con il failover di un'istanza del cluster di failover le repliche del gruppo di disponibilità ospitate vengono spostate con l'istanza.</span><span class="sxs-lookup"><span data-stu-id="3a2af-187">Failover of a FCI moves the hosted availability group replicas with the instance.</span></span>

 <span data-ttu-id="3a2af-188">Per altre informazioni, vedere [Criteri di failover per istanze del cluster di failover](failover-policy-for-failover-cluster-instances.md).</span><span class="sxs-lookup"><span data-stu-id="3a2af-188">For more information, see: [Failover Policy for Failover Cluster Instances](failover-policy-for-failover-cluster-instances.md)</span></span>

### <a name="wsfc-resource-health-detection"></a><span data-ttu-id="3a2af-189">Rilevamento dell'integrità delle risorse WSFC</span><span class="sxs-lookup"><span data-stu-id="3a2af-189">WSFC Resource Health Detection</span></span>
 <span data-ttu-id="3a2af-190">Ogni risorsa in un nodo del cluster WSFC può segnalare il proprio stato e la propria integrità, periodicamente o su richiesta.</span><span class="sxs-lookup"><span data-stu-id="3a2af-190">Each resource in a WSFC cluster node can report its status and health, periodically or on-demand.</span></span> <span data-ttu-id="3a2af-191">Un'ampia gamma di circostanze potrebbe indicare un errore della risorsa; ad esempio, interruzione dell'alimentazione, errori di disco o memoria, errori nella comunicazione di rete o servizi che non rispondono.</span><span class="sxs-lookup"><span data-stu-id="3a2af-191">A variety of circumstances may indicate resource failure; e.g. power failure, disk or memory errors, network communication errors, or non-responsive services.</span></span>

 <span data-ttu-id="3a2af-192">È possibile rendere dipendenti l'una dall'altra risorse cluster WSFC quali reti, archiviazione o servizi.</span><span class="sxs-lookup"><span data-stu-id="3a2af-192">WSFC cluster resources such as networks, storage, or services can be made dependent upon one another.</span></span> <span data-ttu-id="3a2af-193">L'integrità cumulativa di una risorsa è determinata dal rollup successivo dell'integrità e con l'integrità di ognuna delle dipendenze della risorsa.</span><span class="sxs-lookup"><span data-stu-id="3a2af-193">The cumulative health of a resource is determined by successively rolling up its health with the health of each of its resource dependencies.</span></span>

### <a name="wsfc-inter-node-health-detection-and-quorum-voting"></a><span data-ttu-id="3a2af-194">Rilevamento dell'integrità tra nodi WSFC e voto del quorum</span><span class="sxs-lookup"><span data-stu-id="3a2af-194">WSFC Inter-node Health Detection and Quorum Voting</span></span>
 <span data-ttu-id="3a2af-195">Ogni nodo in un cluster WSFC partecipa alla comunicazione heartbeat periodica per condividere il proprio stato di integrità con gli altri nodi.</span><span class="sxs-lookup"><span data-stu-id="3a2af-195">Each node in a WSFC cluster participates in periodic heartbeat communication to share the node's health status with the other nodes.</span></span> <span data-ttu-id="3a2af-196">I nodi che non rispondono sono considerati in stato di errore.</span><span class="sxs-lookup"><span data-stu-id="3a2af-196">Unresponsive nodes are considered to be in a failed state.</span></span>

 <span data-ttu-id="3a2af-197">Un set di nodi *quorum* rappresenta una maggioranza dei nodi votanti e degli elementi di controllo nel cluster WSFC.</span><span class="sxs-lookup"><span data-stu-id="3a2af-197">A *quorum* node set is a majority of the voting nodes and witnesses in the WSFC cluster.</span></span> <span data-ttu-id="3a2af-198">L'integrità e lo stato complessivi di un cluster WSFC sono determinati da un *voto quorum*periodico.</span><span class="sxs-lookup"><span data-stu-id="3a2af-198">The overall health and status of a WSFC cluster is determined by a periodic *quorum vote*.</span></span> <span data-ttu-id="3a2af-199">La presenza di un quorum indica che il cluster è integro e in grado di fornire tolleranza di errore a livello di nodo.</span><span class="sxs-lookup"><span data-stu-id="3a2af-199">The presence of a quorum means that the cluster is healthy and able to provide node-level fault tolerance.</span></span>

 <span data-ttu-id="3a2af-200">Una *modalità quorum* è configurata a livello del cluster WSFC che determina la metodologia utilizzata per il voto del quorum, nonché quando eseguire un failover automatico o portare il cluster offline.</span><span class="sxs-lookup"><span data-stu-id="3a2af-200">A *quorum mode* is configured at the WSFC cluster level that dictates the methodology used for quorum voting and when to perform an automatic failover or take the cluster offline.</span></span>

> [!TIP]
>  <span data-ttu-id="3a2af-201">La procedura consigliata prevede di disporre sempre di un numero dispari di voti del quorum in un cluster WSFC.</span><span class="sxs-lookup"><span data-stu-id="3a2af-201">It is best practice to always have an odd number of quorum votes in a WSFC cluster.</span></span>  <span data-ttu-id="3a2af-202">Ai fini del voto del quorum, non è necessario che [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] sia installato in tutti i nodi nel cluster.</span><span class="sxs-lookup"><span data-stu-id="3a2af-202">For the purposes of quorum voting, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] does not have to be installed on all nodes in the cluster.</span></span> <span data-ttu-id="3a2af-203">Un server aggiuntivo può fungere da membro del quorum o è possibile configurare il modello del quorum WSFC per utilizzare una condivisione file remota come elemento per la risoluzione dei conflitti.</span><span class="sxs-lookup"><span data-stu-id="3a2af-203">An additional server can act as a quorum member, or the WSFC quorum model can be configured to use a remote file share as a tie-breaker.</span></span>
> 
>  <span data-ttu-id="3a2af-204">Per ulteriori informazioni, vedere la pagina relativa alle [modalità quorum WSFC e alla configurazione del voto &#40;SQL Server&#41;](wsfc-quorum-modes-and-voting-configuration-sql-server.md)</span><span class="sxs-lookup"><span data-stu-id="3a2af-204">For more information, see: [WSFC Quorum Modes and Voting Configuration &#40;SQL Server&#41;](wsfc-quorum-modes-and-voting-configuration-sql-server.md)</span></span>

### <a name="disaster-recovery-through-forced-quorum"></a><span data-ttu-id="3a2af-205">Ripristino di emergenza tramite quorum forzato</span><span class="sxs-lookup"><span data-stu-id="3a2af-205">Disaster Recovery Through Forced Quorum</span></span>
 <span data-ttu-id="3a2af-206">A seconda delle procedure operative e della configurazione del cluster WSFC, è possibile generare failover sia automatici sia manuali pur mantenendo una soluzione di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] AlwaysOn affidabile e a tolleranza d'errore.</span><span class="sxs-lookup"><span data-stu-id="3a2af-206">Depending upon operational practices and WSFC cluster configuration, you can incur both automatic and manual failovers, and still maintain a robust, fault-tolerant [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] AlwaysOn solution.</span></span> <span data-ttu-id="3a2af-207">Se tuttavia un quorum di nodi votanti idonei nel cluster WSFC non è in grado di comunicare reciprocamente o se la convalida dell'integrità del cluster WSFC ha esito negativo, è possibile che il cluster WSFC passi alla modalità offline.</span><span class="sxs-lookup"><span data-stu-id="3a2af-207">However, if a quorum of the eligible voting nodes in the WSFC cluster cannot communicate with one another, or if the WSFC cluster otherwise fails health validation, then the WSFC cluster may go offline.</span></span>

 <span data-ttu-id="3a2af-208">Se il cluster WSFC passa alla modalità offline a causa di un'emergenza non pianificata o di un errore persistente a livello di hardware o di comunicazione, è necessario un intervento amministrativo manuale per *forzare un quorum* e riportare online i nodi del cluster ancora esistenti in una configurazione non a tolleranza d'errore.</span><span class="sxs-lookup"><span data-stu-id="3a2af-208">If the WSFC cluster goes offline because of an unplanned disaster, or due to a persistent hardware or communications failure, then manual administrative intervention is required to *force a quorum* and bring the surviving cluster nodes back online in a non-fault-tolerant configuration.</span></span>

 <span data-ttu-id="3a2af-209">Successivamente, sarà inoltre necessario effettuare una serie di passaggi per riconfigurare il cluster WSFC, recuperare le repliche di database interessate e ristabilire un nuovo quorum.</span><span class="sxs-lookup"><span data-stu-id="3a2af-209">Afterwards, a series of steps must also be taken to reconfigure the WSFC cluster, recover the affected database replicas, and to re-establish a new quorum.</span></span>

 <span data-ttu-id="3a2af-210">Per altre informazioni, vedere [Ripristino di emergenza WSFC tramite quorum forzato &#40;SQL Server&#41;](wsfc-disaster-recovery-through-forced-quorum-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="3a2af-210">For more information, see: [WSFC Disaster Recovery through Forced Quorum &#40;SQL Server&#41;](wsfc-disaster-recovery-through-forced-quorum-sql-server.md)</span></span>

##  <a name="relationship-of-sql-server-alwayson-components-to-wsfc"></a><a name="AlwaysOnWsfcRelationship"></a> <span data-ttu-id="3a2af-211">Relazione dei componenti AlwaysOn di SQL Server con WSFC</span><span class="sxs-lookup"><span data-stu-id="3a2af-211">Relationship of SQL Server AlwaysOn Components to WSFC</span></span>
 <span data-ttu-id="3a2af-212">Sono presenti diversi livelli di relazione tra le funzionalità e i componenti di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] AlwaysOn e WSFC.</span><span class="sxs-lookup"><span data-stu-id="3a2af-212">Several layers of relationships exist between [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] AlwaysOn and WSFC features and components.</span></span>

 <span data-ttu-id="3a2af-213">I gruppi di disponibilità AlwaysOn sono ospitati nelle istanze di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="3a2af-213">AlwaysOn availability groups are hosted on [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instances.</span></span>
<span data-ttu-id="3a2af-214">Una richiesta client tramite cui viene specificato un nome di rete del listener del gruppo di disponibilità logico per connettersi a un database primario o secondario viene reindirizzato al nome di rete dell'istanza appropriata di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] sottostante o all'istanza del cluster di failover (FCI) di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="3a2af-214">A client request that specifies a logical availability group listener network name to connect to a primary or secondary database is redirected to the appropriate instance network name of the underlying [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance or [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Failover Cluster Instance (FCI).</span></span>

 <span data-ttu-id="3a2af-215">Le istanze di SQL Server sono ospitate attivamente in un solo nodo.</span><span class="sxs-lookup"><span data-stu-id="3a2af-215">SQL Server instances are actively hosted on a single node.</span></span>
<span data-ttu-id="3a2af-216">Se presente, un'istanza di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] autonoma risiede sempre in un solo nodo con un nome di rete dell'istanza statico.</span><span class="sxs-lookup"><span data-stu-id="3a2af-216">If present, a stand-alone [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Instance always resides on a single Node with a static instance network name.</span></span>  <span data-ttu-id="3a2af-217">Se presente, un'istanza FCI di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] è attiva su uno di due o più nodi di failover possibili con un solo nome di rete dell'istanza virtuale.</span><span class="sxs-lookup"><span data-stu-id="3a2af-217">If present, a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] FCI is active on one of two or more possible failover nodes with a single virtual Instance Network Name.</span></span>

 <span data-ttu-id="3a2af-218">I nodi sono membri di un cluster WSFC.</span><span class="sxs-lookup"><span data-stu-id="3a2af-218">Nodes are members of a WSFC cluster.</span></span>
<span data-ttu-id="3a2af-219">I metadati e lo stato della configurazione WSFC per tutti i nodi sono archiviati in ciascun nodo.</span><span class="sxs-lookup"><span data-stu-id="3a2af-219">WSFC configuration metadata and status for all nodes is stored on each node.</span></span> <span data-ttu-id="3a2af-220">In ciascun server possono essere disponibili volumi di archiviazione o archiviazione condivisa (SAN) asimmetrica per i database utente o di sistema.</span><span class="sxs-lookup"><span data-stu-id="3a2af-220">Each server may provide asymmetric storage or shared storage (SAN) volumes for user or system databases.</span></span> <span data-ttu-id="3a2af-221">Ogni server dispone almeno di un'interfaccia di rete fisica su una o più subnet IP.</span><span class="sxs-lookup"><span data-stu-id="3a2af-221">Each server has at least one physical network interface on one or more IP subnets.</span></span>

 <span data-ttu-id="3a2af-222">Tramite il servizio WSFC viene monitorato lo stato e viene gestita la configurazione per un gruppo di server.</span><span class="sxs-lookup"><span data-stu-id="3a2af-222">The WSFC service monitors health and manages configuration for a group of servers.</span></span>
<span data-ttu-id="3a2af-223">Tramite il servizio Windows Server Failover Clustering (WSCF) le modifiche vengono propagate ai metadati e allo stato della Configurazione WSFC in tutti i nodi del cluster.</span><span class="sxs-lookup"><span data-stu-id="3a2af-223">The Windows Server Failover Cluster (WSFC) service propagates changes to WSFC Configuration metadata and status to all nodes in the cluster.</span></span> <span data-ttu-id="3a2af-224">È possibile che stato e metadati parziali vengano archiviati in una condivisione di file remota del server di controllo quorum WSFC.</span><span class="sxs-lookup"><span data-stu-id="3a2af-224">Partial metadata and status may be stored on a WSFC quorum-witness remote file share.</span></span> <span data-ttu-id="3a2af-225">Due o più nodi attivi o server di controllo costituiscono un quorum per il voto relativo all'integrità del cluster WSFC.</span><span class="sxs-lookup"><span data-stu-id="3a2af-225">Two or more active nodes or witnesses constitute a quorum to vote on the health of the WSFC cluster.</span></span>

 [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] <span data-ttu-id="3a2af-226">sono sottochiavi del cluster WSFC.</span><span class="sxs-lookup"><span data-stu-id="3a2af-226">registry keys are subkeys of the WSFC cluster.</span></span>
<span data-ttu-id="3a2af-227">Se si elimina e si ricrea un cluster WSFC, è necessario disabilitare e riabilitare la funzionalità [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] in ogni istanza del server abilitata per [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] nel cluster WSFC originale.</span><span class="sxs-lookup"><span data-stu-id="3a2af-227">If you delete and re-create a WSFC cluster, you must disable and re-enable the [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] feature on each server instance that was enabled for [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] on the original WSFC cluster.</span></span> <span data-ttu-id="3a2af-228">Per altre informazioni, vedere [Abilitare e disabilitare la funzionalità Gruppi di disponibilità Always On &#40;SQL Server&#41;](../../../database-engine/availability-groups/windows/enable-and-disable-always-on-availability-groups-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="3a2af-228">For more information, see [Enable and Disable AlwaysOn Availability Groups &#40;SQL Server&#41;](../../../database-engine/availability-groups/windows/enable-and-disable-always-on-availability-groups-sql-server.md).</span></span>

 <span data-ttu-id="3a2af-229">![Diagramma del contesto del componente SQL Server AlwaysOn](../../../database-engine/media/alwaysoncomponentcontextdiagram.gif "Diagramma del contesto del componente SQL Server AlwaysOn")</span><span class="sxs-lookup"><span data-stu-id="3a2af-229">![SQL Server AlwaysOn Component Context Diagram](../../../database-engine/media/alwaysoncomponentcontextdiagram.gif "SQL Server AlwaysOn Component Context Diagram")</span></span>

##  <a name="related-tasks"></a><a name="RelatedTasks"></a> <span data-ttu-id="3a2af-230">Attività correlate</span><span class="sxs-lookup"><span data-stu-id="3a2af-230">Related Tasks</span></span>

-   [<span data-ttu-id="3a2af-231">Visualizzare le impostazioni NodeWeight per il quorum del cluster</span><span class="sxs-lookup"><span data-stu-id="3a2af-231">View Cluster Quorum NodeWeight Settings</span></span>](view-cluster-quorum-nodeweight-settings.md)

-   [<span data-ttu-id="3a2af-232">Configurare le impostazioni NodeWeight per il quorum del cluster</span><span class="sxs-lookup"><span data-stu-id="3a2af-232">Configure Cluster Quorum NodeWeight Settings</span></span>](configure-cluster-quorum-nodeweight-settings.md)

-   [<span data-ttu-id="3a2af-233">Forzare l'avvio di un cluster WSFC senza un quorum</span><span class="sxs-lookup"><span data-stu-id="3a2af-233">Force a WSFC Cluster to Start Without a Quorum</span></span>](force-a-wsfc-cluster-to-start-without-a-quorum.md)

##  <a name="related-content"></a><a name="RelatedContent"></a> <span data-ttu-id="3a2af-234">Contenuto correlato</span><span class="sxs-lookup"><span data-stu-id="3a2af-234">Related Content</span></span>

-   <span data-ttu-id="3a2af-235">[Tecnologie di Windows Server: cluster di failover](https://technet.microsoft.com/library/cc732488\(v=WS.10\).aspx)</span><span class="sxs-lookup"><span data-stu-id="3a2af-235">[Windows Server Technologies:  Failover Clusters](https://technet.microsoft.com/library/cc732488\(v=WS.10\).aspx)</span></span>

-   <span data-ttu-id="3a2af-236">[Cluster di failover in Windows Server 2008 R2](https://technet.microsoft.com/library/ff182338\(WS.10\).aspx)</span><span class="sxs-lookup"><span data-stu-id="3a2af-236">[Failover Clusters in Windows Server 2008 R2](https://technet.microsoft.com/library/ff182338\(WS.10\).aspx)</span></span>

-   <span data-ttu-id="3a2af-237">[Visualizzare eventi e log per un cluster di failover](https://technet.microsoft.com/library/cc772342\(WS.10\).aspx)</span><span class="sxs-lookup"><span data-stu-id="3a2af-237">[View Events and Logs for a Failover Cluster](https://technet.microsoft.com/library/cc772342\(WS.10\).aspx)</span></span>

-   [<span data-ttu-id="3a2af-238">Pagina relativa al cluster di failover Get-ClusterLog</span><span class="sxs-lookup"><span data-stu-id="3a2af-238">Get-ClusterLog Failover Cluster Cmdlet</span></span>](https://technet.microsoft.com/library/ee461045.aspx)

## <a name="see-also"></a><span data-ttu-id="3a2af-239">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="3a2af-239">See Also</span></span>
 <span data-ttu-id="3a2af-240">Panoramica delle [istanze del cluster di failover AlwaysOn (SQL Server)](always-on-failover-cluster-instances-sql-server.md) [di Gruppi di disponibilità AlwaysOn &#40;SQL Server&#41;](../../../database-engine/availability-groups/windows/overview-of-always-on-availability-groups-sql-server.md) [modalità quorum wsfc e configurazione del voto &#40;](wsfc-quorum-modes-and-voting-configuration-sql-server.md) SQL Server [criteri di failover per istanze del cluster di failover](failover-policy-for-failover-cluster-instances.md) [ripristino di emergenza WSFC tramite quorum forzato](wsfc-disaster-recovery-through-forced-quorum-sql-server.md)&#41;&#40;SQL Server</span><span class="sxs-lookup"><span data-stu-id="3a2af-240">[AlwaysOn Failover Cluster Instances (SQL Server)](always-on-failover-cluster-instances-sql-server.md) [Overview of AlwaysOn Availability Groups &#40;SQL Server&#41;](../../../database-engine/availability-groups/windows/overview-of-always-on-availability-groups-sql-server.md) [WSFC Quorum Modes and Voting Configuration &#40;SQL Server&#41;](wsfc-quorum-modes-and-voting-configuration-sql-server.md) [Failover Policy for Failover Cluster Instances](failover-policy-for-failover-cluster-instances.md) [WSFC Disaster Recovery through Forced Quorum &#40;SQL Server&#41;](wsfc-disaster-recovery-through-forced-quorum-sql-server.md)</span></span>


