---
title: Aggiornare il motore di database | Microsoft Docs
ms.custom: ''
ms.date: 10/26/2015
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: install
ms.topic: conceptual
helpviewer_keywords:
- compatibility [SQL Server], databases
- compatibility levels [SQL Server], after upgrade
- Database Engine [SQL Server], upgrading
ms.assetid: 3c036813-36cf-4415-a0c9-248d0a433859
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: ed13712678ab599e55b539d6226142b686106fe5
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87626867"
---
# <a name="upgrade-database-engine"></a><span data-ttu-id="fdda8-102">Aggiornare il motore di database</span><span class="sxs-lookup"><span data-stu-id="fdda8-102">Upgrade Database Engine</span></span>
  <span data-ttu-id="fdda8-103">In questo argomento vengono fornite le informazioni necessarie per la preparazione e la comprensione del processo di aggiornamento, ovvero:</span><span class="sxs-lookup"><span data-stu-id="fdda8-103">This topic provides the information that you will need to prepare for and understand the upgrade process; it covers:</span></span>  
  
-   <span data-ttu-id="fdda8-104">Problemi di aggiornamento noti.</span><span class="sxs-lookup"><span data-stu-id="fdda8-104">Known upgrade issues.</span></span>  
  
-   <span data-ttu-id="fdda8-105">Considerazioni e attività preliminari all'aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="fdda8-105">Pre-upgrade tasks and considerations.</span></span>  
  
-   <span data-ttu-id="fdda8-106">Collegamenti ad argomenti contenenti le procedure per l'aggiornamento del [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span><span class="sxs-lookup"><span data-stu-id="fdda8-106">Links to procedural topics for upgrading the [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span></span>  
  
-   <span data-ttu-id="fdda8-107">Collegamenti ad argomenti contenenti le procedure per la migrazione dei database a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="fdda8-107">Links to procedural topics for migrating databases to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
-   <span data-ttu-id="fdda8-108">Considerazioni sui cluster di failover.</span><span class="sxs-lookup"><span data-stu-id="fdda8-108">Considerations for failover clusters.</span></span>  
  
-   <span data-ttu-id="fdda8-109">Considerazioni e attività successive all'aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="fdda8-109">Post-upgrade tasks and considerations.</span></span>  
  
## <a name="known-upgrade-issues"></a><span data-ttu-id="fdda8-110">Problemi di aggiornamento noti</span><span class="sxs-lookup"><span data-stu-id="fdda8-110">Known Upgrade issues</span></span>  
 <span data-ttu-id="fdda8-111">Prima di aggiornare il [!INCLUDE[ssDE](../../includes/ssde-md.md)], vedere [SQL Server Database Engine Backward Compatibility](../sql-server-database-engine-backward-compatibility.md).</span><span class="sxs-lookup"><span data-stu-id="fdda8-111">Before upgrading the [!INCLUDE[ssDE](../../includes/ssde-md.md)], review [SQL Server Database Engine Backward Compatibility](../sql-server-database-engine-backward-compatibility.md).</span></span> <span data-ttu-id="fdda8-112">Per informazioni sugli scenari di aggiornamento supportati e sui problemi noti, vedere [Aggiornamenti di versione ed edizione supportati](supported-version-and-edition-upgrades.md).</span><span class="sxs-lookup"><span data-stu-id="fdda8-112">For information about supported upgrade scenarios and upgrade known issues, see [Supported Version and Edition Upgrades](supported-version-and-edition-upgrades.md).</span></span> <span data-ttu-id="fdda8-113">Per informazioni sulla compatibilità con le versioni precedenti di altri componenti di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , vedere [Backward Compatibility](../../getting-started/backward-compatibility.md).</span><span class="sxs-lookup"><span data-stu-id="fdda8-113">For backward compatibility content for other [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] components, see [Backward Compatibility](../../getting-started/backward-compatibility.md).</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="fdda8-114">Prima di eseguire l'aggiornamento da un'edizione di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] a un'altra, verificare che le funzionalità attualmente in uso siano supportate nell'edizione a cui si desidera eseguire l'aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="fdda8-114">Before you upgrade from one edition of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to another, verify that the functionality that you are currently using is supported in the edition to which you are upgrading.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="fdda8-115">Quando si esegue l'aggiornamento a [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] da una versione precedente di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Enterprise Edition, scegliere tra Enterprise Edition: licenze basate su core ed Enterprise Edition.</span><span class="sxs-lookup"><span data-stu-id="fdda8-115">When you upgrade to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] from a prior version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Enterprise edition, choose between Enterprise Edition: Core-based Licensing and Enterprise Edition.</span></span> <span data-ttu-id="fdda8-116">Queste due edizioni differiscono solo per le modalità di gestione delle licenze.</span><span class="sxs-lookup"><span data-stu-id="fdda8-116">These Enterprise editions differ only with respect to the licensing modes.</span></span> <span data-ttu-id="fdda8-117">Per altre informazioni, vedere [Compute Capacity Limits by Edition of SQL Server](../../sql-server/compute-capacity-limits-by-edition-of-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="fdda8-117">For more information, see [Compute Capacity Limits by Edition of SQL Server](../../sql-server/compute-capacity-limits-by-edition-of-sql-server.md).</span></span>  
  
## <a name="pre-upgrade-checklist"></a><span data-ttu-id="fdda8-118">Elenco di controllo preliminare all'aggiornamento</span><span class="sxs-lookup"><span data-stu-id="fdda8-118">Pre-Upgrade Checklist</span></span>  
 <span data-ttu-id="fdda8-119">L'aggiornamento di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] da una versione precedente è supportato solo dal programma di installazione di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="fdda8-119">Upgrading [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] from an earlier version is supported by the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Setup program.</span></span> <span data-ttu-id="fdda8-120">È inoltre possibile eseguire la migrazione dei database da versioni precedenti di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="fdda8-120">You can also migrate databases from previous [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] versions.</span></span> <span data-ttu-id="fdda8-121">La migrazione può essere eseguita da un'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] a un'altra nello stesso computer o da un'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] in un computer diverso.</span><span class="sxs-lookup"><span data-stu-id="fdda8-121">Migration can be from one [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance to another on the same computer, or from a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance on another computer.</span></span> <span data-ttu-id="fdda8-122">Le opzioni di migrazione includono l'utilizzo della Copia guidata database, delle funzionalità di backup e ripristino, dell'Importazione/Esportazione guidata [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)][!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)], nonché dei metodi per importare ed esportare globalmente.</span><span class="sxs-lookup"><span data-stu-id="fdda8-122">Migration options include use of the Copy Database Wizard, Backup and restore functionality, use of the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)][!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] Import and Export Wizard, and bulk export/bulk import methods.</span></span>  
  
 <span data-ttu-id="fdda8-123">Prima di aggiornare il [!INCLUDE[ssDE](../../includes/ssde-md.md)], vedere gli argomenti seguenti:</span><span class="sxs-lookup"><span data-stu-id="fdda8-123">Before upgrading the [!INCLUDE[ssDE](../../includes/ssde-md.md)], review the following:</span></span>  
  
-   <span data-ttu-id="fdda8-124">Esaminare le informazioni contenute in [Hardware and Software Requirements for Installing SQL Server 2014](../../sql-server/install/hardware-and-software-requirements-for-installing-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="fdda8-124">Review [Hardware and Software Requirements for Installing SQL Server 2014](../../sql-server/install/hardware-and-software-requirements-for-installing-sql-server.md).</span></span>  
  
-   <span data-ttu-id="fdda8-125">Esaminare le informazioni contenute in [Check Parameters for the System Configuration Checker](check-parameters-for-the-system-configuration-checker.md).</span><span class="sxs-lookup"><span data-stu-id="fdda8-125">Review [Check Parameters for the System Configuration Checker](check-parameters-for-the-system-configuration-checker.md).</span></span>  
  
-   <span data-ttu-id="fdda8-126">Esaminare le informazioni contenute in [Security Considerations for a SQL Server Installation](../../sql-server/install/security-considerations-for-a-sql-server-installation.md).</span><span class="sxs-lookup"><span data-stu-id="fdda8-126">Review [Security Considerations for a SQL Server Installation](../../sql-server/install/security-considerations-for-a-sql-server-installation.md).</span></span>  
  
-   <span data-ttu-id="fdda8-127">Esaminare [Aggiornamenti di versione ed edizione supportati](supported-version-and-edition-upgrades.md).</span><span class="sxs-lookup"><span data-stu-id="fdda8-127">Review [Supported Version and Edition Upgrades](supported-version-and-edition-upgrades.md).</span></span>  
  
-   <span data-ttu-id="fdda8-128">Esaminare [Utilizzare Preparazione aggiornamento per preparare gli aggiornamenti](../../sql-server/install/use-upgrade-advisor-to-prepare-for-upgrades.md).</span><span class="sxs-lookup"><span data-stu-id="fdda8-128">Review [Use Upgrade Advisor to Prepare for Upgrades](../../sql-server/install/use-upgrade-advisor-to-prepare-for-upgrades.md).</span></span>  
  
-   <span data-ttu-id="fdda8-129">Esaminare [Utilizzare l'utilità Riesecuzione distribuita per preparare gli aggiornamenti](../../sql-server/install/use-the-distributed-replay-utility-to-prepare-for-upgrades.md).</span><span class="sxs-lookup"><span data-stu-id="fdda8-129">Review [Use the Distributed Replay Utility to Prepare for Upgrades](../../sql-server/install/use-the-distributed-replay-utility-to-prepare-for-upgrades.md).</span></span>  
  
-   <span data-ttu-id="fdda8-130">Esaminare le informazioni contenute in [SQL Server Database Engine Backward Compatibility](../sql-server-database-engine-backward-compatibility.md).</span><span class="sxs-lookup"><span data-stu-id="fdda8-130">Review [SQL Server Database Engine Backward Compatibility](../sql-server-database-engine-backward-compatibility.md).</span></span>  
  
-   <span data-ttu-id="fdda8-131">Esaminare [Migrare piani di query](change-the-database-compatibility-mode-and-use-the-query-store.md).</span><span class="sxs-lookup"><span data-stu-id="fdda8-131">Review [Migrate Query Plans](change-the-database-compatibility-mode-and-use-the-query-store.md).</span></span>  
  
 <span data-ttu-id="fdda8-132">Esaminare i problemi seguenti e apportare modifiche prima di aggiornare [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]:</span><span class="sxs-lookup"><span data-stu-id="fdda8-132">Review the following issues and make changes before you upgrade [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]:</span></span>  
  
-   <span data-ttu-id="fdda8-133">In caso di aggiornamento di istanze di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] in cui [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent viene integrato nelle relazioni MSX/TSX, aggiornare i server di destinazione prima di quelli master.</span><span class="sxs-lookup"><span data-stu-id="fdda8-133">When upgrading instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] where [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent is enlisted in MSX/TSX relationships, upgrade target servers before you upgrade master servers.</span></span> <span data-ttu-id="fdda8-134">In caso contrario, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent non sarà in grado di connettersi alle istanze master di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="fdda8-134">If you upgrade master servers before target servers, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent will not be able to connect to master instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
-   <span data-ttu-id="fdda8-135">In caso di aggiornamento da un'edizione a 64 bit di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] a un'edizione a 64 bit di [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], è necessario aggiornare [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] prima del [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span><span class="sxs-lookup"><span data-stu-id="fdda8-135">When upgrading from a 64-bit edition of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to a 64-bit edition of [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], you must upgrade [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] before you upgrade the [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span></span>  
  
-   <span data-ttu-id="fdda8-136">Eseguire il backup di tutti i file di database di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] dall'istanza da aggiornare, in modo che sia possibile ripristinarli se necessario.</span><span class="sxs-lookup"><span data-stu-id="fdda8-136">Back up all [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database files from the instance to be upgraded, so that you can restore them, if it is required.</span></span>  
  
-   <span data-ttu-id="fdda8-137">Eseguire i comandi DBCC (Database Console Commands) appropriati sui database da aggiornare per assicurarne la consistenza.</span><span class="sxs-lookup"><span data-stu-id="fdda8-137">Run the appropriate Database Console Commands (DBCC) on databases to be upgraded to ensure that they are in a consistent state.</span></span>  
  
-   <span data-ttu-id="fdda8-138">Valutare lo spazio su disco necessario per l'aggiornamento dei componenti di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , oltre ai database utente.</span><span class="sxs-lookup"><span data-stu-id="fdda8-138">Estimate the disk space that is required to upgrade [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] components, in addition to user databases.</span></span> <span data-ttu-id="fdda8-139">Per informazioni sullo spazio su disco necessario per i componenti di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , vedere [Hardware and Software Requirements for Installing SQL Server 2014](../../sql-server/install/hardware-and-software-requirements-for-installing-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="fdda8-139">For disk space that is required by [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] components, see [Hardware and Software Requirements for Installing SQL Server 2014](../../sql-server/install/hardware-and-software-requirements-for-installing-sql-server.md).</span></span>  
  
-   <span data-ttu-id="fdda8-140">Verificare che i database di sistema di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] esistenti, ovvero master, model, msdb e tempdb, siano configurati per l'aumento automatico delle dimensioni e dispongano di una quantità di spazio su disco sufficiente.</span><span class="sxs-lookup"><span data-stu-id="fdda8-140">Ensure that existing [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] system databases - master, model, msdb, and tempdb - are configured to autogrow, and ensure that they have sufficient hard disk space.</span></span>  
  
-   <span data-ttu-id="fdda8-141">Verificare che nel database master siano disponibili le informazioni di accesso per tutti i server di database.</span><span class="sxs-lookup"><span data-stu-id="fdda8-141">Ensure that all database servers have logon information in the master database.</span></span> <span data-ttu-id="fdda8-142">Si tratta di un elemento importante per il ripristino di un database, in quanto le informazioni di accesso al sistema risiedono nel database master.</span><span class="sxs-lookup"><span data-stu-id="fdda8-142">This is important for restoring a database, as system logon information resides in master.</span></span>  
  
-   <span data-ttu-id="fdda8-143">Disabilitare tutte le stored procedure di avvio, in quanto i servizi verranno avviati e arrestati nell'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] in fase di aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="fdda8-143">Disable all startup stored procedures, as the upgrade process will stop and start services on the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance being upgraded.</span></span> <span data-ttu-id="fdda8-144">Le stored procedure elaborate all'avvio potrebbero bloccare il processo di aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="fdda8-144">Stored procedures processed at startup time might block the upgrade process.</span></span>  
  
-   <span data-ttu-id="fdda8-145">Verificare che la replica sia corrente, quindi arrestare la replica.</span><span class="sxs-lookup"><span data-stu-id="fdda8-145">Make sure that Replication is current and then stop Replication.</span></span>  
  
-   <span data-ttu-id="fdda8-146">Uscire da tutte le applicazioni, inclusi tutti i servizi che intrattengono dipendenze con [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="fdda8-146">Quit all applications, including all services that have [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] dependencies.</span></span> <span data-ttu-id="fdda8-147">L'aggiornamento potrebbe avere esito negativo se le applicazioni locali sono connesse all'istanza in fase di aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="fdda8-147">Upgrade might fail if local applications are connected to the instance being upgraded.</span></span>  
  
-   <span data-ttu-id="fdda8-148">Se si usa il mirroring del database, vedere [Riduzione al minimo del tempo di inattività per i database con mirroring quando si aggiornano le istanze del server](../database-mirroring/upgrading-mirrored-instances.md).</span><span class="sxs-lookup"><span data-stu-id="fdda8-148">If you use Database Mirroring, see [Minimize Downtime for Mirrored Databases When Upgrading Server Instances](../database-mirroring/upgrading-mirrored-instances.md).</span></span>  
  
## <a name="upgrading-the-database-engine"></a><span data-ttu-id="fdda8-149">Aggiornamento del motore di database</span><span class="sxs-lookup"><span data-stu-id="fdda8-149">Upgrading the Database Engine</span></span>  
 <span data-ttu-id="fdda8-150">È possibile sovrascrivere un'installazione di [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] o versioni successive con un aggiornamento della versione.</span><span class="sxs-lookup"><span data-stu-id="fdda8-150">You can overwrite an installation of [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] or later with a version upgrade.</span></span> <span data-ttu-id="fdda8-151">Se durante l'esecuzione del programma di installazione di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] viene rilevata una versione precedente di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , vengono aggiornati tutti i file di programma di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] precedenti e tutti i dati archiviati nell'istanza precedente di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] vengono mantenuti.</span><span class="sxs-lookup"><span data-stu-id="fdda8-151">If an earlier version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is detected when you run [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Setup, all previous [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] program files are upgraded, and all data stored in the previous [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance is preserved.</span></span> <span data-ttu-id="fdda8-152">Le versioni precedenti della documentazione online di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , inoltre, resteranno invariate nel computer.</span><span class="sxs-lookup"><span data-stu-id="fdda8-152">In addition, earlier versions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Books Online will remain intact on the computer.</span></span>  
  
> [!WARNING]  
>  <span data-ttu-id="fdda8-153">Quando si esegue il programma di installazione di SQL Server 2014, l'istanza di SQL Server viene arrestata e riavviata quando si eseguono i controlli di pre-aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="fdda8-153">When running the SQL Server 2014 setup program, the SQL Server instance is stopped and restarted as part of running the pre-upgrade checks.</span></span>  
  
> [!CAUTION]  
>  <span data-ttu-id="fdda8-154">Quando si aggiorna [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], l'istanza precedente di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] viene sovrascritta e non sarà più disponibile nel computer.</span><span class="sxs-lookup"><span data-stu-id="fdda8-154">When you upgrade [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], the previous [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance will be overwritten and will no longer exist on your computer.</span></span> <span data-ttu-id="fdda8-155">Prima dell'aggiornamento, eseguire il backup dei database di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] e degli altri oggetti associati all'istanza precedente di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="fdda8-155">Before upgrading, back up [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] databases and other objects associated with the previous [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance.</span></span>  
  
 <span data-ttu-id="fdda8-156">È possibile aggiornare il [!INCLUDE[ssDE](../../includes/ssde-md.md)] usando l'Installazione guidata di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="fdda8-156">You can upgrade the [!INCLUDE[ssDE](../../includes/ssde-md.md)] by using the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Installation Wizard.</span></span>  
  
### <a name="database-compatibility-level-after-upgrade"></a><span data-ttu-id="fdda8-157">Livello di compatibilità del database dopo l'aggiornamento</span><span class="sxs-lookup"><span data-stu-id="fdda8-157">Database Compatibility Level After Upgrade</span></span>  
 <span data-ttu-id="fdda8-158">I livelli di compatibilità dei `tempdb` `model` database delle `msdb` **risorse** , e sono impostati su 120 dopo l'aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="fdda8-158">The compatibility levels of the `tempdb`, `model`, `msdb` and **Resource** databases are set to 120 after upgrade.</span></span> <span data-ttu-id="fdda8-159">Per il database di sistema `master` viene mantenuto il livello di compatibilità precedente l'aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="fdda8-159">The `master` system database retains the compatibility level it had before upgrade.</span></span>  
  
 <span data-ttu-id="fdda8-160">Se il livello di compatibilità di un database utente era 100 o superiore prima dell'aggiornamento, rimane invariato dopo l'aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="fdda8-160">If the compatibility level of a user database was 100 or higher before the upgrade, it remains the same after upgrade.</span></span> <span data-ttu-id="fdda8-161">Se il livello di compatibilità è 90 prima dell'aggiornamento, nel database aggiornato viene impostato su 100, ovvero sul livello di compatibilità supportato più basso in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span><span class="sxs-lookup"><span data-stu-id="fdda8-161">If the compatibility level was 90 before upgrade, in the upgraded database, the compatibility level is set to 100, which is the lowest supported compatibility level in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="fdda8-162">I nuovi database utente erediteranno il livello di compatibilità del database `model`.</span><span class="sxs-lookup"><span data-stu-id="fdda8-162">New user databases will inherit the compatibility level of the `model` database.</span></span>  
  
## <a name="migrating-databases"></a><span data-ttu-id="fdda8-163">Migrazione dei database</span><span class="sxs-lookup"><span data-stu-id="fdda8-163">Migrating Databases</span></span>  
 <span data-ttu-id="fdda8-164">È possibile spostare database utente in un'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] tramite operazioni di backup e ripristino o scollegare e collegare funzionalità in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="fdda8-164">You can move user databases to an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] using backup and restore or detach and attach functionalities in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="fdda8-165">Per altre informazioni, vedere [Copiare database tramite backup e ripristino](../../relational-databases/databases/copy-databases-with-backup-and-restore.md) o [Collegamento e scollegamento di un database &#40;SQL Server&#41;](../../relational-databases/databases/database-detach-and-attach-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="fdda8-165">For more information, see [Copy Databases with Backup and Restore](../../relational-databases/databases/copy-databases-with-backup-and-restore.md) or [Database Detach and Attach &#40;SQL Server&#41;](../../relational-databases/databases/database-detach-and-attach-sql-server.md).</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="fdda8-166">Non è possibile spostare o copiare un database con lo stesso nome nei server di origine e di destinazione.</span><span class="sxs-lookup"><span data-stu-id="fdda8-166">A database that has the identical name on both source and destination servers cannot be moved or copied.</span></span> <span data-ttu-id="fdda8-167">In questo caso, verrà indicato che il database esiste già.</span><span class="sxs-lookup"><span data-stu-id="fdda8-167">In this case, it will be noted as "Already exists."</span></span>  
  
 <span data-ttu-id="fdda8-168">Per altre informazioni, vedere [Use the Copy Database Wizard](../../relational-databases/databases/use-the-copy-database-wizard.md).</span><span class="sxs-lookup"><span data-stu-id="fdda8-168">For more information, see [Use the Copy Database Wizard](../../relational-databases/databases/use-the-copy-database-wizard.md).</span></span>  
  
## <a name="after-upgrading-the-database-engine"></a><span data-ttu-id="fdda8-169">Operazioni successive all'aggiornamento del Motore di database</span><span class="sxs-lookup"><span data-stu-id="fdda8-169">After Upgrading the Database Engine</span></span>  
 <span data-ttu-id="fdda8-170">Al termine dell'aggiornamento del [!INCLUDE[ssDE](../../includes/ssde-md.md)], completare le operazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="fdda8-170">After upgrading the [!INCLUDE[ssDE](../../includes/ssde-md.md)], complete the following tasks:</span></span>  
  
-   <span data-ttu-id="fdda8-171">Registrare nuovamente i server.</span><span class="sxs-lookup"><span data-stu-id="fdda8-171">Re-register your servers.</span></span> <span data-ttu-id="fdda8-172">Per altre informazioni sulla registrazione dei server, vedere [Registrazione di server](../../ssms/register-servers/register-servers.md).</span><span class="sxs-lookup"><span data-stu-id="fdda8-172">For more information about registering servers, see [Register Servers](../../ssms/register-servers/register-servers.md).</span></span>  
  
-   <span data-ttu-id="fdda8-173">Ripopolare cataloghi full-text per garantire la coerenza semantica nei risultati delle query.</span><span class="sxs-lookup"><span data-stu-id="fdda8-173">Re-populate full-text catalogs to ensure semantic consistency in query results.</span></span>  
  
     [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] <span data-ttu-id="fdda8-174">offre nuovi word breaker da usare per la ricerca full-text e semantica.</span><span class="sxs-lookup"><span data-stu-id="fdda8-174">installs new word breakers for use by Full-Text and Semantic Search.</span></span> <span data-ttu-id="fdda8-175">I word breaker vengono utilizzati sia in fase di indicizzazione che di esecuzione delle query.</span><span class="sxs-lookup"><span data-stu-id="fdda8-175">The word breakers are used both at indexing time and at query time.</span></span> <span data-ttu-id="fdda8-176">Se non si ricompilano i cataloghi full-text, i risultati di ricerca potrebbero risultare incoerenti.</span><span class="sxs-lookup"><span data-stu-id="fdda8-176">If you do not rebuild the full-text catalogs, your search results may be inconsistent.</span></span> <span data-ttu-id="fdda8-177">Se si esegue una query full-text che esegue la ricerca di una frase divisa in modo diverso dal word breaker in una versione precedente di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] rispetto a quello corrente, è possibile che si verifichi il mancato recupero di una riga o documento contenente la frase.</span><span class="sxs-lookup"><span data-stu-id="fdda8-177">If you issue a full-text query that looks for a phrase that is broken differently by the word breaker in a previous version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] and the current word breaker, a document or row containing the phrase might not be retrieved.</span></span> <span data-ttu-id="fdda8-178">Questo problema si verifica perché le frasi indicizzate sono state divise in base a una logica diversa da quella utilizzata dalla query.</span><span class="sxs-lookup"><span data-stu-id="fdda8-178">This is because the indexed phrases were broken using different logic than the query is using.</span></span> <span data-ttu-id="fdda8-179">Per risolvere il problema, ripopolare (ricompilare) i cataloghi full-text con i nuovi word breaker in modo che il comportamento in fase di indicizzazione e di esecuzione delle query sia lo stesso.</span><span class="sxs-lookup"><span data-stu-id="fdda8-179">The solution is to repopulate (rebuild) the full-text catalogs with the new word breakers so that index time and query time behavior are identical.</span></span>  
  
     <span data-ttu-id="fdda8-180">Per altre informazioni, vedere [sp_fulltext_catalog &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-fulltext-catalog-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="fdda8-180">For more information, see [sp_fulltext_catalog &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-fulltext-catalog-transact-sql).</span></span>  
  
-   <span data-ttu-id="fdda8-181">Configurare l'installazione di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="fdda8-181">Configure the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] installation.</span></span> <span data-ttu-id="fdda8-182">Per ridurre la superficie di attacco di un sistema, in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] vengono installati e abilitati in modo selettivo i servizi e le funzionalità principali.</span><span class="sxs-lookup"><span data-stu-id="fdda8-182">To reduce the attackable surface area of a system, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] selectively installs and enables key services and features.</span></span>  
  
-   <span data-ttu-id="fdda8-183">Convalidare o rimuovere gli hint USE PLAN generati da [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] e applicati alle query su tabelle e indici partizionati.</span><span class="sxs-lookup"><span data-stu-id="fdda8-183">Validate or remove USE PLAN hints that are generated by [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] and applied to queries on partitioned tables and indexes.</span></span>  
  
     [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="fdda8-184">modifica la modalità di elaborazione delle query su tabelle e indici partizionati.</span><span class="sxs-lookup"><span data-stu-id="fdda8-184">changes the way queries on partitioned tables and indexes are processed.</span></span> <span data-ttu-id="fdda8-185">È possibile che le query su oggetti partizionati che usano l'hint USE PLAN per un piano generato da [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] contengano un piano non valido in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span><span class="sxs-lookup"><span data-stu-id="fdda8-185">Queries on partitioned objects that use the USE PLAN hint for a plan that is generated by [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] might contain a plan that is not usable in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span></span> <span data-ttu-id="fdda8-186">Dopo avere eseguito l'aggiornamento a [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], è consigliabile eseguire le procedure indicate di seguito.</span><span class="sxs-lookup"><span data-stu-id="fdda8-186">We recommend the following procedures after you upgrade to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span></span>  
  
     <span data-ttu-id="fdda8-187">**Quando l'hint USE PLAN è specificato direttamente in una query:**</span><span class="sxs-lookup"><span data-stu-id="fdda8-187">**When the USE PLAN hint is specified directly in a query:**</span></span>  
  
    1.  <span data-ttu-id="fdda8-188">Rimuovere l'hint USE PLAN dalla query.</span><span class="sxs-lookup"><span data-stu-id="fdda8-188">Remove the USE PLAN hint from the query.</span></span>  
  
    2.  <span data-ttu-id="fdda8-189">Testare la query.</span><span class="sxs-lookup"><span data-stu-id="fdda8-189">Test the query.</span></span>  
  
    3.  <span data-ttu-id="fdda8-190">Se Query Optimizer non seleziona un piano appropriato, ottimizzare la query, quindi valutare l'opportunità di specificare l'hint USE PLAN con il piano di query desiderato.</span><span class="sxs-lookup"><span data-stu-id="fdda8-190">If the optimizer does not select an appropriate plan, tune the query, and then consider specifying the USE PLAN hint with the desired query plan.</span></span>  
  
     <span data-ttu-id="fdda8-191">**Quando l'hint USE PLAN è specificato in una guida di piano:**</span><span class="sxs-lookup"><span data-stu-id="fdda8-191">**When the USE PLAN hint is specified in a plan guide:**</span></span>  
  
    1.  <span data-ttu-id="fdda8-192">Usare la funzione sys.fn_validate_plan_guide per verificare la validità della guida di piano.</span><span class="sxs-lookup"><span data-stu-id="fdda8-192">Use the sys.fn_validate_plan_guide function to check the validity of the plan guide.</span></span> <span data-ttu-id="fdda8-193">In alternativa, è possibile verificare la validità dei piani usando l'evento Plan Guide Unsuccessful in [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)].</span><span class="sxs-lookup"><span data-stu-id="fdda8-193">Alternatively, you can check for invalid plans by using the Plan Guide Unsuccessful event in [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)].</span></span>  
  
    2.  <span data-ttu-id="fdda8-194">Se la guida di piano non è valida, eliminarla.</span><span class="sxs-lookup"><span data-stu-id="fdda8-194">If the plan guide is not valid, drop the plan guide.</span></span> <span data-ttu-id="fdda8-195">Se Query Optimizer non seleziona un piano appropriato, ottimizzare la query, quindi valutare l'opportunità di specificare l'hint USE PLAN con il piano di query desiderato.</span><span class="sxs-lookup"><span data-stu-id="fdda8-195">If the optimizer does not select an appropriate plan, tune the query, and then consider specifying the USE PLAN hint with the query plan that you want.</span></span>  
  
     <span data-ttu-id="fdda8-196">Un piano non valido non comporterà l'esito negativo della query quando si specifica l'hint USE PLAN in una guida di piano.</span><span class="sxs-lookup"><span data-stu-id="fdda8-196">A plan that is not valid will not cause the query to fail when the USE PLAN hint is specified in a plan guide.</span></span> <span data-ttu-id="fdda8-197">Al contrario, la query verrà compilata senza usare l'hint USE PLAN.</span><span class="sxs-lookup"><span data-stu-id="fdda8-197">Instead, the query is compiled without using the USE PLAN hint.</span></span>  
  
 <span data-ttu-id="fdda8-198">I database contrassegnati come abilitati o disabilitati per la funzionalità full-text prima dell'aggiornamento manterranno lo stato anche in seguito all'aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="fdda8-198">Any databases that were marked full-text enabled or disabled before the upgrade will maintain that status after upgrade.</span></span> <span data-ttu-id="fdda8-199">Al termine dell'aggiornamento, i cataloghi full-text verranno ricompilati e popolati automaticamente per tutti i database abilitati per la funzionalità full-text.</span><span class="sxs-lookup"><span data-stu-id="fdda8-199">After the upgrade, the full-text catalogs will be rebuilt and populated automatically for all full-text enabled databases.</span></span> <span data-ttu-id="fdda8-200">Si tratta di un'operazione che richiede tempi lunghi e un numero elevato di risorse.</span><span class="sxs-lookup"><span data-stu-id="fdda8-200">This is a time-consuming and resource-consuming operation.</span></span> <span data-ttu-id="fdda8-201">Per interrompere temporaneamente l'operazione di indicizzazione full-text, eseguire l'istruzione seguente:</span><span class="sxs-lookup"><span data-stu-id="fdda8-201">You can pause the full-text indexing operation temporarily by running the following statement:</span></span>  
  
```  
EXEC sp_fulltext_service 'pause_indexing', 1;  
```  
  
 <span data-ttu-id="fdda8-202">Per riprendere il popolamento dell'indice full-text, eseguire l'istruzione seguente:</span><span class="sxs-lookup"><span data-stu-id="fdda8-202">To resume full-text index population, run the following statement:</span></span>  
  
```  
EXEC sp_fulltext_service 'pause_indexing', 0;  
```  
  
## <a name="see-also"></a><span data-ttu-id="fdda8-203">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="fdda8-203">See Also</span></span>  
 <span data-ttu-id="fdda8-204">[Aggiornamenti di versione ed edizione supportati](supported-version-and-edition-upgrades.md) </span><span class="sxs-lookup"><span data-stu-id="fdda8-204">[Supported Version and Edition Upgrades](supported-version-and-edition-upgrades.md) </span></span>  
 <span data-ttu-id="fdda8-205">[Usare più versioni e istanze di SQL Server](../../../2014/sql-server/install/work-with-multiple-versions-and-instances-of-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="fdda8-205">[Work with Multiple Versions and Instances of SQL Server](../../../2014/sql-server/install/work-with-multiple-versions-and-instances-of-sql-server.md) </span></span>  
 <span data-ttu-id="fdda8-206">[Compatibilità con le versioni precedenti](../../getting-started/backward-compatibility.md) </span><span class="sxs-lookup"><span data-stu-id="fdda8-206">[Backward Compatibility](../../getting-started/backward-compatibility.md) </span></span>  
 [<span data-ttu-id="fdda8-207">Aggiornare database replicati</span><span class="sxs-lookup"><span data-stu-id="fdda8-207">Upgrade Replicated Databases</span></span>](upgrade-replicated-databases.md)  
  
  
