---
title: Installare SQL Server con l'opzione di archiviazione su condivisione file SMB | Microsoft Docs
ms.custom: ''
ms.date: 03/09/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: install
ms.topic: conceptual
ms.assetid: 8b7810b2-637e-46a3-9fe1-d055898ba639
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 3d59c2861e2419d76d3dc8e3fc3aaab91bf1e99b
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87713439"
---
# <a name="install-sql-server-with-smb-fileshare-as-a-storage-option"></a><span data-ttu-id="67884-102">Installazione di SQL Server con l'opzione di archiviazione su condivisione file SMB</span><span class="sxs-lookup"><span data-stu-id="67884-102">Install SQL Server with SMB Fileshare as a Storage Option</span></span>
  <span data-ttu-id="67884-103">A partire da [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] i database di sistema (Master, Model, MSDB e TempDB) e i database utente del [!INCLUDE[ssDE](../../includes/ssde-md.md)] possono essere installati con il file server SMB (Server Message Block) come opzione di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="67884-103">Starting [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)], system databases (Master, Model, MSDB, and TempDB), and [!INCLUDE[ssDE](../../includes/ssde-md.md)] user databases can be installed with Server Message Block (SMB) file server as a storage option.</span></span> <span data-ttu-id="67884-104">Questa condizione è valida per le installazioni di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] autonome e per le installazioni del cluster di failover di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="67884-104">This applies to both [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] stand-alone and [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] failover cluster installations (FCI).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="67884-105">Filestream non è attualmente supportato in una condivisione file SMB.</span><span class="sxs-lookup"><span data-stu-id="67884-105">Filestream is currently not supported on an SMB file share.</span></span>  
  
## <a name="installation-considerations"></a><span data-ttu-id="67884-106">Considerazioni sull'installazione</span><span class="sxs-lookup"><span data-stu-id="67884-106">Installation Considerations</span></span>  
  
### <a name="smb-file-share-formats"></a><span data-ttu-id="67884-107">Formati di condivisione di file SMB:</span><span class="sxs-lookup"><span data-stu-id="67884-107">SMB File share Formats:</span></span>  
 <span data-ttu-id="67884-108">Quando si specifica la condivisione file SMB, sono supportati i seguenti formati di percorso UNC (Universal Naming Convention) per database autonomi e dell'istanza del cluster di failover:</span><span class="sxs-lookup"><span data-stu-id="67884-108">While specifying the SMB file share, the following are supported Universal Naming Convention (UNC) Path formats for standalone and FCI databases:</span></span>  
  
-   <span data-ttu-id="67884-109">\\\NomeServer\NomeCondivisione</span><span class="sxs-lookup"><span data-stu-id="67884-109">\\\ServerName\ShareName</span></span>\  
  
-   <span data-ttu-id="67884-110">\\\NomeServer\NomeCondivisione</span><span class="sxs-lookup"><span data-stu-id="67884-110">\\\ServerName\ShareName</span></span>  
  
 <span data-ttu-id="67884-111">Per ulteriori informazioni su Universal Naming Convention, vedere [UNC](https://go.microsoft.com/fwlink/?LinkId=245534) ( https://go.microsoft.com/fwlink/?LinkId=245534) .</span><span class="sxs-lookup"><span data-stu-id="67884-111">For more information about Universal Naming Convention, see [UNC](https://go.microsoft.com/fwlink/?LinkId=245534) (https://go.microsoft.com/fwlink/?LinkId=245534).</span></span>  
  
 <span data-ttu-id="67884-112">Il percorso UNC del loopback (percorso UNC il cui nome del server è localhost, 127.0.0.1 o il nome del computer locale) non è supportato.</span><span class="sxs-lookup"><span data-stu-id="67884-112">The loopback UNC path (a UNC path whose server name is localhost, 127.0.0.1, or the local machine name) is not supported.</span></span> <span data-ttu-id="67884-113">In un caso speciale, non è supportato neanche [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] in cui viene utilizzato il cluster di file server ospitato nello stesso nodo eseguito da [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="67884-113">As a special case, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] using File Server Cluster which is hosted on the same node [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is running is also not supported.</span></span> <span data-ttu-id="67884-114">Per evitare questa situazione, è consigliabile che [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] e il cluster di file server vengano creati in cluster Windows separati.</span><span class="sxs-lookup"><span data-stu-id="67884-114">To prevent this situation, it is recommended that [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] and File Server Cluster to be created on separated Windows Clusters.</span></span>  
  
 <span data-ttu-id="67884-115">I formati di percorso UNC riportati di seguito non sono supportati:</span><span class="sxs-lookup"><span data-stu-id="67884-115">The below UNC path formats are not supported:</span></span>  
  
-   <span data-ttu-id="67884-116">Percorso del loopback, ad esempio \\\localhost\\..\ o \\\127.0.0.1\\...</span><span class="sxs-lookup"><span data-stu-id="67884-116">Loopback path, e.g., \\\localhost\\..\ or \\\127.0.0.1\\...</span></span>\  
  
-   <span data-ttu-id="67884-117">Condivisioni amministrative, ad esempio \\\nomeserver\x$</span><span class="sxs-lookup"><span data-stu-id="67884-117">Administrative shares, e.g., \\\servername\x$</span></span>  
  
-   <span data-ttu-id="67884-118">Altri formati di percorso UNC come \\\\?\x:</span><span class="sxs-lookup"><span data-stu-id="67884-118">Other UNC path formats like \\\\?\x:</span></span>\  
  
-   <span data-ttu-id="67884-119">Unità di rete su cui è stato eseguito il mapping</span><span class="sxs-lookup"><span data-stu-id="67884-119">Mapped network drives.</span></span>  
  
### <a name="supported-data-definition-language-ddl-statements"></a><span data-ttu-id="67884-120">Istruzioni DDL (Data Definition Language) supportate</span><span class="sxs-lookup"><span data-stu-id="67884-120">Supported Data Definition Language (DDL) statements</span></span>  
 <span data-ttu-id="67884-121">Le istruzioni DDL di [!INCLUDE[tsql](../../includes/tsql-md.md)] e le stored procedure del motore di database seguenti supportano le condivisioni file SMB:</span><span class="sxs-lookup"><span data-stu-id="67884-121">The following [!INCLUDE[tsql](../../includes/tsql-md.md)] DDL statements and database engine stored procedures support SMB file shares:</span></span>  
  
1.  [<span data-ttu-id="67884-122">CREATE DATABASE &#40;SQL Server Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="67884-122">CREATE DATABASE &#40;SQL Server Transact-SQL&#41;</span></span>](/sql/t-sql/statements/create-database-sql-server-transact-sql)  
  
2.  [<span data-ttu-id="67884-123">ALTER DATABASE &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="67884-123">ALTER DATABASE &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/alter-database-transact-sql)  
  
3.  [<span data-ttu-id="67884-124">RESTORE &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="67884-124">RESTORE &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/restore-statements-transact-sql)  
  
4.  [<span data-ttu-id="67884-125">BACKUP &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="67884-125">BACKUP &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/backup-transact-sql)  
  
5.  [<span data-ttu-id="67884-126">sp_attach_db &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="67884-126">sp_attach_db &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-attach-db-transact-sql)  
  
6.  [<span data-ttu-id="67884-127">sp_attach_single_file_db &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="67884-127">sp_attach_single_file_db &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-attach-single-file-db-transact-sql)  
  
### <a name="installation-options"></a><span data-ttu-id="67884-128">Opzione di installazione</span><span class="sxs-lookup"><span data-stu-id="67884-128">Installation options</span></span>  
  
-   <span data-ttu-id="67884-129">Nella scheda "Directory dati" della pagina "Configurazione del motore di database" del programma di installazione, impostare il parametro "Directory radice dati" su "\\\fileserver1\share1\".</span><span class="sxs-lookup"><span data-stu-id="67884-129">In setup UI "Database Engine Configuration" page, "Data Directories" tab, set the parameter "Data root directory as "\\\fileserver1\share1\".</span></span>  
  
-   <span data-ttu-id="67884-130">Nell'installazione del prompt dei comandi, specificare "/INSTALLSQLDATADIR" come "\\\fileserver1\share1\".</span><span class="sxs-lookup"><span data-stu-id="67884-130">In command prompt installation, specify the "/INSTALLSQLDATADIR" as "\\\fileserver1\share1\".</span></span>  
  
     <span data-ttu-id="67884-131">Di seguito è riportata la sintassi di esempio per installare [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] in un server autonomo utilizzando l'opzione di condivisione file SMB:</span><span class="sxs-lookup"><span data-stu-id="67884-131">Here is the sample syntax to install [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] on a Standalone server using SMB file share option:</span></span>  
  
    ```  
    Setup.exe /q /ACTION=Install /FEATURES=SQL /INSTANCENAME=MSSQLSERVER /SQLSVCACCOUNT="<DomainName\UserName>" /SQLSVCPASSWORD="<StrongPassword>" /SQLSYSADMINACCOUNTS="<DomainName\UserName>" /AGTSVCACCOUNT="<DomainName\UserName>" /AGTSVCPASSWORD="<StrongPassword>" /INSTALLSQLDATADIR="\\FileServer\Share1\" /IACCEPTSQLSERVERLICENSETERMS  
    ```  
  
     <span data-ttu-id="67884-132">Per installare un'istanza del cluster di failover di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] a nodo singolo con il [!INCLUDE[ssDE](../../includes/ssde-md.md)] e [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)](istanza predefinita):</span><span class="sxs-lookup"><span data-stu-id="67884-132">To install a single-node [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] failover cluster instance with the [!INCLUDE[ssDE](../../includes/ssde-md.md)] and [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], default instance:</span></span>  
  
    ```  
    setup.exe /q /ACTION=InstallFailoverCluster /InstanceName=MSSQLSERVER /INDICATEPROGRESS /ASSYSADMINACCOUNTS="<DomainName\UserName>" /ASDATADIR=<Drive>:\OLAP\Data /ASLOGDIR=<Drive>:\OLAP\Log /ASBACKUPDIR=<Drive>:\OLAP\Backup /ASCONFIGDIR=<Drive>:\OLAP\Config /ASTEMPDIR=<Drive>:\OLAP\Temp /FAILOVERCLUSTERDISKS="<Cluster Disk Resource Name - for example, 'Disk S:'" /FAILOVERCLUSTERNETWORKNAME="<Insert Network Name>" /FAILOVERCLUSTERIPADDRESSES="IPv4;xx.xxx.xx.xx;Cluster Network;xxx.xxx.xxx.x" /FAILOVERCLUSTERGROUP="MSSQLSERVER" /Features=AS,SQL /ASSVCACCOUNT="<DomainName\UserName>" /ASSVCPASSWORD="xxxxxxxxxxx" /AGTSVCACCOUNT="<DomainName\UserName>" /AGTSVCPASSWORD="xxxxxxxxxxx" /INSTALLSQLDATADIR="\\FileServer\Share1\" /SQLCOLLATION="SQL_Latin1_General_CP1_CS_AS" /SQLSVCACCOUNT="<DomainName\UserName>" /SQLSVCPASSWORD="xxxxxxxxxxx" /SQLSYSADMINACCOUNTS="<DomainName\UserName> /IACCEPTSQLSERVERLICENSETERMS  
    ```  
  
     <span data-ttu-id="67884-133">Per ulteriori informazioni sull'utilizzo di diverse opzioni dei parametri della riga di comando in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] , vedere [Install SQL Server 2014 dal prompt dei comandi](../../database-engine/install-windows/install-sql-server-from-the-command-prompt.md).</span><span class="sxs-lookup"><span data-stu-id="67884-133">For more information about the usage of various command line parameter options in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], see [Install SQL Server 2014 from the Command Prompt](../../database-engine/install-windows/install-sql-server-from-the-command-prompt.md).</span></span>  
  
## <a name="operating-system-considerations-smb-protocol-vs-ssnoversion"></a><span data-ttu-id="67884-134">Considerazioni relative al sistema operativo (protocollo SMB e [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)])</span><span class="sxs-lookup"><span data-stu-id="67884-134">Operating System Considerations (SMB Protocol vs. [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)])</span></span>  
 <span data-ttu-id="67884-135">Sistemi operativi Windows diversi dispongono di versioni diverse del protocollo SMB e la versione del protocollo SMB è trasparente a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="67884-135">Different Windows operating systems has different SMB protocol versions, and the SMB protocol version is transparent to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="67884-136">È possibile individuare i vantaggi delle varie versioni del protocollo SMB in relazione a [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span><span class="sxs-lookup"><span data-stu-id="67884-136">You can find the benefits of different SMB protocol versions with respect to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span></span>  
  
|<span data-ttu-id="67884-137">Sistema operativo</span><span class="sxs-lookup"><span data-stu-id="67884-137">Operating System</span></span>|<span data-ttu-id="67884-138">Versione del protocollo SMB2</span><span class="sxs-lookup"><span data-stu-id="67884-138">SMB2 protocol version</span></span>|<span data-ttu-id="67884-139">Vantaggi per [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="67884-139">Benefits to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span></span>|  
|----------------------|---------------------------|-------------------------------------------|  
|[!INCLUDE[firstref_longhorn](../../includes/firstref-longhorn-md.md)] <span data-ttu-id="67884-140">SP 2</span><span class="sxs-lookup"><span data-stu-id="67884-140">SP 2</span></span>|<span data-ttu-id="67884-141">2.0</span><span class="sxs-lookup"><span data-stu-id="67884-141">2.0</span></span>|<span data-ttu-id="67884-142">Prestazioni migliorate rispetto a versioni precedenti di SMB.</span><span class="sxs-lookup"><span data-stu-id="67884-142">Improved performance over previous SMB versions.</span></span><br /><br /> <span data-ttu-id="67884-143">Durabilità, che consente il recupero da problemi di rete temporanei.</span><span class="sxs-lookup"><span data-stu-id="67884-143">Durability, which helps recover from temporary network glitches.</span></span>|  
|[!INCLUDE[winserver2008r2](../../includes/winserver2008r2-md.md)] <span data-ttu-id="67884-144">SP1, incluso Server Core</span><span class="sxs-lookup"><span data-stu-id="67884-144">SP 1, including Server Core</span></span>|<span data-ttu-id="67884-145">2.1</span><span class="sxs-lookup"><span data-stu-id="67884-145">2.1</span></span>|<span data-ttu-id="67884-146">Supporto per MTU di grandi dimensioni che consente il trasferimento di grandi quantità di dati, ad esempio per le operazioni di backup e di ripristino di SQL.</span><span class="sxs-lookup"><span data-stu-id="67884-146">Support for large MTU, which benefits large data transfers, such as SQL backup and restore.</span></span> <span data-ttu-id="67884-147">Questa funzionalità deve essere abilitata dall'utente.</span><span class="sxs-lookup"><span data-stu-id="67884-147">This capability must be enabled by user.</span></span> <span data-ttu-id="67884-148">Per altre informazioni su come abilitare questa funzionalità, vedere [What's New in SMB](https://go.microsoft.com/fwlink/?LinkID=237319) (https://go.microsoft.com/fwlink/?LinkID=237319) (Novità di SMB).</span><span class="sxs-lookup"><span data-stu-id="67884-148">For more details on how to enable this capability, see [What's New in SMB](https://go.microsoft.com/fwlink/?LinkID=237319) (https://go.microsoft.com/fwlink/?LinkID=237319).</span></span><br /><br /> <span data-ttu-id="67884-149">Significativi miglioramenti nelle prestazioni, in particolare per i carichi di lavoro di tipo OLTP di SQL.</span><span class="sxs-lookup"><span data-stu-id="67884-149">Significant performance improvements, specifically for SQL OLTP style workloads.</span></span> <span data-ttu-id="67884-150">Questi miglioramenti delle prestazioni richiedono l'applicazione di un hotfix.</span><span class="sxs-lookup"><span data-stu-id="67884-150">These performance improvements require applying a hotfix.</span></span> <span data-ttu-id="67884-151">Per altre informazioni sull'hotfix, vedere [questo articolo](https://go.microsoft.com/fwlink/?LinkId=237320) (https://go.microsoft.com/fwlink/?LinkId=237320).</span><span class="sxs-lookup"><span data-stu-id="67884-151">For more information on the hotfix, see [this](https://go.microsoft.com/fwlink/?LinkId=237320) (https://go.microsoft.com/fwlink/?LinkId=237320).</span></span>|  
|[!INCLUDE[win8srv](../../includes/win8srv-md.md)]<span data-ttu-id="67884-152">, incluso Server Core</span><span class="sxs-lookup"><span data-stu-id="67884-152">, including Server Core</span></span>|<span data-ttu-id="67884-153">3.0</span><span class="sxs-lookup"><span data-stu-id="67884-153">3.0</span></span>|<span data-ttu-id="67884-154">Supporto per il failover trasparente delle condivisioni file che garantisce tempi di inattività ridotti a zero senza interventi dell'amministratore del DBA SQL o del file server nelle configurazioni di cluster di file server.</span><span class="sxs-lookup"><span data-stu-id="67884-154">Support for transparent failover of file shares providing zero downtime with no administrator intervention required for SQL DBA or file server administrator in file server cluster configurations.</span></span><br /><br /> <span data-ttu-id="67884-155">Supporto per IO che utilizzano più interfacce di rete simultaneamente e tolleranza agli errori dell'interfaccia di rete.</span><span class="sxs-lookup"><span data-stu-id="67884-155">Support for IO using multiple network interfaces simultaneously, as well as tolerance to network interface failure.</span></span><br /><br /> <span data-ttu-id="67884-156">Supporto per interfacce di rete con funzionalità RDMA.</span><span class="sxs-lookup"><span data-stu-id="67884-156">Support for network interfaces with RDMA capabilities.</span></span><br /><br /> <span data-ttu-id="67884-157">Per altre informazioni su queste funzionalità e su Server Message Block, vedere [Server Message Block overview](https://go.microsoft.com/fwlink/?LinkId=253174) (https://go.microsoft.com/fwlink/?LinkId=253174) (Panoramica di SMB (Server Message Block)).</span><span class="sxs-lookup"><span data-stu-id="67884-157">For more information on these features and Server Message Block, see [Server Message Block overview](https://go.microsoft.com/fwlink/?LinkId=253174) (https://go.microsoft.com/fwlink/?LinkId=253174).</span></span><br /><br /> <span data-ttu-id="67884-158">Supporto per File server di scalabilità orizzontale (SoFS) con disponibilità continua.</span><span class="sxs-lookup"><span data-stu-id="67884-158">Support for Scale Out File Server (SoFS) with continuous availability.</span></span>|  
|[!INCLUDE[win8srv](../../includes/win8srv-md.md)] <span data-ttu-id="67884-159">R2, incluso Server Core</span><span class="sxs-lookup"><span data-stu-id="67884-159">R2, including Server Core</span></span>|<span data-ttu-id="67884-160">3.2</span><span class="sxs-lookup"><span data-stu-id="67884-160">3.2</span></span>|<span data-ttu-id="67884-161">Supporto per il failover trasparente delle condivisioni file che garantisce tempi di inattività ridotti a zero senza interventi dell'amministratore del DBA SQL o del file server nelle configurazioni di cluster di file server.</span><span class="sxs-lookup"><span data-stu-id="67884-161">Support for transparent failover of file shares providing zero downtime with no administrator intervention required for SQL DBA or file server administrator in file server cluster configurations.</span></span><br /><br /> <span data-ttu-id="67884-162">Supporto per IO che utilizzano più interfacce di rete simultaneamente e tolleranza agli errori dell'interfaccia di rete tramite SMB multicanale.</span><span class="sxs-lookup"><span data-stu-id="67884-162">Support for IO using multiple network interfaces simultaneously, as well as tolerance to network interface failure, using SMB Multichannel.</span></span><br /><br /> <span data-ttu-id="67884-163">Supporto per interfacce di rete con funzionalità RDMA tramite SMB diretto.</span><span class="sxs-lookup"><span data-stu-id="67884-163">Support for network interfaces with RDMA capabilities using SMB Direct.</span></span><br /><br /> <span data-ttu-id="67884-164">Per altre informazioni su queste funzionalità e su Server Message Block, vedere [Server Message Block overview](https://go.microsoft.com/fwlink/?LinkId=253174) (https://go.microsoft.com/fwlink/?LinkId=253174) (Panoramica di SMB (Server Message Block)).</span><span class="sxs-lookup"><span data-stu-id="67884-164">For more information on these features and Server Message Block, see [Server Message Block overview](https://go.microsoft.com/fwlink/?LinkId=253174) (https://go.microsoft.com/fwlink/?LinkId=253174).</span></span><br /><br /> <span data-ttu-id="67884-165">Supporto per File server di scalabilità orizzontale (SoFS) con disponibilità continua.</span><span class="sxs-lookup"><span data-stu-id="67884-165">Support for Scale Out File Server (SoFS) with continuous availability.</span></span><br /><br /> <span data-ttu-id="67884-166">Ottimizzato per piccole operazioni I/O di lettura/scrittura casuali comuni per [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] OLTP.</span><span class="sxs-lookup"><span data-stu-id="67884-166">Optimized for small random read/write I/O common to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] OLTP.</span></span><br /><br /> <span data-ttu-id="67884-167">L'unità massima di trasmissione (MTU) è abilitata per impostazione predefinita per migliorare significativamente le prestazioni nei trasferimenti sequenziali di grandi dimensioni come il ripristino o il backup del database e il data warehouse di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="67884-167">Maximum Transmission Unit (MTU) is turned on by default, which significantly enhances performance in large sequential transfers like [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] data warehouse and database backup or restore.</span></span>|  
  
## <a name="security-considerations"></a><span data-ttu-id="67884-168">Considerazioni relative alla sicurezza</span><span class="sxs-lookup"><span data-stu-id="67884-168">Security Considerations</span></span>  
  
-   <span data-ttu-id="67884-169">Gli account dei servizi [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] e [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent devono disporre di autorizzazioni di condivisione di controllo completo e di autorizzazioni NTFS sulle cartelle condivise SMB.</span><span class="sxs-lookup"><span data-stu-id="67884-169">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] service account and [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] agent service account should have FULL CONTROL share permissions and NTFS permissions on the SMB share folders.</span></span> <span data-ttu-id="67884-170">L'account del servizio [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] può essere un account di dominio o di sistema quando si utilizza un file server SMB.</span><span class="sxs-lookup"><span data-stu-id="67884-170">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] service account can be a domain account or a system account if an SMB file server is used.</span></span> <span data-ttu-id="67884-171">Per altre informazioni sulle autorizzazioni NTFS e di condivisione, vedere [Autorizzazioni NTFS e di condivisione in un file server](https://go.microsoft.com/fwlink/?LinkId=245535) (https://go.microsoft.com/fwlink/?LinkId=245535) .</span><span class="sxs-lookup"><span data-stu-id="67884-171">For more information about share and NTFS permissions, see [Share and NTFS Permissions on a File Server](https://go.microsoft.com/fwlink/?LinkId=245535) (https://go.microsoft.com/fwlink/?LinkId=245535).</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="67884-172">Le autorizzazioni di condivisione Controllo completo e le autorizzazioni NTFS sulle cartelle condivise SMB devono essere limitate a: account del servizio [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , account del servizio [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent e utenti di Windows con ruoli di amministratore del server.</span><span class="sxs-lookup"><span data-stu-id="67884-172">The FULL CONTROL share permissions and NTFS permissions on the SMB share folders should be restricted to: [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] service account, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent service account and windows users with admin server roles.</span></span>  
  
     <span data-ttu-id="67884-173">Si consiglia per utilizzare un account di dominio come account del servizio [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="67884-173">It is recommended to use domain account as a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] service account.</span></span> <span data-ttu-id="67884-174">Se l'account di sistema viene usato come account del servizio, concedere le autorizzazioni per l'account del computer nel formato: _<domain_name>_ **\\** _<computer_name>_ **$** .</span><span class="sxs-lookup"><span data-stu-id="67884-174">If system account is used as a service account, grant the permissions for the machine account in the format: _<domain_name>_**\\**_<computer_name>_**$**.</span></span>  
  
    > [!NOTE]  
    >  -   <span data-ttu-id="67884-175">Durante l'installazione di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], è necessario specificare l'account di dominio come account del servizio se la condivisione file SMB viene specificata come opzione di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="67884-175">During [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] setup, it is required to specify domain account as a service account if SMB file share is specified as a storage option.</span></span> <span data-ttu-id="67884-176">Con le condivisioni file SMB, è possibile specificare l'account di sistema come account del servizio solo dopo l'installazione di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="67884-176">With SMB file share, System account can only be specified as a service account post [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] installation.</span></span>  
    > -   <span data-ttu-id="67884-177">Gli account virtuali non possono essere autenticati a un percorso remoto.</span><span class="sxs-lookup"><span data-stu-id="67884-177">Virtual accounts cannot be authenticated to a remote location.</span></span> <span data-ttu-id="67884-178">Per tutti gli account virtuali viene usata l'autorizzazione dell'account del computer.</span><span class="sxs-lookup"><span data-stu-id="67884-178">All virtual accounts use the permission of machine account.</span></span> <span data-ttu-id="67884-179">Eseguire il provisioning dell'account del computer nel formato _<nome_dominio>_ **\\** _<nome_computer>_ **$** .</span><span class="sxs-lookup"><span data-stu-id="67884-179">Provision the machine account in the format _<domain_name>_**\\**_<computer_name>_**$**.</span></span>  
  
-   <span data-ttu-id="67884-180">L'account utilizzato per installare [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] deve disporre di autorizzazioni FULL CONTROL sulla cartella della condivisione file SMB utilizzata come directory dei dati o su qualsiasi altra cartella dei dati (directory del database utente, directory del log del database utente, directory TempDB, directory del log TempDB, directory di backup) durante l'Installazione del cluster.</span><span class="sxs-lookup"><span data-stu-id="67884-180">The account used to install [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] should have FULL CONTROL permissions on the SMB file share folder used as the data directory, or any other data folders (User database directory, user database log directory, TempDB directory, TempDB log directory, backup directory) during Cluster Setup.</span></span>  
  
-   <span data-ttu-id="67884-181">È necessario che all'account utilizzato per installare [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] venga concesso il privilegio SeSecurityPrivilege nel file server SMB.</span><span class="sxs-lookup"><span data-stu-id="67884-181">The account used to install [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] should be granted SeSecurityPrivilege privileges on the SMB file server.</span></span> <span data-ttu-id="67884-182">Per concedere tale privilegio, utilizzare la console Criteri di sicurezza locale nel file server per aggiungere l'account di installazione di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ai criteri Gestione file registro di controllo e di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="67884-182">To grant this privilege, use the Local Security Policy console on the file server to add the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] setup account to the Manage auditing and security log policy.</span></span> <span data-ttu-id="67884-183">Questa impostazione è disponibile nella sezione Assegnazione diritti utente in Criteri locali nella console Criteri di sicurezza locale.</span><span class="sxs-lookup"><span data-stu-id="67884-183">This setting is available in the User Rights Assignments section under Local Policies in the Local Security Policy console.</span></span>  
  
## <a name="known-issues"></a><span data-ttu-id="67884-184">Problemi noti</span><span class="sxs-lookup"><span data-stu-id="67884-184">Known Issues</span></span>  
  
-   <span data-ttu-id="67884-185">Dopo aver scollegato un database di [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] che si trova in un archivio collegato alla rete, è possibile che si verifichino problemi di autorizzazione del database durante il tentativo di ricollegare il database di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="67884-185">After you detach a [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] database that resides on network-attached storage, you might run into database permission issue while trying to reattach the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database.</span></span> <span data-ttu-id="67884-186">Il problema è definito in [questo articolo della Knowledge Base](https://go.microsoft.com/fwlink/?LinkId=237321) (https://go.microsoft.com/fwlink/?LinkId=237321).</span><span class="sxs-lookup"><span data-stu-id="67884-186">The issue is defined in [this KB article](https://go.microsoft.com/fwlink/?LinkId=237321) (https://go.microsoft.com/fwlink/?LinkId=237321).</span></span> <span data-ttu-id="67884-187">Per evitarlo, vedere la sezione relativa a **ulteriori informazioni** nell'articolo della Knowledge Base.</span><span class="sxs-lookup"><span data-stu-id="67884-187">To work around this issue, see the **More Information** section in the KB article.</span></span>  
  
-   <span data-ttu-id="67884-188">Alcune terze parti, ad esempio i dispositivi NetApp, non supportano tutte le chiamate all'API di SQL Server.</span><span class="sxs-lookup"><span data-stu-id="67884-188">Some third parties, like NetApp device do not support all SQL Server API calls.</span></span> <span data-ttu-id="67884-189">Con questi si potrebbero ottenere:</span><span class="sxs-lookup"><span data-stu-id="67884-189">With these you might get:</span></span>   
    <span data-ttu-id="67884-190">2015-06-04 13:14:19.97 spid9s errore: 17053, gravità: 16, stato: 1.</span><span class="sxs-lookup"><span data-stu-id="67884-190">2015-06-04 13:14:19.97 spid9s      Error: 17053, Severity: 16, State: 1.</span></span>  
    <span data-ttu-id="67884-191">2015-06-04 13:14:19.97 spid9s DoDevIoCtlOut () GetOverlappedResult (): errore del sistema operativo 1 (funzione non corretta.) rilevato.</span><span class="sxs-lookup"><span data-stu-id="67884-191">2015-06-04 13:14:19.97 spid9s      DoDevIoCtlOut() GetOverlappedResult() : Operating system error 1(Incorrect function.) encountered.</span></span>  
  
     <span data-ttu-id="67884-192">Per NTFS, questo errore non provoca problemi,</span><span class="sxs-lookup"><span data-stu-id="67884-192">For NTFS, the error is harmless.</span></span>  <span data-ttu-id="67884-193">ma per ReFS può provocare una riduzione significativa delle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="67884-193">but for ReFS, it can lead to significant performance degradation.</span></span>  
  
-   <span data-ttu-id="67884-194">Se la condivisione file SMB viene utilizzata come opzione di archiviazione per un'istanza cluster di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], per impostazione predefinita il log di diagnostica del cluster di failover di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] non può essere scritto nella condivisione file perché la DLL risorse di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] non dispone di autorizzazioni di lettura/scrittura in una condivisione file.</span><span class="sxs-lookup"><span data-stu-id="67884-194">If SMB file share is used as a storage option for a clustered instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], by default the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Failover Cluster Diagnostics Log cannot be written to the file share because [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Resource DLL lacks the read/write permission on the file share.</span></span> <span data-ttu-id="67884-195">Per risolvere il problema, tentare uno dei metodi seguenti:</span><span class="sxs-lookup"><span data-stu-id="67884-195">To resolve this issue, try one of the following methods:</span></span>  
  
    1.  <span data-ttu-id="67884-196">Concedere autorizzazioni di lettura/scrittura in una condivisione file a tutti gli oggetti computer del cluster.</span><span class="sxs-lookup"><span data-stu-id="67884-196">Grant read/write permissions on the file share to all computer objects in the cluster.</span></span>  
  
    2.  <span data-ttu-id="67884-197">Impostare il percorso dei log di diagnostica su un percorso file locale.</span><span class="sxs-lookup"><span data-stu-id="67884-197">Set the location of the diagnostic logs to a local file path.</span></span> <span data-ttu-id="67884-198">Vedere l'esempio seguente:</span><span class="sxs-lookup"><span data-stu-id="67884-198">See the following example:</span></span>  
  
        ```sql  
        ALTER SERVER CONFIGURATION  
        SET DIAGNOSTICS LOG PATH = 'C:\logs';  
        ```  
  
## <a name="see-also"></a><span data-ttu-id="67884-199">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="67884-199">See Also</span></span>  
 <span data-ttu-id="67884-200">[Pianificazione di un'installazione di SQL Server](../../../2014/sql-server/install/planning-a-sql-server-installation.md) </span><span class="sxs-lookup"><span data-stu-id="67884-200">[Planning a SQL Server Installation](../../../2014/sql-server/install/planning-a-sql-server-installation.md) </span></span>  
 <span data-ttu-id="67884-201">[Procedure per l'installazione](../../../2014/sql-server/install/installation-how-to-topics.md) </span><span class="sxs-lookup"><span data-stu-id="67884-201">[Installation How-to Topics](../../../2014/sql-server/install/installation-how-to-topics.md) </span></span>  
 [<span data-ttu-id="67884-202">Configurare account di servizio e autorizzazioni di Windows</span><span class="sxs-lookup"><span data-stu-id="67884-202">Configure Windows Service Accounts and Permissions</span></span>](../configure-windows/configure-windows-service-accounts-and-permissions.md)  
  
  
