---
title: Collegamenti nella sicurezza dell'integrazione con CLR | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: reference
helpviewer_keywords:
- table-access links [CLR integration]
- security [CLR integration]
- invocation links [CLR integration]
- gated links [CLR integration]
ms.assetid: 168efd01-d12e-4bdf-a1b3-0b5c76474eaf
author: mashamsft
ms.author: mathoma
ms.openlocfilehash: 52a4f8084a8a90384c8916f2219faaf2c138b11c
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87726171"
---
# <a name="links-in-clr-integration-security"></a><span data-ttu-id="d8816-102">Collegamenti nella sicurezza per l'integrazione con CLR</span><span class="sxs-lookup"><span data-stu-id="d8816-102">Links in CLR Integration Security</span></span>
  <span data-ttu-id="d8816-103">In questa sezione viene descritto il modo in cui frammenti di codice utente possono effettuare chiamate reciproche in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], utilizzando [!INCLUDE[tsql](../../includes/tsql-md.md)] o uno dei linguaggi gestiti.</span><span class="sxs-lookup"><span data-stu-id="d8816-103">This section describes how pieces of user code can call each other in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], either in [!INCLUDE[tsql](../../includes/tsql-md.md)] or in one of the managed languages.</span></span> <span data-ttu-id="d8816-104">Queste relazioni tra oggetti vengono definite collegamenti.</span><span class="sxs-lookup"><span data-stu-id="d8816-104">These relationships between objects are referred to as links.</span></span>  
  
## <a name="invocation-links"></a><span data-ttu-id="d8816-105">Collegamenti di chiamata</span><span class="sxs-lookup"><span data-stu-id="d8816-105">Invocation Links</span></span>  
 <span data-ttu-id="d8816-106">I collegamenti di chiamata corrispondono a una chiamata di codice effettuata da un utente che chiama un oggetto, ad esempio un batch [!INCLUDE[tsql](../../includes/tsql-md.md)] che chiama una stored procedure, o da una funzione o stored procedure CLR (Common Language Runtime).</span><span class="sxs-lookup"><span data-stu-id="d8816-106">Invocation links correspond to a code invocation, either from a user calling an object (such as a [!INCLUDE[tsql](../../includes/tsql-md.md)] batch calling a stored procedure), or a common language runtime (CLR) stored procedure or function.</span></span> <span data-ttu-id="d8816-107">Tali collegamenti comportano il controllo di un'autorizzazione `EXECUTE` per il chiamato.</span><span class="sxs-lookup"><span data-stu-id="d8816-107">Invocation links cause an `EXECUTE` permission on the callee to be checked.</span></span>  
  
## <a name="table-access-links"></a><span data-ttu-id="d8816-108">Collegamenti di accesso alle tabelle</span><span class="sxs-lookup"><span data-stu-id="d8816-108">Table-Access Links</span></span>  
 <span data-ttu-id="d8816-109">I collegamenti di accesso alle tabelle corrispondono al recupero o alla modifica dei valori in una tabella, una visualizzazione o una funzione con valori di tabella.</span><span class="sxs-lookup"><span data-stu-id="d8816-109">Table access links correspond to retrieving or modifying values in a table, view, or a table-valued function.</span></span> <span data-ttu-id="d8816-110">Sono simili ai collegamenti di chiamata, con l'eccezione che dispongono di un controllo di accesso con granularità fine per le autorizzazioni SELECT, INSERT, UPDATE e DELETE.</span><span class="sxs-lookup"><span data-stu-id="d8816-110">They are similar to invocation links, except that they have a finer-grained access control in terms of SELECT, INSERT, UPDATE, and DELETE permissions.</span></span>  
  
## <a name="gated-links"></a><span data-ttu-id="d8816-111">Collegamenti controllati</span><span class="sxs-lookup"><span data-stu-id="d8816-111">Gated Links</span></span>  
 <span data-ttu-id="d8816-112">I collegamenti controllati indicano che durante l'esecuzione non viene effettuato il controllo delle autorizzazioni all'interno della relazione tra gli oggetti stabilita.</span><span class="sxs-lookup"><span data-stu-id="d8816-112">Gated links mean that during execution, permissions are not checked across the object relationship once it has been established.</span></span> <span data-ttu-id="d8816-113">Quando è presente un collegamento gestito tra due oggetti (ad esempio, l'oggetto **x** e l'oggetto **y**), le autorizzazioni per l'oggetto **y** e altri oggetti a cui si accede dall'oggetto **y** vengono controllate solo in fase di creazione dell'oggetto **x**.</span><span class="sxs-lookup"><span data-stu-id="d8816-113">When there is a gated link between two objects (for example, object **x** and object **y**), permissions on object **y** and other objects accessed from object **y** are checked only at the creation time of object **x**.</span></span> <span data-ttu-id="d8816-114">Al momento della creazione dell'oggetto **x**, `REFERENCE` l'autorizzazione viene controllata in **y** sul proprietario di **x**.</span><span class="sxs-lookup"><span data-stu-id="d8816-114">At the creation time of object **x**, `REFERENCE` permission is checked on **y** against the owner of **x**.</span></span> <span data-ttu-id="d8816-115">In fase di esecuzione, ad esempio quando un utente chiama l'oggetto **x**, non vengono controllate le autorizzazioni per **y** o altri oggetti a cui fa riferimento in modo statico.</span><span class="sxs-lookup"><span data-stu-id="d8816-115">At execution time, (for example, when someone calls object **x**), there are no permissions checked against **y** or other objects it references statically.</span></span> <span data-ttu-id="d8816-116">In fase di esecuzione, verrà verificata un'autorizzazione appropriata per l'oggetto **x** stesso.</span><span class="sxs-lookup"><span data-stu-id="d8816-116">At execution time, an appropriate permission will be checked against object **x** itself.</span></span>  
  
 <span data-ttu-id="d8816-117">I collegamenti controllati vengono sempre utilizzati con la dipendenza dei metadati tra due oggetti.</span><span class="sxs-lookup"><span data-stu-id="d8816-117">Gated links are always used in conjunction with a metadata dependency between two objects.</span></span> <span data-ttu-id="d8816-118">Tale dipendenza è una relazione stabilita nei cataloghi di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] che impedisce che un oggetto venga eliminato finché un altro oggetto dipende da questo.</span><span class="sxs-lookup"><span data-stu-id="d8816-118">This metadata dependency is a relationship established in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] catalogs that prevents an object from being dropped as long as another object depends on it.</span></span>  
  
 <span data-ttu-id="d8816-119">I collegamenti controllati sono utili quando non è consigliabile o possibile concedere autorizzazioni a molti oggetti dipendenti.</span><span class="sxs-lookup"><span data-stu-id="d8816-119">Gated links are useful when it is not appropriate or manageable to give permissions to many dependent objects.</span></span> <span data-ttu-id="d8816-120">I collegamenti controllati vengono introdotti tra oggetti che definiscono punti di ingresso [!INCLUDE[tsql](../../includes/tsql-md.md)] in assembly CLR, ad esempio procedure CLR, trigger, funzioni, tipi e aggregati, e gli assembly da cui sono definiti.</span><span class="sxs-lookup"><span data-stu-id="d8816-120">Gated links are introduced between objects that define [!INCLUDE[tsql](../../includes/tsql-md.md)] entry points into CLR assemblies (for example, CLR procedures, triggers, functions, types, and aggregates) and the assemblies from which they are defined.</span></span> <span data-ttu-id="d8816-121">La sicurezza controllata per questi oggetti implica che per poter richiamare un punto di ingresso [!INCLUDE[tsql](../../includes/tsql-md.md)] definito in un assembly CLR, il chiamante deve disporre solo di un'autorizzazione appropriata su tale punto di ingresso [!INCLUDE[tsql](../../includes/tsql-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d8816-121">Gated security against these objects implies that in order to invoke a [!INCLUDE[tsql](../../includes/tsql-md.md)] entry point defined in a CLR assembly, the caller only needs an appropriate permission on that [!INCLUDE[tsql](../../includes/tsql-md.md)] entry point.</span></span> <span data-ttu-id="d8816-122">Non è necessario che disponga di autorizzazioni su tale assembly o su qualsiasi altro assembly a cui riferimento in modo statico.</span><span class="sxs-lookup"><span data-stu-id="d8816-122">The caller is not required to have permissions on that assembly or any other assemblies it statically references.</span></span> <span data-ttu-id="d8816-123">Le autorizzazioni sull'assembly vengono controllate durante la creazione del punto di ingresso [!INCLUDE[tsql](../../includes/tsql-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d8816-123">The permissions on the assembly are checked at creation time of the [!INCLUDE[tsql](../../includes/tsql-md.md)] entry point.</span></span>  
  
## <a name="sql-server-authorization-based-security"></a><span data-ttu-id="d8816-124">Sicurezza basata sulle autorizzazioni SQL Server</span><span class="sxs-lookup"><span data-stu-id="d8816-124">SQL Server Authorization-Based Security</span></span>  
 <span data-ttu-id="d8816-125">Di seguito sono riportate le regole di base dei controlli di sicurezza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] per le chiamate di e tra oggetti di database basati su CLR. Le prime tre regole definiscono le autorizzazioni controllate e l'oggetto in base al quale vengono controllate, mentre la quarta regola definisce il contesto di esecuzione in base al quale viene controllata l'autorizzazione.</span><span class="sxs-lookup"><span data-stu-id="d8816-125">The following are the basic rules behind the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] security checks for invocations of and between CLR-based database objects; the first three rules define which permissions are checked and against which object; the fourth rule defines which execution context the permission is checked against.</span></span>  
  
1.  <span data-ttu-id="d8816-126">Tutte le chiamate richiedono l'autorizzazione `EXECUTE`, a meno che non vengano effettuate all'interno dello stesso oggetto e pertanto, trattandosi di chiamate all'interno dello stesso assembly, non richiedono alcun controllo delle autorizzazioni.</span><span class="sxs-lookup"><span data-stu-id="d8816-126">All invocations require `EXECUTE` permission unless the invocations occur within the same object; this means that calls within the same assembly do not require any permission checks.</span></span> <span data-ttu-id="d8816-127">L'autorizzazione viene controllata in fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="d8816-127">The permission is checked at execution time.</span></span>  
  
2.  <span data-ttu-id="d8816-128">I collegamenti controllati richiedono l'autorizzazione `REFERENCE` per il chiamato quando viene creato l'oggetto chiamante.</span><span class="sxs-lookup"><span data-stu-id="d8816-128">Gated links require `REFERENCE` permission against the callee when the calling object is created.</span></span> <span data-ttu-id="d8816-129">Durante la creazione dell'oggetto, viene effettuato il controllo dell'autorizzazione per il proprietario dell'oggetto chiamante.</span><span class="sxs-lookup"><span data-stu-id="d8816-129">The permission is checked for the owner of the calling object when the object is created.</span></span>  
  
3.  <span data-ttu-id="d8816-130">I collegamenti di accesso alle tabelle richiedono l'autorizzazione `SELECT`, `INSERT`, `UPDATE` o `DELETE` corrispondente per la tabella o la visualizzazione a cui si accede.</span><span class="sxs-lookup"><span data-stu-id="d8816-130">Table-access links require the corresponding `SELECT`, `INSERT`, `UPDATE`, or `DELETE` permission against the table or view being accessed.</span></span>  
  
4.  <span data-ttu-id="d8816-131">Viene effettuato il controllo dell'autorizzazione per il contesto di esecuzione corrente.</span><span class="sxs-lookup"><span data-stu-id="d8816-131">The permission is checked against the current execution context.</span></span> <span data-ttu-id="d8816-132">È possibile creare procedure e funzioni con un contesto di esecuzione diverso da quello del chiamante.</span><span class="sxs-lookup"><span data-stu-id="d8816-132">Procedures and functions can be created with an execution context that is different from the caller.</span></span> <span data-ttu-id="d8816-133">Gli assembly vengono sempre creati con il contesto di esecuzione della procedura, della funzione o del trigger definito per essi.</span><span class="sxs-lookup"><span data-stu-id="d8816-133">Assemblies are always created with the execution context of the procedure, function, or trigger that is defined against it.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="d8816-134">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="d8816-134">See Also</span></span>  
 [<span data-ttu-id="d8816-135">Sicurezza per l'integrazione con CLR</span><span class="sxs-lookup"><span data-stu-id="d8816-135">CLR Integration Security</span></span>](../../relational-databases/clr-integration/security/clr-integration-security.md)  
  
  
