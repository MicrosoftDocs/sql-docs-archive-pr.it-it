---
title: Creare o configurare un listener del gruppo di disponibilità (SQL Server) | Microsoft Docs
ms.custom: ''
ms.date: 06/14/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
f1_keywords:
- sql12.swb.availabilitygroup.newaglistener.general.f1
helpviewer_keywords:
- Availability Groups [SQL Server], listeners
- Availability Groups [SQL Server], client connectivity
ms.assetid: 2bc294f6-2312-4b6b-9478-2fb8a656e645
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 2c74e92286eab4bc1be8f3f538d83d86f056cf01
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87727131"
---
# <a name="create-or-configure-an-availability-group-listener-sql-server"></a><span data-ttu-id="f350e-102">Creare o configurare un listener del gruppo di disponibilità (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="f350e-102">Create or Configure an Availability Group Listener (SQL Server)</span></span>
  <span data-ttu-id="f350e-103">In questo argomento viene descritto come creare o configurare un singolo *listener del gruppo di disponibilità* per un gruppo di disponibilità AlwaysOn tramite [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] , [!INCLUDE[tsql](../../../includes/tsql-md.md)] o PowerShell in [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="f350e-103">This topic describes how to create or configure a single *availability group listener* for an AlwaysOn availability group by using [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], [!INCLUDE[tsql](../../../includes/tsql-md.md)], or PowerShell in [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)].</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="f350e-104">Per creare il primo listener di un gruppo di disponibilità, è consigliabile utilizzare [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], [!INCLUDE[tsql](../../../includes/tsql-md.md)]o [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] PowerShell.</span><span class="sxs-lookup"><span data-stu-id="f350e-104">To create the first availability group listener of an availability group, we strongly recommend that you [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], [!INCLUDE[tsql](../../../includes/tsql-md.md)], or [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] PowerShell.</span></span> <span data-ttu-id="f350e-105">Evitare di creare un listener direttamente nel cluster WSFC se non necessario, ad esempio per creare un listener aggiuntivo.</span><span class="sxs-lookup"><span data-stu-id="f350e-105">Avoid creating a listener directly in the WSFC cluster except when necessary, for example, to create an additional listener.</span></span>  
  
  
##  <a name="before-you-begin"></a><a name="BeforeYouBegin"></a> <span data-ttu-id="f350e-106">Prima di iniziare</span><span class="sxs-lookup"><span data-stu-id="f350e-106">Before You Begin</span></span>  
  
###  <a name="does-a-listener-exist-for-this-availability-group-already"></a><a name="DoesListenerExist"></a> <span data-ttu-id="f350e-107">Esiste già un listener per questo gruppo di disponibilità?</span><span class="sxs-lookup"><span data-stu-id="f350e-107">Does a Listener Exist for this Availability Group Already?</span></span>  
 <span data-ttu-id="f350e-108">**Per determinare se un listener già esiste per il gruppo di disponibilità**</span><span class="sxs-lookup"><span data-stu-id="f350e-108">**To determine whether a listener already exists for the availability group**</span></span>  
  
-   [<span data-ttu-id="f350e-109">Visualizzare le proprietà del listener del gruppo di disponibilità &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="f350e-109">View Availability Group Listener Properties &#40;SQL Server&#41;</span></span>](view-availability-group-listener-properties-sql-server.md)  
  
> [!NOTE]  
>  <span data-ttu-id="f350e-110">Se è già presente un listener e si vuole creare un listener aggiuntivo, vedere [Per creare un listener aggiuntivo per un gruppo di disponibilità (facoltativo)](#CreateAdditionalListener), più avanti in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="f350e-110">If a listener already exists and you want to create an additional listener, see [To Create An Additional Listener for an Availability Group (Optional)](#CreateAdditionalListener), later in this topic.</span></span>  
  
###  <a name="limitations-and-restrictions"></a><a name="Restrictions"></a> <span data-ttu-id="f350e-111">Limitazioni e restrizioni</span><span class="sxs-lookup"><span data-stu-id="f350e-111">Limitations and Restrictions</span></span>  
  
-   <span data-ttu-id="f350e-112">È possibile creare un solo listener per gruppo di disponibilità tramite [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f350e-112">You can create only one listener per availability group through [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="f350e-113">Ogni gruppo di disponibilità richiede in genere un solo listener.</span><span class="sxs-lookup"><span data-stu-id="f350e-113">Typically, each availability group requires only one listener.</span></span> <span data-ttu-id="f350e-114">Tuttavia, alcuni scenari del cliente richiedono più listener per un gruppo di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="f350e-114">However, some customer scenarios require multiple listeners for one availability group.</span></span>   <span data-ttu-id="f350e-115">Dopo avere creato un listener tramite SQL Server, è possibile utilizzare Windows PowerShell per i cluster di failover o Gestione cluster di failover WSFC per creare listener aggiuntivi.</span><span class="sxs-lookup"><span data-stu-id="f350e-115">After creating a listener through SQL Server, you can use Windows PowerShell for failover clusters or the WSFC Failover Cluster Manager to create additional listeners.</span></span> <span data-ttu-id="f350e-116">Per altre informazioni, vedere [Per creare un listener aggiuntivo per un gruppo di disponibilità (facoltativo)](#CreateAdditionalListener), più avanti in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="f350e-116">For more information, see [To Create An Additional Listener for an Availability Group (Optional)](#CreateAdditionalListener), later in this topic.</span></span>  
  
###  <a name="recommendations"></a><a name="Recommendations"></a> <span data-ttu-id="f350e-117">Indicazioni</span><span class="sxs-lookup"><span data-stu-id="f350e-117">Recommendations</span></span>  
 <span data-ttu-id="f350e-118">L'utilizzo di un indirizzo IP statico è consigliato, sebbene non obbligatorio, per più configurazioni di subnet.</span><span class="sxs-lookup"><span data-stu-id="f350e-118">Using a static IP address is recommended, although not required, for multiple subnet configurations.</span></span>  
  
###  <a name="prerequisites"></a><a name="Prerequisites"></a> <span data-ttu-id="f350e-119">Prerequisiti</span><span class="sxs-lookup"><span data-stu-id="f350e-119">Prerequisites</span></span>  
  
-   <span data-ttu-id="f350e-120">È necessario essere connessi all'istanza del server che ospita la replica primaria.</span><span class="sxs-lookup"><span data-stu-id="f350e-120">You must be connected to the server instance that hosts the primary replica.</span></span>  
  
-   <span data-ttu-id="f350e-121">Se si imposta un listener del gruppo di disponibilità su più subnet e si pensa di utilizzare gli indirizzi IP statici, è necessario ottenere gli indirizzi IP statici di ogni subnet che ospita una replica di disponibilità per il gruppo di disponibilità per il quale si crea il listener.</span><span class="sxs-lookup"><span data-stu-id="f350e-121">If you are setting up an availability group listener across multiple subnets and plan to use static IP addresses, you need to get the static IP address of every subnet that hosts an availability replica for the availability group for which you are creating the listener.</span></span> <span data-ttu-id="f350e-122">In genere, è necessario richiedere gli indirizzi IP statici agli amministratori di rete.</span><span class="sxs-lookup"><span data-stu-id="f350e-122">Usually, you will need to ask your network administrators for the static IP addresses.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="f350e-123">Prima di creare il primo listener, è consigliabile leggere l'argomento [Connettività client AlwaysOn &#40;SQL Server&#41;](always-on-client-connectivity-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="f350e-123">Before you create your first listener, we strongly recommend that you read [AlwaysOn Client Connectivity &#40;SQL Server&#41;](always-on-client-connectivity-sql-server.md).</span></span>  
  
###  <a name="requirements-for-the-dns-name-of-an-availability-group-listener"></a><a name="DNSnameReqs"></a> <span data-ttu-id="f350e-124">Requisiti per il nome DNS di un listener del gruppo di disponibilità</span><span class="sxs-lookup"><span data-stu-id="f350e-124">Requirements for the DNS Name of an Availability Group Listener</span></span>  
 <span data-ttu-id="f350e-125">Ogni listener del gruppo di disponibilità richiede un nome host DNS univoco nel dominio e in NetBIOS.</span><span class="sxs-lookup"><span data-stu-id="f350e-125">Each availability group listener requires a DNS host name that is unique in the domain and in NetBIOS.</span></span> <span data-ttu-id="f350e-126">Il nome DNS è un valore stringa.</span><span class="sxs-lookup"><span data-stu-id="f350e-126">The DNS name is a string value.</span></span> <span data-ttu-id="f350e-127">Può contenere solo caratteri alfanumerici, trattini (-) e caratteri di sottolineatura (_), in qualsiasi ordine.</span><span class="sxs-lookup"><span data-stu-id="f350e-127">This name can contain only alphanumeric characters, dashes (-), and hyphens (_), in any order.</span></span> <span data-ttu-id="f350e-128">Per i nomi host DNS non viene fatta distinzione tra maiuscole e minuscole.</span><span class="sxs-lookup"><span data-stu-id="f350e-128">DNS host names are case insensitive.</span></span> <span data-ttu-id="f350e-129">La lunghezza massima è di 63 caratteri, tuttavia in [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)]è possibile specificare una lunghezza massima di 15 caratteri.</span><span class="sxs-lookup"><span data-stu-id="f350e-129">The maximum length is 63 characters, however, in [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], the maximum length you can specify is 15 characters.</span></span>  
  
 <span data-ttu-id="f350e-130">È consigliabile specificare una stringa significativa.</span><span class="sxs-lookup"><span data-stu-id="f350e-130">We recommend that you specify a meaningful string.</span></span> <span data-ttu-id="f350e-131">Ad esempio, per un gruppo di disponibilità denominato `AG1`un nome host DNS significativo potrebbe essere `ag1-listener`.</span><span class="sxs-lookup"><span data-stu-id="f350e-131">For example, for an availability group named `AG1`, a meaningful DNS host name would be `ag1-listener`.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="f350e-132">NetBIOS riconosce solo i primi 15 caratteri di dns_name.</span><span class="sxs-lookup"><span data-stu-id="f350e-132">NetBIOS recognizes only the first 15 chars in the dns_name.</span></span> <span data-ttu-id="f350e-133">Se si dispone di due cluster WSFC controllati dallo stesso dominio Active Directory e si tenta di creare listener del gruppo di disponibilità in entrambi i cluster usando nomi con più di 15 caratteri e un prefisso a 15 caratteri identico, verrà restituito un errore in cui si segnala che non è possibile portare online la risorsa del nome di rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="f350e-133">If you have two WSFC clusters that are controlled by the same Active Directory and you try to create availability group listeners in both of clusters using names with more than 15 characters and an identical 15 character prefix, you will get an error reporting that the Virtual Network Name resource could not be brought online.</span></span> <span data-ttu-id="f350e-134">Per informazioni sulle regole di denominazione dei prefissi per i nomi DNS, vedere [Assegnare nomi ai domini](https://technet.microsoft.com/library/cc731265\(WS.10\).aspx).</span><span class="sxs-lookup"><span data-stu-id="f350e-134">For information about prefix naming rules for DNS names, see [Assigning Domain Names](https://technet.microsoft.com/library/cc731265\(WS.10\).aspx).</span></span>  
  
###  <a name="windows-permissions"></a><a name="WinPermissions"></a> <span data-ttu-id="f350e-135">Autorizzazioni di Windows</span><span class="sxs-lookup"><span data-stu-id="f350e-135">Windows Permissions</span></span>  
  
|<span data-ttu-id="f350e-136">Autorizzazioni</span><span class="sxs-lookup"><span data-stu-id="f350e-136">Permissions</span></span>|<span data-ttu-id="f350e-137">Collegamento</span><span class="sxs-lookup"><span data-stu-id="f350e-137">Link</span></span>|  
|-----------------|----------|  
|<span data-ttu-id="f350e-138">Il nome dell'oggetto cluster WSFC che ospita il gruppo di disponibilità deve avere l'autorizzazione per la **creazione degli oggetti computer** .</span><span class="sxs-lookup"><span data-stu-id="f350e-138">The cluster object name (CNO) of WSFC cluster that is hosting the availability group must have **Create Computer objects** permission.</span></span><br /><br /> <span data-ttu-id="f350e-139">Per impostazione predefinita, in Active Directory un nome di oggetto cluster non ha l'autorizzazione per la **creazione degli oggetti computer** assegnata in modo esplicito e può creare 10 oggetti computer virtuali.</span><span class="sxs-lookup"><span data-stu-id="f350e-139">In Active Directory, a CNO by default does not have **Create Computer objects** permission explicitly and can create 10 virtual computer objects (VCOs).</span></span> <span data-ttu-id="f350e-140">Dopo aver creato 10 oggetti computer virtuali, la creazione di ulteriori oggetti di questo tipo avrà esito negativo.</span><span class="sxs-lookup"><span data-stu-id="f350e-140">After 10 VCOs are created, the creation of additional VCOs will fail.</span></span> <span data-ttu-id="f350e-141">È possibile evitare questo problema concedendo in modo esplicito l'autorizzazione al nome dell'oggetto cluster WSFC.</span><span class="sxs-lookup"><span data-stu-id="f350e-141">You can avoid this by granting the permission explicitly to the WSFC cluster's CNO.</span></span> <span data-ttu-id="f350e-142">Si noti che gli oggetti computer virtuali per i gruppi di disponibilità eliminati non vengono rimossi automaticamente da Active Directory e continuano a essere conteggiati ai fini del limite predefinito di 10 oggetti a meno che non vengano eliminati manualmente.</span><span class="sxs-lookup"><span data-stu-id="f350e-142">Note that VCOs for availability groups that you have deleted are not automatically deleted in Active Directory and count against your 10 VCO default limit unless they are manually deleted.</span></span><br /><br /> <span data-ttu-id="f350e-143">Nota: in alcune organizzazioni i criteri di sicurezza non permettono di concedere l'autorizzazione per la **creazione di oggetti computer** a singoli account utente.</span><span class="sxs-lookup"><span data-stu-id="f350e-143">Note: In some organizations, the security policy prohibits granting **Create Computer objects** permission to individual user accounts.</span></span>|<span data-ttu-id="f350e-144">*Passaggi per la configurazione dell'account per chi installa il cluster* nella [Guida dettagliata al cluster di failover: Configurazione di account in Active Directory](https://technet.microsoft.com/library/cc731002\(WS.10\).aspx#BKMK_steps_installer)</span><span class="sxs-lookup"><span data-stu-id="f350e-144">*Steps for configuring the account for the person who installs the cluster* in [Failover Cluster Step-by-Step Guide: Configuring Accounts in Active Directory](https://technet.microsoft.com/library/cc731002\(WS.10\).aspx#BKMK_steps_installer)</span></span><br /><br /> <span data-ttu-id="f350e-145">*Passaggi per la configurazione pre-installazione dell'account del nome cluster* nella [Guida dettagliata al cluster di failover: Configurazione di account in Active Directory](https://technet.microsoft.com/library/cc731002\(WS.10\).aspx#BKMK_steps_precreating)</span><span class="sxs-lookup"><span data-stu-id="f350e-145">*Steps for prestaging the cluster name account* in [Failover Cluster Step-by-Step Guide: Configuring Accounts in Active Directory](https://technet.microsoft.com/library/cc731002\(WS.10\).aspx#BKMK_steps_precreating)</span></span>|  
|<span data-ttu-id="f350e-146">Se l'organizzazione richiede la configurazione pre-installazione dell'account del computer per un nome di rete virtuale del listener, sarà necessaria l'appartenenza al gruppo **Account Operator** o l'assistenza dell'amministratore di dominio.</span><span class="sxs-lookup"><span data-stu-id="f350e-146">If your organization requires that you prestage the computer account for a listener virtual network name, you will need membership in the **Account Operator** group or your domain administrator's assistance.</span></span><br /><br /> <span data-ttu-id="f350e-147">Suggerimento: in genere, è più semplice non effettuare la configurazione pre-installazione dell'account del computer per un nome di rete virtuale del listener.</span><span class="sxs-lookup"><span data-stu-id="f350e-147">Tip: Generally, it is simplest not to prestage the computer account for a listener virtual network name.</span></span> <span data-ttu-id="f350e-148">Se è possibile, procedere con la creazione e la configurazione automatica dell'account durante l'esecuzione della procedura guidata Disponibilità elevata WSFC.</span><span class="sxs-lookup"><span data-stu-id="f350e-148">If you can, let the account to be created and configured automatically when you run the WSFC High Availability wizard.</span></span>|<span data-ttu-id="f350e-149">*Passaggi per la configurazione pre-installazione di un account per un servizio o un'applicazione cluster* nella [Guida dettagliata al cluster di failover: Configurazione di account in Active Directory](https://technet.microsoft.com/library/cc731002\(WS.10\).aspx#BKMK_steps_precreating2).</span><span class="sxs-lookup"><span data-stu-id="f350e-149">*Steps for prestaging an account for a clustered service or application* in [Failover Cluster Step-by-Step Guide: Configuring Accounts in Active Directory](https://technet.microsoft.com/library/cc731002\(WS.10\).aspx#BKMK_steps_precreating2).</span></span>|  
  
###  <a name="sql-server-permissions"></a><a name="SqlPermissions"></a> <span data-ttu-id="f350e-150">Autorizzazioni di SQL Server</span><span class="sxs-lookup"><span data-stu-id="f350e-150">SQL Server Permissions</span></span>  
  
|<span data-ttu-id="f350e-151">Attività</span><span class="sxs-lookup"><span data-stu-id="f350e-151">Task</span></span>|<span data-ttu-id="f350e-152">Autorizzazioni</span><span class="sxs-lookup"><span data-stu-id="f350e-152">Permissions</span></span>|  
|----------|-----------------|  
|<span data-ttu-id="f350e-153">Per creare un listener del gruppo di disponibilità</span><span class="sxs-lookup"><span data-stu-id="f350e-153">To create an availability group listener</span></span>|<span data-ttu-id="f350e-154">Sono necessarie l'appartenenza al ruolo predefinito del server **sysadmin** e l'autorizzazione server CREATE AVAILABILITY GROUP oppure l'autorizzazione ALTER ANY AVAILABILITY GROUP o CONTROL SERVER.</span><span class="sxs-lookup"><span data-stu-id="f350e-154">Requires membership in the **sysadmin** fixed server role and either CREATE AVAILABILITY GROUP server permission, ALTER ANY AVAILABILITY GROUP permission, or CONTROL SERVER permission.</span></span>|  
|<span data-ttu-id="f350e-155">Per modificare un listener del gruppo di disponibilità esistente</span><span class="sxs-lookup"><span data-stu-id="f350e-155">To modify an existing availability group listener</span></span>|<span data-ttu-id="f350e-156">È necessaria l'autorizzazione ALTER AVAILABILITY GROUP nel gruppo di disponibilità, l'autorizzazione CONTROL AVAILABILITY GROUP, l'autorizzazione ALTER ANY AVAILABILITY GROUP o l'autorizzazione CONTROL SERVER.</span><span class="sxs-lookup"><span data-stu-id="f350e-156">Requires ALTER AVAILABILITY GROUP permission on the availability group, CONTROL AVAILABILITY GROUP permission, ALTER ANY AVAILABILITY GROUP permission, or CONTROL SERVER permission.</span></span>|  
  
##  <a name="using-sql-server-management-studio"></a><a name="SSMSProcedure"></a> <span data-ttu-id="f350e-157">Utilizzo di SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="f350e-157">Using SQL Server Management Studio</span></span>  
  
> [!TIP]  
>  <span data-ttu-id="f350e-158">In [Creazione guidata Gruppo di disponibilità](use-the-new-availability-group-dialog-box-sql-server-management-studio.md) è supportata la creazione del listener per un nuovo gruppo di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="f350e-158">The [New Availability Group wizard](use-the-new-availability-group-dialog-box-sql-server-management-studio.md) supports creation of the listener for a new availability group.</span></span>  
  
 <span data-ttu-id="f350e-159">**Per creare o configurare un listener del gruppo di disponibilità**</span><span class="sxs-lookup"><span data-stu-id="f350e-159">**To create or configure an availability group listener**</span></span>  
  
1.  <span data-ttu-id="f350e-160">In Esplora oggetti connettersi all'istanza del server che ospita la replica primaria del gruppo di disponibilità, quindi fare clic sul nome del server per espandere l'albero del server.</span><span class="sxs-lookup"><span data-stu-id="f350e-160">In Object Explorer, connect to the server instance that hosts the primary replica of the availability group, and click the server name to expand the server tree.</span></span>  
  
2.  <span data-ttu-id="f350e-161">Espandere il nodo **Disponibilità elevata AlwaysOn** e il nodo **Gruppi di disponibilità** .</span><span class="sxs-lookup"><span data-stu-id="f350e-161">Expand the **AlwaysOn High Availability** node and the **Availability Groups** node.</span></span>  
  
3.  <span data-ttu-id="f350e-162">Fare clic sul gruppo di disponibilità di cui si desidera configurare il listener e scegliere una delle alternative seguenti:</span><span class="sxs-lookup"><span data-stu-id="f350e-162">Click the availability group whose listener you want to configure, and choose one of the following alternatives:</span></span>  
  
    -   <span data-ttu-id="f350e-163">Per creare un listener, fare clic con il pulsante destro del mouse sul nodo **Listener del gruppo di disponibilità** e selezionare il comando **Nuovo listener** .</span><span class="sxs-lookup"><span data-stu-id="f350e-163">To create a listener, right-click the **Availability group Listeners** node, and select the **New Listener** command.</span></span> <span data-ttu-id="f350e-164">Verrà aperta la finestra di dialogo **Nuovo listener gruppo di disponibilità** .</span><span class="sxs-lookup"><span data-stu-id="f350e-164">This opens the **New Availability Group Listener** dialog box.</span></span> <span data-ttu-id="f350e-165">Per ulteriori informazioni, vedere [Aggiungi listener del gruppo di disponibilità (finestra di dialogo)](#AddAgListenerDialog), più avanti in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="f350e-165">For more information, see [Add Availability Group Listener (Dialog Box)](#AddAgListenerDialog), later in this topic.</span></span>  
  
    -   <span data-ttu-id="f350e-166">Per modificare il numero di porta di un listener esistente, espandere il nodo **Listener del gruppo di disponibilità** , fare clic con il pulsante destro del mouse sul listener e selezionare il comando **Proprietà** .</span><span class="sxs-lookup"><span data-stu-id="f350e-166">To change the port number of an existing listener, expand the **Availability group Listeners** node, right-click the listener, and select the **Properties** command.</span></span> <span data-ttu-id="f350e-167">Immettere il nuovo numero di porta nel campo **Porta** e fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="f350e-167">Enter the new port number into the **Port** field, and click **OK**.</span></span>  
  
###  <a name="new-availability-group-listener-dialog-box"></a><a name="AddAgListenerDialog"></a> <span data-ttu-id="f350e-168">Nuovo listener gruppo di disponibilità (finestra di dialogo)</span><span class="sxs-lookup"><span data-stu-id="f350e-168">New Availability Group Listener (Dialog Box)</span></span>  
 <span data-ttu-id="f350e-169">**Nome DNS del listener**</span><span class="sxs-lookup"><span data-stu-id="f350e-169">**Listener DNS Name**</span></span>  
 <span data-ttu-id="f350e-170">Specifica il nome host DNS del listener del gruppo di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="f350e-170">Specifies the DNS host name of the availability group listener.</span></span> <span data-ttu-id="f350e-171">È inoltre necessario che il nome DNS sia una stringa univoca nel dominio e in NetBIOS.</span><span class="sxs-lookup"><span data-stu-id="f350e-171">The DNS name is a string  must be unique in the domain and in NetBIOS.</span></span> <span data-ttu-id="f350e-172">Può contenere solo caratteri alfanumerici, trattini (-) e caratteri di sottolineatura (_), in qualsiasi ordine.</span><span class="sxs-lookup"><span data-stu-id="f350e-172">This name can contain only alphanumeric characters, dashes (-), and hyphens (_), in any order.</span></span> <span data-ttu-id="f350e-173">Per i nomi host DNS non viene fatta distinzione tra maiuscole e minuscole.</span><span class="sxs-lookup"><span data-stu-id="f350e-173">DNS host names are case insensitive.</span></span> <span data-ttu-id="f350e-174">La lunghezza massima è di 15 caratteri.</span><span class="sxs-lookup"><span data-stu-id="f350e-174">The maximum length is 15 characters.</span></span>  
  
 <span data-ttu-id="f350e-175">Per ulteriori informazioni, vedere [Requisiti per il nome DNS di un listener del gruppo di disponibilità](#DNSnameReqs), più indietro in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="f350e-175">For more information, see [Requirements for the DNS Name of an Availability Group Listener](#DNSnameReqs), earlier in this topic.</span></span>  
  
 <span data-ttu-id="f350e-176">**Porta**</span><span class="sxs-lookup"><span data-stu-id="f350e-176">**Port**</span></span>  
 <span data-ttu-id="f350e-177">Porta TPC utilizzata dal listener.</span><span class="sxs-lookup"><span data-stu-id="f350e-177">The TPC port used by this listener.</span></span>  
  
 <span data-ttu-id="f350e-178">**Modalità di rete**</span><span class="sxs-lookup"><span data-stu-id="f350e-178">**Network Mode**</span></span>  
 <span data-ttu-id="f350e-179">Indica il protocollo TCP utilizzato dal listener. È possibile scegliere uno dei seguenti valori:</span><span class="sxs-lookup"><span data-stu-id="f350e-179">Indicates the TCP protocol used by the listener, one of:</span></span>  
  
 <span data-ttu-id="f350e-180">**DHCP**</span><span class="sxs-lookup"><span data-stu-id="f350e-180">**DHCP**</span></span>  
 <span data-ttu-id="f350e-181">Il listener utilizzerà un indirizzo IP dinamico assegnato da un server in cui viene eseguito il protocollo DHCP (Dynamic Host Configuration Protocol).</span><span class="sxs-lookup"><span data-stu-id="f350e-181">The listener will us a dynamic IP address that is assigned by a server running the Dynamic Host Configuration Protocol (DHCP).</span></span> <span data-ttu-id="f350e-182">DHCP è limitato a una sola subnet.</span><span class="sxs-lookup"><span data-stu-id="f350e-182">DHCP is limited to a single subnet.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="f350e-183">Non è consigliabile utilizzare DHCP negli ambienti di produzione.</span><span class="sxs-lookup"><span data-stu-id="f350e-183">We do not recommend DHCP in production environment.</span></span> <span data-ttu-id="f350e-184">Se si verifica un periodo di inattività e il lease IP DHCP scade, è necessario del tempo aggiuntivo per registrare il nuovo indirizzo IP della rete DHCP che è associato al nome DNS del listener e influisce sulla connettività client.</span><span class="sxs-lookup"><span data-stu-id="f350e-184">If there is a down time and the DHCP IP lease expires, extra time is required to register the new DHCP network IP address that is associated with the listener DNS name and impact the client connectivity.</span></span> <span data-ttu-id="f350e-185">DHCP può essere tranquillamente usato per la configurazione dell'ambiente di sviluppo e test per verificare le funzioni di base di gruppi di disponibilità e per l'integrazione con le applicazioni.</span><span class="sxs-lookup"><span data-stu-id="f350e-185">However, DHCP is good for setting up your development and testing environment to verify basic functions of availability groups and for integration with your applications.</span></span>  
  
 <span data-ttu-id="f350e-186">**Indirizzo IP statico**</span><span class="sxs-lookup"><span data-stu-id="f350e-186">**Static IP**</span></span>  
 <span data-ttu-id="f350e-187">Il listener utilizzerà uno o più indirizzi IP statici.</span><span class="sxs-lookup"><span data-stu-id="f350e-187">The listener will use one or more static IP addresses.</span></span> <span data-ttu-id="f350e-188">Gli indirizzi IP aggiuntivi sono facoltativi.</span><span class="sxs-lookup"><span data-stu-id="f350e-188">Additional IP addresses are optional.</span></span> <span data-ttu-id="f350e-189">Per creare un listener del gruppo di disponibilità tra più subnet, è necessario specificare un indirizzo IP statico per ogni subnet nella configurazione del listener.</span><span class="sxs-lookup"><span data-stu-id="f350e-189">To create an availability group listener across multiple subnets, for each subnet you must specify a static IP address in the listener configuration.</span></span> <span data-ttu-id="f350e-190">Contattare l'amministratore della rete per ottenere questi indirizzi IP statici.</span><span class="sxs-lookup"><span data-stu-id="f350e-190">Contact your network administrator to get these static IP addresses.</span></span>  
  
 <span data-ttu-id="f350e-191">Se si seleziona **Indirizzo IP statico** , verrà visualizzata una griglia della subnet sotto il campo **Modalità di rete** .</span><span class="sxs-lookup"><span data-stu-id="f350e-191">If you select **Static IP** a subnet grid appears below the **Network Mode** field.</span></span> <span data-ttu-id="f350e-192">In questa griglia sono visualizzate informazioni su ogni subnet alla quale è possibile accedere da questo listener del gruppo di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="f350e-192">This grid displays information about each subnet that can be accessed by this availability group listener.</span></span> <span data-ttu-id="f350e-193">La griglia è vuota finché non si aggiunge un indirizzo IP statico facendo clic su **Aggiungi**.</span><span class="sxs-lookup"><span data-stu-id="f350e-193">This grid is empty until you add a static IP address by clicking **Add**.</span></span>  
  
 <span data-ttu-id="f350e-194">Le colonne sono le seguenti:</span><span class="sxs-lookup"><span data-stu-id="f350e-194">The columns are as follows:</span></span>  
  
 <span data-ttu-id="f350e-195">**Subnet**</span><span class="sxs-lookup"><span data-stu-id="f350e-195">**Subnet**</span></span>  
 <span data-ttu-id="f350e-196">Viene visualizzato l'identificatore di ogni subnet aggiunta al listener del gruppo di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="f350e-196">Displays the identifier of each subnet that you add to the availability group listener.</span></span>  
  
 <span data-ttu-id="f350e-197">**Indirizzo IP**</span><span class="sxs-lookup"><span data-stu-id="f350e-197">**IP Address**</span></span>  
 <span data-ttu-id="f350e-198">Viene visualizzato l'indirizzo IP di una determinata subnet.</span><span class="sxs-lookup"><span data-stu-id="f350e-198">Displays the IP address of a given subnet.</span></span>  <span data-ttu-id="f350e-199">Per una determinata subnet, l'indirizzo IP è un indirizzo IPv4 o IPv6.</span><span class="sxs-lookup"><span data-stu-id="f350e-199">For a given subnet, the IP address is either an IPv4 address or an IPv6 address.</span></span>  
  
 <span data-ttu-id="f350e-200">**Aggiungere**</span><span class="sxs-lookup"><span data-stu-id="f350e-200">**Add**</span></span>  
 <span data-ttu-id="f350e-201">Fare clic per aggiungere un indirizzo IP statico a una subnet selezionata o a un'altra subnet per questo listener.</span><span class="sxs-lookup"><span data-stu-id="f350e-201">Click to add to add a static IP address to a selected subnet or to another subnet for this listener.</span></span> <span data-ttu-id="f350e-202">Verrà aperta la finestra di dialogo **Aggiungi indirizzo IP** .</span><span class="sxs-lookup"><span data-stu-id="f350e-202">This opens the **Add IP Address** dialog box.</span></span> <span data-ttu-id="f350e-203">Per altre informazioni, vedere l'argomento della Guida [Finestra di dialogo Aggiungi indirizzo IP &#40;SQL Server Management Studio&#41;](add-ip-address-dialog-box-sql-server-management-studio.md).</span><span class="sxs-lookup"><span data-stu-id="f350e-203">For more information, see the [Add IP Address Dialog Box &#40;SQL Server Management Studio&#41;](add-ip-address-dialog-box-sql-server-management-studio.md) help topic.</span></span>  
  
 <span data-ttu-id="f350e-204">**Rimuovi**</span><span class="sxs-lookup"><span data-stu-id="f350e-204">**Remove**</span></span>  
 <span data-ttu-id="f350e-205">Fare clic per rimuovere la subnet selezionata dal listener.</span><span class="sxs-lookup"><span data-stu-id="f350e-205">Click to remove the selected subnet from this listener.</span></span>  
  
 <span data-ttu-id="f350e-206">**OK**</span><span class="sxs-lookup"><span data-stu-id="f350e-206">**OK**</span></span>  
 <span data-ttu-id="f350e-207">Fare clic per creare il listener del gruppo di disponibilità specificato.</span><span class="sxs-lookup"><span data-stu-id="f350e-207">Click to create the specified availability group listener.</span></span>  
  
##  <a name="using-transact-sql"></a><a name="TsqlProcedure"></a> <span data-ttu-id="f350e-208">Uso di Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="f350e-208">Using Transact-SQL</span></span>  

### <a name="to-create-or-configure-an-availability-group-listener"></a><span data-ttu-id="f350e-209">Per creare o configurare un listener del gruppo di disponibilità</span><span class="sxs-lookup"><span data-stu-id="f350e-209">To create or configure an availability group listener</span></span>
  
1.  <span data-ttu-id="f350e-210">Connettersi all'istanza del server che ospita la replica primaria.</span><span class="sxs-lookup"><span data-stu-id="f350e-210">Connect to the server instance that hosts the primary replica.</span></span>  
  
2.  <span data-ttu-id="f350e-211">Utilizzare l'opzione LISTENER dell'istruzione [CREATE AVAILABILITY GROUP](/sql/t-sql/statements/create-availability-group-transact-sql) o l'opzione ADD LISTENER dell'istruzione [ALTER AVAILABILITY GROUP](/sql/t-sql/statements/alter-availability-group-transact-sql) .</span><span class="sxs-lookup"><span data-stu-id="f350e-211">Use the LISTENER option of the [CREATE AVAILABILITY GROUP](/sql/t-sql/statements/create-availability-group-transact-sql) statement or the ADD LISTENER option of the [ALTER AVAILABILITY GROUP](/sql/t-sql/statements/alter-availability-group-transact-sql) statement.</span></span>  
  
     <span data-ttu-id="f350e-212">Nell'esempio seguente viene aggiunta un listener del gruppo di disponibilità a un gruppo di disponibilità denominato `MyAg2`.</span><span class="sxs-lookup"><span data-stu-id="f350e-212">The following example adds an availability group listener to an existing availability group named `MyAg2`.</span></span> <span data-ttu-id="f350e-213">e un nome DNS univoco, `MyAg2ListenerIvP6`, per questo listener.</span><span class="sxs-lookup"><span data-stu-id="f350e-213">A unique DNS name, `MyAg2ListenerIvP6`, is specified for this listener.</span></span> <span data-ttu-id="f350e-214">Le due repliche si trovano in subnet diverse, pertanto, come consigliato, per il listener devono essere utilizzati indirizzi IP statici.</span><span class="sxs-lookup"><span data-stu-id="f350e-214">The two replicas are on different subnets, so , as recommended, the listener uses static IP addresses.</span></span> <span data-ttu-id="f350e-215">Per ognuna delle due repliche di disponibilità, tramite la clausola WITH IP si specifica un indirizzo IP statico, `2001:4898:f0:f00f::cf3c and 2001:4898:e0:f213::4ce2`, per il quale è utilizzato il formato IPv6.</span><span class="sxs-lookup"><span data-stu-id="f350e-215">For each of the two availability replicas, the WITH IP clause specifies a static IP address, `2001:4898:f0:f00f::cf3c and 2001:4898:e0:f213::4ce2`, which use the IPv6 format.</span></span> <span data-ttu-id="f350e-216">In questo esempio si specifica anche utilizza l'argomento PORT facoltativo per indicare la porta `60173` come porta del listener.</span><span class="sxs-lookup"><span data-stu-id="f350e-216">This example also specifies uses the optional PORT argument to specify port `60173` as the listener port.</span></span>  
  
    ```sql
    ALTER AVAILABILITY GROUP MyAg2   
          ADD LISTENER 'MyAg2ListenerIvP6' ( WITH IP ( ('2001:db88:f0:f00f::cf3c'),('2001:4898:e0:f213::4ce2') ) , PORT = 60173 );   
    GO  
    ```  
  
##  <a name="using-powershell"></a><a name="PowerShellProcedure"></a> <span data-ttu-id="f350e-217">Utilizzo di PowerShell</span><span class="sxs-lookup"><span data-stu-id="f350e-217">Using PowerShell</span></span>  

### <a name="to-create-or-configure-an-availability-group-listener"></a><span data-ttu-id="f350e-218">Per creare o configurare un listener del gruppo di disponibilità</span><span class="sxs-lookup"><span data-stu-id="f350e-218">To create or configure an availability group listener</span></span> 
  
1.  <span data-ttu-id="f350e-219">Spostarsi nella directory (`cd`) dell'istanza del server che ospita la replica primaria.</span><span class="sxs-lookup"><span data-stu-id="f350e-219">Change directory (`cd`) to the server instance that hosts the primary replica.</span></span>  
  
2.  <span data-ttu-id="f350e-220">Per creare o modificare un listener del gruppo di disponibilità, utilizzare uno dei cmdlet seguenti:</span><span class="sxs-lookup"><span data-stu-id="f350e-220">To create or modify an availability group listener use one of the following cmdlets:</span></span>  
  
     `New-SqlAvailabilityGroupListener`  
     <span data-ttu-id="f350e-221">Crea un nuovo listener del gruppo di disponibilità e lo collega a un gruppo di disponibilità esistente.</span><span class="sxs-lookup"><span data-stu-id="f350e-221">Creates a new availability group listener and attaches it to an existing availability group.</span></span>  
  
     <span data-ttu-id="f350e-222">Ad esempio, il seguente comando `New-SqlAvailabilityGroupListener` crea un listener del gruppo di disponibilità denominato `MyListener` per il gruppo di disponibilità `MyAg`.</span><span class="sxs-lookup"><span data-stu-id="f350e-222">For example, the following `New-SqlAvailabilityGroupListener` command creates an availability group listener named `MyListener` for the availability group `MyAg`.</span></span> <span data-ttu-id="f350e-223">Il listener utilizzerà l'indirizzo IPv4 passato al parametro `-StaticIp` come relativo indirizzo IP virtuale.</span><span class="sxs-lookup"><span data-stu-id="f350e-223">This listener will use the IPv4 address passed to the `-StaticIp` parameter as its virtual IP address.</span></span>  
  
    ```powershell
    New-SqlAvailabilityGroupListener -Name MyListener `
    -StaticIp '192.168.3.1/255.255.252.0' `
    -Path SQLSERVER:\Sql\Computer\Instance\AvailabilityGroups\MyAg
    ```  
  
     `Set-SqlAvailabilityGroupListener`  
     <span data-ttu-id="f350e-224">Modifica l'impostazione della porta su un listener del gruppo di disponibilità esistente.</span><span class="sxs-lookup"><span data-stu-id="f350e-224">Modifies the port setting on an existing availability group listener.</span></span>  
  
     <span data-ttu-id="f350e-225">Ad esempio, il seguente comando `Set-SqlAvailabilityGroupListener` imposta il numero di porta per il listener del gruppo di disponibilità denominato `MyListener` su `1535`.</span><span class="sxs-lookup"><span data-stu-id="f350e-225">For example, the following `Set-SqlAvailabilityGroupListener` command sets the port number for the availability group listener named `MyListener` to `1535`.</span></span> <span data-ttu-id="f350e-226">Questa porta viene utilizzata per restare in ascolto delle connessioni al listener.</span><span class="sxs-lookup"><span data-stu-id="f350e-226">This port is used to listen for connections to the listener.</span></span>  
  
    ```powershell
    Set-SqlAvailabilityGroupListener -Port 1535 `
    -Path SQLSERVER:\Sql\PrimaryServer\InstanceName\AvailabilityGroups\MyAg\AGListeners\MyListener  
    ```  
  
     `Add-SqlAGListenerstaticIp`  
     <span data-ttu-id="f350e-227">Aggiunge un indirizzo IP statico a una configurazione del listener del gruppo di disponibilità esistente.</span><span class="sxs-lookup"><span data-stu-id="f350e-227">Adds a static IP address to an existing availability group listener configuration.</span></span> <span data-ttu-id="f350e-228">L'indirizzo IP può essere un indirizzo IPv4 con subnet o un indirizzo IPv6.</span><span class="sxs-lookup"><span data-stu-id="f350e-228">The IP address can be an IPv4 address with subnet, or an IPv6 address.</span></span>  
  
     <span data-ttu-id="f350e-229">Ad esempio, il seguente comando `Add-SqlAGListenerstaticIp` aggiunge un indirizzo IPv4 statico al listener del gruppo di disponibilità `MyListener` nel gruppo di disponibilità `MyAg`.</span><span class="sxs-lookup"><span data-stu-id="f350e-229">For example, the following `Add-SqlAGListenerstaticIp` command adds a static IPv4 address to the availability group listener `MyListener` on the availability group `MyAg`.</span></span> <span data-ttu-id="f350e-230">Questo indirizzo IPv6 viene utilizzato come indirizzo IP virtuale del listener nella subnet `255.255.252.0`.</span><span class="sxs-lookup"><span data-stu-id="f350e-230">This IPv6 address serves as the virtual IP address of the listener on the subnet `255.255.252.0`.</span></span> <span data-ttu-id="f350e-231">Se il gruppo di disponibilità viene esteso a più subnet, è consigliabile aggiungere un indirizzo IP statico per ogni subnet al listener.</span><span class="sxs-lookup"><span data-stu-id="f350e-231">If the availability group spans multiple subnets, you should add a static IP address for each subnet to the listener.</span></span>  
  
    ```powershell
    $path = "SQLSERVER:\SQL\PrimaryServer\InstanceName\AvailabilityGroups\MyAg\AGListeners\ MyListener" `
    Add-SqlAGListenerstaticIp -Path $path `
    -StaticIp "2001:0db8:85a3:0000:0000:8a2e:0370:7334"  
    ```  
  
    > [!NOTE]  
    >  <span data-ttu-id="f350e-232">Per visualizzare la sintassi di un cmdlet, usare il cmdlet **Get-Help** nell' [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] ambiente PowerShell.</span><span class="sxs-lookup"><span data-stu-id="f350e-232">To view the syntax of a cmdlet, use the **Get-Help**  cmdlet in the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] PowerShell environment.</span></span> <span data-ttu-id="f350e-233">Per altre informazioni, vedere [Get Help SQL Server PowerShell](../../../powershell/sql-server-powershell.md).</span><span class="sxs-lookup"><span data-stu-id="f350e-233">For more information, see [Get Help SQL Server PowerShell](../../../powershell/sql-server-powershell.md).</span></span>  
  
<span data-ttu-id="f350e-234">Per configurare e usare il provider di SQL Server PowerShell, vedere [provider di SQL Server PowerShell](../../../powershell/sql-server-powershell-provider.md).</span><span class="sxs-lookup"><span data-stu-id="f350e-234">To set up and use the SQL Server PowerShell provider, see [SQL Server PowerShell Provider](../../../powershell/sql-server-powershell-provider.md).</span></span>
  
## <a name="troubleshooting"></a><span data-ttu-id="f350e-235">Risoluzione dei problemi</span><span class="sxs-lookup"><span data-stu-id="f350e-235">Troubleshooting</span></span>  
  
###  <a name="failure-to-create-an-availability-group-listener-because-of-active-directory-quotas"></a><a name="ADQuotas"></a><span data-ttu-id="f350e-236">Errore durante la creazione di un listener del gruppo di disponibilità a causa di quote di Active Directory</span><span class="sxs-lookup"><span data-stu-id="f350e-236">Failure to Create An Availability Group Listener Because of Active Directory Quotas</span></span>  
 <span data-ttu-id="f350e-237">La creazione di un nuovo listener del gruppo di disponibilità può avere esito negativo perché è stata raggiunta una quota di Active Directory per l'account del computer del nodo del cluster interessato.</span><span class="sxs-lookup"><span data-stu-id="f350e-237">The creation of a new availability group listener may fail upon creation because you have reached an Active Directory quota for the participating cluster node machine account.</span></span>  <span data-ttu-id="f350e-238">Per altre informazioni, vedere gli articoli seguenti:</span><span class="sxs-lookup"><span data-stu-id="f350e-238">For more information, see the following articles:</span></span>  
  
-   [<span data-ttu-id="f350e-239">HYPERLINK " https://support.microsoft.com/kb/307532 " come risolvere i problemi dell'account del servizio cluster quando vengono modificati gli oggetti computer</span><span class="sxs-lookup"><span data-stu-id="f350e-239">HYPERLINK "https://support.microsoft.com/kb/307532" How to Troubleshoot the Cluster Service Account When It Modifies Computer Objects</span></span>](https://support.microsoft.com/kb/307532)  
  
-   <span data-ttu-id="f350e-240">[HYPERLINK " https://technet.microsoft.com/library/cc904295(WS.10).aspx " Active Directory quote](https://technet.microsoft.com/library/cc904295\(WS.10\).aspx)</span><span class="sxs-lookup"><span data-stu-id="f350e-240">[HYPERLINK "https://technet.microsoft.com/library/cc904295(WS.10).aspx" Active Directory Quotas](https://technet.microsoft.com/library/cc904295\(WS.10\).aspx)</span></span>  
  
##  <a name="follow-up-after-creating-an-availability-group-listener"></a><a name="FollowUp"></a><span data-ttu-id="f350e-241">Completamento: fasi successive alla creazione di un listener del gruppo di disponibilità</span><span class="sxs-lookup"><span data-stu-id="f350e-241">Follow-up: After Creating an Availability Group Listener</span></span>  
  
###  <a name="multisubnetfailover-keyword-and-associated-features"></a><a name="MultiSubnetFailover"></a><span data-ttu-id="f350e-242">Parola chiave MultiSubnetFailover e funzionalità associate</span><span class="sxs-lookup"><span data-stu-id="f350e-242">MultiSubnetFailover Keyword and Associated Features</span></span>  
 <span data-ttu-id="f350e-243">`MultiSubnetFailover` è una nuova parola chiave della stringa di connessione utilizzata per accelerare il failover con i gruppi di disponibilità AlwaysOn e le istanze del cluster di failover AlwaysOn in SQL Server 2012.</span><span class="sxs-lookup"><span data-stu-id="f350e-243">`MultiSubnetFailover` is a new connection string keyword used to enable faster failover with AlwaysOn Availability Groups and AlwaysOn Failover Cluster Instances in SQL Server 2012.</span></span> <span data-ttu-id="f350e-244">Le tre seguenti funzionalità secondarie vengono abilitate quando `MultiSubnetFailover=True` è impostato nella stringa di connessione:</span><span class="sxs-lookup"><span data-stu-id="f350e-244">The following three sub-features are enabled when `MultiSubnetFailover=True` is set in connection string:</span></span>  
  
-   <span data-ttu-id="f350e-245">Failover multisubnet più rapido su un listener su più subnet per un gruppo di disponibilità AlwaysOn o istanze del cluster di failover.</span><span class="sxs-lookup"><span data-stu-id="f350e-245">Faster multi-subnet failover to a multi-subnet listener for an AlwaysOn Availability Group or Failover Cluster Instances.</span></span>  
  
-   <span data-ttu-id="f350e-246">Failover a singola subnet più rapido su un listener su una sola subnet per un gruppo di disponibilità AlwaysOn o istanze del cluster di failover.</span><span class="sxs-lookup"><span data-stu-id="f350e-246">Faster single subnet failover to a single subnet listener for an AlwaysOn Availability Group or Failover Cluster Instances.</span></span>  
  
    -   <span data-ttu-id="f350e-247">Questa funzionalità viene usata per la connessione a un listener in cui è disponibile un singolo indirizzo IP in una sola subnet.</span><span class="sxs-lookup"><span data-stu-id="f350e-247">This feature is used when connecting to a listener that has a single IP in a single subnet.</span></span> <span data-ttu-id="f350e-248">Vengono effettuati tentativi di connessione TCP più aggressivi per accelerare i failover su una sola subnet.</span><span class="sxs-lookup"><span data-stu-id="f350e-248">This performs more aggressive TCP connection retries to speed up single subnet failovers.</span></span>  
  
-   <span data-ttu-id="f350e-249">Risoluzione dell'istanza denominata su un'istanza del cluster di failover AlwaysOn su più subnet.</span><span class="sxs-lookup"><span data-stu-id="f350e-249">Named instance resolution to a multi-subnet AlwaysOn Failover Cluster Instance.</span></span>  
  
    -   <span data-ttu-id="f350e-250">Questo consente di aggiungere il supporto della risoluzione dell'istanza denominata per istanze del cluster di failover AlwaysOn con endpoint su più subnet.</span><span class="sxs-lookup"><span data-stu-id="f350e-250">This is to add named instance resolution support for an AlwaysOn Failover Cluster Instances with multiple subnet endpoints.</span></span>  
  
 <span data-ttu-id="f350e-251">**MultiSubnetFailover=True non supportato da .NET Framework 3.5 o OLEDB**</span><span class="sxs-lookup"><span data-stu-id="f350e-251">**MultiSubnetFailover=True Not Supported by NET Framework 3.5 or OLEDB**</span></span>  
  
 <span data-ttu-id="f350e-252">**Problema:** Se il gruppo di disponibilità o l'istanza del cluster di failover dispone di un nome di listener (noto come nome di rete o punto di accesso client in Gestione cluster WSFC) in base a più indirizzi IP di subnet diverse e si utilizza ADO.NET con .NET Framework 3.5 SP1 o SQL Native Client OLEDB 11,0, potenzialmente 50% delle richieste di connessione client al listener del gruppo di disponibilità verrà raggiunto un timeout di connessione.</span><span class="sxs-lookup"><span data-stu-id="f350e-252">**Issue:** If your Availability Group or Failover Cluster Instance has a listener name (known as the network name or Client Access Point in the WSFC Cluster Manager) depending on multiple IP addresses from different subnets, and you are using either ADO.NET with .NET Framework 3.5SP1 or SQL Native Client 11.0 OLEDB, potentially 50% of your client-connection requests to the availability group listener will hit a connection timeout.</span></span>  
  
 <span data-ttu-id="f350e-253">**Soluzioni alternative:** è consigliabile eseguire una delle attività seguenti.</span><span class="sxs-lookup"><span data-stu-id="f350e-253">**Workarounds:** We recommend that you do one of the following tasks.</span></span>  
  
-   <span data-ttu-id="f350e-254">Se non si dispone dell'autorizzazione per usare le risorse cluster, modificare il timeout di connessione in 30 secondi (questo valore corrisponde a un periodo di timeout TCP di 20 secondi più un buffer di 10).</span><span class="sxs-lookup"><span data-stu-id="f350e-254">If do not have the permission to manipulate cluster resources, change your connection timeout to 30 seconds (this value results in a 20-second TCP timeout period plus a 10-second buffer).</span></span>  
  
     <span data-ttu-id="f350e-255">**Vantaggi**: se si verifica un failover tra subnet, il tempo di recupero del client è breve.</span><span class="sxs-lookup"><span data-stu-id="f350e-255">**Pros**: If a cross-subnet failover occurs, client recovery time is short.</span></span>  
  
     <span data-ttu-id="f350e-256">**Svantaggi**: la metà delle connessioni client impiegherà più di 20 secondi</span><span class="sxs-lookup"><span data-stu-id="f350e-256">**Cons**: Half of the client connections will take more than 20 seconds</span></span>  
  
-   <span data-ttu-id="f350e-257">Se si dispone dell'autorizzazione per utilizzare le risorse cluster, l'approccio migliore consiste nell'impostare il nome di rete del listener del gruppo di disponibilità su `RegisterAllProvidersIP=0`.</span><span class="sxs-lookup"><span data-stu-id="f350e-257">If you have the permission to manipulate cluster resources, the more recommended approach is to set the network name of your availability group listener to `RegisterAllProvidersIP=0`.</span></span> <span data-ttu-id="f350e-258">Per altre informazioni, vedere "Impostazione RegisterAllProvidersIP" più avanti in questa sezione.</span><span class="sxs-lookup"><span data-stu-id="f350e-258">For more information, see "RegisterAllProvidersIP Setting" later in this section.</span></span>  
  
     <span data-ttu-id="f350e-259">**Vantaggi:** non è necessario aumentare il valore di timeout della connessione client.</span><span class="sxs-lookup"><span data-stu-id="f350e-259">**Pros:** You do not need to increase your client-connection timeout value.</span></span>  
  
     <span data-ttu-id="f350e-260">**Svantaggi:** Se si verifica un failover tra subnet, il tempo di recupero del client potrebbe essere di 15 minuti o più, a seconda dell' `HostRecordTTL` impostazione e dell'impostazione della pianificazione della replica DNS/ad tra siti.</span><span class="sxs-lookup"><span data-stu-id="f350e-260">**Cons:** If a cross-subnet failover occurs, the client recovery time could be 15 minutes or longer, depending on your `HostRecordTTL` setting and the setting of your cross-site DNS/AD replication schedule.</span></span>  
  
###  <a name="registerallprovidersip-setting"></a><a name="RegisterAllProvidersIP"></a><span data-ttu-id="f350e-261">Impostazione RegisterAllProvidersIP</span><span class="sxs-lookup"><span data-stu-id="f350e-261">RegisterAllProvidersIP Setting</span></span>  
 <span data-ttu-id="f350e-262">Se si utilizza [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], [!INCLUDE[tsql](../../../includes/tsql-md.md)] o PowerShell per creare un listener del gruppo di disponibilità, il punto di accesso client viene creato in WSFC con la proprietà `RegisterAllProvidersIP` impostata su 1 (true).</span><span class="sxs-lookup"><span data-stu-id="f350e-262">When you use [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], [!INCLUDE[tsql](../../../includes/tsql-md.md)], or PowerShell to create an availability group listener, the Client Access Point is created in WSFC with the `RegisterAllProvidersIP` property set to 1 (true).</span></span> <span data-ttu-id="f350e-263">L'effetto del valore di questa proprietà dipende dalla stringa di connessione client, come indicato di seguito:</span><span class="sxs-lookup"><span data-stu-id="f350e-263">The effect of this property value depends on the client connection string, as follows:</span></span>  
  
-   <span data-ttu-id="f350e-264">Stringhe di connessione che impostano `MultiSubnetFailover` su true</span><span class="sxs-lookup"><span data-stu-id="f350e-264">Connection strings that set `MultiSubnetFailover` to true</span></span>  
  
     [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] <span data-ttu-id="f350e-265">imposta la proprietà `RegisterAllProvidersIP` su 1 per ridurre il tempo di riconnessione in seguito a un failover per i client le cui stringhe di connessione specificano `MultiSubnetFailover = True`, come consigliato.</span><span class="sxs-lookup"><span data-stu-id="f350e-265">sets the  `RegisterAllProvidersIP` property to 1 in order to reduce re-connection time after a failover for clients whose client connection strings specify `MultiSubnetFailover = True`, as recommended.</span></span> <span data-ttu-id="f350e-266">Per sfruttare la funzionalità di più subnet del listener, i client possono richiedere un provider di dati che supporta la parola chiave `MultiSubnetFailover`.</span><span class="sxs-lookup"><span data-stu-id="f350e-266">Note that to take advantage of the listener multi-subnet feature, your clients might require a data provider that supports the `MultiSubnetFailover` keyword.</span></span> <span data-ttu-id="f350e-267">Per informazioni sul supporto dei driver per il failover su più subnet, vedere [Connettività client AlwaysOn &#40;SQL Server&#41;](always-on-client-connectivity-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="f350e-267">For information about driver support for multi-subnet failover, see [AlwaysOn Client Connectivity &#40;SQL Server&#41;](always-on-client-connectivity-sql-server.md).</span></span>  
  
     <span data-ttu-id="f350e-268">Per informazioni sul clustering su più subnet, vedere [Clustering su più subnet di SQL Server &#40;SQL Server&#41;](../../../sql-server/failover-clusters/windows/sql-server-multi-subnet-clustering-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="f350e-268">For information about multi-subnet clustering, see [SQL Server Multi-Subnet Clustering &#40;SQL Server&#41;](../../../sql-server/failover-clusters/windows/sql-server-multi-subnet-clustering-sql-server.md).</span></span>  
  
    > [!TIP]  
    >  <span data-ttu-id="f350e-269">Quando `RegisterAllProvidersIP = 1`, se si esegue la Convalida guidata configurazione di WSFC nel cluster WSFC, verrà generato il seguente messaggio di avviso:</span><span class="sxs-lookup"><span data-stu-id="f350e-269">When `RegisterAllProvidersIP = 1`, if you run the WSFC Validate a Configuration Wizard on the WSFC cluster, the wizard generates the following warning message:</span></span>  
    >   
    >  <span data-ttu-id="f350e-270">"La proprietà RegisterAllProviderIP per il nome di rete 'Nome:<nome_rete>' è impostata su 1. Per la configurazione corrente del cluster tale valore dovrebbe essere impostato su 0."</span><span class="sxs-lookup"><span data-stu-id="f350e-270">"The RegisterAllProviderIP property for network name 'Name:<network_name>' is set to 1 For the current cluster configuration this value should be set to 0."</span></span>  
    >   
    >  <span data-ttu-id="f350e-271">Ignorare tale messaggio.</span><span class="sxs-lookup"><span data-stu-id="f350e-271">Please ignore this message.</span></span>  
  
-   <span data-ttu-id="f350e-272">Stringhe di connessione che non impostano `MultiSubnetFailover` su true</span><span class="sxs-lookup"><span data-stu-id="f350e-272">Connection strings that do not set `MultiSubnetFailover` to true</span></span>  
  
     <span data-ttu-id="f350e-273">Se `RegisterAllProvidersIP = 1`, in tutti i client le cui stringhe di connessione non utilizzano `MultiSubnetFailover = True`si verificheranno connessioni ad alta latenza.</span><span class="sxs-lookup"><span data-stu-id="f350e-273">When `RegisterAllProvidersIP = 1`, any clients whose connection strings do not use `MultiSubnetFailover = True`, will experience high latency connections.</span></span> <span data-ttu-id="f350e-274">Questa situazione si verifica in quanto questi client tentano di effettuare connessioni a tutti gli indirizzi IP in sequenza.</span><span class="sxs-lookup"><span data-stu-id="f350e-274">This occurs because these clients attempt connections to all IPs sequentially.</span></span> <span data-ttu-id="f350e-275">Al contrario, se `RegisterAllProvidersIP` viene impostato su 0, l'indirizzo IP attivo viene registrato nel punto di accesso client del cluster WSFC, riducendo la latenza per i client legacy.</span><span class="sxs-lookup"><span data-stu-id="f350e-275">In contrast, if `RegisterAllProvidersIP` is changed to 0, the active IP address is registered in the Client Access Point in the WSFC cluster, reducing latency for legacy clients.</span></span> <span data-ttu-id="f350e-276">Se pertanto si dispone di client legacy che devono connettersi a un listener del gruppo di disponibilità e non è possibile utilizzare la `MultiSubnetFailover` proprietà, è consigliabile passare `RegisterAllProvidersIP` a 0.</span><span class="sxs-lookup"><span data-stu-id="f350e-276">Therefore, if you have legacy clients that need to connect to an availability group listener and cannot use the `MultiSubnetFailover` property, we recommend that you change `RegisterAllProvidersIP` to 0.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="f350e-277">In fase di creazione di un listener del gruppo di disponibilità mediante il cluster WSFC (interfaccia utente grafica di Gestione cluster di failover), `RegisterAllProvidersIP` sarà 0 (false) per impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="f350e-277">When you create an availability group listener through the WSFC cluster (Failover Cluster Manager GUI), `RegisterAllProvidersIP` will be 0 (false) by default.</span></span>  
  
###  <a name="hostrecordttl-setting"></a><a name="HostRecordTTL"></a><span data-ttu-id="f350e-278">Impostazione HostRecordTTL</span><span class="sxs-lookup"><span data-stu-id="f350e-278">HostRecordTTL Setting</span></span>  
 <span data-ttu-id="f350e-279">Per impostazione predefinita, tramite i client vengono memorizzati nella cache record DNS del cluster per 20 minuti.</span><span class="sxs-lookup"><span data-stu-id="f350e-279">By default, clients cache cluster DNS records for 20 minutes.</span></span>  <span data-ttu-id="f350e-280">Riducendo `HostRecordTTL`, la durata (TTL), per il record memorizzato nella cache, i client legacy possono riconnettersi più rapidamente.</span><span class="sxs-lookup"><span data-stu-id="f350e-280">By reducing `HostRecordTTL`, the Time to Live (TTL), for the cached record, legacy clients may reconnect more quickly.</span></span>  <span data-ttu-id="f350e-281">Tuttavia, la riduzione dell'impostazione `HostRecordTTL` può inoltre comportare un aumento del traffico nei server DN.</span><span class="sxs-lookup"><span data-stu-id="f350e-281">However, reducing the `HostRecordTTL` setting may also result in increased traffic to the DN servers.</span></span>  
  
###  <a name="sample-powershell-script-to-disable-registerallprovidersip-and-reduce-ttl"></a><a name="SampleScript"></a><span data-ttu-id="f350e-282">Script di PowerShell di esempio per disabilitare RegisterAllProvidersIP e ridurre la durata (TTL)</span><span class="sxs-lookup"><span data-stu-id="f350e-282">Sample PowerShell Script to Disable RegisterAllProvidersIP and Reduce TTL</span></span>  
 <span data-ttu-id="f350e-283">Nell'esempio di PowerShell riportato di seguito viene illustrato come configurare i parametri del cluster `RegisterAllProvidersIP` e `HostRecordTTL` per la risorsa del listener.</span><span class="sxs-lookup"><span data-stu-id="f350e-283">The following PowerShell example demonstrates how to configure both the `RegisterAllProvidersIP` and `HostRecordTTL` cluster parameters for the listener resource.</span></span>  <span data-ttu-id="f350e-284">Il record DNS verrà memorizzato nella cache per 5 minuti, anziché i 20 minuti predefiniti.</span><span class="sxs-lookup"><span data-stu-id="f350e-284">The DNS record will be cached for 5 minutes rather than the default 20 minutes.</span></span>  <span data-ttu-id="f350e-285">La modifica di entrambi i parametri del cluster può ridurre il tempo di connessione all'indirizzo IP corretto dopo un failover per i client legacy che non possono utilizzare il parametro `MultiSubnetFailover`.</span><span class="sxs-lookup"><span data-stu-id="f350e-285">Modifying both cluster parameters may reduce the time to connect to the correct IP address after a failover for legacy clients that cannot use the `MultiSubnetFailover` parameter.</span></span>  <span data-ttu-id="f350e-286">Sostituire `yourListenerName` con il nome del listener che si sta modificando.</span><span class="sxs-lookup"><span data-stu-id="f350e-286">Replace `yourListenerName` with the name of the listener that you are changing.</span></span>  
  
```powershell
Import-Module FailoverClusters  
Get-ClusterResource yourListenerName | Set-ClusterParameter RegisterAllProvidersIP 0
Get-ClusterResource yourListenerName|Set-ClusterParameter HostRecordTTL 300  
Stop-ClusterResource yourListenerName  
Start-ClusterResource yourAGResource  
```  
  
 <span data-ttu-id="f350e-287">Per altre informazioni sui tempi di recupero durante i failover, vedere [Client Recovery Latency During Failover](../../../sql-server/failover-clusters/windows/sql-server-multi-subnet-clustering-sql-server.md#DNS).</span><span class="sxs-lookup"><span data-stu-id="f350e-287">For more information about recovery times during failover, see [Client Recovery Latency During Failover](../../../sql-server/failover-clusters/windows/sql-server-multi-subnet-clustering-sql-server.md#DNS).</span></span>  
  
###  <a name="follow-up-recommendations"></a><a name="FollowUpRecommendations"></a><span data-ttu-id="f350e-288">Raccomandazioni di completamento</span><span class="sxs-lookup"><span data-stu-id="f350e-288">Follow-up Recommendations</span></span>  
 <span data-ttu-id="f350e-289">Dopo aver creato un listener del gruppo di disponibilità:</span><span class="sxs-lookup"><span data-stu-id="f350e-289">After you create an availability group listener:</span></span>  
  
-   <span data-ttu-id="f350e-290">Chiedere all'amministratore di rete di riservare l'indirizzo IP del listener per un uso esclusivo.</span><span class="sxs-lookup"><span data-stu-id="f350e-290">Ask your network administrator to reserve the listener's IP address for its exclusive use.</span></span>  
  
-   <span data-ttu-id="f350e-291">Fornire il nome host DNS del listener agli sviluppatori dell'applicazione in modo da essere usato nelle stringhe di connessione per la richiesta di connessioni client al gruppo di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="f350e-291">Give the listener's DNS host name to application developers to use in connection strings when requesting client connections to this availability group.</span></span>  
  
-   <span data-ttu-id="f350e-292">Incoraggiare gli sviluppatori ad aggiornare le stringhe di connessione client in modo da specificare `MultiSubnetFailover = True`, se possibile.</span><span class="sxs-lookup"><span data-stu-id="f350e-292">Encourage developers to update client connection strings to specify `MultiSubnetFailover = True`, if possible.</span></span> <span data-ttu-id="f350e-293">Per informazioni sul supporto dei driver per il failover su più subnet, vedere [Connettività client AlwaysOn &#40;SQL Server&#41;](always-on-client-connectivity-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="f350e-293">For information about driver support for multi-subnet failover, see [AlwaysOn Client Connectivity &#40;SQL Server&#41;](always-on-client-connectivity-sql-server.md).</span></span>  
  
###  <a name="create-an-additional-listener-for-an-availability-group-optional"></a><a name="CreateAdditionalListener"></a><span data-ttu-id="f350e-294">Creare un listener aggiuntivo per un gruppo di disponibilità (facoltativo)</span><span class="sxs-lookup"><span data-stu-id="f350e-294">Create an Additional Listener for an Availability Group (Optional)</span></span>  
 <span data-ttu-id="f350e-295">Dopo avere creato un listener tramite SQL Server, è possibile aggiungere un altro listener come indicato di seguito:</span><span class="sxs-lookup"><span data-stu-id="f350e-295">After you create one listener through SQL Server, you can add an additional listener, as follows:</span></span>  
  
1.  <span data-ttu-id="f350e-296">Creare il listener utilizzando uno degli strumenti seguenti:</span><span class="sxs-lookup"><span data-stu-id="f350e-296">Create the listener using either of the following tools:</span></span>  
  
    -   <span data-ttu-id="f350e-297">**Gestione cluster di failover WSFC:**</span><span class="sxs-lookup"><span data-stu-id="f350e-297">**Using WSFC Failover Cluster Manager:**</span></span>  
  
        1.  <span data-ttu-id="f350e-298">Aggiungere un punto di accesso client e configurare l'indirizzo IP.</span><span class="sxs-lookup"><span data-stu-id="f350e-298">Add a client access point and configure the IP address.</span></span>  
  
        2.  <span data-ttu-id="f350e-299">Portare il listener online.</span><span class="sxs-lookup"><span data-stu-id="f350e-299">Bring the listener online.</span></span>  
  
        3.  <span data-ttu-id="f350e-300">Aggiungere una dipendenza alla risorsa del gruppo di disponibilità WSFC.</span><span class="sxs-lookup"><span data-stu-id="f350e-300">Add a dependency to the WSFC availability group resource.</span></span>  
  
         <span data-ttu-id="f350e-301">Per informazioni sulle finestre di dialogo e le schede di Gestione cluster di failover, vedere [Interfaccia utente: snap-in Gestione cluster di failover](https://technet.microsoft.com/library/cc772502.aspx).</span><span class="sxs-lookup"><span data-stu-id="f350e-301">For information about the dialog boxes and tabs of the Failover Cluster Manager, see [User Interface: The Failover Cluster Manager Snap-In](https://technet.microsoft.com/library/cc772502.aspx).</span></span>  
  
    -   <span data-ttu-id="f350e-302">**Utilizzo di Windows PowerShell per i cluster di failover:**</span><span class="sxs-lookup"><span data-stu-id="f350e-302">**Using Windows PowerShell for failover clusters:**</span></span>  
  
        1.  <span data-ttu-id="f350e-303">Usare [Add-ClusterResource](https://technet.microsoft.com/library/ee460983.aspx) per creare un nome di rete e le risorse dell'indirizzo IP.</span><span class="sxs-lookup"><span data-stu-id="f350e-303">Use [Add-ClusterResource](https://technet.microsoft.com/library/ee460983.aspx) to create a network name and the IP address resources.</span></span>  
  
        2.  <span data-ttu-id="f350e-304">Usare [Start-ClusterResource](https://technet.microsoft.com/library/ee461056.aspx) per avviare la risorsa del nome di rete.</span><span class="sxs-lookup"><span data-stu-id="f350e-304">Use [Start-ClusterResource](https://technet.microsoft.com/library/ee461056.aspx) to start the network name resource.</span></span>  
  
        3.  <span data-ttu-id="f350e-305">Usare [Add-ClusterResourceDependency](https://technet.microsoft.com/library/ee461014.aspx) per impostare la dipendenza tra la risorsa del nome di rete e la risorsa del gruppo di disponibilità di SQL Server.</span><span class="sxs-lookup"><span data-stu-id="f350e-305">Use [Add-ClusterResourceDependency](https://technet.microsoft.com/library/ee461014.aspx) to set the dependency between the network name and the existing SQL Server Availability Group resource.</span></span>  
  
         <span data-ttu-id="f350e-306">Per informazioni sull'utilizzo di Windows PowerShell per i cluster di failover, vedere [Panoramica dei comandi di Server Manager](https://technet.microsoft.com/library/cc732757.aspx#BKMK_wps).</span><span class="sxs-lookup"><span data-stu-id="f350e-306">For information about using Windows PowerShell for failover clusters, see [Overview of Server Manager Commands](https://technet.microsoft.com/library/cc732757.aspx#BKMK_wps).</span></span>  
  
2.  <span data-ttu-id="f350e-307">Avviare l'attesa di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] sul nuovo listener.</span><span class="sxs-lookup"><span data-stu-id="f350e-307">Start [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] listening on the new listener.</span></span> <span data-ttu-id="f350e-308">Dopo avere creato il listener aggiuntivo, connettersi all'istanza di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] in cui è ospitata la replica primaria del gruppo di disponibilità e utilizzare [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], [!INCLUDE[tsql](../../../includes/tsql-md.md)]o PowerShell per modificare la porta del listener.</span><span class="sxs-lookup"><span data-stu-id="f350e-308">After creating the additional listener, connect to the instance of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] that hosts the primary replica of the availability group and use [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], [!INCLUDE[tsql](../../../includes/tsql-md.md)], or PowerShell to modify the listener port.</span></span>  
  
 <span data-ttu-id="f350e-309">Per ulteriori informazioni, vedere [Come creare più listener per lo stesso gruppo di disponibilità](https://blogs.msdn.com/b/sqlalwayson/archive/2012/02/03/how-to-create-multiple-listeners-for-same-availability-group-goden-yao.aspx) (blog del team di SQL Server AlwaysOn).</span><span class="sxs-lookup"><span data-stu-id="f350e-309">For more information, see [How to create multiple listeners for same availability group](https://blogs.msdn.com/b/sqlalwayson/archive/2012/02/03/how-to-create-multiple-listeners-for-same-availability-group-goden-yao.aspx) (a SQL Server AlwaysOn team blog).</span></span>  
  
##  <a name="related-tasks"></a><a name="RelatedTasks"></a> <span data-ttu-id="f350e-310">Attività correlate</span><span class="sxs-lookup"><span data-stu-id="f350e-310">Related Tasks</span></span>  
  
-   [<span data-ttu-id="f350e-311">Visualizzare le proprietà del listener del gruppo di disponibilità &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="f350e-311">View Availability Group Listener Properties &#40;SQL Server&#41;</span></span>](view-availability-group-listener-properties-sql-server.md)  
  
-   [<span data-ttu-id="f350e-312">Rimuovere un listener del gruppo di disponibilità &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="f350e-312">Remove an Availability Group Listener &#40;SQL Server&#41;</span></span>](remove-an-availability-group-listener-sql-server.md)  
  
##  <a name="related-content"></a><a name="RelatedContent"></a> <span data-ttu-id="f350e-313">Contenuto correlato</span><span class="sxs-lookup"><span data-stu-id="f350e-313">Related Content</span></span>  
  
-   [<span data-ttu-id="f350e-314">Come creare più listener per lo stesso gruppo di disponibilità</span><span class="sxs-lookup"><span data-stu-id="f350e-314">How to create multiple listeners for same availability group</span></span>](https://blogs.msdn.com/b/sqlalwayson/archive/2012/02/03/how-to-create-multiple-listeners-for-same-availability-group-goden-yao.aspx)  
  
-   [<span data-ttu-id="f350e-315">Blog del team di SQL Server AlwaysOn: Blog ufficiale del team SQL Server AlwaysOn</span><span class="sxs-lookup"><span data-stu-id="f350e-315">SQL Server AlwaysOn Team Blog: The official SQL Server AlwaysOn team blog</span></span>](https://blogs.msdn.com/b/sqlalwayson/)  
  
## <a name="see-also"></a><span data-ttu-id="f350e-316">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="f350e-316">See Also</span></span>  
 <span data-ttu-id="f350e-317">[Panoramica di Gruppi di disponibilità AlwaysOn &#40;SQL Server&#41;](overview-of-always-on-availability-groups-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="f350e-317">[Overview of AlwaysOn Availability Groups &#40;SQL Server&#41;](overview-of-always-on-availability-groups-sql-server.md) </span></span>  
 <span data-ttu-id="f350e-318">[Listener del gruppo di disponibilità, connettività client e failover dell'applicazione &#40;SQL Server&#41;](../../listeners-client-connectivity-application-failover.md) </span><span class="sxs-lookup"><span data-stu-id="f350e-318">[Availability Group Listeners, Client Connectivity, and Application Failover &#40;SQL Server&#41;](../../listeners-client-connectivity-application-failover.md) </span></span>  
 [<span data-ttu-id="f350e-319">Clustering su più subnet di SQL Server &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="f350e-319">SQL Server Multi-Subnet Clustering &#40;SQL Server&#41;</span></span>](../../../sql-server/failover-clusters/windows/sql-server-multi-subnet-clustering-sql-server.md)  
