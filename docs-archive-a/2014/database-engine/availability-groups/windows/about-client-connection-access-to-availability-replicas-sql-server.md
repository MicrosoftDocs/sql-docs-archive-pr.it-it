---
title: Informazioni sull'accesso alla connessione client per le repliche di disponibilità (SQL Server) | Microsoft Docs
ms.custom: ''
ms.date: 06/14/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
helpviewer_keywords:
- Availability Groups [SQL Server], availability replicas
- Availability Groups [SQL Server], readable secondary replicas
- active secondary replicas [SQL Server], read-only access to
- Availability Groups [SQL Server], configuring
- Availability Groups [SQL Server], client connectivity
- Availability Groups [SQL Server], active secondary replicas
ms.assetid: 29027e46-43e4-4b45-b650-c4cdeacdf552
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 79e61f29957d90a429d8a0c66782ca7cf2e7bd4c
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87716852"
---
# <a name="about-client-connection-access-to-availability-replicas-sql-server"></a><span data-ttu-id="9c396-102">Informazioni sull'accesso alla connessione client per le repliche di disponibilità (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="9c396-102">About Client Connection Access to Availability Replicas (SQL Server)</span></span>
  <span data-ttu-id="9c396-103">In un gruppo di disponibilità AlwaysOn è possibile configurare una o più repliche di disponibilità per consentire connessioni di sola lettura quando in esecuzione nel ruolo secondario, cioè quando in esecuzione come replica secondaria.</span><span class="sxs-lookup"><span data-stu-id="9c396-103">In an AlwaysOn availability group, you can configure one or more availability replicas to allow read-only connections when running under the secondary role (that is, when running as a secondary replica).</span></span> <span data-ttu-id="9c396-104">È inoltre possibile configurare ogni replica di disponibilità per consentire o escludere le connessioni di sola lettura quando l'esecuzione avviene nel ruolo primario, ossia come replica primaria.</span><span class="sxs-lookup"><span data-stu-id="9c396-104">You can also configure each availability replica to allow or exclude read-only connections when running under the primary role (that is, when running as the primary replica).</span></span>  
  
 <span data-ttu-id="9c396-105">Per facilitare l'accesso client ai database primari o secondari di un determinato gruppo di disponibilità, è necessario definire un listener del gruppo di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="9c396-105">To facilitate client access to primary or secondary databases of a given availability group, you should define an availability group listener.</span></span> <span data-ttu-id="9c396-106">Per impostazione predefinita, il listener del gruppo di disponibilità instrada le connessioni in ingresso alla replica primaria.</span><span class="sxs-lookup"><span data-stu-id="9c396-106">By default, the availability group listener directs incoming connections to the primary replica.</span></span> <span data-ttu-id="9c396-107">Tuttavia, è possibile configurare un gruppo di disponibilità per supportare il routing di sola lettura che consente al listener del gruppo di disponibilità di reinstradare le richieste di connessione di applicazioni con finalità di lettura a una replica secondaria leggibile.</span><span class="sxs-lookup"><span data-stu-id="9c396-107">However, you can configure an availability group to support read-only routing, which enables its availability group listener to redirect the connection requests of read-intent applications to a readable secondary replica.</span></span> <span data-ttu-id="9c396-108">Per altre informazioni, vedere [Configurare il routing di sola lettura per un gruppo di disponibilità &#40;SQL Server&#41;](configure-read-only-routing-for-an-availability-group-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="9c396-108">For more information, see [Configure Read-Only Routing for an Availability Group &#40;SQL Server&#41;](configure-read-only-routing-for-an-availability-group-sql-server.md).</span></span>  
  
 <span data-ttu-id="9c396-109">Durante un failover, una replica secondaria assume il ruolo primario e la replica primaria precedente passa al ruolo secondario.</span><span class="sxs-lookup"><span data-stu-id="9c396-109">During a failover, a secondary replica transitions to the primary role and the former primary replica transitions to the secondary role.</span></span> <span data-ttu-id="9c396-110">Durante il processo di failover, tutte le connessioni client sia alla replica primaria sia alle repliche secondarie vengono terminate.</span><span class="sxs-lookup"><span data-stu-id="9c396-110">During the failover process, all client connections to both the primary replica and secondary replicas are terminated.</span></span> <span data-ttu-id="9c396-111">Dopo il failover, quando un client si riconnette al listener del gruppo di disponibilità, il listener riconnette il client alla nuova replica primaria, ad eccezione di una richiesta di connessione con finalità di lettura.</span><span class="sxs-lookup"><span data-stu-id="9c396-111">After the failover, when a client reconnects to the availability group listener, the listener reconnects the client to the new primary replica, except for a read-intent connect request.</span></span> <span data-ttu-id="9c396-112">Se il routing di sola lettura viene configurato sul client e sulle istanze del server che ospitano la nuova replica primaria e su almeno un replica secondaria leggibile, le richieste di connessione con finalità di lettura vengono indirizzate nuovamente a una replica secondaria che supporta il tipo di accesso alla connessione richiesto dal client.</span><span class="sxs-lookup"><span data-stu-id="9c396-112">If read-only routing is configured on the client and on the server instances that hosts the new primary replica and on at least one readable secondary replica, read-intent connection requests are re-routed to a secondary replica that supports the type of connection access that the client requires.</span></span> <span data-ttu-id="9c396-113">Per garantire un'esperienza client senza problemi dopo un failover, è importante per configurare l'accesso alla connessione sia per i ruoli secondari, sia per quelli primari di ogni replica di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="9c396-113">To ensure a graceful client experience after a failover, it is important to configure connection access for both the secondary and primary roles of every availability replica.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="9c396-114">Per informazioni sul listener del gruppo di disponibilità che gestisce le richieste di connessione del client, vedere [Listener del gruppo di disponibilità, connettività client e failover dell'applicazione &#40;SQL Server&#41;](../../listeners-client-connectivity-application-failover.md).</span><span class="sxs-lookup"><span data-stu-id="9c396-114">For information about the availability group listener, which handles client connection requests, see [Availability Group Listeners, Client Connectivity, and Application Failover &#40;SQL Server&#41;](../../listeners-client-connectivity-application-failover.md).</span></span>  
  
 <span data-ttu-id="9c396-115">**Contenuto dell'argomento:**</span><span class="sxs-lookup"><span data-stu-id="9c396-115">**In This Topic:**</span></span>  
  
-   [<span data-ttu-id="9c396-116">Tipi di accesso alla connessione supportati dal ruolo secondario</span><span class="sxs-lookup"><span data-stu-id="9c396-116">Types of Connection Access Supported by the Secondary Role</span></span>](#ConnectAccessForSecondary)  
  
-   [<span data-ttu-id="9c396-117">Tipi di accesso alla connessione supportati dal ruolo primario</span><span class="sxs-lookup"><span data-stu-id="9c396-117">Types of Connection Access Supported by the Primary Role</span></span>](#ConnectAccessForPrimary)  
  
-   [<span data-ttu-id="9c396-118">Effetti della configurazione dell'accesso alla connessione sulla connettività client</span><span class="sxs-lookup"><span data-stu-id="9c396-118">How the Connection Access Configuration Affects Client Connectivity</span></span>](#HowConnectionAccessAffectsConnectivity)  
  
-   [<span data-ttu-id="9c396-119">Attività correlate</span><span class="sxs-lookup"><span data-stu-id="9c396-119">Related Tasks</span></span>](#RelatedTasks)  
  
-   [<span data-ttu-id="9c396-120">Contenuto correlato</span><span class="sxs-lookup"><span data-stu-id="9c396-120">Related Content</span></span>](#RelatedContent)  
  
##  <a name="types-of-connection-access-supported-by-the-secondary-role"></a><a name="ConnectAccessForSecondary"></a> <span data-ttu-id="9c396-121">Tipi di accesso alla connessione supportati dal ruolo secondario</span><span class="sxs-lookup"><span data-stu-id="9c396-121">Types of Connection Access Supported by the Secondary Role</span></span>  
 <span data-ttu-id="9c396-122">Il ruolo secondario supporta tre alternative per le connessioni client, indicate di seguito:</span><span class="sxs-lookup"><span data-stu-id="9c396-122">The secondary role supports three alternatives for client connections, as follows:</span></span>  
  
 <span data-ttu-id="9c396-123">Nessuna connessione</span><span class="sxs-lookup"><span data-stu-id="9c396-123">No connections</span></span>  
 <span data-ttu-id="9c396-124">Non sono consentite connessioni utente.</span><span class="sxs-lookup"><span data-stu-id="9c396-124">No user connections are allowed.</span></span> <span data-ttu-id="9c396-125">I database secondari non sono disponibili per l'accesso in lettura.</span><span class="sxs-lookup"><span data-stu-id="9c396-125">Secondary databases are not available for read access.</span></span> <span data-ttu-id="9c396-126">Si tratta del comportamento predefinito nel ruolo secondario.</span><span class="sxs-lookup"><span data-stu-id="9c396-126">This is the default behavior in the secondary role.</span></span>  
  
 <span data-ttu-id="9c396-127">Solo connessioni con finalità di lettura</span><span class="sxs-lookup"><span data-stu-id="9c396-127">Only read-intent connections</span></span>  
 <span data-ttu-id="9c396-128">I database secondari sono disponibili solo per la connessione per la quale la `Application Intent` proprietà di connessione è impostata su `ReadOnly` (*connessioni con finalità di lettura*).</span><span class="sxs-lookup"><span data-stu-id="9c396-128">The secondary database(s) are available only for connection for which the `Application Intent` connection property is set to `ReadOnly` (*read-intent connections*).</span></span>  
  
 <span data-ttu-id="9c396-129">Per informazioni su questa proprietà di connessione, vedere [Supporto di SQL Server Native Client per il ripristino di emergenza a disponibilità elevata](../../../relational-databases/native-client/features/sql-server-native-client-support-for-high-availability-disaster-recovery.md).</span><span class="sxs-lookup"><span data-stu-id="9c396-129">For information about this connection property, see [SQL Server Native Client Support for High Availability, Disaster Recovery](../../../relational-databases/native-client/features/sql-server-native-client-support-for-high-availability-disaster-recovery.md).</span></span>  
  
 <span data-ttu-id="9c396-130">Connessioni di sola lettura consentite</span><span class="sxs-lookup"><span data-stu-id="9c396-130">Allow any read-only connection</span></span>  
 <span data-ttu-id="9c396-131">I database secondari sono tutti disponibili per le connessioni con accesso in lettura.</span><span class="sxs-lookup"><span data-stu-id="9c396-131">The secondary database(s) are all available for read access connections.</span></span> <span data-ttu-id="9c396-132">Questa opzione consente la connessione di client di versioni precedenti.</span><span class="sxs-lookup"><span data-stu-id="9c396-132">This option allows lower versioned clients to connect.</span></span>  
  
 <span data-ttu-id="9c396-133">Per altre informazioni, vedere [Configurare l'accesso in sola lettura in una replica di disponibilità &#40;SQL Server&#41;](configure-read-only-access-on-an-availability-replica-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="9c396-133">For more information, see [Configure Read-Only Access on an Availability Replica &#40;SQL Server&#41;](configure-read-only-access-on-an-availability-replica-sql-server.md).</span></span>  
  
##  <a name="types-of-connection-access-supported-by-the-primary-role"></a><a name="ConnectAccessForPrimary"></a> <span data-ttu-id="9c396-134">Tipi di accesso alla connessione supportati dal ruolo primario</span><span class="sxs-lookup"><span data-stu-id="9c396-134">Types of Connection Access Supported by the Primary Role</span></span>  
 <span data-ttu-id="9c396-135">Il ruolo primario supporta due alternative per le connessioni client, indicate di seguito:</span><span class="sxs-lookup"><span data-stu-id="9c396-135">The primary role supports two alternatives for client connections, as follows:</span></span>  
  
 <span data-ttu-id="9c396-136">Tutte le connessioni sono consentite</span><span class="sxs-lookup"><span data-stu-id="9c396-136">All connections are allowed</span></span>  
 <span data-ttu-id="9c396-137">Sono consentite sia le connessioni di lettura e scrittura sia le connessioni in sola lettura ai database primari.</span><span class="sxs-lookup"><span data-stu-id="9c396-137">Both read-write and read-only connections are allowed to primary databases.</span></span> <span data-ttu-id="9c396-138">Si tratta del comportamento predefinito per il ruolo primario.</span><span class="sxs-lookup"><span data-stu-id="9c396-138">This is the default behavior for the primary role.</span></span>  
  
 <span data-ttu-id="9c396-139">Consentire solo le connessioni in lettura/scrittura</span><span class="sxs-lookup"><span data-stu-id="9c396-139">Allow only read-write connections</span></span>  
 <span data-ttu-id="9c396-140">Se la `Application Intent` proprietà di connessione è impostata su **ReadWrite** o non è impostata, la connessione è consentita.</span><span class="sxs-lookup"><span data-stu-id="9c396-140">When the `Application Intent` connection property is set to **ReadWrite** or is not set, the connection is allowed.</span></span> <span data-ttu-id="9c396-141">Le connessioni per cui la `Application Intent` parola chiave della stringa di connessione è impostata su `ReadOnly` non sono consentite.</span><span class="sxs-lookup"><span data-stu-id="9c396-141">Connections for which the `Application Intent` connection string keyword is set to `ReadOnly` are not allowed.</span></span> <span data-ttu-id="9c396-142">Se si consentono solo le connessioni in lettura/scrittura, è possibile impedire la connessione, per errore, di un carico di lavoro con finalità di lettura alla replica primaria da parte dei clienti.</span><span class="sxs-lookup"><span data-stu-id="9c396-142">Allowing only read-write connections can help prevent your customers from connecting a read-intent work load to the primary replica by mistake.</span></span>  
  
 <span data-ttu-id="9c396-143">Per informazioni su questa proprietà di connessione, vedere [Using Connection String Keywords with SQL Server Native Client](../../../relational-databases/native-client/applications/using-connection-string-keywords-with-sql-server-native-client.md).</span><span class="sxs-lookup"><span data-stu-id="9c396-143">For information about this connection property, see [Using Connection String Keywords with SQL Server Native Client](../../../relational-databases/native-client/applications/using-connection-string-keywords-with-sql-server-native-client.md).</span></span>  
  
 <span data-ttu-id="9c396-144">Per altre informazioni, vedere [Configurare l'accesso in sola lettura in una replica di disponibilità &#40;SQL Server&#41;](configure-read-only-access-on-an-availability-replica-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="9c396-144">For more information, see [Configure Read-Only Access on an Availability Replica &#40;SQL Server&#41;](configure-read-only-access-on-an-availability-replica-sql-server.md).</span></span>  
  
##  <a name="how-the-connection-access-configuration-affects-client-connectivity"></a><a name="HowConnectionAccessAffectsConnectivity"></a> <span data-ttu-id="9c396-145">Effetti della configurazione dell'accesso alla connessione sulla connettività client</span><span class="sxs-lookup"><span data-stu-id="9c396-145">How the Connection Access Configuration Affects Client Connectivity</span></span>  
 <span data-ttu-id="9c396-146">Le impostazioni dell'accesso alla connessione di una replica determinano l'esito positivo o negativo di un tentativo di connessione.</span><span class="sxs-lookup"><span data-stu-id="9c396-146">The connection access settings of a replica determine whether a connection attempt fails or succeeds.</span></span> <span data-ttu-id="9c396-147">Nella tabella seguente viene riepilogato l'esito positivo o negativo di un tentativo di connessione per ciascuna impostazione di accesso alla connessione.</span><span class="sxs-lookup"><span data-stu-id="9c396-147">The following table summarizes whether a given connection attempt succeeds or fails for each the connection-access setting.</span></span>  
  
|<span data-ttu-id="9c396-148">Ruolo della replica</span><span class="sxs-lookup"><span data-stu-id="9c396-148">Replica Role</span></span>|<span data-ttu-id="9c396-149">Accesso alla connessione supportato sulla replica</span><span class="sxs-lookup"><span data-stu-id="9c396-149">Connection Access Supported on Replica</span></span>|<span data-ttu-id="9c396-150">Finalità di connessione</span><span class="sxs-lookup"><span data-stu-id="9c396-150">Connection Intent</span></span>|<span data-ttu-id="9c396-151">Risultato tentativo di connessione</span><span class="sxs-lookup"><span data-stu-id="9c396-151">Connection-Attempt Result</span></span>|  
|------------------|--------------------------------------------|-----------------------|--------------------------------|  
|<span data-ttu-id="9c396-152">Secondari</span><span class="sxs-lookup"><span data-stu-id="9c396-152">Secondary</span></span>|<span data-ttu-id="9c396-153">Tutti</span><span class="sxs-lookup"><span data-stu-id="9c396-153">All</span></span>|<span data-ttu-id="9c396-154">Finalità di lettura, lettura e scrittura o nessuna finalità di connessione specificata</span><span class="sxs-lookup"><span data-stu-id="9c396-154">Read-intent, read-write, or no connection intent specified</span></span>|<span data-ttu-id="9c396-155">Operazione completata</span><span class="sxs-lookup"><span data-stu-id="9c396-155">Success</span></span>|  
|<span data-ttu-id="9c396-156">Secondari</span><span class="sxs-lookup"><span data-stu-id="9c396-156">Secondary</span></span>|<span data-ttu-id="9c396-157">Nessuno (comportamento predefinito nel ruolo secondario).</span><span class="sxs-lookup"><span data-stu-id="9c396-157">None (This is the default secondary behavior.)</span></span>|<span data-ttu-id="9c396-158">Finalità di lettura, lettura e scrittura o nessuna finalità di connessione specificata</span><span class="sxs-lookup"><span data-stu-id="9c396-158">Read-intent, read-write, or no connection intent specified</span></span>|<span data-ttu-id="9c396-159">Errore</span><span class="sxs-lookup"><span data-stu-id="9c396-159">Failure</span></span>|  
|<span data-ttu-id="9c396-160">Secondari</span><span class="sxs-lookup"><span data-stu-id="9c396-160">Secondary</span></span>|<span data-ttu-id="9c396-161">Solo finalità di lettura</span><span class="sxs-lookup"><span data-stu-id="9c396-161">Read-intent only</span></span>|<span data-ttu-id="9c396-162">Con finalità di lettura</span><span class="sxs-lookup"><span data-stu-id="9c396-162">Read-intent</span></span>|<span data-ttu-id="9c396-163">Operazione completata</span><span class="sxs-lookup"><span data-stu-id="9c396-163">Success</span></span>|  
|<span data-ttu-id="9c396-164">Secondari</span><span class="sxs-lookup"><span data-stu-id="9c396-164">Secondary</span></span>|<span data-ttu-id="9c396-165">Solo finalità di lettura</span><span class="sxs-lookup"><span data-stu-id="9c396-165">Read-intent only</span></span>|<span data-ttu-id="9c396-166">Finalità di lettura e scrittura o nessuna finalità di connessione specificata</span><span class="sxs-lookup"><span data-stu-id="9c396-166">Read-write or no connection intent specified</span></span>|<span data-ttu-id="9c396-167">Errore</span><span class="sxs-lookup"><span data-stu-id="9c396-167">Failure</span></span>|  
|<span data-ttu-id="9c396-168">Principale</span><span class="sxs-lookup"><span data-stu-id="9c396-168">Primary</span></span>|<span data-ttu-id="9c396-169">Tutto (comportamento predefinito del ruolo primario).</span><span class="sxs-lookup"><span data-stu-id="9c396-169">All (This is the default primary behavior.)</span></span>|<span data-ttu-id="9c396-170">Sola lettura, lettura e scrittura o nessuna finalità di connessione specificata</span><span class="sxs-lookup"><span data-stu-id="9c396-170">Read-only, read-write, or no connection intent specified</span></span>|<span data-ttu-id="9c396-171">Operazione completata</span><span class="sxs-lookup"><span data-stu-id="9c396-171">Success</span></span>|  
|<span data-ttu-id="9c396-172">Principale</span><span class="sxs-lookup"><span data-stu-id="9c396-172">Primary</span></span>|<span data-ttu-id="9c396-173">Lettura/scrittura</span><span class="sxs-lookup"><span data-stu-id="9c396-173">Read-write</span></span>|<span data-ttu-id="9c396-174">Solo finalità di lettura</span><span class="sxs-lookup"><span data-stu-id="9c396-174">Read-intent only</span></span>|<span data-ttu-id="9c396-175">Errore</span><span class="sxs-lookup"><span data-stu-id="9c396-175">Failure</span></span>|  
|<span data-ttu-id="9c396-176">Principale</span><span class="sxs-lookup"><span data-stu-id="9c396-176">Primary</span></span>|<span data-ttu-id="9c396-177">Lettura/scrittura</span><span class="sxs-lookup"><span data-stu-id="9c396-177">Read-write</span></span>|<span data-ttu-id="9c396-178">Finalità di lettura e scrittura o nessuna finalità di connessione specificata</span><span class="sxs-lookup"><span data-stu-id="9c396-178">Read-write or no connection intent specified</span></span>|<span data-ttu-id="9c396-179">Operazione completata</span><span class="sxs-lookup"><span data-stu-id="9c396-179">Success</span></span>|  
  
 <span data-ttu-id="9c396-180">Per informazioni sulla configurazione di un gruppo di disponibilità in modo che accetti le connessioni dei client alle proprie repliche, vedere [Listener del gruppo di disponibilità, connettività client e failover dell'applicazione &#40;SQL Server&#41;](../../listeners-client-connectivity-application-failover.md).</span><span class="sxs-lookup"><span data-stu-id="9c396-180">For information about configuring an availability group to accept client connections to its replicas, see [Availability Group Listeners, Client Connectivity, and Application Failover &#40;SQL Server&#41;](../../listeners-client-connectivity-application-failover.md).</span></span>  
  
### <a name="example-connection-access-configuration"></a><span data-ttu-id="9c396-181">Esempio di configurazione dell'accesso alla connessione</span><span class="sxs-lookup"><span data-stu-id="9c396-181">Example Connection-Access Configuration</span></span>  
 <span data-ttu-id="9c396-182">A seconda della modalità di configurazione delle diverse repliche di disponibilità per l'accesso alla connessione, è possibile che il supporto per le connessioni client cambi dopo il failover di un gruppo di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="9c396-182">Depending on how different availability replicas are configured for connection access, support for client connections might change after an availability group fails over.</span></span> <span data-ttu-id="9c396-183">Ad esempio, si consideri un gruppo di disponibilità per il quale la creazione di report viene eseguita nelle repliche secondarie con commit asincrono remote.</span><span class="sxs-lookup"><span data-stu-id="9c396-183">For example, consider an availability group for which reporting is performed on remote asynchronous-commit secondary replicas.</span></span> <span data-ttu-id="9c396-184">Per tutte le applicazioni di sola lettura per i database in questo gruppo di disponibilità la proprietà di connessione `Application Intent` è impostata su `ReadOnly`, in modo che tutte le connessioni in sola lettura abbiano finalità di lettura.</span><span class="sxs-lookup"><span data-stu-id="9c396-184">All of the read-only applications for the databases in this availability group set their `Application Intent` connection property to `ReadOnly`, so that all read-only connections are read-intent connections.</span></span>  
  
 <span data-ttu-id="9c396-185">Questo gruppo di disponibilità di esempio dispone di due repliche con commit sincrono al centro del calcolo principale e due repliche con commit asincrono a un sito satellite.</span><span class="sxs-lookup"><span data-stu-id="9c396-185">This example availability group possesses two synchronous-commit replicas at the main computing center and two asynchronous-commit replicas at a satellite site.</span></span> <span data-ttu-id="9c396-186">Per il ruolo primario, tutte le repliche vengono configurate per l'accesso di lettura/scrittura che impedisce le connessioni con finalità di lettura alla replica primaria in tutte le situazioni.</span><span class="sxs-lookup"><span data-stu-id="9c396-186">For the primary role, all the replicas are configured for read-write access, which prevents read-intent connections to the primary replica in all situations.</span></span> <span data-ttu-id="9c396-187">Nel ruolo secondario con commit sincrono viene utilizzata la configurazione dell'accesso alla connessione predefinita ("nessuno") tramite cui vengono impedite tutte le connessioni client nel ruolo secondario.</span><span class="sxs-lookup"><span data-stu-id="9c396-187">The synchronous commit secondary role uses the default connection-access configuration ("none"), which prevents all client connections under the secondary role.</span></span>  <span data-ttu-id="9c396-188">Al contrario, le repliche con commit asincrono sono configurate per consentire le connessioni con finalità di lettura nel ruolo secondario.</span><span class="sxs-lookup"><span data-stu-id="9c396-188">In contrast, the asynchronous commit replicas are configured to permit read-intent connections under the secondary role.</span></span> <span data-ttu-id="9c396-189">Nella tabella seguente viene riepilogata questa configurazione di esempio:</span><span class="sxs-lookup"><span data-stu-id="9c396-189">The following table summarize this example configuration:</span></span>  
  
|<span data-ttu-id="9c396-190">Replica</span><span class="sxs-lookup"><span data-stu-id="9c396-190">Replica</span></span>|<span data-ttu-id="9c396-191">Modalità di commit</span><span class="sxs-lookup"><span data-stu-id="9c396-191">Commit Mode</span></span>|<span data-ttu-id="9c396-192">Ruolo iniziale</span><span class="sxs-lookup"><span data-stu-id="9c396-192">Initial Role</span></span>|<span data-ttu-id="9c396-193">Accesso alla connessione per il ruolo secondario</span><span class="sxs-lookup"><span data-stu-id="9c396-193">Connection Access for Secondary Role</span></span>|<span data-ttu-id="9c396-194">Accesso alla connessione per il ruolo primario</span><span class="sxs-lookup"><span data-stu-id="9c396-194">Connection Access for Primary Role</span></span>|  
|-------------|-----------------|------------------|------------------------------------------|----------------------------------------|  
|<span data-ttu-id="9c396-195">Replica1</span><span class="sxs-lookup"><span data-stu-id="9c396-195">Replica1</span></span>|<span data-ttu-id="9c396-196">Sincrono</span><span class="sxs-lookup"><span data-stu-id="9c396-196">Synchronous</span></span>|<span data-ttu-id="9c396-197">Principale</span><span class="sxs-lookup"><span data-stu-id="9c396-197">Primary</span></span>|<span data-ttu-id="9c396-198">nessuno</span><span class="sxs-lookup"><span data-stu-id="9c396-198">None</span></span>|<span data-ttu-id="9c396-199">Lettura/scrittura</span><span class="sxs-lookup"><span data-stu-id="9c396-199">Read-write</span></span>|  
|<span data-ttu-id="9c396-200">Replica2</span><span class="sxs-lookup"><span data-stu-id="9c396-200">Replica2</span></span>|<span data-ttu-id="9c396-201">Sincrono</span><span class="sxs-lookup"><span data-stu-id="9c396-201">Synchronous</span></span>|<span data-ttu-id="9c396-202">Secondari</span><span class="sxs-lookup"><span data-stu-id="9c396-202">Secondary</span></span>|<span data-ttu-id="9c396-203">Nessuno</span><span class="sxs-lookup"><span data-stu-id="9c396-203">None</span></span>|<span data-ttu-id="9c396-204">Lettura/scrittura</span><span class="sxs-lookup"><span data-stu-id="9c396-204">Read-write</span></span>|  
|<span data-ttu-id="9c396-205">Replica3</span><span class="sxs-lookup"><span data-stu-id="9c396-205">Replica3</span></span>|<span data-ttu-id="9c396-206">Asincrona</span><span class="sxs-lookup"><span data-stu-id="9c396-206">Asynchronous</span></span>|<span data-ttu-id="9c396-207">Secondari</span><span class="sxs-lookup"><span data-stu-id="9c396-207">Secondary</span></span>|<span data-ttu-id="9c396-208">Solo con finalità di lettura</span><span class="sxs-lookup"><span data-stu-id="9c396-208">Read-intentonly</span></span>|<span data-ttu-id="9c396-209">Lettura/scrittura</span><span class="sxs-lookup"><span data-stu-id="9c396-209">Read-write</span></span>|  
|<span data-ttu-id="9c396-210">Replica4</span><span class="sxs-lookup"><span data-stu-id="9c396-210">Replica4</span></span>|<span data-ttu-id="9c396-211">Asincrono</span><span class="sxs-lookup"><span data-stu-id="9c396-211">Asynchronous</span></span>|<span data-ttu-id="9c396-212">Secondari</span><span class="sxs-lookup"><span data-stu-id="9c396-212">Secondary</span></span>|<span data-ttu-id="9c396-213">Solo finalità di lettura</span><span class="sxs-lookup"><span data-stu-id="9c396-213">Read-intent only</span></span>|<span data-ttu-id="9c396-214">Lettura/scrittura</span><span class="sxs-lookup"><span data-stu-id="9c396-214">Read-write</span></span>|  
  
 <span data-ttu-id="9c396-215">In genere, in questo scenario di esempio, i failover si verificano solo tra le repliche con commit sincrono e immediatamente dopo il failover, le applicazioni con finalità di lettura sono in grado di riconnettersi a una delle repliche secondarie con commit asincrono.</span><span class="sxs-lookup"><span data-stu-id="9c396-215">Typically, in this example scenario, failovers occur only between the synchronous-commit replicas, and  immediately after the failover, read-intent applications are able to reconnect to one of the asynchronous-commit secondary replicas.</span></span> <span data-ttu-id="9c396-216">Tuttavia, in caso di emergenza nel centro di elaborazione principale vengono perse entrambe le repliche con commit sincrono.</span><span class="sxs-lookup"><span data-stu-id="9c396-216">However, when a disaster occurs at the main computing center both synchronous-commit replicas are lost.</span></span> <span data-ttu-id="9c396-217">L'amministratore del database del sito satellite esegue un failover manuale forzato a una replica secondaria con commit asincrono.</span><span class="sxs-lookup"><span data-stu-id="9c396-217">The database administrator at the satellite site responds by performing a forced manual failover to an asynchronous-commit secondary replica.</span></span> <span data-ttu-id="9c396-218">I database secondari nella replica secondaria rimanente vengono sospesi dal failover forzato e diventano pertanto non disponibili per i carichi di lavoro di sola lettura.</span><span class="sxs-lookup"><span data-stu-id="9c396-218">The secondary databases on the remaining secondary replica are suspended by the forced failover, making them unavailable for read-only workloads.</span></span> <span data-ttu-id="9c396-219">La nuova replica primaria, configurata per le connessioni in lettura/scrittura, evita che il carico di lavoro con finalità di lettura entri in competizione con il carico di lavoro di lettura/scrittura.</span><span class="sxs-lookup"><span data-stu-id="9c396-219">The new primary replica, which is configured for read-write connections, prevents the read-intent workload from competing with the read-write workload.</span></span> <span data-ttu-id="9c396-220">Ciò significa che finché l'amministratore del database non riprende i database secondari nella replica del secondaria rimanente con commit asincrono, i client con finalità di lettura non saranno in grado di connettersi ad alcuna replica di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="9c396-220">This means that until the database administrator resumes the secondary databases on the remaining asynchronous-commit secondary replica, read-intent clients cannot connect to any availability replica.</span></span>  
  
##  <a name="related-tasks"></a><a name="RelatedTasks"></a> <span data-ttu-id="9c396-221">Attività correlate</span><span class="sxs-lookup"><span data-stu-id="9c396-221">Related Tasks</span></span>  
  
-   [<span data-ttu-id="9c396-222">Configurare l'accesso in sola lettura in una replica di disponibilità &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="9c396-222">Configure Read-Only Access on an Availability Replica &#40;SQL Server&#41;</span></span>](configure-read-only-access-on-an-availability-replica-sql-server.md)  
  
-   [<span data-ttu-id="9c396-223">Configurare il routing di sola lettura per un gruppo di disponibilità &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="9c396-223">Configure Read-Only Routing for an Availability Group &#40;SQL Server&#41;</span></span>](configure-read-only-routing-for-an-availability-group-sql-server.md)  
  
-   [<span data-ttu-id="9c396-224">Monitorare Gruppi di disponibilità &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="9c396-224">Monitor Availability Groups &#40;Transact-SQL&#41;</span></span>](monitor-availability-groups-transact-sql.md)  
  
-   [<span data-ttu-id="9c396-225">Visualizzazione delle proprietà della replica di disponibilità &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="9c396-225">View Availability Replica Properties &#40;SQL Server&#41;</span></span>](view-availability-replica-properties-sql-server.md)  
  
-   [<span data-ttu-id="9c396-226">Utilizzare la finestra di dialogo Nuovo gruppo di disponibilità &#40;SQL Server Management Studio&#41;</span><span class="sxs-lookup"><span data-stu-id="9c396-226">Use the New Availability Group Dialog Box &#40;SQL Server Management Studio&#41;</span></span>](use-the-new-availability-group-dialog-box-sql-server-management-studio.md)  
  
##  <a name="related-content"></a><a name="RelatedContent"></a> <span data-ttu-id="9c396-227">Contenuto correlato</span><span class="sxs-lookup"><span data-stu-id="9c396-227">Related Content</span></span>  
  
-   [<span data-ttu-id="9c396-228">Pagina relativa alla guida alle soluzioni AlwaysOn di Microsoft SQL Server per la disponibilità elevata e il ripristino di emergenza</span><span class="sxs-lookup"><span data-stu-id="9c396-228">Microsoft SQL Server AlwaysOn Solutions Guide for High Availability and Disaster Recovery</span></span>](https://go.microsoft.com/fwlink/?LinkId=227600)  
  
-   [<span data-ttu-id="9c396-229">Blog del team di SQL Server AlwaysOn: Blog del team ufficiale di SQL Server AlwaysOn</span><span class="sxs-lookup"><span data-stu-id="9c396-229">SQL Server AlwaysOn Team Blog: The official SQL Server AlwaysOn Team Blog</span></span>](https://blogs.msdn.com/b/sqlalwayson/)  
  
## <a name="see-also"></a><span data-ttu-id="9c396-230">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="9c396-230">See Also</span></span>  
 <span data-ttu-id="9c396-231">[Panoramica di Gruppi di disponibilità AlwaysOn &#40;SQL Server&#41;](overview-of-always-on-availability-groups-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="9c396-231">[Overview of AlwaysOn Availability Groups &#40;SQL Server&#41;](overview-of-always-on-availability-groups-sql-server.md) </span></span>  
 <span data-ttu-id="9c396-232">[Listener del gruppo di disponibilità, connettività client e failover dell'applicazione &#40;SQL Server&#41;](../../listeners-client-connectivity-application-failover.md) </span><span class="sxs-lookup"><span data-stu-id="9c396-232">[Availability Group Listeners, Client Connectivity, and Application Failover &#40;SQL Server&#41;](../../listeners-client-connectivity-application-failover.md) </span></span>  
 [<span data-ttu-id="9c396-233">Statistiche</span><span class="sxs-lookup"><span data-stu-id="9c396-233">Statistics</span></span>](../../../relational-databases/statistics/statistics.md)  
  
  
