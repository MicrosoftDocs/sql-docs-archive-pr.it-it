---
title: Panoramica dei cmdlet di PowerShell per Gruppi di disponibilità AlwaysOn (SQL Server) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
helpviewer_keywords:
- Availability Groups [SQL Server], PowerShell cmdlets
- Availability Groups [SQL Server], about
- PowerShell [SQL Server], cmdlets
ms.assetid: b3fef0d5-b6d7-4386-a0f0-d06c165ad4de
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: b6861abb3358df5e8c223d387b82e22de0f2a9d5
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87625543"
---
# <a name="overview-of-powershell-cmdlets-for-alwayson-availability-groups-sql-server"></a><span data-ttu-id="69a7d-102">Panoramica dei cmdlet di PowerShell per Gruppi di disponibilità AlwaysOn (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="69a7d-102">Overview of PowerShell Cmdlets for AlwaysOn Availability Groups (SQL Server)</span></span>
  [!INCLUDE[msCoName](../../../includes/msconame-md.md)] <span data-ttu-id="69a7d-103">PowerShell è una shell della riga di comando basata su attività e un linguaggio di scripting progettato appositamente per l'amministrazione del sistema.</span><span class="sxs-lookup"><span data-stu-id="69a7d-103">PowerShell is a task-based command-line shell and scripting language designed especially for system administration.</span></span> [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] <span data-ttu-id="69a7d-104">fornisce un set di cmdlet di PowerShell in [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] per distribuire, gestire e monitorare gruppi di disponibilità, repliche di disponibilità e database di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="69a7d-104">provides a set of PowerShell cmdlets in [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] that enable you to deploy, manage, and monitor availability groups, availability replicas, and availability databases.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="69a7d-105">Con l'inizio corretto di un'azione è possibile che venga completato un cmdlet di PowerShell.</span><span class="sxs-lookup"><span data-stu-id="69a7d-105">A PowerShell cmdlet can complete by successfully initiating an action.</span></span> <span data-ttu-id="69a7d-106">Ciò non implica che l'azione desiderata, ad esempio il failover di un gruppo di disponibilità, sia stata completata.</span><span class="sxs-lookup"><span data-stu-id="69a7d-106">This does not indicate that the intended work, such as the fail over of an availability group, has completed.</span></span> <span data-ttu-id="69a7d-107">Quando si genera lo script di una sequenza di azioni, può essere necessario controllare lo stato delle azioni e attenderne il completamento.</span><span class="sxs-lookup"><span data-stu-id="69a7d-107">When scripting a sequence of actions, you might have to check the status of actions, and wait for them to complete.</span></span>  
  
 <span data-ttu-id="69a7d-108">In questo argomento vengono presentati i cmdlet per i seguenti set di attività:</span><span class="sxs-lookup"><span data-stu-id="69a7d-108">This topic introduces the cmdlets for the following sets of tasks:</span></span>  
  
-   [<span data-ttu-id="69a7d-109">Configurazione di un'istanza del server per Gruppi di disponibilità AlwaysOn</span><span class="sxs-lookup"><span data-stu-id="69a7d-109">Configuring a server instance for AlwaysOn Availability Groups</span></span>](#ConfiguringServerInstance)  
  
-   [<span data-ttu-id="69a7d-110">Backup e ripristino dei database e dei log delle transazioni</span><span class="sxs-lookup"><span data-stu-id="69a7d-110">Backing up and restoring databases and transaction logs</span></span>](#BnRcmdlets)  
  
-   [<span data-ttu-id="69a7d-111">Creazione e gestione di un gruppo di disponibilità</span><span class="sxs-lookup"><span data-stu-id="69a7d-111">Creating and managing an availability group</span></span>](#DeployManageAGs)  
  
-   [<span data-ttu-id="69a7d-112">Creazione e gestione di un listener del gruppo di disponibilità</span><span class="sxs-lookup"><span data-stu-id="69a7d-112">Creating and managing an availability group listener</span></span>](#AGlisteners)  
  
-   [<span data-ttu-id="69a7d-113">Creazione e gestione di una replica di disponibilità</span><span class="sxs-lookup"><span data-stu-id="69a7d-113">Creating and managing an availability replica</span></span>](#DeployManageARs)  
  
-   [<span data-ttu-id="69a7d-114">Aggiunta e gestione di un database di disponibilità</span><span class="sxs-lookup"><span data-stu-id="69a7d-114">Adding and managing an availability database</span></span>](#DeployManageDbs)  
  
-   [<span data-ttu-id="69a7d-115">Monitoraggio dell'integrità del gruppo di disponibilità</span><span class="sxs-lookup"><span data-stu-id="69a7d-115">Monitoring availability group health</span></span>](#MonitorTblshtAGs)  
  
> [!NOTE]  
>  <span data-ttu-id="69a7d-116">Per un elenco degli argomenti nella [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] documentazione online di che descrivono come usare i cmdlet di per eseguire [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] attività, vedere la sezione "attività correlate" di [panoramica di Gruppi di disponibilità AlwaysOn &#40;SQL Server&#41;](overview-of-always-on-availability-groups-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="69a7d-116">For a list of topics in [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] Books Online that describe how to use cmdlets to perform [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] tasks, see the "Related Tasks" section of [Overview of AlwaysOn Availability Groups &#40;SQL Server&#41;](overview-of-always-on-availability-groups-sql-server.md).</span></span>  
  
##  <a name="configuring-a-server-instance-for-alwayson-availability-groups"></a><a name="ConfiguringServerInstance"></a><span data-ttu-id="69a7d-117">Configurazione di un'istanza del server per Gruppi di disponibilità AlwaysOn</span><span class="sxs-lookup"><span data-stu-id="69a7d-117">Configuring a Server Instance for AlwaysOn Availability Groups</span></span>  
  
|<span data-ttu-id="69a7d-118">Cmdlet</span><span class="sxs-lookup"><span data-stu-id="69a7d-118">Cmdlets</span></span>|<span data-ttu-id="69a7d-119">Descrizione</span><span class="sxs-lookup"><span data-stu-id="69a7d-119">Description</span></span>|<span data-ttu-id="69a7d-120">Supportati in</span><span class="sxs-lookup"><span data-stu-id="69a7d-120">Supported on</span></span>|  
|-------------|-----------------|------------------|  
|`Disable-SqlAlwaysOn`|<span data-ttu-id="69a7d-121">Disabilita la funzionalità [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] su un'istanza del server.</span><span class="sxs-lookup"><span data-stu-id="69a7d-121">Disables the [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] feature on a server instance.</span></span>|<span data-ttu-id="69a7d-122">L'istanza del server specificata dal parametro `Path`, `InputObject` o `Name`.</span><span class="sxs-lookup"><span data-stu-id="69a7d-122">The server instance that is specified by the `Path`, `InputObject`, or `Name` parameter.</span></span> <span data-ttu-id="69a7d-123">(L'edizione di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] deve supportare [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)]).</span><span class="sxs-lookup"><span data-stu-id="69a7d-123">(Must be an edition of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] that supports [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)].)</span></span>|  
|`Enable-SqlAlwaysOn`|<span data-ttu-id="69a7d-124">Abilita [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] su un'istanza di [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] che supporta la funzionalità [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="69a7d-124">Enables [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] on an instance of [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] that supports the [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] feature.</span></span> <span data-ttu-id="69a7d-125">Per informazioni sul supporto di [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] , vedere [Prerequisites, Restrictions, and raccomandazioni for Gruppi di disponibilità AlwaysOn &#40;SQL Server&#41;](prereqs-restrictions-recommendations-always-on-availability.md).</span><span class="sxs-lookup"><span data-stu-id="69a7d-125">For information about support for [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)], see [Prerequisites, Restrictions, and Recommendations for AlwaysOn Availability Groups &#40;SQL Server&#41;](prereqs-restrictions-recommendations-always-on-availability.md).</span></span>|<span data-ttu-id="69a7d-126">Qualsiasi edizione di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] che supporta [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)].</span><span class="sxs-lookup"><span data-stu-id="69a7d-126">Any edition of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] that supports [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)].</span></span>|  
|`New-SqlHadrEndPoint`|<span data-ttu-id="69a7d-127">Crea un nuovo endpoint del mirroring del database in un'istanza del server.</span><span class="sxs-lookup"><span data-stu-id="69a7d-127">Creates a new database mirroring endpoint on a server instance.</span></span> <span data-ttu-id="69a7d-128">Questo endpoint è richiesto per lo spostamento di dati tra il database primario e quelli secondari.</span><span class="sxs-lookup"><span data-stu-id="69a7d-128">This endpoint is required for data movement between primary and secondary databases.</span></span>|<span data-ttu-id="69a7d-129">Qualsiasi istanza di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="69a7d-129">Any instance of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]</span></span>|  
|`Set-SqlHadrEndpoint`|<span data-ttu-id="69a7d-130">Modifica le proprietà di un endpoint del mirroring del database esistente, ad esempio il nome, lo stato o le proprietà di autenticazione.</span><span class="sxs-lookup"><span data-stu-id="69a7d-130">Changes the properties of an existing database mirroring endpoint, such as the name, state, or authentication properties.</span></span>|<span data-ttu-id="69a7d-131">Istanza del server che supporta [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] e in cui non è presente un endpoint del mirroring del database</span><span class="sxs-lookup"><span data-stu-id="69a7d-131">A server instance that supports [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] and lacks a database mirroring endpoint</span></span>|  
  
##  <a name="backing-up-and-restoring-databases-and-transaction-logs"></a><a name="BnRcmdlets"></a> <span data-ttu-id="69a7d-132">Backup e ripristino dei database e log delle transazioni</span><span class="sxs-lookup"><span data-stu-id="69a7d-132">Backing Up and Restoring Databases and Transaction Logs</span></span>  
  
|<span data-ttu-id="69a7d-133">Cmdlet</span><span class="sxs-lookup"><span data-stu-id="69a7d-133">Cmdlets</span></span>|<span data-ttu-id="69a7d-134">Descrizione</span><span class="sxs-lookup"><span data-stu-id="69a7d-134">Description</span></span>|<span data-ttu-id="69a7d-135">Supportati in</span><span class="sxs-lookup"><span data-stu-id="69a7d-135">Supported on</span></span>|  
|-------------|-----------------|------------------|  
|`Backup-SqlDatabase`|<span data-ttu-id="69a7d-136">Crea un backup dei dati o del log.</span><span class="sxs-lookup"><span data-stu-id="69a7d-136">Creates a data or log backup.</span></span>|<span data-ttu-id="69a7d-137">Qualsiasi database online (per [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)], un database nell'istanza del server che ospita la replica primaria)</span><span class="sxs-lookup"><span data-stu-id="69a7d-137">Any online database (for [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)], a database on the server instance that hosts the primary replica)</span></span>|  
|`Restore-SqlDatabase`|<span data-ttu-id="69a7d-138">Ripristina un backup.</span><span class="sxs-lookup"><span data-stu-id="69a7d-138">Restores a backup.</span></span>|<span data-ttu-id="69a7d-139">Qualsiasi istanza di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] (per [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)], un'istanza del server che ospita una replica secondaria)</span><span class="sxs-lookup"><span data-stu-id="69a7d-139">Any instance of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] (for [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)], a server instance that hosts a secondary replica)</span></span><br /><br /> <span data-ttu-id="69a7d-140">**&#42;&#42; importanti &#42;&#42;** Quando si prepara un database secondario, è necessario usare il `-NoRecovery` parametro in ogni `Restore-SqlDatabase` comando.</span><span class="sxs-lookup"><span data-stu-id="69a7d-140">**&#42;&#42; Important &#42;&#42;** When preparing a secondary database, you must use the `-NoRecovery` parameter in every `Restore-SqlDatabase` command.</span></span>|  
  
 <span data-ttu-id="69a7d-141">Per informazioni sull'uso di questi cmdlet per preparare un database secondario, vedere [Preparare manualmente un database secondario per un gruppo di disponibilità &#40;SQL Server&#41;](manually-prepare-a-secondary-database-for-an-availability-group-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="69a7d-141">For information about using these cmdlets to prepare a secondary database, see [Manually Prepare a Secondary Database for an Availability Group &#40;SQL Server&#41;](manually-prepare-a-secondary-database-for-an-availability-group-sql-server.md).</span></span>  
  
##  <a name="creating-and-managing-an-availability-group"></a><a name="DeployManageAGs"></a><span data-ttu-id="69a7d-142">Creazione e gestione di un gruppo di disponibilità</span><span class="sxs-lookup"><span data-stu-id="69a7d-142">Creating and Managing an Availability Group</span></span>  
  
|<span data-ttu-id="69a7d-143">Cmdlet</span><span class="sxs-lookup"><span data-stu-id="69a7d-143">Cmdlets</span></span>|<span data-ttu-id="69a7d-144">Descrizione</span><span class="sxs-lookup"><span data-stu-id="69a7d-144">Description</span></span>|<span data-ttu-id="69a7d-145">Supportati in</span><span class="sxs-lookup"><span data-stu-id="69a7d-145">Supported on</span></span>|  
|-------------|-----------------|------------------|  
|`New-SqlAvailabilityGroup`|<span data-ttu-id="69a7d-146">Crea un nuovo gruppo di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="69a7d-146">Creates a new availability group.</span></span>|<span data-ttu-id="69a7d-147">Istanza del server per ospitare la replica primaria</span><span class="sxs-lookup"><span data-stu-id="69a7d-147">Server instance to host primary replica</span></span>|  
|`Remove-SqlAvailabilityGroup`|<span data-ttu-id="69a7d-148">Elimina un gruppo di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="69a7d-148">Deletes availability group.</span></span>|<span data-ttu-id="69a7d-149">Istanza del server abilitata per HADR</span><span class="sxs-lookup"><span data-stu-id="69a7d-149">HADR-enabled server instance</span></span>|  
|`Set-SqlAvailabilityGroup`|<span data-ttu-id="69a7d-150">Imposta le proprietà di un gruppo di disponibilità; porta un gruppo di disponibilità online/offline</span><span class="sxs-lookup"><span data-stu-id="69a7d-150">Sets the properties of an availability group; take an availability group online/offline</span></span>|<span data-ttu-id="69a7d-151">Istanza del server che ospita la replica primaria</span><span class="sxs-lookup"><span data-stu-id="69a7d-151">Server instance that hosts primary replica</span></span>|  
|`Switch-SqlAvailabilityGroup`|<span data-ttu-id="69a7d-152">Inizia una delle seguenti modalità di failover:</span><span class="sxs-lookup"><span data-stu-id="69a7d-152">Initiates one of the following forms of failover:</span></span><br /><br /> <span data-ttu-id="69a7d-153">Failover forzato di un gruppo di disponibilità (con possibile perdita di dati).</span><span class="sxs-lookup"><span data-stu-id="69a7d-153">A forced failover of an availability group (with possible data loss).</span></span><br /><br /> <span data-ttu-id="69a7d-154">Failover manuale di un gruppo di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="69a7d-154">A manual failover of an availability group.</span></span>|<span data-ttu-id="69a7d-155">Istanza del server che ospita la replica secondaria di destinazione</span><span class="sxs-lookup"><span data-stu-id="69a7d-155">Server instance that hosts target secondary replica</span></span>|  
  
##  <a name="creating-and-managing-an-availability-group-listener"></a><a name="AGlisteners"></a> <span data-ttu-id="69a7d-156">Creazione e gestione di un listener del gruppo di disponibilità</span><span class="sxs-lookup"><span data-stu-id="69a7d-156">Creating and Managing an Availability Group Listener</span></span>  
  
|<span data-ttu-id="69a7d-157">Cmdlet</span><span class="sxs-lookup"><span data-stu-id="69a7d-157">Cmdlet</span></span>|<span data-ttu-id="69a7d-158">Descrizione</span><span class="sxs-lookup"><span data-stu-id="69a7d-158">Description</span></span>|<span data-ttu-id="69a7d-159">Supportati in</span><span class="sxs-lookup"><span data-stu-id="69a7d-159">Supported on</span></span>|  
|------------|-----------------|------------------|  
|`New-SqlAvailabilityGroupListener`|<span data-ttu-id="69a7d-160">Crea un nuovo listener del gruppo di disponibilità e lo collega a un gruppo di disponibilità esistente.</span><span class="sxs-lookup"><span data-stu-id="69a7d-160">Creates a new availability group listener and attaches it to an existing availability group.</span></span>|<span data-ttu-id="69a7d-161">Istanza del server che ospita la replica primaria</span><span class="sxs-lookup"><span data-stu-id="69a7d-161">Server instance that hosts primary replica</span></span>|  
|`Set-SqlAvailabilityGroupListener`|<span data-ttu-id="69a7d-162">Modifica l'impostazione della porta su un listener del gruppo di disponibilità esistente.</span><span class="sxs-lookup"><span data-stu-id="69a7d-162">Modifies the port setting on an existing availability group listener.</span></span>|<span data-ttu-id="69a7d-163">Istanza del server che ospita la replica primaria</span><span class="sxs-lookup"><span data-stu-id="69a7d-163">Server instance that hosts primary replica</span></span>|  
|`Add-SqlAvailabilityGroupListenerStaticIp`|<span data-ttu-id="69a7d-164">Aggiunge un indirizzo IP statico a una configurazione del listener del gruppo di disponibilità esistente.</span><span class="sxs-lookup"><span data-stu-id="69a7d-164">Adds a static IP address to an existing availability group listener configuration.</span></span> <span data-ttu-id="69a7d-165">L'indirizzo IP può essere un indirizzo IPv4 con subnet o un indirizzo IPv6.</span><span class="sxs-lookup"><span data-stu-id="69a7d-165">The IP address can be an IPv4 address with subnet, or an IPv6 address.</span></span>|<span data-ttu-id="69a7d-166">Istanza del server che ospita la replica primaria</span><span class="sxs-lookup"><span data-stu-id="69a7d-166">Server instance that hosts primary replica</span></span>|  
  
##  <a name="creating-and-managing-an-availability-replica"></a><a name="DeployManageARs"></a> <span data-ttu-id="69a7d-167">Creazione e gestione di una Replica di disponibilità</span><span class="sxs-lookup"><span data-stu-id="69a7d-167">Creating and Managing an Availability Replica</span></span>  
  
|<span data-ttu-id="69a7d-168">Cmdlet</span><span class="sxs-lookup"><span data-stu-id="69a7d-168">Cmdlets</span></span>|<span data-ttu-id="69a7d-169">Descrizione</span><span class="sxs-lookup"><span data-stu-id="69a7d-169">Description</span></span>|<span data-ttu-id="69a7d-170">Supportati in</span><span class="sxs-lookup"><span data-stu-id="69a7d-170">Supported on</span></span>|  
|-------------|-----------------|------------------|  
|<span data-ttu-id="69a7d-171">**New-SqlAvailabilityReplica**</span><span class="sxs-lookup"><span data-stu-id="69a7d-171">**New-SqlAvailabilityReplica**</span></span>|<span data-ttu-id="69a7d-172">Crea una nuova replica di disponibilità</span><span class="sxs-lookup"><span data-stu-id="69a7d-172">Creates a new availability replica.</span></span> <span data-ttu-id="69a7d-173">È possibile utilizzare il parametro `-AsTemplate` per creare un oggetto della replica di disponibilità in memoria per ogni nuova replica di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="69a7d-173">You can Use the `-AsTemplate` parameter to create an in-memory availability-replica object for each new availability replica.</span></span>|<span data-ttu-id="69a7d-174">Istanza del server che ospita la replica primaria</span><span class="sxs-lookup"><span data-stu-id="69a7d-174">Server instance that hosts primary replica</span></span>|  
|`Join-SqlAvailabilityGroup`|<span data-ttu-id="69a7d-175">Viene creato un join della replica secondaria al gruppo di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="69a7d-175">Joins a secondary replica to the availability group.</span></span>|<span data-ttu-id="69a7d-176">Istanza del server che ospita la replica secondaria</span><span class="sxs-lookup"><span data-stu-id="69a7d-176">Server instance that hosts secondary replica</span></span>|  
|<span data-ttu-id="69a7d-177">**Remove-SqlAvailabilityReplica**</span><span class="sxs-lookup"><span data-stu-id="69a7d-177">**Remove-SqlAvailabilityReplica**</span></span>|<span data-ttu-id="69a7d-178">Elimina una replica di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="69a7d-178">Deletes an availability replica.</span></span>|<span data-ttu-id="69a7d-179">Istanza del server che ospita la replica primaria</span><span class="sxs-lookup"><span data-stu-id="69a7d-179">Server instance that hosts primary replica</span></span>|  
|`Set-SqlAvailabilityReplica`|<span data-ttu-id="69a7d-180">Imposta le proprietà di una replica di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="69a7d-180">Sets the properties of an availability replica.</span></span>|<span data-ttu-id="69a7d-181">Istanza del server che ospita la replica primaria</span><span class="sxs-lookup"><span data-stu-id="69a7d-181">Server instance that hosts primary replica</span></span>|  
  
##  <a name="adding-and-managing-an-availability-database"></a><a name="DeployManageDbs"></a> <span data-ttu-id="69a7d-182">Aggiunta e gestione di un Database di disponibilità</span><span class="sxs-lookup"><span data-stu-id="69a7d-182">Adding and Managing an Availability Database</span></span>  
  
|<span data-ttu-id="69a7d-183">Cmdlet</span><span class="sxs-lookup"><span data-stu-id="69a7d-183">Cmdlets</span></span>|<span data-ttu-id="69a7d-184">Descrizione</span><span class="sxs-lookup"><span data-stu-id="69a7d-184">Description</span></span>|<span data-ttu-id="69a7d-185">Supportati in</span><span class="sxs-lookup"><span data-stu-id="69a7d-185">Supported on</span></span>|  
|-------------|-----------------|------------------|  
|<span data-ttu-id="69a7d-186">**Add-SqlAvailabilityDatabase**</span><span class="sxs-lookup"><span data-stu-id="69a7d-186">**Add-SqlAvailabilityDatabase**</span></span>|<span data-ttu-id="69a7d-187">Nella replica primaria viene aggiunto un database a un gruppo di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="69a7d-187">On the primary replica, adds a database to an availability group.</span></span><br /><br /> <span data-ttu-id="69a7d-188">In una replica secondaria viene creato un join di un database secondario a un gruppo di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="69a7d-188">On a secondary replica, joins a secondary database to an availability group.</span></span>|<span data-ttu-id="69a7d-189">Qualsiasi istanza del server che ospita una replica di disponibilità (il comportamento è diverso per le repliche primarie e per quelle secondarie)</span><span class="sxs-lookup"><span data-stu-id="69a7d-189">Any server instance that hosts an availability replica (behavior differs for primary and secondary replicas)</span></span>|  
|<span data-ttu-id="69a7d-190">**Remove-SqlAvailabilityDatabase**</span><span class="sxs-lookup"><span data-stu-id="69a7d-190">**Remove-SqlAvailabilityDatabase**</span></span>|<span data-ttu-id="69a7d-191">Nella replica primaria il database viene rimosso dal gruppo di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="69a7d-191">On the primary replica, removes the database from the availability group.</span></span><br /><br /> <span data-ttu-id="69a7d-192">In una replica secondaria il database secondario locale viene rimosso dalla replica secondaria locale.</span><span class="sxs-lookup"><span data-stu-id="69a7d-192">On a secondary replica, removes the local secondary database from the local secondary replica.</span></span>|<span data-ttu-id="69a7d-193">Qualsiasi istanza del server che ospita una replica di disponibilità (il comportamento è diverso per le repliche primarie e per quelle secondarie)</span><span class="sxs-lookup"><span data-stu-id="69a7d-193">Any server instance that hosts an availability replica (behavior differs for primary and secondary replicas)</span></span>|  
|`Resume-SqlAvailabilityDatabase`|<span data-ttu-id="69a7d-194">Riprende lo spostamento dati per un database di disponibilità sospeso.</span><span class="sxs-lookup"><span data-stu-id="69a7d-194">Resumes the data movement for a suspended availability database.</span></span>|<span data-ttu-id="69a7d-195">L'istanza del server in cui si trova il database è stata sospesa.</span><span class="sxs-lookup"><span data-stu-id="69a7d-195">The server instance on which the database was suspended.</span></span>|  
|`Suspend-SqlAvailabilityDatabase`|<span data-ttu-id="69a7d-196">Sospende lo spostamento dati per un database di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="69a7d-196">Suspends the data movement for an availability database.</span></span>|<span data-ttu-id="69a7d-197">Qualsiasi istanza del server che ospita una replica di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="69a7d-197">Any server instance that hosts an availability replica.</span></span>|  
  
##  <a name="monitoring-availability-group-health"></a><a name="MonitorTblshtAGs"></a> <span data-ttu-id="69a7d-198">Monitoraggio integrità gruppo di disponibilità</span><span class="sxs-lookup"><span data-stu-id="69a7d-198">Monitoring Availability Group Health</span></span>  
 <span data-ttu-id="69a7d-199">Con i cmdlet [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] seguenti è possibile monitorare lo stato di un gruppo di disponibilità, nonché delle repliche e dei database relativi.</span><span class="sxs-lookup"><span data-stu-id="69a7d-199">The following [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] cmdlets enable you to monitor the health of an availability group and its replicas and databases.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="69a7d-200">È necessario disporre delle autorizzazioni CONNECT, VIEW SERVER STATE e VIEW ANY DEFINITION per eseguire questi cmdlet.</span><span class="sxs-lookup"><span data-stu-id="69a7d-200">You must have CONNECT, VIEW SERVER STATE, and VIEW ANY DEFINITION permissions to execute these cmdlets.</span></span>  
  
|<span data-ttu-id="69a7d-201">Cmdlet</span><span class="sxs-lookup"><span data-stu-id="69a7d-201">Cmdlet</span></span>|<span data-ttu-id="69a7d-202">Descrizione</span><span class="sxs-lookup"><span data-stu-id="69a7d-202">Description</span></span>|<span data-ttu-id="69a7d-203">Supportati in</span><span class="sxs-lookup"><span data-stu-id="69a7d-203">Supported on</span></span>|  
|------------|-----------------|------------------|  
|`Test-SqlAvailabilityGroup`|<span data-ttu-id="69a7d-204">Valuta l'integrità di un gruppo di disponibilità valutando i criteri della gestione basata su criteri di SQL Server.</span><span class="sxs-lookup"><span data-stu-id="69a7d-204">Assesses the health of an availability group by evaluating SQL Server policy based management (PBM) policies.</span></span>|<span data-ttu-id="69a7d-205">Qualsiasi istanza del server che ospita una replica di disponibilità\*.</span><span class="sxs-lookup"><span data-stu-id="69a7d-205">Any server instance that hosts an availability replica.\*</span></span>|  
|`Test-SqlAvailabilityReplica`|<span data-ttu-id="69a7d-206">Valuta l'integrità delle repliche di disponibilità valutando i criteri della gestione basata su criteri di SQL Server.</span><span class="sxs-lookup"><span data-stu-id="69a7d-206">Assesses the health of availability replicas by evaluating SQL Server policy based management (PBM) policies.</span></span>|<span data-ttu-id="69a7d-207">Qualsiasi istanza del server che ospita una replica di disponibilità\*.</span><span class="sxs-lookup"><span data-stu-id="69a7d-207">Any server instance that hosts an availability replica.\*</span></span>|  
|`Test-SqlDatabaseReplicaState`|<span data-ttu-id="69a7d-208">Valuta l'integrità di un database di disponibilità su tutte le repliche di disponibilità aggiunte valutando i criteri della gestione basata su criteri di SQL Server.</span><span class="sxs-lookup"><span data-stu-id="69a7d-208">Assesses the health of an availability database on all joined availability replicas by evaluating SQL Server policy based management (PBM) policies.</span></span>|<span data-ttu-id="69a7d-209">Qualsiasi istanza del server che ospita una replica di disponibilità\*.</span><span class="sxs-lookup"><span data-stu-id="69a7d-209">Any server instance that hosts an availability replica.\*</span></span>|  
  
 <span data-ttu-id="69a7d-210">\* Per visualizzare informazioni su tutte le repliche di disponibilità in un gruppo di disponibilità, usare l'istanza del server che ospita la replica primaria.</span><span class="sxs-lookup"><span data-stu-id="69a7d-210">\*To view information about all of the availability replicas in an availability group, use to the server instance that hosts the primary replica.</span></span>  
  
 <span data-ttu-id="69a7d-211">Per ulteriori informazioni, vedere [utilizzare i criteri AlwaysOn per visualizzare l'integrità di un gruppo di disponibilità &#40;SQL Server&#41;](use-always-on-policies-to-view-the-health-of-an-availability-group-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="69a7d-211">For more information, see [Use AlwaysOn Policies to View the Health of an Availability Group &#40;SQL Server&#41;](use-always-on-policies-to-view-the-health-of-an-availability-group-sql-server.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="69a7d-212">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="69a7d-212">See Also</span></span>  
 <span data-ttu-id="69a7d-213">[Panoramica di Gruppi di disponibilità AlwaysOn &#40;SQL Server&#41;](overview-of-always-on-availability-groups-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="69a7d-213">[Overview of AlwaysOn Availability Groups &#40;SQL Server&#41;](overview-of-always-on-availability-groups-sql-server.md) </span></span>  
 [<span data-ttu-id="69a7d-214">Get Help SQL Server PowerShell</span><span class="sxs-lookup"><span data-stu-id="69a7d-214">Get Help SQL Server PowerShell</span></span>](../../../powershell/sql-server-powershell.md)  
  
  
