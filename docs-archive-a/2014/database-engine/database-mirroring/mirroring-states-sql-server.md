---
title: Stati di mirroring (SQL Server) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
helpviewer_keywords:
- states [SQL Server], database mirroring
- PENDING_FAILOVER state
- mirroring states [SQL Server]
- DISCONNECTED state
- SYNCHRONIZING state
- SYNCHRONIZED state
- SUSPENDED state
- database mirroring [SQL Server], states
ms.assetid: 90062917-74f9-471b-b49e-bc153ae1a468
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: d458939ba233bdfe7a99edd38afc74b5433ae061
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87624901"
---
# <a name="mirroring-states-sql-server"></a><span data-ttu-id="3ebf2-102">Stati di mirroring (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="3ebf2-102">Mirroring States (SQL Server)</span></span>
  <span data-ttu-id="3ebf2-103">Durante una sessione di mirroring del database, il database con mirroring si trova sempre in uno stato specifico, ovvero lo *stato di mirroring*.</span><span class="sxs-lookup"><span data-stu-id="3ebf2-103">During a database mirroring session, the mirrored database is always in a specific state (the *mirroring state*).</span></span> <span data-ttu-id="3ebf2-104">Lo stato del database riflette lo stato delle comunicazioni, il flusso di dati e la differenza nei dati tra i partner.</span><span class="sxs-lookup"><span data-stu-id="3ebf2-104">The state of the database reflects the communication status, data flow, and the difference in data between the partners.</span></span> <span data-ttu-id="3ebf2-105">La sessione di mirroring del database adotta lo stesso stato del database principale.</span><span class="sxs-lookup"><span data-stu-id="3ebf2-105">The database mirroring session adopts the same state as the principal database.</span></span>  
  
 <span data-ttu-id="3ebf2-106">Nel corso della sessione di mirroring del database viene eseguito il monitoraggio reciproco delle istanze del server.</span><span class="sxs-lookup"><span data-stu-id="3ebf2-106">Throughout a database mirroring session, the server instances monitor each other.</span></span> <span data-ttu-id="3ebf2-107">Per eseguire il monitoraggio del database, i partner utilizzano lo stato di mirroring.</span><span class="sxs-lookup"><span data-stu-id="3ebf2-107">The partners use the mirroring state to monitor the database.</span></span> <span data-ttu-id="3ebf2-108">Ad eccezione dello stato PENDING_FAILOVER, lo stato del database principale è sempre identico a quello del database mirror.</span><span class="sxs-lookup"><span data-stu-id="3ebf2-108">With the exception of the PENDING_FAILOVER state, the principal and mirror database are always in the same state.</span></span> <span data-ttu-id="3ebf2-109">Se per la sessione è impostato un server di controllo del mirroring, per eseguire il monitoraggio di tale server ciascun partner utilizza il relativo stato della connessione (CONNECTED o DISCONNECTED).</span><span class="sxs-lookup"><span data-stu-id="3ebf2-109">If a witness is set for the session, each of the partners monitors the witness using its connection state (CONNECTED or DISCONNECTED).</span></span>  
  
 <span data-ttu-id="3ebf2-110">Gli stati di mirroring possibili del database sono i seguenti:</span><span class="sxs-lookup"><span data-stu-id="3ebf2-110">The possible mirroring states of the database are as follows:</span></span>  
  
|<span data-ttu-id="3ebf2-111">Stato mirroring</span><span class="sxs-lookup"><span data-stu-id="3ebf2-111">Mirroring state</span></span>|<span data-ttu-id="3ebf2-112">Descrizione</span><span class="sxs-lookup"><span data-stu-id="3ebf2-112">Description</span></span>|  
|---------------------|-----------------|  
|<span data-ttu-id="3ebf2-113">SYNCHRONIZING</span><span class="sxs-lookup"><span data-stu-id="3ebf2-113">SYNCHRONIZING</span></span>|<span data-ttu-id="3ebf2-114">Il contenuto del database mirror è in ritardo rispetto a quello del database principale.</span><span class="sxs-lookup"><span data-stu-id="3ebf2-114">The contents of the mirror database are lagging behind the contents of the principal database.</span></span> <span data-ttu-id="3ebf2-115">Il server principale invia i record del log al server mirror, che applica le modifiche al database mirror ai fini del rollforward.</span><span class="sxs-lookup"><span data-stu-id="3ebf2-115">The principal server is sending log records to the mirror server, which is applying the changes to the mirror database to roll it forward.</span></span><br /><br /> <span data-ttu-id="3ebf2-116">All'inizio di una sessione di mirroring, lo stato del database è SYNCHRONIZING.</span><span class="sxs-lookup"><span data-stu-id="3ebf2-116">At the start of a database mirroring session, the database is in the SYNCHRONIZING state.</span></span> <span data-ttu-id="3ebf2-117">Il server principale soddisfa le richieste del database e il mirror tenta di aggiornarsi.</span><span class="sxs-lookup"><span data-stu-id="3ebf2-117">The principal server is serving the database, and the mirror is trying to catch up.</span></span>|  
|<span data-ttu-id="3ebf2-118">SYNCHRONIZED</span><span class="sxs-lookup"><span data-stu-id="3ebf2-118">SYNCHRONIZED</span></span>|<span data-ttu-id="3ebf2-119">Quando il server mirror è sufficientemente aggiornato rispetto al server principale, lo stato di mirroring diventa SYNCHRONIZED.</span><span class="sxs-lookup"><span data-stu-id="3ebf2-119">When the mirror server becomes sufficiently caught up to the principal server, the mirroring state changes to SYNCHRONIZED.</span></span> <span data-ttu-id="3ebf2-120">Il database resta in questo stato fino a quando il server principale continua a inviare modifiche al server mirror e quest'ultimo continua ad applicare le modifiche al database mirror.</span><span class="sxs-lookup"><span data-stu-id="3ebf2-120">The database remains in this state as long as the principal server continues to send changes to the mirror server and the mirror server continues to apply changes to the mirror database.</span></span><br /><br /> <span data-ttu-id="3ebf2-121">Se la protezione delle transazioni è impostata su FULL, il failover automatico e quello manuale sono supportati nello stato SYNCHRONIZED, quindi non può verificarsi una perdita di dati dopo un failover.</span><span class="sxs-lookup"><span data-stu-id="3ebf2-121">If transaction safety is set to FULLautomatic failover and manual failover are both supported in the SYNCHRONIZED state, there is no data loss after a failover.</span></span><br /><br /> <span data-ttu-id="3ebf2-122">Se la protezione delle transazioni è disattivata, è possibile che si verifichi la perdita di dati anche in stato SYNCHRONIZED.</span><span class="sxs-lookup"><span data-stu-id="3ebf2-122">If transaction safety is off, some data loss is always possible, even in the SYNCHRONIZED state.</span></span>|  
|<span data-ttu-id="3ebf2-123">SUSPENDED</span><span class="sxs-lookup"><span data-stu-id="3ebf2-123">SUSPENDED</span></span>|<span data-ttu-id="3ebf2-124">La copia mirror del database non è disponibile.</span><span class="sxs-lookup"><span data-stu-id="3ebf2-124">The mirror copy of the database is not available.</span></span> <span data-ttu-id="3ebf2-125">Il database principale viene eseguito senza inviare log al server mirror. Tale condizione è nota come *esecuzione senza mirroring*.</span><span class="sxs-lookup"><span data-stu-id="3ebf2-125">The principal database is running without sending any logs to the mirror server, a condition known as *running exposed*.</span></span> <span data-ttu-id="3ebf2-126">Si tratta dello stato attivo dopo un failover.</span><span class="sxs-lookup"><span data-stu-id="3ebf2-126">This is the state after a failover.</span></span><br /><br /> <span data-ttu-id="3ebf2-127">Una sessione può diventare SUSPENDED anche in seguito a errori di rollforward oppure se viene sospesa dall'amministratore.</span><span class="sxs-lookup"><span data-stu-id="3ebf2-127">A session can also become SUSPENDED as a result of redo errors or if the administrator pauses the session.</span></span><br /><br /> <span data-ttu-id="3ebf2-128">Lo stato SUSPENDED è persistente in quanto non viene modificato in seguito a operazioni di chiusura e avvio dei partner.</span><span class="sxs-lookup"><span data-stu-id="3ebf2-128">SUSPENDED is a persistent state that survives partner shutdowns and startups.</span></span>|  
|<span data-ttu-id="3ebf2-129">PENDING_FAILOVER</span><span class="sxs-lookup"><span data-stu-id="3ebf2-129">PENDING_FAILOVER</span></span>|<span data-ttu-id="3ebf2-130">Questo stato viene applicato solo sul server principale dopo l'avvio di un failover, quando il server non è ancora passato al ruolo di mirror.</span><span class="sxs-lookup"><span data-stu-id="3ebf2-130">This state is found only on the principal server after a failover has begun, but the server has not transitioned into the mirror role.</span></span><br /><br /> <span data-ttu-id="3ebf2-131">Quando il failover viene avviato, lo stato del database principale diventa PENDING_FAILOVER, vengono rapidamente interrotte eventuali connessioni utente e subito dopo il database assume il ruolo di mirror.</span><span class="sxs-lookup"><span data-stu-id="3ebf2-131">When the failover is initiated, the principal database goes into the PENDING_FAILOVER state, quickly terminates any user connections, and takes over the mirror role soon thereafter.</span></span>|  
|<span data-ttu-id="3ebf2-132">DISCONNECTED</span><span class="sxs-lookup"><span data-stu-id="3ebf2-132">DISCONNECTED</span></span>|<span data-ttu-id="3ebf2-133">Le comunicazioni tra un partner e l'altro sono state interrotte.</span><span class="sxs-lookup"><span data-stu-id="3ebf2-133">The partner has lost communication with the other partner.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="3ebf2-134">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="3ebf2-134">See Also</span></span>  
 [<span data-ttu-id="3ebf2-135">Monitoraggio del mirroring del database &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="3ebf2-135">Monitoring Database Mirroring &#40;SQL Server&#41;</span></span>](database-mirroring-sql-server.md)  
  
  
