---
title: 'Quorum: Impatto di un server di controllo del mirroring sulla disponibilità del database (mirroring del database) | Microsoft Docs'
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
helpviewer_keywords:
- quorum [SQL Server], database mirroring
- running exposed in database mirroring [SQL Server]
- witness-to-partner quorum [SQL Server]
- partners [SQL Server], partner-to-partner quorum
- witness [SQL Server], quorum
- have quorum [SQL Server]
- quorum [SQL Server]
- mirror database [SQL Server]
- full quorum [SQL Server]
- high-availability mode [SQL Server]
ms.assetid: a62d9dd7-3667-4751-a294-a61fc9caae7c
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: ada152f280a4ac75543f09e5f5afa7c72c0cbef6
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87716768"
---
# <a name="quorum-how-a-witness-affects-database-availability-database-mirroring"></a><span data-ttu-id="c7c1d-102">Quorum: Impatto di un server di controllo del mirroring sulla disponibilità del database (mirroring del database)</span><span class="sxs-lookup"><span data-stu-id="c7c1d-102">Quorum: How a Witness Affects Database Availability (Database Mirroring)</span></span>
  <span data-ttu-id="c7c1d-103">Ogni volta che viene impostato un server di controllo del mirroring per una sessione di mirroring del database, è necessario che esista il *quorum* .</span><span class="sxs-lookup"><span data-stu-id="c7c1d-103">Whenever a witness is set for a database mirroring session, *quorum* is required.</span></span> <span data-ttu-id="c7c1d-104">Il quorum è una relazione esistente quando due o più istanze del server in una sessione di mirroring del database sono connesse l'una all'altra.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-104">Quorum is a relationship that exists when two or more server instances in a database mirroring session are connected to each other.</span></span> <span data-ttu-id="c7c1d-105">In genere, un quorum coinvolge tre istanze del server interconnesse.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-105">Typically, quorum involves three interconnected server instances.</span></span> <span data-ttu-id="c7c1d-106">Quando è impostato un server di controllo del mirroring, il quorum è necessario per rendere disponibile il database.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-106">When a witness is set, quorum is required to make the database available.</span></span> <span data-ttu-id="c7c1d-107">Progettato per la modalità a protezione elevata con failover automatico, il quorum garantisce che un database sia di proprietà di un singolo partner alla volta.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-107">Designed for high-safety mode with automatic failover, quorum makes sure that a database is owned by only one partner at a time.</span></span>  
  
 <span data-ttu-id="c7c1d-108">Se un'istanza del server specifica viene disconnessa da una sessione di mirroring, perde il quorum.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-108">If a particular server instance becomes disconnected from a mirroring session, that instance loses quorum.</span></span> <span data-ttu-id="c7c1d-109">In assenza di istanze del server connesse, la sessione perde il quorum e il database non è più disponibile.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-109">If no server instances are connected, the session loses quorum and the database becomes unavailable.</span></span> <span data-ttu-id="c7c1d-110">Sono possibili tre tipi di quorum:</span><span class="sxs-lookup"><span data-stu-id="c7c1d-110">Three types of quorum are possible:</span></span>  
  
-   <span data-ttu-id="c7c1d-111">Un *quorum completo* include sia i partner che il server di controllo del mirroring.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-111">A *full quorum* includes both partners and the witness.</span></span>  
  
-   <span data-ttu-id="c7c1d-112">Un *quorum server di controllo del mirroring-partner* è costituito dal server di controllo del mirroring e da uno dei partner.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-112">A *witness-to-partner quorum* consists of the witness and either partner.</span></span>  
  
-   <span data-ttu-id="c7c1d-113">Un *quorum partner-partner* è costituito dai due partner.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-113">A *partner-to-partner quorum* consists of the two partners.</span></span>  
  
 <span data-ttu-id="c7c1d-114">Nella figura seguente vengono illustrati questi tipi di quorum.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-114">The following figure shows these types of quorum.</span></span>  
  
 <span data-ttu-id="c7c1d-115">![Quorum: completo; server di controllo del mirroring e partner; entrambi i partner](../media/dbm-failovautoquorum.gif "Quorum: completo; server di controllo del mirroring e partner; entrambi i partner")</span><span class="sxs-lookup"><span data-stu-id="c7c1d-115">![Quorums: full; witness and partner; both partners](../media/dbm-failovautoquorum.gif "Quorums: full; witness and partner; both partners")</span></span>  
  
 <span data-ttu-id="c7c1d-116">Finché il server principale corrente mantiene il quorum, detiene il ruolo di server principale e continua a rendere disponibile il database, a meno che il proprietario del database non esegua un failover manuale.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-116">As long as the current principal server has quorum, this server owns the role of principal and continues to serve the database, unless the database owner performs a manual failover.</span></span> <span data-ttu-id="c7c1d-117">Se il server principale perde il quorum, smette di rendere disponibile il database.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-117">If the principal server loses quorum, it stops serving the database.</span></span> <span data-ttu-id="c7c1d-118">Il failover automatico può essere eseguito solo se il database principale perde il quorum, in modo da garantire che non renda più disponibile il database.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-118">Automatic failover can occur only if the principal database has lost quorum, which guarantees that it is no longer serving the database.</span></span>  
  
 <span data-ttu-id="c7c1d-119">Un'istanza del server disconnessa salva il relativo ruolo più recente nella sessione.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-119">A disconnected server instance saves its most recent role in the session.</span></span> <span data-ttu-id="c7c1d-120">In genere, un'istanza del server disconnessa si riconnette alla sessione quando viene riavviata e riacquisisce il quorum.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-120">Typically, a disconnected server instance reconnects to the session when it restarts and regains quorum.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="c7c1d-121">Il server di controllo del mirroring deve essere impostato solo quando si intende utilizzare la modalità a protezione elevata con failover automatico.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-121">The witness should be set only when you intend to use high-safety mode with automatic failover.</span></span> <span data-ttu-id="c7c1d-122">Nella modalità a prestazioni elevate, che non richiede mai un server di controllo del mirroring, è consigliabile impostare la proprietà WITNESS su OFF.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-122">In high-performance mode, for which a witness is never required, we strongly recommend setting the WITNESS property to OFF.</span></span> <span data-ttu-id="c7c1d-123">Per informazioni relative all'impatto di un server di controllo del mirroring sulla modalità a prestazioni elevate, vedere [Modalità di funzionamento del mirroring del database](database-mirroring-operating-modes.md).</span><span class="sxs-lookup"><span data-stu-id="c7c1d-123">For information about the impact of a witness on high-performance mode, see [Database Mirroring Operating Modes](database-mirroring-operating-modes.md).</span></span>  
  
## <a name="quorum-in-high-safety-mode-sessions"></a><span data-ttu-id="c7c1d-124">Quorum in sessioni in modalità a protezione elevata</span><span class="sxs-lookup"><span data-stu-id="c7c1d-124">Quorum in High-Safety Mode Sessions</span></span>  
 <span data-ttu-id="c7c1d-125">In modalità a protezione elevata, il quorum consente il failover automatico in quanto rende disponibile un contesto in cui il partner proprietario del ruolo di server principale è determinato dalle istanze del server con quorum.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-125">In high-safety mode, quorum allows automatic failover by providing a context in which the server instances with quorum arbitrate which partner owns the role of principal.</span></span> <span data-ttu-id="c7c1d-126">Il server principale rende disponibile il database se dispone del quorum.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-126">The principal server serves the database if it has quorum.</span></span> <span data-ttu-id="c7c1d-127">Se il server principale perde il quorum mentre il server mirror e il server di controllo del mirroring sincronizzati mantengono il quorum, viene eseguito il failover automatico.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-127">If the principal server loses quorum when the synchronized mirror server and witness retain quorum, automatic failover occurs.</span></span>  
  
 <span data-ttu-id="c7c1d-128">I tipi di quorum possibili per la modalità a protezione elevata sono i seguenti:</span><span class="sxs-lookup"><span data-stu-id="c7c1d-128">The quorum scenarios for high-safety mode are as follows:</span></span>  
  
-   <span data-ttu-id="c7c1d-129">Un *quorum completo* costituito da entrambi i partner e dal server di controllo del mirroring.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-129">A *full quorum* that consists of both partners and the witness.</span></span>  
  
     <span data-ttu-id="c7c1d-130">In circostanze normali tutte e tre le istanze del server prendono parte a un quorum a tre vie, denominato *quorum completo*.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-130">Ordinarily, all three server instances participate in a three-way quorum, called a *full quorum*.</span></span> <span data-ttu-id="c7c1d-131">Con un quorum completo, il server principale e il server mirror continuano a svolgere i rispettivi ruoli, a meno che non si verifichi un failover manuale.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-131">With a full quorum, the principal and mirror servers continue to perform their respective roles (unless manual failover occurs).</span></span>  
  
-   <span data-ttu-id="c7c1d-132">Un quorum *server di controllo del mirroring-partner* costituito dal server di controllo del mirroring e da uno dei partner.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-132">A *witness-to-partner quorum* that consists of the witness and either partner.</span></span>  
  
     <span data-ttu-id="c7c1d-133">Se la connessione di rete tra i partner si interrompe perché uno di essi non è più raggiungibile, possono verificarsi i casi seguenti:</span><span class="sxs-lookup"><span data-stu-id="c7c1d-133">If the network connection between the partners is lost because one of the partners has been lost, the following cases are possible:</span></span>  
  
    -   <span data-ttu-id="c7c1d-134">La connessione con il server mirror viene persa e il server principale e il server di controllo del mirroring mantengono il quorum.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-134">The mirror server is lost, and the principal server and witness retain quorum.</span></span>  
  
         <span data-ttu-id="c7c1d-135">In questo caso, il server principale imposta il relativo database su DISCONNECTED e viene eseguito con il mirroring in stato SUSPENDED.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-135">In this case, the principal sets its database to DISCONNECTED and runs with mirroring in a SUSPENDED state.</span></span> <span data-ttu-id="c7c1d-136">Questa condizione viene definita *esecuzione senza mirroring* perché il mirroring del database attualmente non viene eseguito. Quando il server mirror parteciperà di nuovo alla sessione, riacquisirà il quorum come mirror e avvierà la risincronizzazione della propria copia del database.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-136">(This is referred to as *running exposed*, because the database is currently not being mirrored.) When the mirror server rejoins the session, the server regains quorum as mirror and starts resynchronizing its copy of the database.</span></span>  
  
    -   <span data-ttu-id="c7c1d-137">La connessione con il server principale viene persa e il server mirror e il server di controllo del mirroring mantengono il quorum.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-137">The principal server is lost, and the witness and the mirror server retain quorum.</span></span>  
  
         <span data-ttu-id="c7c1d-138">In questo caso, viene eseguito il failover automatico.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-138">In this case, automatic failover occurs.</span></span> <span data-ttu-id="c7c1d-139">Per altre informazioni, vedere [Database Mirroring Operating Modes](database-mirroring-operating-modes.md).</span><span class="sxs-lookup"><span data-stu-id="c7c1d-139">For more information, see [Database Mirroring Operating Modes](database-mirroring-operating-modes.md).</span></span>  
  
    -   <span data-ttu-id="c7c1d-140">Il quorum viene perso da tutte le istanze del server, ma successivamente vengono riconnessi il mirroring e il server di controllo del mirroring.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-140">All the server instances lose quorum, but subsequently the mirror and witness reconnect.</span></span> <span data-ttu-id="c7c1d-141">In questo caso, il database non verrà utilizzato.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-141">The database will not be served in this case.</span></span>  
  
     <span data-ttu-id="c7c1d-142">In rari casi, la connessione di rete tra i partner di failover si interrompe anche se entrambi rimangono connessi al server di controllo del mirroring.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-142">Rarely, the network connection between failover partners is lost while both partners remain connected to the witness.</span></span> <span data-ttu-id="c7c1d-143">In questa circostanza esistono due quorum separati "server di controllo del mirroring-partner", con il server di controllo del mirroring che funge da legame.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-143">In this event, two, separate witness-to-partner quorums exist, with the witness as a liaison.</span></span> <span data-ttu-id="c7c1d-144">Il server di controllo del mirroring informa il server mirror che il server principale è ancora connesso,</span><span class="sxs-lookup"><span data-stu-id="c7c1d-144">The witness informs the mirror server that the principal server is still connected.</span></span> <span data-ttu-id="c7c1d-145">pertanto il failover automatico non viene eseguito.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-145">Therefore, automatic failover does not occur.</span></span> <span data-ttu-id="c7c1d-146">Il server mirror, invece, mantiene il relativo ruolo e attende di riconnettersi al server principale.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-146">Instead, the mirror server retains the mirror role and waits to reconnect to the principal.</span></span> <span data-ttu-id="c7c1d-147">Se in questa fase la coda di rollforward include record del log, il server mirror continua a eseguire il rollforward del database mirror.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-147">If the redo queue contains log records at this point, the mirror server continues to roll forward the mirror database.</span></span> <span data-ttu-id="c7c1d-148">In fase di riconnessione, il server mirror ripeterà la sincronizzazione del database mirror.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-148">On reconnecting, the mirror server will resynchronize the mirror database.</span></span>  
  
-   <span data-ttu-id="c7c1d-149">Un quorum *partner-partner* costituito dai due partner.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-149">A *partner-to-partner quorum* that consists of the two partners.</span></span>  
  
     <span data-ttu-id="c7c1d-150">Finché i partner mantengono il quorum, il database rimane in stato SYNCHRONIZED e il failover manuale è possibile.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-150">As long as the partners retain quorum, the database continues in a SYNCHRONIZED state, and manual failover remains possible.</span></span> <span data-ttu-id="c7c1d-151">Senza il server di controllo del mirroring, il failover automatico non è possibile. Quando invece il server di controllo del mirroring riacquisisce il quorum, la sessione riprende a funzionare in modo normale e il failover automatico è di nuovo supportato.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-151">Without the witness, automatic failover is not possible; but when the witness regains quorum, the session resumes regular operation, and automatic failover is supported again.</span></span>  
  
-   <span data-ttu-id="c7c1d-152">La sessione perde il quorum.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-152">The session loses quorum.</span></span>  
  
     <span data-ttu-id="c7c1d-153">Se tutte le istanze del server vengono disconnesse le une dalle altre, si dice che la sessione ha *perso il quorum*.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-153">If all the server instances become disconnected from each other, the session is said to have *lost quorum*.</span></span> <span data-ttu-id="c7c1d-154">A mano a mano che le istanze del server si riconnettono le une alle altre, riacquisiscono il quorum.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-154">As server instances reconnect to each other, they regain quorum with each other.</span></span>  
  
    -   <span data-ttu-id="c7c1d-155">Se il server principale si riconnette a una delle altre istanze del server, il database diventa disponibile.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-155">If the principal server reconnects with either of the other server instances, the database becomes available.</span></span>  
  
    -   <span data-ttu-id="c7c1d-156">Se il server principale rimane disconnesso mentre il server mirror e il server di controllo del mirroring si riconnettono l'uno all'altro, il failover automatico non può essere eseguito perché si potrebbe verificare una perdita di dati.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-156">If the principal server remains disconnected, but the mirror and witness reconnect to each other, automatic failover cannot occur because data loss might occur.</span></span> <span data-ttu-id="c7c1d-157">Il database non sarà pertanto disponibile fino a quando il server principale non parteciperà di nuovo alla sessione.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-157">Therefore, the database remains unavailable, until the principal server rejoins the session.</span></span>  
  
    -   <span data-ttu-id="c7c1d-158">Quando tutte e tre le istanze del server si riconnettono, viene riacquisito il quorum completo e la sessione riprende a funzionare in modo normale.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-158">When all three server instances have reconnected, full quorum is regained, and the session resumes its regular operation.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="c7c1d-159">Una sessione che dispone di un quorum "partner-partner" perde il quorum quando uno dei due partner perde il quorum.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-159">When a session has a partner-to-partner quorum, if either partner loses quorum, the session loses quorum.</span></span> <span data-ttu-id="c7c1d-160">Se si prevede che il server di controllo del mirroring rimarrà disconnesso per un lungo periodo di tempo, è pertanto consigliabile rimuovere temporaneamente tale server dalla sessione.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-160">Therefore, if you expect the witness to remain disconnected for lots of time, we recommend that you temporarily remove the witness from the session.</span></span> <span data-ttu-id="c7c1d-161">La rimozione del server di controllo del mirroring comporta l'annullamento del requisito del quorum.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-161">Removing the witness removes the requirement for quorum.</span></span> <span data-ttu-id="c7c1d-162">Se quindi il server mirror viene disconnesso, il server principale potrà continuare a rendere disponibile il database.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-162">Then, if the mirror server becomes disconnected, the principal server can continue to serve the database.</span></span> <span data-ttu-id="c7c1d-163">Per informazioni sull'aggiunta o sulla rimozione di un server di controllo del mirroring, vedere [Server di controllo del mirroring del database](database-mirroring-witness.md).</span><span class="sxs-lookup"><span data-stu-id="c7c1d-163">For information about how to add or remove a witness, see [Database Mirroring Witness](database-mirroring-witness.md).</span></span>  
  
### <a name="how-quorum-affects-database-availability"></a><span data-ttu-id="c7c1d-164">Impatto del quorum sulla disponibilità del database</span><span class="sxs-lookup"><span data-stu-id="c7c1d-164">How Quorum Affects Database Availability</span></span>  
 <span data-ttu-id="c7c1d-165">Nella figura seguente viene illustrato il modo in cui il server di controllo del mirroring e i partner interagiscono per garantire che in qualsiasi momento un singolo partner sia il proprietario del ruolo di server principale e che solo il server principale corrente sia in grado di attivare la modalità online per il database.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-165">The following illustration shows how the witness and the partners cooperate to make sure that, at given time, only one partner owns the role of principal and only the current principal server can bring its database online.</span></span> <span data-ttu-id="c7c1d-166">In entrambi questi scenari inizialmente esiste un quorum completo e i ruoli di server principale e di server mirror sono svolti rispettivamente da **Partner_A** e **Partner_B** .</span><span class="sxs-lookup"><span data-stu-id="c7c1d-166">Both scenarios start with full quorum, and **Partner_A** in the principal role and **Partner_B** in the mirror role.</span></span>  
  
 <span data-ttu-id="c7c1d-167">![Collaborazione tra il server di controllo del mirroring e i partner](../media/dbm-quorum-scenarios.gif "Collaborazione tra il server di controllo del mirroring e i partner")</span><span class="sxs-lookup"><span data-stu-id="c7c1d-167">![How the witness and partners cooperate](../media/dbm-quorum-scenarios.gif "How the witness and partners cooperate")</span></span>  
  
 <span data-ttu-id="c7c1d-168">Lo scenario 1 viene illustra come, dopo un errore del server principale originale (**Partner_A**), il server di controllo del mirroring e il server mirror stabiliscono che il server principale **Partner_A**non è più disponibile e formano il quorum.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-168">Scenario 1 shows how after the original principal server (**Partner_A**) fails, the witness and mirror agree that the principal, **Partner_A**, is not available any longer and form quorum.</span></span> <span data-ttu-id="c7c1d-169">Il server mirror **Partner_B** assume quindi il ruolo di server principale.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-169">The mirror, **Partner_B** then assumes the principal role.</span></span> <span data-ttu-id="c7c1d-170">Viene eseguito il failover automatico e **Partner_B**attiva la modalità online per la propria copia del database.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-170">Automatic failover occurs, and **Partner_B**, brings its copy of the database online.</span></span> <span data-ttu-id="c7c1d-171">**Partner_B** diventa quindi inattivo e il database risulta offline.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-171">Then **Partner_B** goes down, and the database goes offline.</span></span> <span data-ttu-id="c7c1d-172">Il server principale precedente, ovvero **Partner_A**, successivamente si riconnette al server di controllo del mirroring riottenendo il quorum. Comunicando con il server di controllo del mirroring, **Partner_A** rileva tuttavia che non potrà attivare la modalità online per la propria copia del database perché **Partner_B** è l'attuale proprietario del ruolo di server principale.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-172">Later, the former principal server, **Partner_A**, reconnects to the witness regaining quorum, but on communicating with the witness, **Partner_A** learns that it cannot bring its copy of the database online, because **Partner_B** now owns the principal role.</span></span> <span data-ttu-id="c7c1d-173">Quando **Partner_B** parteciperà di nuovo alla sessione, riattiverà la modalità online per il database.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-173">When **Partner_B** rejoins the session, it brings the database back online.</span></span>  
  
 <span data-ttu-id="c7c1d-174">Nello scenario 2 il server di controllo del mirroring perde il quorum, mentre i partner **Partner_A** e **Partner_B**mantengono il quorum l'uno nei confronti dell'altro e il database rimane online.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-174">In Scenario 2, the witness loses quorum, while the partners, **Partner_A** and **Partner_B**, retain quorum with each other, and the database remains online.</span></span> <span data-ttu-id="c7c1d-175">Il quorum viene quindi perso anche dai partner e il database risulta offline.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-175">Then the partners lose their quorum, too, and the database goes offline.</span></span> <span data-ttu-id="c7c1d-176">Il server principale, ovvero **Partner_A**, successivamente si riconnette al server di controllo del mirroring riottenendo il quorum.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-176">Later, the principal server, **Partner_A**, reconnects to the witness regaining quorum.</span></span> <span data-ttu-id="c7c1d-177">Il server di controllo del mirroring conferma che il ruolo di server principale appartiene ancora a **Partner_A** e **Partner_A** riattiva la modalità online per il database.</span><span class="sxs-lookup"><span data-stu-id="c7c1d-177">The witness confirms that **Partner_A** still owns the principal role, and **Partner_A** brings the database back online.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="c7c1d-178">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="c7c1d-178">See Also</span></span>  
 <span data-ttu-id="c7c1d-179">[Modalità di funzionamento del mirroring del database](database-mirroring-operating-modes.md) </span><span class="sxs-lookup"><span data-stu-id="c7c1d-179">[Database Mirroring Operating Modes](database-mirroring-operating-modes.md) </span></span>  
 <span data-ttu-id="c7c1d-180">[Cambio di ruolo durante una sessione di mirroring del database &#40;SQL Server&#41;](role-switching-during-a-database-mirroring-session-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="c7c1d-180">[Role Switching During a Database Mirroring Session &#40;SQL Server&#41;](role-switching-during-a-database-mirroring-session-sql-server.md) </span></span>  
 <span data-ttu-id="c7c1d-181">[Server di controllo del mirroring del database](database-mirroring-witness.md) </span><span class="sxs-lookup"><span data-stu-id="c7c1d-181">[Database Mirroring Witness](database-mirroring-witness.md) </span></span>  
 <span data-ttu-id="c7c1d-182">[Possibili errori durante il mirroring del database](possible-failures-during-database-mirroring.md) </span><span class="sxs-lookup"><span data-stu-id="c7c1d-182">[Possible Failures During Database Mirroring](possible-failures-during-database-mirroring.md) </span></span>  
 [<span data-ttu-id="c7c1d-183">Stati di mirroring &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="c7c1d-183">Mirroring States &#40;SQL Server&#41;</span></span>](mirroring-states-sql-server.md)  
  
  
