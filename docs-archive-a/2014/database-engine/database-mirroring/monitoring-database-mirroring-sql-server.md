---
title: Monitoraggio del mirroring del database (SQL Server) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
helpviewer_keywords:
- monitoring [SQL Server], database mirroring
- database mirroring [SQL Server], monitoring
ms.assetid: a7b1b9b0-7c19-4acc-9de3-3a7c5e70694d
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 92179abd47df2ee40b48be8eade7ea3e7b9267af
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87716796"
---
# <a name="monitoring-database-mirroring-sql-server"></a><span data-ttu-id="b5260-102">Monitoraggio del mirroring del database (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="b5260-102">Monitoring Database Mirroring (SQL Server)</span></span>
  <span data-ttu-id="b5260-103">Questa sezione presenta il monitoraggio del mirroring del database e le stored procedure di sistema **sp_dbmmonitor** , descrive il funzionamento del monitoraggio del mirroring del database, incluso il funzionamento del processo **Monitoraggio mirroring del database**, e fornisce un riepilogo delle informazioni che è possibile monitorare sulle sessioni di mirroring del database.</span><span class="sxs-lookup"><span data-stu-id="b5260-103">This section introduces Database Mirroring Monitor and the **sp_dbmmonitor** system stored procedures, explains how database mirroring monitoring works (including the **Database Mirroring Monitor Job)**, and summarizes the information that you can monitor about database mirroring sessions.</span></span> <span data-ttu-id="b5260-104">Vengono inoltre fornite informazioni generali sulla definizione di valori soglia degli avvisi per un set di eventi di mirroring del database predefiniti e sull'impostazione di avvisi per qualsiasi evento di mirroring del database.</span><span class="sxs-lookup"><span data-stu-id="b5260-104">Additionally, this section introduces how to define warning thresholds for a set of predefined database mirroring events and how to set up alerts on any database mirroring event.</span></span>  
  
 <span data-ttu-id="b5260-105">È possibile monitorare un database con mirroring durante una sessione di mirroring per verificare se i dati fluiscono correttamente.</span><span class="sxs-lookup"><span data-stu-id="b5260-105">You can monitor a mirrored database during a mirroring session to verify whether and how well data is flowing.</span></span> <span data-ttu-id="b5260-106">Per impostare e gestire il monitoraggio per uno o più database con mirroring in un'istanza del server, è possibile usare Monitoraggio mirroring del database oppure le stored procedure di sistema **sp_dbmmonitor** .</span><span class="sxs-lookup"><span data-stu-id="b5260-106">To set up and manage monitoring for one or more of the mirrored databases on a server instance, you can use either Database Mirroring Monitor or the **sp_dbmmonitor** system stored procedures.</span></span>  
  
 <span data-ttu-id="b5260-107">Un processo di **Monitoraggio mirroring del database**agisce in background in modo indipendente da Monitoraggio mirroring del database.</span><span class="sxs-lookup"><span data-stu-id="b5260-107">A database mirroring monitoring job, **Database Mirroring Monitor Job**, operates in the background, independently of Database Mirroring Monitor.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="b5260-108">Agent chiama a intervalli regolari (per impostazione predefinita ogni minuto) il processo di **Monitoraggio mirroring del database** , il quale chiama a sua volta una stored procedure che aggiorna lo stato di mirroring.</span><span class="sxs-lookup"><span data-stu-id="b5260-108">Agent calls **Database Mirroring Monitor Job** at regular intervals, the default is once a minute, and the job calls a stored procedure that updates mirroring status.</span></span> <span data-ttu-id="b5260-109">Se si utilizza [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] per avviare una sessione di mirroring, il **Processo di Monitoraggio mirroring del database** viene creato automaticamente.</span><span class="sxs-lookup"><span data-stu-id="b5260-109">If you use [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] to start a mirroring session, **Database Mirroring Monitor Job** is created automatically.</span></span> <span data-ttu-id="b5260-110">Se, invece, si usa solo ALTER DATABASE *<nome_database>* SET PARTNER per avviare il mirroring, è necessario creare il processo eseguendo una stored procedure.</span><span class="sxs-lookup"><span data-stu-id="b5260-110">However, if you only use ALTER DATABASE *<database_name>* SET PARTNER to start mirroring, you must create the job by running a stored procedure.</span></span>  
  
 <span data-ttu-id="b5260-111">**Contenuto dell'argomento**</span><span class="sxs-lookup"><span data-stu-id="b5260-111">**In this Topic:**</span></span>  
  
-   [<span data-ttu-id="b5260-112">Monitoraggio dello stato di mirroring</span><span class="sxs-lookup"><span data-stu-id="b5260-112">Monitoring Mirroring Status</span></span>](#MonitoringStatus)  
  
-   [<span data-ttu-id="b5260-113">Fonti di informazioni aggiuntive su un database con mirroring</span><span class="sxs-lookup"><span data-stu-id="b5260-113">Additional Sources of Information About a Mirrored Database</span></span>](#AdditionalSources)  
  
-   [<span data-ttu-id="b5260-114">Attività correlate</span><span class="sxs-lookup"><span data-stu-id="b5260-114">Related Tasks</span></span>](#RelatedTasks)  
  
##  <a name="monitoring-mirroring-status"></a><a name="MonitoringStatus"></a> <span data-ttu-id="b5260-115">Monitoraggio dello stato di mirroring</span><span class="sxs-lookup"><span data-stu-id="b5260-115">Monitoring Mirroring Status</span></span>  
 <span data-ttu-id="b5260-116">Per impostare e gestire il monitoraggio per uno o più database con mirroring in un'istanza del server, è possibile utilizzare Monitoraggio mirroring del database o le stored procedure di sistema **dbmmonitor** .</span><span class="sxs-lookup"><span data-stu-id="b5260-116">To set up and manage monitoring for one or more of the mirrored databases on a server instance, you can use either Database Mirroring Monitor or the **dbmmonitor** system stored procedures.</span></span> <span data-ttu-id="b5260-117">È possibile monitorare un database con mirroring durante una sessione di mirroring per verificare se i dati fluiscono correttamente.</span><span class="sxs-lookup"><span data-stu-id="b5260-117">You can monitor a mirrored database during a mirroring session to verify whether and how well data is flowing.</span></span>  
  
 <span data-ttu-id="b5260-118">In particolare, il monitoraggio di un database con mirroring consente di:</span><span class="sxs-lookup"><span data-stu-id="b5260-118">Specifically, monitoring a mirrored database enables you to:</span></span>  
  
-   <span data-ttu-id="b5260-119">Verificare il funzionamento del mirroring.</span><span class="sxs-lookup"><span data-stu-id="b5260-119">Verify that mirroring is functioning.</span></span>  
  
     <span data-ttu-id="b5260-120">Nello stato di base sono incluse informazioni che indicano se le due istanze del server sono attive, se i server sono connessi e se il log viene spostato dal database principale al database mirror.</span><span class="sxs-lookup"><span data-stu-id="b5260-120">Basic status includes knowing if the two server instances are up, that the servers are connected, and that the log is being moved from the principal to the mirror.</span></span>  
  
-   <span data-ttu-id="b5260-121">Determinare se il database mirror è in grado di mantenersi aggiornato rispetto al database principale.</span><span class="sxs-lookup"><span data-stu-id="b5260-121">Determine whether the mirror database is keeping up with the principal database.</span></span>  
  
     <span data-ttu-id="b5260-122">Durante la modalità a prestazioni elevate, è possibile che il server principale sviluppi un backlog di record di log non inviati che devono essere inviati dal server principale al server mirror.</span><span class="sxs-lookup"><span data-stu-id="b5260-122">During high-performance mode, a principal server can develop a backlog of unsent log records that still need to be sent from the principal server to the mirror server.</span></span> <span data-ttu-id="b5260-123">In qualsiasi modalità operativa, inoltre, è possibile che il server mirror sviluppi un backlog di record di log non ripristinati scritti nel file di log, ma ancora da ripristinare nel database mirror.</span><span class="sxs-lookup"><span data-stu-id="b5260-123">Furthermore, in any operating mode, the mirror server can develop a backlog of unrestored log records that have been written to the log file but still need to be restored on the mirror database.</span></span>  
  
-   <span data-ttu-id="b5260-124">Determinare quanti dati sono stati persi quando l'istanza del server principale si è resa non disponibile durante la modalità a prestazioni elevate.</span><span class="sxs-lookup"><span data-stu-id="b5260-124">Determine how much data was lost when the principal server instance becomes unavailable during high-performance mode.</span></span>  
  
     <span data-ttu-id="b5260-125">È possibile determinare la perdita di dati osservando la quantità di log di transazioni non inviate, se presenti, e l'intervallo di tempo in cui è stato eseguito il commit delle transazioni perse nel server principale.</span><span class="sxs-lookup"><span data-stu-id="b5260-125">You can determine data loss by looking at the amount of unsent transaction log (if any) and the time interval in which the lost transactions were committed at the principal.</span></span>  
  
-   <span data-ttu-id="b5260-126">Confrontare le prestazioni correnti con quelle passate.</span><span class="sxs-lookup"><span data-stu-id="b5260-126">Compare current performance with past performance.</span></span>  
  
     <span data-ttu-id="b5260-127">In caso di problemi, un amministratore di database può visualizzare una cronologia delle prestazioni del mirroring utile per comprendere lo stato corrente.</span><span class="sxs-lookup"><span data-stu-id="b5260-127">When problems are occurring, a database administrator can view a history of the mirroring performance to help in understanding the current state.</span></span> <span data-ttu-id="b5260-128">La consultazione della cronologia consente all'utente di rilevare le tendenze nelle prestazioni, individuare modelli dei problemi relativi alle prestazioni, ad esempio gli orari in cui la rete è lenta o il numero di comandi immessi nel log è eccessivo.</span><span class="sxs-lookup"><span data-stu-id="b5260-128">Looking at the history can allow the user to detect trends in performance, identify patterns of performance problems (such as times of day when the network is slow or the number of commands entering the log is very large).</span></span>  
  
-   <span data-ttu-id="b5260-129">Risolvere i problemi che causano la riduzione del flusso di dati tra i partner per il mirroring.</span><span class="sxs-lookup"><span data-stu-id="b5260-129">Troubleshoot the cause of reduced data flow between mirroring partners.</span></span>  
  
-   <span data-ttu-id="b5260-130">Impostare le soglie di avviso in base alle misurazioni chiave delle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="b5260-130">Set warning thresholds on key performance metrics.</span></span>  
  
     <span data-ttu-id="b5260-131">Se una nuova riga di stato contiene un valore superiore a una soglia, viene inviato un evento informativo al registro eventi di Windows.</span><span class="sxs-lookup"><span data-stu-id="b5260-131">If a new status row contains a value that exceeds a threshold, an informational event is sent to the Windows event log.</span></span> <span data-ttu-id="b5260-132">Un amministratore di sistema può quindi configurare manualmente gli avvisi in base a questi eventi.</span><span class="sxs-lookup"><span data-stu-id="b5260-132">A system administrator can then manually configure alerts based on these events.</span></span> <span data-ttu-id="b5260-133">Per altre informazioni, vedere [Usare valori di soglia avvisi e avvisi sulle metriche delle prestazioni di mirroring &#40;SQL Server&#41;](use-warning-thresholds-and-alerts-on-mirroring-performance-metrics-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="b5260-133">For more information, see [Use Warning Thresholds and Alerts on Mirroring Performance Metrics &#40;SQL Server&#41;](use-warning-thresholds-and-alerts-on-mirroring-performance-metrics-sql-server.md).</span></span>  
  
###  <a name="tools-for-monitoring-database-mirroring-status"></a><a name="tools_for_monitoring_dbm_status"></a> <span data-ttu-id="b5260-134">Strumenti per il monitoraggio dello stato di mirroring del database</span><span class="sxs-lookup"><span data-stu-id="b5260-134">Tools for Monitoring Database Mirroring Status</span></span>  
 <span data-ttu-id="b5260-135">Lo stato di mirroring può essere monitorato usando Monitoraggio mirroring del database o la stored procedure di sistema **sp_dbmmonitorresults** .</span><span class="sxs-lookup"><span data-stu-id="b5260-135">Mirroring status can be monitored using either Database Mirroring Monitor or the **sp_dbmmonitorresults** system stored procedure.</span></span> <span data-ttu-id="b5260-136">Questi strumenti possono essere usati per monitorare il mirroring del database in qualsiasi database con mirroring nell'istanza del server locale sia parte degli amministratori di sistema, ovvero i membri del ruolo predefinito del server **sysadmin** , sia da parte dell'utente aggiunto al ruolo predefinito del database **dbm_monitor** nel database **msdb** da un amministratore di sistema.</span><span class="sxs-lookup"><span data-stu-id="b5260-136">These tools can be used to monitor database mirroring on any mirrored database on the local server instance by both System administrators, that is, members of the **sysadmin** fixed server role, and user who have been added to the **dbm_monitor** fixed database role in the **msdb** database by a system administrator.</span></span> <span data-ttu-id="b5260-137">Utilizzando questi strumenti, un amministratore di sistema può anche aggiornare manualmente lo stato di mirroring.</span><span class="sxs-lookup"><span data-stu-id="b5260-137">When using either tool, a system administrator can also manually refresh mirroring status.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="b5260-138">Gli amministratori di sistema possono anche configurare e visualizzare le soglie di avviso per le misurazioni chiave delle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="b5260-138">System administrators can also configure and view warning thresholds for key performance metrics.</span></span> <span data-ttu-id="b5260-139">Per altre informazioni, vedere [Usare valori di soglia avvisi e avvisi sulle metriche delle prestazioni di mirroring &#40;SQL Server&#41;](use-warning-thresholds-and-alerts-on-mirroring-performance-metrics-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="b5260-139">For more information, see [Use Warning Thresholds and Alerts on Mirroring Performance Metrics &#40;SQL Server&#41;](use-warning-thresholds-and-alerts-on-mirroring-performance-metrics-sql-server.md).</span></span>  
  
-   <span data-ttu-id="b5260-140">Monitoraggio mirroring del database</span><span class="sxs-lookup"><span data-stu-id="b5260-140">Database Mirroring Monitor</span></span>  
  
     <span data-ttu-id="b5260-141">Monitoraggio mirroring del database è uno strumento con interfaccia utente grafica che consente agli amministratori di sistema di visualizzare e aggiornare lo stato e di configurare le soglie di avviso per diverse misurazioni chiave delle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="b5260-141">Database Mirroring Monitor is a graphical user interface tool that enables system administrators to view and update status and to configure warning thresholds on several key performance metrics.</span></span> <span data-ttu-id="b5260-142">Questo strumento può essere anche usato dai membri del ruolo predefinito del database **dbm_monitor** per visualizzare la riga più recente della tabella dello stato di mirroring, benché non possano aggiornare la tabella stessa.</span><span class="sxs-lookup"><span data-stu-id="b5260-142">Database Mirroring Monitor can also be used by members of the **dbm_monitor** fixed database role to view the most recent row of the mirroring status table, though they cannot update the status table.</span></span>  
  
     <span data-ttu-id="b5260-143">Questo strumento visualizza lo stato di un database selezionato nella pagina a schede **Stato** , inclusa la metrica relativa alle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="b5260-143">The monitor displays the status, including performance metrics, for a selected database on the **Status** tabbed page.</span></span> <span data-ttu-id="b5260-144">Il contenuto di questa pagina deriva dalle istanze del server principale e del server mirror.</span><span class="sxs-lookup"><span data-stu-id="b5260-144">The content of this page comes from both the principal and mirror server instances.</span></span> <span data-ttu-id="b5260-145">La pagina viene compilata in modo asincrono man mano che lo stato viene raccolto attraverso connessioni separate alle istanze del server principale e del server mirror.</span><span class="sxs-lookup"><span data-stu-id="b5260-145">The page is filled asynchronously as status is gathered through separate connections to the principal and mirror server instances.</span></span> <span data-ttu-id="b5260-146">Lo strumento tenta di aggiornare la tabella dello stato a intervalli di 30 secondi.</span><span class="sxs-lookup"><span data-stu-id="b5260-146">The monitor tries to update the status table at 30-second intervals.</span></span> <span data-ttu-id="b5260-147">L'aggiornamento ha esito positivo solo se la tabella non è stata aggiornata entro 15 secondi e l'utente è un membro del ruolo predefinito del server **sysadmin** .</span><span class="sxs-lookup"><span data-stu-id="b5260-147">The update succeeds only if the table has not been updated within 15 seconds and the user is a member of the **sysadmin** fixed server role.</span></span> <span data-ttu-id="b5260-148">Per un riepilogo delle informazioni contenute nella pagina **Stato** , vedere [Stato visualizzato da Monitoraggio mirroring del database](#perf_metrics_of_dbm_monitor), di seguito in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="b5260-148">For a summary of the information reported on the **Status** page, see [Status Displayed by the Database Mirroring Monitor](#perf_metrics_of_dbm_monitor), later in this topic.</span></span>  
  
     <span data-ttu-id="b5260-149">Per un'introduzione all'interfaccia di Monitoraggio mirroring del database, vedere [Database Mirroring Monitor Overview](database-mirroring-monitor-overview.md).</span><span class="sxs-lookup"><span data-stu-id="b5260-149">For an introduction to the Database Mirroring Monitor interface, see [Database Mirroring Monitor Overview](database-mirroring-monitor-overview.md).</span></span> <span data-ttu-id="b5260-150">Per informazioni sull'avvio del Monitoraggio mirroring del database, vedere [Avviare Monitoraggio mirroring del database &#40;SQL Server Management Studio&#41;](../database-mirroring/start-database-mirroring-monitor-sql-server-management-studio.md).</span><span class="sxs-lookup"><span data-stu-id="b5260-150">For information on launching Database Mirroring Monitor, see [Start Database Mirroring Monitor &#40;SQL Server Management Studio&#41;](../database-mirroring/start-database-mirroring-monitor-sql-server-management-studio.md).</span></span>  
  
-   <span data-ttu-id="b5260-151">Stored procedure di sistema</span><span class="sxs-lookup"><span data-stu-id="b5260-151">System stored procedures</span></span>  
  
     <span data-ttu-id="b5260-152">È anche possibile recuperare o aggiornare lo stato corrente eseguendo la stored procedure di sistema **sp_dbmmonitorresults** .</span><span class="sxs-lookup"><span data-stu-id="b5260-152">You can also retrieve or update the current status by running the **sp_dbmmonitorresults** system stored procedure.</span></span> <span data-ttu-id="b5260-153">Altre stored procedure dbmmonitor consentono di impostare il monitoraggio, modificare i parametri di monitoraggio, visualizzare il periodo di aggiornamento corrente, nonché rimuovere il monitoraggio nell'istanza del server.</span><span class="sxs-lookup"><span data-stu-id="b5260-153">Other dbmmonitor stored procedures enable you to set up monitoring, change monitoring parameters, view the current update period, and drop monitoring on the server instance.</span></span>  
  
     <span data-ttu-id="b5260-154">Nella tabella seguente vengono illustrate le stored procedure per la gestione e l'utilizzo del monitoraggio del mirroring del database in modo indipendente da Monitoraggio mirroring del database.</span><span class="sxs-lookup"><span data-stu-id="b5260-154">The following table introduces the stored procedures for managing and using database mirroring monitoring independently of the Database Mirroring Monitor.</span></span>  
  
    |<span data-ttu-id="b5260-155">Procedura</span><span class="sxs-lookup"><span data-stu-id="b5260-155">Procedure</span></span>|<span data-ttu-id="b5260-156">Descrizione</span><span class="sxs-lookup"><span data-stu-id="b5260-156">Description</span></span>|  
    |---------------|-----------------|  
    |[<span data-ttu-id="b5260-157">sp_dbmmonitoraddmonitoring</span><span class="sxs-lookup"><span data-stu-id="b5260-157">sp_dbmmonitoraddmonitoring</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitoraddmonitoring-transact-sql)|<span data-ttu-id="b5260-158">Crea un processo che aggiorna periodicamente le informazioni relative allo stato per ogni database con mirroring nell'istanza del server.</span><span class="sxs-lookup"><span data-stu-id="b5260-158">Creates a job that periodically updates the status information for every mirrored database on the server instance.</span></span>|  
    |[<span data-ttu-id="b5260-159">sp_dbmmonitorchangemonitoring</span><span class="sxs-lookup"><span data-stu-id="b5260-159">sp_dbmmonitorchangemonitoring</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorchangemonitoring-transact-sql)|<span data-ttu-id="b5260-160">Cambia il valore di un parametro del monitoraggio di mirroring del database.</span><span class="sxs-lookup"><span data-stu-id="b5260-160">Changes the value of a database mirroring monitoring parameter.</span></span>|  
    |[<span data-ttu-id="b5260-161">sp_dbmmonitorhelpmonitoring</span><span class="sxs-lookup"><span data-stu-id="b5260-161">sp_dbmmonitorhelpmonitoring</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorhelpmonitoring-transact-sql)|<span data-ttu-id="b5260-162">Restituisce il periodo di aggiornamento corrente.</span><span class="sxs-lookup"><span data-stu-id="b5260-162">Returns the current update period.</span></span>|  
    |[<span data-ttu-id="b5260-163">sp_dbmmonitorresults</span><span class="sxs-lookup"><span data-stu-id="b5260-163">sp_dbmmonitorresults</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorresults-transact-sql)|<span data-ttu-id="b5260-164">Restituisce le righe relative allo stato per un database monitorato e consente di scegliere se la stored procedure ottiene l'ultimo stato preliminarmente.</span><span class="sxs-lookup"><span data-stu-id="b5260-164">Returns status rows for a monitored database and allows you to choose whether the procedure obtains the latest status beforehand.</span></span>|  
    |[<span data-ttu-id="b5260-165">sp_dbmmonitordropmonitoring</span><span class="sxs-lookup"><span data-stu-id="b5260-165">sp_dbmmonitordropmonitoring</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitordropmonitoring-transact-sql)|<span data-ttu-id="b5260-166">Arresta ed elimina il processo di monitoraggio di mirroring per tutti i database nell'istanza del server.</span><span class="sxs-lookup"><span data-stu-id="b5260-166">Stops and deletes the mirroring monitor job for all the databases on the server instance.</span></span>|  
  
     <span data-ttu-id="b5260-167">Le stored procedure di sistema **dbmmonitor** possono essere utilizzate a complemento di Monitoraggio mirroring del database.</span><span class="sxs-lookup"><span data-stu-id="b5260-167">The **dbmmonitor** system stored procedures can be used as an adjunct to the Database Mirroring Monitor.</span></span> <span data-ttu-id="b5260-168">Anche se il monitoraggio è stato configurato usando **sp_dbmmonitoraddmonitoring**, ad esempio, è possibile usare Monitoraggio mirroring del database per visualizzare lo stato.</span><span class="sxs-lookup"><span data-stu-id="b5260-168">For example, even if monitoring was configured using **sp_dbmmonitoraddmonitoring**, Database Mirroring Monitor can be used to view the status.</span></span>  
  
### <a name="how-monitoring-works"></a><span data-ttu-id="b5260-169">Funzionamento del monitoraggio</span><span class="sxs-lookup"><span data-stu-id="b5260-169">How Monitoring Works</span></span>  
 <span data-ttu-id="b5260-170">Questa sezione contiene informazioni sulla tabella relativa allo stato del mirroring del database, sul processo di monitoraggio del mirroring del database, sullo strumento di monitoraggio, sulla modalità di monitoraggio dello stato del mirroring del database, nonché sulla modalità di eliminazione del processo di monitoraggio.</span><span class="sxs-lookup"><span data-stu-id="b5260-170">This section introduces the database mirroring status table, database mirroring monitor job and the monitor, how users can monitor database mirroring status, and how the monitoring job can be dropped.</span></span>  
  
#### <a name="database-mirroring-status-table"></a><span data-ttu-id="b5260-171">Tabella dello stato di mirroring del database</span><span class="sxs-lookup"><span data-stu-id="b5260-171">Database Mirroring Status Table</span></span>  
 <span data-ttu-id="b5260-172">Lo stato di mirroring del database viene archiviato in una tabella dello stato di mirroring del database interna non documentata contenuta nel database **msdb** .</span><span class="sxs-lookup"><span data-stu-id="b5260-172">Database mirroring status is stored in an internal, undocumented database mirroring status table in the **msdb** database.</span></span> <span data-ttu-id="b5260-173">Questa tabella viene automaticamente creata al primo aggiornamento dello stato di mirroring nell'istanza del server.</span><span class="sxs-lookup"><span data-stu-id="b5260-173">This status table is automatically created the first time the mirroring status is updated on the server instance.</span></span>  
  
 <span data-ttu-id="b5260-174">La tabella dello stato può essere aggiornata in modo automatico o manuale da un amministratore di sistema, con un intervallo di aggiornamento minimo di 15 secondi.</span><span class="sxs-lookup"><span data-stu-id="b5260-174">The status table may be updated either automatically or manually by a system administrator, with a minimum update interval of 15 seconds.</span></span> <span data-ttu-id="b5260-175">Il valore minimo di 15 secondi impedisce l'overload delle istanze del server con richieste di stato.</span><span class="sxs-lookup"><span data-stu-id="b5260-175">The 15 second minimum prevents server instances from being overloaded with status requests.</span></span>  
  
 <span data-ttu-id="b5260-176">La tabella dello stato viene aggiornata automaticamente sia da Monitoraggio mirroring del database sia dal processo di Monitoraggio di mirroring del database, se in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="b5260-176">The status table is updated automatically by both Database Mirroring Monitor and the database mirroring monitor job, if running.</span></span> <span data-ttu-id="b5260-177">Il**Processo di Monitoraggio mirroring del database** aggiorna la tabella una volta ogni minuto per impostazione predefinita. Un amministratore di sistema può specificare un periodo di aggiornamento compreso tra 1 e 120 minuti.</span><span class="sxs-lookup"><span data-stu-id="b5260-177">**Database Mirroring Monitor Job** updates the table once a minute by default (a system administrator can specify an update period of 1 to 120 minutes).</span></span> <span data-ttu-id="b5260-178">Monitoraggio mirroring del database, invece, aggiorna automaticamente la tabella ogni 30 secondi.</span><span class="sxs-lookup"><span data-stu-id="b5260-178">Database Mirroring Monitor, in contrast, updates the table automatically every 30 seconds.</span></span> <span data-ttu-id="b5260-179">Per questi aggiornamenti, il **Processo di Monitoraggio mirroring del database** e Monitoraggio mirroring del database chiamano **sp_dbmmonitorupdate**.</span><span class="sxs-lookup"><span data-stu-id="b5260-179">For these updates, **Database Mirroring Monitor Job** and Database Mirroring Monitor call **sp_dbmmonitorupdate**.</span></span>  
  
 <span data-ttu-id="b5260-180">Alla prima esecuzione di **sp_dbmmonitorupdate** , vengono creati la tabella di **stato di mirroring del database** e il ruolo predefinito del database **dbm_monitor** nel database **msdb** .</span><span class="sxs-lookup"><span data-stu-id="b5260-180">The first time **sp_dbmmonitorupdate** runs, it creates the **database mirroring status** table and the **dbm_monitor** fixed database role in the **msdb** database.</span></span> <span data-ttu-id="b5260-181">**sp_dbmmonitorupdate** di solito aggiorna lo stato del mirroring inserendo una nuova riga nella tabella di stato per ogni database con mirroring sull'istanza del server. Per altre informazioni, vedere "Tabella dello stato di mirroring del database" più avanti in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="b5260-181">**sp_dbmmonitorupdate** usually updates the mirroring status by inserting a new row into the status table for every mirrored database on the server instance; for more information, see "Database Mirroring Status Table," later in this topic.</span></span> <span data-ttu-id="b5260-182">Questa stored procedure restituisce inoltre le misurazioni delle prestazioni nelle nuove righe e tronca le righe antecedenti il periodo di memorizzazione corrente (il valore predefinito è 7 giorni).</span><span class="sxs-lookup"><span data-stu-id="b5260-182">This procedure also evaluates the performance metrics in the new rows and truncates rows older than the current retention period (the default is 7 days).</span></span> <span data-ttu-id="b5260-183">Per altre informazioni, vedere [sp_dbmmonitorupdate &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorupdate-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="b5260-183">For more information, see [sp_dbmmonitorupdate &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorupdate-transact-sql).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="b5260-184">A meno che Monitoraggio mirroring del database non sia attualmente in uso da parte di un membro del ruolo predefinito del server **sysadmin** , la tabella dello stato viene automaticamente aggiornata solo se il **Processo di Monitoraggio mirroring del database** esiste e se [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent è in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="b5260-184">Unless Database Mirroring Monitor is currently being used by a member of the **sysadmin** fixed server role, the status table is automatically updated only if the **Database Mirroring Monitor Job** exists and [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent is running.</span></span>  
  
#### <a name="database-mirroring-monitor-job"></a><span data-ttu-id="b5260-185">Monitoraggio mirroring del database</span><span class="sxs-lookup"><span data-stu-id="b5260-185">Database Mirroring Monitor Job</span></span>  
 <span data-ttu-id="b5260-186">**Processo di Monitoraggio mirroring del database**funziona in modo indipendente da</span><span class="sxs-lookup"><span data-stu-id="b5260-186">The database mirroring monitoring job, **Database Mirroring Monitor Job**, operates independently of Database Mirroring Monitor.</span></span> <span data-ttu-id="b5260-187">**Monitoraggio mirroring del database** e viene creato automaticamente solo se si utilizza [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] per avviare una sessione di mirroring.</span><span class="sxs-lookup"><span data-stu-id="b5260-187">**Database Mirroring Monitor Job** is created automatically only if [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] is used to start a mirroring session.</span></span> <span data-ttu-id="b5260-188">Se per avviare il mirroring vengono sempre usati i comandi ALTER DATABASE *nome_database* SET PARTNER, il processo esiste solo se l'amministratore di sistema esegue la stored procedure **sp_dbmmonitoraddmonitoring** .</span><span class="sxs-lookup"><span data-stu-id="b5260-188">If ALTER DATABASE *database_name* SET PARTNER commands are always used to start mirroring, the job exists only if the system administrator runs the **sp_dbmmonitoraddmonitoring** stored procedure.</span></span>  
  
 <span data-ttu-id="b5260-189">Dopo la creazione di **Processo di monitoraggio mirroring del database** , supponendo che [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent sia in esecuzione, il processo viene chiamato una volta al minuto, per impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="b5260-189">After **Database Mirroring Monitor Job** is created, assuming that [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent is running, the job is called once a minute, by default.</span></span> <span data-ttu-id="b5260-190">Il processo chiama quindi la stored procedure di sistema **sp_dbmmonitorupdate** .</span><span class="sxs-lookup"><span data-stu-id="b5260-190">The job then calls the **sp_dbmmonitorupdate** system stored procedure.</span></span>  
  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="b5260-191">Agent chiama il **Processo di Monitoraggio mirroring del database** una volta al minuto, per impostazione predefinita, e il processo chiama **sp_dbmmonitorupdate** per aggiornare la tabella dello stato.</span><span class="sxs-lookup"><span data-stu-id="b5260-191">Agent calls **Database Mirroring Monitor Job** once a minute, by default, and the job calls **sp_dbmmonitorupdate** to update the status table.</span></span> <span data-ttu-id="b5260-192">Gli amministratori di sistema possono modificare il periodo di aggiornamento usando la stored procedure di sistema **sp_dbmmonitorchangemonitoring** e possono visualizzare il periodo di aggiornamento corrente usando la stored procedure di sistema **sp_dbmmonitorchangemonitoring** .</span><span class="sxs-lookup"><span data-stu-id="b5260-192">System administrators can change the update period by using the **sp_dbmmonitorchangemonitoring** system stored procedure, and they can view the current update period by using the **sp_dbmmonitorchangemonitoring** system stored procedure.</span></span> <span data-ttu-id="b5260-193">Per altre informazioni, vedere [sp_dbmmonitoraddmonitoring &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-dbmmonitoraddmonitoring-transact-sql) e [sp_dbmmonitorchangemonitoring &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorchangemonitoring-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="b5260-193">For more information, see [sp_dbmmonitoraddmonitoring &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-dbmmonitoraddmonitoring-transact-sql) and [sp_dbmmonitorchangemonitoring &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorchangemonitoring-transact-sql).</span></span>  
  
#### <a name="monitoring-database-mirroring-status-by-system-administrators"></a><span data-ttu-id="b5260-194">Monitoraggio dello stato di mirroring del database (amministratori di sistema)</span><span class="sxs-lookup"><span data-stu-id="b5260-194">Monitoring Database Mirroring Status (by System Administrators)</span></span>  
 <span data-ttu-id="b5260-195">I membri del ruolo predefinito del server **sysadmin** possono visualizzare e aggiornare la tabella dello stato</span><span class="sxs-lookup"><span data-stu-id="b5260-195">Members of the **sysadmin** fixed server role can view and update the status table</span></span>  
  
-   <span data-ttu-id="b5260-196">Utilizzo di Monitoraggio mirroring del database</span><span class="sxs-lookup"><span data-stu-id="b5260-196">Using Database Mirroring Monitor</span></span>  
  
     <span data-ttu-id="b5260-197">L'utilizzo di Monitoraggio mirroring del database consente a un amministratore di sistema di aggiornare manualmente la pagina **Stato** , l'albero di navigazione o la pagina **Cronologia** .</span><span class="sxs-lookup"><span data-stu-id="b5260-197">When using Database Mirroring Monitor, a system administrator can manually refresh the **Status** page, navigation tree, or **History** page.</span></span> <span data-ttu-id="b5260-198">Questa operazione consente inoltre di aggiornare la tabella dello stato, a meno che non sia già stata aggiornata entro i 15 secondi precedenti.</span><span class="sxs-lookup"><span data-stu-id="b5260-198">This also updates the status table, unless it has already been updated within the previous 15 seconds.</span></span>  
  
     <span data-ttu-id="b5260-199">Per visualizzare la cronologia dello stato di mirroring in una determinata istanza del server, l'amministratore di sistema può fare clic sul pulsante **Cronologia** relativo a tale istanza del server nella pagina **Stato** .</span><span class="sxs-lookup"><span data-stu-id="b5260-199">To view the history of mirroring status on a given server instance, the system administrator can also click the **History** button for a server instance (on the **Status** page).</span></span> <span data-ttu-id="b5260-200">La cronologia viene visualizzata nella finestra di dialogo **Cronologia mirroring del database** .</span><span class="sxs-lookup"><span data-stu-id="b5260-200">The history is displayed in the **Database Mirroring History** dialog box.</span></span> <span data-ttu-id="b5260-201">In questa finestra di dialogo l'amministratore di sistema può inoltre visualizzare alcune o tutte le righe della tabella dello stato dell'istanza del server.</span><span class="sxs-lookup"><span data-stu-id="b5260-201">There, the system administrator can view some or all of the rows in the status table of the server instance.</span></span>  
  
     <span data-ttu-id="b5260-202">Per informazioni sulle misurazioni della pagina **Stato** , vedere Misurazioni delle prestazioni visualizzate da Monitoraggio mirroring del database di seguito in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="b5260-202">For information about the **Status** page metrics, see Performance Metrics Displayed by the "Database Mirroring Monitor," later in this topic.</span></span>  
  
-   <span data-ttu-id="b5260-203">Uso di **sp_dbmmonitorresults**</span><span class="sxs-lookup"><span data-stu-id="b5260-203">Using **sp_dbmmonitorresults**</span></span>  
  
     <span data-ttu-id="b5260-204">Gli amministratori di sistema possono usare la stored procedure di sistema **sp_dbmmonitorresults** per visualizzare e, facoltativamente, aggiornare la tabella dello stato, se non è stata aggiornata entro i 15 secondi precedenti.</span><span class="sxs-lookup"><span data-stu-id="b5260-204">System administrators can use the **sp_dbmmonitorresults** system stored procedure to view and, optionally, to update the status table, if it has not been updated within the previous 15 seconds.</span></span> <span data-ttu-id="b5260-205">Questa stored procedure chiama la stored procedure **sp_dbmmonitorupdate** e restituisce una o più righe di cronologia, in base a quanto richiesto nella chiamata di procedura.</span><span class="sxs-lookup"><span data-stu-id="b5260-205">This procedure calls the **sp_dbmmonitorupdate** procedure and returns one or more history rows, depending on the amount requested in the procedure call.</span></span> <span data-ttu-id="b5260-206">Per informazioni sullo stato nel set di risultati, vedere [sp_dbmmonitorresults &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorresults-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="b5260-206">For information about the status in its results set, see [sp_dbmmonitorresults &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorresults-transact-sql).</span></span>  
  
#### <a name="monitoring-database-mirroring-status-by-dbm_monitor-members"></a><span data-ttu-id="b5260-207">Monitoraggio dello stato di mirroring del database (membri di dbm_monitor)</span><span class="sxs-lookup"><span data-stu-id="b5260-207">Monitoring Database Mirroring Status (by dbm_monitor Members)</span></span>  
 <span data-ttu-id="b5260-208">Come indicato in precedenza, alla prima esecuzione di **sp_dbmmonitorupdate** viene creato il ruolo predefinito del database **dbm_monitor** nel database **msdb** .</span><span class="sxs-lookup"><span data-stu-id="b5260-208">As mentioned, the first time **sp_dbmmonitorupdate** runs, it creates the **dbm_monitor** fixed database role in the **msdb** database.</span></span> <span data-ttu-id="b5260-209">I membri del ruolo predefinito del database **dbm_monitor** possono visualizzare lo stato di mirroring esistente usando Monitoraggio mirroring del database o la stored procedure **sp_dbmmonitorresults** .</span><span class="sxs-lookup"><span data-stu-id="b5260-209">Members of the **dbm_monitor** fixed database role can view the existing mirroring status by using either Database Mirroring Monitor or the **sp_dbmmonitorresults** stored procedure.</span></span> <span data-ttu-id="b5260-210">Questi utenti non possono tuttavia aggiornare la tabella dello stato.</span><span class="sxs-lookup"><span data-stu-id="b5260-210">But these users cannot update the status table.</span></span> <span data-ttu-id="b5260-211">Per conoscere la durata dello stato visualizzato, un utente può esaminare i tempi nelle etichette **log principale ( ***\<time>*** )** e **Log mirror ( ***\<time>*** )** nella pagina **stato** .</span><span class="sxs-lookup"><span data-stu-id="b5260-211">To learn the age of the displayed status a user can look at the times in the **Principal log (***\<time>***)** and **Mirror log (***\<time>***)** labels on the **Status** page.</span></span>  
  
 <span data-ttu-id="b5260-212">I membri del ruolo predefinito del database **dbm_monitor** dipendono dal **Processo di Monitoraggio mirroring del database** per l'aggiornamento della tabella dello stato a intervalli regolari.</span><span class="sxs-lookup"><span data-stu-id="b5260-212">Members of the **dbm_monitor** fixed database role depend on the **Database Mirroring Monitor Job** to update the status table at regular intervals.</span></span> <span data-ttu-id="b5260-213">Se il processo non esiste o se [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent è stato arrestato, lo stato non è più aggiornato e potrebbe non riflettere più la configurazione della sessione di mirroring.</span><span class="sxs-lookup"><span data-stu-id="b5260-213">If the job does not exist or [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent is stopped, the status becomes increasingly stale and may no longer reflect the configuration of the mirroring session.</span></span> <span data-ttu-id="b5260-214">Dopo un failover, ad esempio, può sembrare che i partner condividano lo stesso ruolo, principale o mirror, oppure il server principale corrente può essere indicato come mirror e, viceversa, il server mirror corrente come principale.</span><span class="sxs-lookup"><span data-stu-id="b5260-214">For example, after a failover, the partners might appear to share the same role-principal or mirror, or the current principal server might be shown as the mirror, while the current mirror server is shown as the principal.</span></span>  
  
#### <a name="dropping-the-database-mirroring-monitor-job"></a><span data-ttu-id="b5260-215">Eliminazione di Processo di Monitoraggio mirroring del database</span><span class="sxs-lookup"><span data-stu-id="b5260-215">Dropping the Database Mirroring Monitor Job</span></span>  
 <span data-ttu-id="b5260-216">**Processo di Monitoraggio mirroring del database**rimane presente finché non viene eliminato.</span><span class="sxs-lookup"><span data-stu-id="b5260-216">The database mirroring monitor job, **Database Mirroring Monitor Job**, remains until it is dropped.</span></span> <span data-ttu-id="b5260-217">Il processo di monitoraggio deve essere gestito dall'amministratore di sistema.</span><span class="sxs-lookup"><span data-stu-id="b5260-217">The monitoring job must be managed by the system administrator.</span></span> <span data-ttu-id="b5260-218">Per eliminare il **Processo di Monitoraggio mirroring del database**, usare **sp_dbmmonitordropmonitoring**.</span><span class="sxs-lookup"><span data-stu-id="b5260-218">To drop **Database Mirroring Monitor Job**, use **sp_dbmmonitordropmonitoring**.</span></span> <span data-ttu-id="b5260-219">Per altre informazioni, vedere [sp_dbmmonitordropmonitoring &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-dbmmonitordropmonitoring-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="b5260-219">For more information, see [sp_dbmmonitordropmonitoring &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-dbmmonitordropmonitoring-transact-sql).</span></span>  
  
###  <a name="status-displayed-by-the-database-mirroring-monitor"></a><a name="perf_metrics_of_dbm_monitor"></a> <span data-ttu-id="b5260-220">Stato visualizzato da Monitoraggio mirroring del database</span><span class="sxs-lookup"><span data-stu-id="b5260-220">Status Displayed by the Database Mirroring Monitor</span></span>  
 <span data-ttu-id="b5260-221">Nella pagina **Stato** di Monitoraggio mirroring del database vengono descritti i partner e lo stato della sessione di mirroring.</span><span class="sxs-lookup"><span data-stu-id="b5260-221">The **Status** page of the Database Mirroring Monitor describes the partners, and also the state of the mirroring session.</span></span> <span data-ttu-id="b5260-222">Lo stato include la metrica relativa alle prestazioni, ad esempio lo stato del log delle transazioni, e altre informazioni utili per consentire la valutazione effettiva del tempo necessario per completare un failover, nonché della potenziale perdita di dati, se la sessione non è sincronizzata.</span><span class="sxs-lookup"><span data-stu-id="b5260-222">The status includes performance metrics such as the state of the transaction log and other information that is intended to help currently estimate the time required to complete a failover and the potential of data loss, if the session is not synchronized.</span></span> <span data-ttu-id="b5260-223">In questa pagina, inoltre, vengono visualizzati lo **stato** e informazioni generali relative alla sessione di mirroring.</span><span class="sxs-lookup"><span data-stu-id="b5260-223">In addition, the **Status** page displays status and information about the mirroring session in general.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="b5260-224">Per un'introduzione a Monitoraggio mirroring del database e alla pagina **Stato** , vedere [Strumenti per il monitoraggio dello stato del mirroring del database](#tools_for_monitoring_dbm_status)più indietro in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="b5260-224">For an introduction to the Database Mirroring Monitor and **Status** page, see [Tools for Monitoring Database Mirroring Status](#tools_for_monitoring_dbm_status), earlier in this topic.</span></span>  
  
 <span data-ttu-id="b5260-225">Le informazioni disponibili per ogni strumento vengono riepilogate nelle sezioni seguenti.</span><span class="sxs-lookup"><span data-stu-id="b5260-225">The information provided for each of these is summarized in the following sections.</span></span>  
  
#### <a name="partners"></a><span data-ttu-id="b5260-226">Partner</span><span class="sxs-lookup"><span data-stu-id="b5260-226">Partners</span></span>  
 <span data-ttu-id="b5260-227">Nella pagina **Stato** vengono visualizzate le informazioni seguenti per ogni partner:</span><span class="sxs-lookup"><span data-stu-id="b5260-227">The **Status** page displays the following information for each of the partners:</span></span>  
  
-   <span data-ttu-id="b5260-228">Istanza del server</span><span class="sxs-lookup"><span data-stu-id="b5260-228">Server instance</span></span>  
  
     <span data-ttu-id="b5260-229">Nome dell'istanza del server il cui stato è visualizzato nella riga **Stato** .</span><span class="sxs-lookup"><span data-stu-id="b5260-229">Name of the server instance whose status is displayed in the **Status** row.</span></span>  
  
-   <span data-ttu-id="b5260-230">Ruolo corrente</span><span class="sxs-lookup"><span data-stu-id="b5260-230">Current role</span></span>  
  
     <span data-ttu-id="b5260-231">Ruolo corrente dell'istanza del server.</span><span class="sxs-lookup"><span data-stu-id="b5260-231">Current role of the server instance.</span></span> <span data-ttu-id="b5260-232">Gli stati possibili sono elencati di seguito:</span><span class="sxs-lookup"><span data-stu-id="b5260-232">The possible states are:</span></span>  
  
    -   <span data-ttu-id="b5260-233">Server principale</span><span class="sxs-lookup"><span data-stu-id="b5260-233">Principal</span></span>  
  
    -   <span data-ttu-id="b5260-234">Mirror</span><span class="sxs-lookup"><span data-stu-id="b5260-234">Mirror</span></span>  
  
-   <span data-ttu-id="b5260-235">Stato mirroring</span><span class="sxs-lookup"><span data-stu-id="b5260-235">Mirroring state</span></span>  
  
     <span data-ttu-id="b5260-236">Gli stati possibili sono elencati di seguito:</span><span class="sxs-lookup"><span data-stu-id="b5260-236">The possible states are:</span></span>  
  
    -   <span data-ttu-id="b5260-237">Unknown</span><span class="sxs-lookup"><span data-stu-id="b5260-237">Unknown</span></span>  
  
    -   <span data-ttu-id="b5260-238">Sincronizzazione in corso</span><span class="sxs-lookup"><span data-stu-id="b5260-238">Synchronizing</span></span>  
  
    -   <span data-ttu-id="b5260-239">Sincronizzato</span><span class="sxs-lookup"><span data-stu-id="b5260-239">Synchronized</span></span>  
  
    -   <span data-ttu-id="b5260-240">Suspended</span><span class="sxs-lookup"><span data-stu-id="b5260-240">Suspended</span></span>  
  
    -   <span data-ttu-id="b5260-241">Disconnesso</span><span class="sxs-lookup"><span data-stu-id="b5260-241">Disconnected</span></span>  
  
-   <span data-ttu-id="b5260-242">Connessione server di controllo del mirroring del database</span><span class="sxs-lookup"><span data-stu-id="b5260-242">Witness connection</span></span>  
  
     <span data-ttu-id="b5260-243">Stato di connessione del server di controllo del mirroring del database.</span><span class="sxs-lookup"><span data-stu-id="b5260-243">Connection status of the witness.</span></span> <span data-ttu-id="b5260-244">Gli stati possibili sono elencati di seguito:</span><span class="sxs-lookup"><span data-stu-id="b5260-244">The possible states are:</span></span>  
  
    -   <span data-ttu-id="b5260-245">Unknown</span><span class="sxs-lookup"><span data-stu-id="b5260-245">Unknown</span></span>  
  
    -   <span data-ttu-id="b5260-246">Connesso</span><span class="sxs-lookup"><span data-stu-id="b5260-246">Connected</span></span>  
  
    -   <span data-ttu-id="b5260-247">Disconnesso</span><span class="sxs-lookup"><span data-stu-id="b5260-247">Disconnected.</span></span>  
  
#### <a name="log-on-the-principal-server"></a><span data-ttu-id="b5260-248">Log del server principale</span><span class="sxs-lookup"><span data-stu-id="b5260-248">Log on the Principal Server</span></span>  
 <span data-ttu-id="b5260-249">La pagina **Stato** consente di visualizzare le informazioni seguenti relative allo stato del log nel server principale al momento indicato:</span><span class="sxs-lookup"><span data-stu-id="b5260-249">The **Status** page displays the following information about the status of the log on the principal server as of the indicated time:</span></span>  
  
-   <span data-ttu-id="b5260-250">Log non inviato</span><span class="sxs-lookup"><span data-stu-id="b5260-250">Unsent log</span></span>  
  
     <span data-ttu-id="b5260-251">Quantità di log in attesa nella coda di invio espressa in kilobyte (KB).</span><span class="sxs-lookup"><span data-stu-id="b5260-251">The amount of log waiting in the send queue in kilobytes (KB).</span></span>  
  
-   <span data-ttu-id="b5260-252">Transazione non inviata meno recente</span><span class="sxs-lookup"><span data-stu-id="b5260-252">Oldest unsent transaction</span></span>  
  
     <span data-ttu-id="b5260-253">Tempo di memorizzazione della transazione non inviata meno recente nella coda di invio.</span><span class="sxs-lookup"><span data-stu-id="b5260-253">Age of the oldest unsent transaction in the send queue.</span></span> <span data-ttu-id="b5260-254">Il tempo di memorizzazione di questa transazione indica la quantità di transazioni, espressa in minuti, non ancora inviata all'istanza del server mirror.</span><span class="sxs-lookup"><span data-stu-id="b5260-254">The age of this transaction indicates how many minutes of transactions have not yet been sent to the mirror server instance.</span></span> <span data-ttu-id="b5260-255">Questo valore consente di misurare la potenziale perdita di dati in termini di tempo.</span><span class="sxs-lookup"><span data-stu-id="b5260-255">This value helps measure the potential for data loss in terms of time.</span></span>  
  
-   <span data-ttu-id="b5260-256">Tempo stimato per l'invio del log</span><span class="sxs-lookup"><span data-stu-id="b5260-256">Time to send log (estimated)</span></span>  
  
     <span data-ttu-id="b5260-257">Tempo stimato, espresso in minuti, richiesto dall'istanza del server principale per inviare il log attualmente presente nella coda di invio all'istanza del server mirror in base alla velocità di invio corrente.</span><span class="sxs-lookup"><span data-stu-id="b5260-257">Estimated number of minutes the principal server instance requires to send the log that is currently in the send queue to the mirror server instance based on the current send rate.</span></span> <span data-ttu-id="b5260-258">Il tempo effettivo richiesto per l'invio del log è soggetto alla velocità delle transazioni in entrata, che può subire notevoli variazioni.</span><span class="sxs-lookup"><span data-stu-id="b5260-258">The actual time to send the log will be affected by the rate of incoming transactions, which can vary significantly.</span></span> <span data-ttu-id="b5260-259">Il valore **Tempo stimato per l'invio del log** , tuttavia, può essere utile per valutare approssimativamente il tempo richiesto per un failover manuale.</span><span class="sxs-lookup"><span data-stu-id="b5260-259">However, the **Time to send log (estimated)** value can be useful for roughly estimating the time required for a manual failover.</span></span>  
  
-   <span data-ttu-id="b5260-260">Velocità di invio corrente</span><span class="sxs-lookup"><span data-stu-id="b5260-260">Current send rate</span></span>  
  
     <span data-ttu-id="b5260-261">Velocità alla quale le transazioni vengono inviate all'istanza del server mirror, espressa in KB al secondo.</span><span class="sxs-lookup"><span data-stu-id="b5260-261">Rate at which transactions are being sent to the mirror server instance in KB per second.</span></span>  
  
-   <span data-ttu-id="b5260-262">Frequenza corrente nuove transazioni</span><span class="sxs-lookup"><span data-stu-id="b5260-262">Current rate of new transactions</span></span>  
  
     <span data-ttu-id="b5260-263">Frequenza alla quale le transazioni in entrata vengono immesse nel log del server principale, espressa in KB al secondo.</span><span class="sxs-lookup"><span data-stu-id="b5260-263">Rate at which incoming transactions are being entered into the principal's log in KB per second.</span></span> <span data-ttu-id="b5260-264">Per stabilire se il mirroring è in ritardo, procede secondo le previsioni o sta recuperando, confrontare questo valore con il valore **Tempo stimato per l'invio del log** .</span><span class="sxs-lookup"><span data-stu-id="b5260-264">To determine whether mirroring is falling behind, staying up, or catching up, compare this value to the **Estimated time to send log** value.</span></span>  
  
#### <a name="log-on-the-mirror-server"></a><span data-ttu-id="b5260-265">Log del server mirror</span><span class="sxs-lookup"><span data-stu-id="b5260-265">Log on the Mirror Server</span></span>  
 <span data-ttu-id="b5260-266">La pagina **Stato** consente di visualizzare le informazioni seguenti relative allo stato del log nel server mirror al momento indicato:</span><span class="sxs-lookup"><span data-stu-id="b5260-266">The **Status** page displays the following information about the status of the log on the mirror server as of the indicated time:</span></span>  
  
-   <span data-ttu-id="b5260-267">Log non ripristinato</span><span class="sxs-lookup"><span data-stu-id="b5260-267">Unrestored log</span></span>  
  
     <span data-ttu-id="b5260-268">Quantità di log in attesa nella coda di rollforward espressa in kilobyte (KB).</span><span class="sxs-lookup"><span data-stu-id="b5260-268">The amount of log waiting in the redo queue in KB.</span></span>  
  
-   <span data-ttu-id="b5260-269">Tempo stimato per il ripristino del log</span><span class="sxs-lookup"><span data-stu-id="b5260-269">Time to restore log (estimated)</span></span>  
  
     <span data-ttu-id="b5260-270">Numero approssimativo di minuti necessari per l'applicazione del log presente nella coda di rollforward al database mirror.</span><span class="sxs-lookup"><span data-stu-id="b5260-270">Approximate number of minutes required for the log currently in the redo queue to be applied to the mirror database.</span></span>  
  
-   <span data-ttu-id="b5260-271">Velocità di ripristino corrente</span><span class="sxs-lookup"><span data-stu-id="b5260-271">Current restore rate</span></span>  
  
     <span data-ttu-id="b5260-272">Frequenza alla quale le transazioni vengono ripristinate nel database mirror, espressa in KB al secondo.</span><span class="sxs-lookup"><span data-stu-id="b5260-272">Rate at which transactions are being restored into the mirror database (in KB per second).</span></span>  
  
#### <a name="mirroring-session"></a><span data-ttu-id="b5260-273">Sessione di mirroring</span><span class="sxs-lookup"><span data-stu-id="b5260-273">Mirroring Session</span></span>  
 <span data-ttu-id="b5260-274">Nella pagina **Stato** , inoltre, vengono visualizzate le informazioni seguenti relative alla sessione di mirroring:</span><span class="sxs-lookup"><span data-stu-id="b5260-274">In addition, the **Status** page displays the following information about the mirroring session:</span></span>  
  
-   <span data-ttu-id="b5260-275">Overhead commit mirror</span><span class="sxs-lookup"><span data-stu-id="b5260-275">Mirroring commit overhead</span></span>  
  
     <span data-ttu-id="b5260-276">Ritardo medio per transazione, espresso in millisecondi, rilevanti solo nella modalità a sicurezza elevata.</span><span class="sxs-lookup"><span data-stu-id="b5260-276">Average delay per transaction in milliseconds (relevant only in high-safety mode).</span></span> <span data-ttu-id="b5260-277">Questo ritardo rappresenta la quantità di overhead generato mentre l'istanza del server principale è in attesa che l'istanza del server mirror scriva il record di log della transazione nella coda di rollforward.</span><span class="sxs-lookup"><span data-stu-id="b5260-277">This delay is the amount of overhead incurred while the principal server instance waits for the mirror server instance to write the transaction's log record into the redo queue.</span></span>  
  
-   <span data-ttu-id="b5260-278">Tempo stimato per l'invio e il ripristino dell'intero log corrente</span><span class="sxs-lookup"><span data-stu-id="b5260-278">Time to send and restore all current log (estimated)</span></span>  
  
     <span data-ttu-id="b5260-279">Tempo stimato necessario per inviare l'intero log non inviato di cui è stato eseguito il commit al server principale e di ripristinare l'intero log attualmente presente nella coda di rollforward.</span><span class="sxs-lookup"><span data-stu-id="b5260-279">Estimated time needed to send all of the unsent log that has been committed at the principal and to restore all of the log currently in the redo queue.</span></span> <span data-ttu-id="b5260-280">Questo valore può essere inferiore alla somma dei valori dei campi **Tempo stimato per l'invio del log** e **Tempo stimato per il ripristino del log** , perché l'invio e il ripristino possono avvenire in parallelo.</span><span class="sxs-lookup"><span data-stu-id="b5260-280">This estimate may be less than the sum of the values of the **Time to send log (estimated)** and **Time to restore log (estimated)** fields, because sending and restoring can operate in parallel.</span></span>  
  
-   <span data-ttu-id="b5260-281">Indirizzo server di controllo del mirroring</span><span class="sxs-lookup"><span data-stu-id="b5260-281">Witness address</span></span>  
  
     <span data-ttu-id="b5260-282">Indirizzo di rete dell'istanza del server di controllo del mirroring.</span><span class="sxs-lookup"><span data-stu-id="b5260-282">Network address of the witness server instance.</span></span> <span data-ttu-id="b5260-283">Per informazioni sul formato di questo indirizzo, vedere [Specificare un indirizzo di rete del server &#40;Mirroring del database&#41;](specify-a-server-network-address-database-mirroring.md).</span><span class="sxs-lookup"><span data-stu-id="b5260-283">For information about the format of this address, see [Specify a Server Network Address &#40;Database Mirroring&#41;](specify-a-server-network-address-database-mirroring.md).</span></span>  
  
-   <span data-ttu-id="b5260-284">Modalità operativa</span><span class="sxs-lookup"><span data-stu-id="b5260-284">Operating mode</span></span>  
  
     <span data-ttu-id="b5260-285">La modalità operativa della sessione di mirroring del database:</span><span class="sxs-lookup"><span data-stu-id="b5260-285">The operating mode of the database mirroring session:</span></span>  
  
    -   <span data-ttu-id="b5260-286">Prestazioni elevate (asincrona)</span><span class="sxs-lookup"><span data-stu-id="b5260-286">High performance (asynchronous)</span></span>  
  
    -   <span data-ttu-id="b5260-287">Protezione elevata senza failover automatico (sincrona)</span><span class="sxs-lookup"><span data-stu-id="b5260-287">High safety without automatic failover (synchronous)</span></span>  
  
    -   <span data-ttu-id="b5260-288">Protezione elevata con failover automatico (sincrona)</span><span class="sxs-lookup"><span data-stu-id="b5260-288">High safety with automatic failover (synchronous)</span></span>  
  
##  <a name="additional-sources-of-information-about-a-mirrored-database"></a><a name="AdditionalSources"></a> <span data-ttu-id="b5260-289">Fonti di informazioni aggiuntive su un database con mirroring</span><span class="sxs-lookup"><span data-stu-id="b5260-289">Additional Sources of Information About a Mirrored Database</span></span>  
 <span data-ttu-id="b5260-290">Oltre all'utilizzo di Monitoraggio mirroring del database e delle stored procedure dbmmonitor per monitorare un database con mirroring e impostare avvisi sulle variabili delle prestazioni monitorate, in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] sono disponibili viste del catalogo, contatori delle prestazioni e notifiche di eventi per il mirroring del database.</span><span class="sxs-lookup"><span data-stu-id="b5260-290">In addition to using the Database Mirroring Monitor and dbmmonitor stored procedures to monitor a mirrored database and set up alerts on monitored performance variables, [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] provides catalog views, performance counters, and event notifications for database mirroring.</span></span>  
  
 <span data-ttu-id="b5260-291">**Contenuto della sezione**</span><span class="sxs-lookup"><span data-stu-id="b5260-291">**In This Section:**</span></span>  
  
-   [<span data-ttu-id="b5260-292">Metadati di mirroring del database</span><span class="sxs-lookup"><span data-stu-id="b5260-292">Database Mirroring Metadata</span></span>](#DbmMetadata)  
  
-   [<span data-ttu-id="b5260-293">Contatori delle prestazioni di mirroring del database</span><span class="sxs-lookup"><span data-stu-id="b5260-293">Database Mirroring Performance Counters</span></span>](#DbmPerfCounters)  
  
-   [<span data-ttu-id="b5260-294">Notifiche degli eventi di mirroring del database</span><span class="sxs-lookup"><span data-stu-id="b5260-294">Database Mirroring Event Notifications</span></span>](#DbmEventNotif)  
  
###  <a name="database-mirroring-metadata"></a><a name="DbmMetadata"></a> <span data-ttu-id="b5260-295">Metadati di mirroring del database</span><span class="sxs-lookup"><span data-stu-id="b5260-295">Database Mirroring Metadata</span></span>  
 <span data-ttu-id="b5260-296">Ogni sessione di mirroring del database viene descritta nei metadati esposti tramite le viste a gestione dinamica o del catalogo seguenti:</span><span class="sxs-lookup"><span data-stu-id="b5260-296">Each database mirroring session is described in metadata that is exposed through the following catalog or dynamic management views:</span></span>  
  
-   <span data-ttu-id="b5260-297">**sys.database_mirroring**</span><span class="sxs-lookup"><span data-stu-id="b5260-297">**sys.database_mirroring**</span></span>  
  
     <span data-ttu-id="b5260-298">In questa vista vengono visualizzati i metadati di mirroring del database per ogni database con mirroring in un'istanza del server.</span><span class="sxs-lookup"><span data-stu-id="b5260-298">This view displays the database mirroring metadata for each mirrored database in a server instance.</span></span> <span data-ttu-id="b5260-299">Per altre informazioni, vedere [sys.database_mirroring &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-database-mirroring-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="b5260-299">For more information, see [sys.database_mirroring &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-database-mirroring-transact-sql).</span></span>  
  
-   <span data-ttu-id="b5260-300">**sys.database_mirroring_endpoints**</span><span class="sxs-lookup"><span data-stu-id="b5260-300">**sys.database_mirroring_endpoints**</span></span>  
  
     <span data-ttu-id="b5260-301">La vista del catalogo **sys.database_mirroring_endpoints** mostra informazioni relative all'endpoint del mirroring del database dell'istanza del server.</span><span class="sxs-lookup"><span data-stu-id="b5260-301">The **sys.database_mirroring_endpoints** catalog view displays information about the database mirroring endpoint of the server instance.</span></span> <span data-ttu-id="b5260-302">Per altre informazioni, vedere [sys.database_mirroring_endpoints &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-database-mirroring-endpoints-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="b5260-302">For more information, see [sys.database_mirroring_endpoints &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-database-mirroring-endpoints-transact-sql).</span></span>  
  
-   <span data-ttu-id="b5260-303">**sys.database_mirroring_witnesses**</span><span class="sxs-lookup"><span data-stu-id="b5260-303">**sys.database_mirroring_witnesses**</span></span>  
  
     <span data-ttu-id="b5260-304">In questa vista vengono visualizzati i metadati di mirroring del database per ogni sessione in cui un'istanza del server è il server di controllo del mirroring.</span><span class="sxs-lookup"><span data-stu-id="b5260-304">This catalog view displays the database mirroring metadata for each session in which a server instance is the witness.</span></span> <span data-ttu-id="b5260-305">Per altre informazioni, vedere [sys.database_mirroring_witnesses &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/database-mirroring-witness-catalog-views-sys-database-mirroring-witnesses).</span><span class="sxs-lookup"><span data-stu-id="b5260-305">For more information, see [sys.database_mirroring_witnesses &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/database-mirroring-witness-catalog-views-sys-database-mirroring-witnesses).</span></span>  
  
-   <span data-ttu-id="b5260-306">**sys.dm_db_mirroring_connections**</span><span class="sxs-lookup"><span data-stu-id="b5260-306">**sys.dm_db_mirroring_connections**</span></span>  
  
     <span data-ttu-id="b5260-307">Questa vista a gestione dinamica restituisce una riga per ogni connessione di rete di mirroring del database.</span><span class="sxs-lookup"><span data-stu-id="b5260-307">This dynamic management view returns a row for each database mirroring network connection.</span></span>  
  
     <span data-ttu-id="b5260-308">Per altre informazioni, vedere [sys.dm_db_mirroring_connections &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/database-mirroring-sys-dm-db-mirroring-connections).</span><span class="sxs-lookup"><span data-stu-id="b5260-308">For more information, see [sys.dm_db_mirroring_connections &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/database-mirroring-sys-dm-db-mirroring-connections).</span></span>  
  
###  <a name="database-mirroring-performance-counters"></a><a name="DbmPerfCounters"></a> <span data-ttu-id="b5260-309">Contatori delle prestazioni di mirroring del database</span><span class="sxs-lookup"><span data-stu-id="b5260-309">Database Mirroring Performance Counters</span></span>  
 <span data-ttu-id="b5260-310">I contatori delle prestazioni consentono di monitorare le prestazioni di mirroring del database.</span><span class="sxs-lookup"><span data-stu-id="b5260-310">Performance counters let you monitor database mirroring performance.</span></span> <span data-ttu-id="b5260-311">Ad esempio, è possibile esaminare il contatore **Ritardo transazioni** per verificare se il mirroring del database sta influenzando le prestazioni sul server principale. È possibile esaminare i contatori **Coda rollforward** e **Coda invii log** per verificare se il database mirror è in grado di mantenersi aggiornato rispetto al database principale.</span><span class="sxs-lookup"><span data-stu-id="b5260-311">For example, you can examine the **Transaction Delay** counter to see if database mirroring is impacting performance on the principal server, you can examine the **Redo Queue** and **Log Send Queue** counters to see how well the mirror database is keeping up with the principal database.</span></span> <span data-ttu-id="b5260-312">Il contatore **Byte log inviati/sec** consente di monitorare il numero di eventi di log inviati al secondo.</span><span class="sxs-lookup"><span data-stu-id="b5260-312">You can examine the **Log Bytes Sent/sec** counter to monitor the amount of log sent per second.</span></span>  
  
 <span data-ttu-id="b5260-313">In Performance Monitor su ogni partner, i contatori delle prestazioni sono disponibili nell'oggetto prestazione del mirroring del database (**SQLServer:Database Mirroring**).</span><span class="sxs-lookup"><span data-stu-id="b5260-313">In Performance Monitor on either partner, performance counters are available in the database mirroring performance object (**SQLServer:Database Mirroring**).</span></span> <span data-ttu-id="b5260-314">Per altre informazioni, vedere [Oggetto Database Mirroring di SQL Server](../../relational-databases/performance-monitor/sql-server-database-mirroring-object.md).</span><span class="sxs-lookup"><span data-stu-id="b5260-314">For more information, see [SQL Server, Database Mirroring Object](../../relational-databases/performance-monitor/sql-server-database-mirroring-object.md).</span></span>  
  
 <span data-ttu-id="b5260-315">**Per avviare Performance Monitor**</span><span class="sxs-lookup"><span data-stu-id="b5260-315">**To start the performance monitor**</span></span>  
  
-   [<span data-ttu-id="b5260-316">Avviare il Monitoraggio di sistema &#40;Windows&#41;</span><span class="sxs-lookup"><span data-stu-id="b5260-316">Start System Monitor &#40;Windows&#41;</span></span>](../../relational-databases/performance/start-system-monitor-windows.md)  
  
###  <a name="database-mirroring-event-notifications"></a><a name="DbmEventNotif"></a> <span data-ttu-id="b5260-317">Notifiche degli eventi di mirroring del database</span><span class="sxs-lookup"><span data-stu-id="b5260-317">Database Mirroring Event Notifications</span></span>  
 <span data-ttu-id="b5260-318">Le notifiche degli eventi sono un tipo speciale di oggetto di database.</span><span class="sxs-lookup"><span data-stu-id="b5260-318">Event notifications are a special kind of database object.</span></span> <span data-ttu-id="b5260-319">Le notifiche degli eventi vengono eseguite in risposta a una serie di istruzioni DDL (Data Definition Language) Transact-SQL ed eventi di Traccia SQL e inviano informazioni su eventi di server e database a un servizio di [!INCLUDE[ssSB](../../includes/sssb-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="b5260-319">Event notifications execute in response to a variety of Transact-SQL data definition language (DDL) statements and SQL Trace events and send information about server and database events to a [!INCLUDE[ssSB](../../includes/sssb-md.md)] service.</span></span>  
  
 <span data-ttu-id="b5260-320">Per il mirroring del database sono disponibili gli eventi seguenti:</span><span class="sxs-lookup"><span data-stu-id="b5260-320">The following events are available for database mirroring:</span></span>  
  
-   <span data-ttu-id="b5260-321">Classe di evento**Database Mirroring State Change**</span><span class="sxs-lookup"><span data-stu-id="b5260-321">**Database Mirroring State Change** event class</span></span>  
  
     <span data-ttu-id="b5260-322">Indica quando lo stato di mirroring di un database con mirroring cambia.</span><span class="sxs-lookup"><span data-stu-id="b5260-322">This indicates when the mirroring state of a mirrored database changes.</span></span> <span data-ttu-id="b5260-323">Per altre informazioni, vedere [Database Mirroring State Change Event Class](../../relational-databases/event-classes/database-mirroring-state-change-event-class.md).</span><span class="sxs-lookup"><span data-stu-id="b5260-323">For more information, see [Database Mirroring State Change Event Class](../../relational-databases/event-classes/database-mirroring-state-change-event-class.md).</span></span>  
  
-   <span data-ttu-id="b5260-324">Classe di evento**Audit Database Mirroring Login**</span><span class="sxs-lookup"><span data-stu-id="b5260-324">**Audit Database Mirroring Login** event class</span></span>  
  
     <span data-ttu-id="b5260-325">Segnala i messaggi di controllo correlati alla sicurezza di trasporto per il mirroring del database.</span><span class="sxs-lookup"><span data-stu-id="b5260-325">This reports audit messages related to database mirroring transport security.</span></span> <span data-ttu-id="b5260-326">Per altre informazioni, vedere [Audit Database Mirroring Login Event Class](../../relational-databases/event-classes/audit-database-mirroring-login-event-class.md).</span><span class="sxs-lookup"><span data-stu-id="b5260-326">For more information, see [Audit Database Mirroring Login Event Class](../../relational-databases/event-classes/audit-database-mirroring-login-event-class.md).</span></span>  
  
##  <a name="related-tasks"></a><a name="RelatedTasks"></a> <span data-ttu-id="b5260-327">Attività correlate</span><span class="sxs-lookup"><span data-stu-id="b5260-327">Related Tasks</span></span>  
  
-   [<span data-ttu-id="b5260-328">Usare valori di soglia avvisi e avvisi sulle metriche delle prestazioni di mirroring &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="b5260-328">Use Warning Thresholds and Alerts on Mirroring Performance Metrics &#40;SQL Server&#41;</span></span>](use-warning-thresholds-and-alerts-on-mirroring-performance-metrics-sql-server.md)  
  
-   [<span data-ttu-id="b5260-329">Avviare il monitoraggio mirroring del database &#40;SQL Server Management Studio&#41;</span><span class="sxs-lookup"><span data-stu-id="b5260-329">Start Database Mirroring Monitor &#40;SQL Server Management Studio&#41;</span></span>](../database-mirroring/start-database-mirroring-monitor-sql-server-management-studio.md)  
  
-   [<span data-ttu-id="b5260-330">Visualizzazione dello stato di un database con mirroring &#40;SQL Server Management Studio&#41;</span><span class="sxs-lookup"><span data-stu-id="b5260-330">View the State of a Mirrored Database &#40;SQL Server Management Studio&#41;</span></span>](view-the-state-of-a-mirrored-database-sql-server-management-studio.md)  
  
 <span data-ttu-id="b5260-331">**Stored procedure**</span><span class="sxs-lookup"><span data-stu-id="b5260-331">**Stored procedures**</span></span>  
  
-   [<span data-ttu-id="b5260-332">sp_dbmmonitoraddmonitoring &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="b5260-332">sp_dbmmonitoraddmonitoring &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitoraddmonitoring-transact-sql)  
  
-   [<span data-ttu-id="b5260-333">sp_dbmmonitorchangealert &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="b5260-333">sp_dbmmonitorchangealert &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorchangealert-transact-sql)  
  
-   [<span data-ttu-id="b5260-334">sp_dbmmonitorchangemonitoring &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="b5260-334">sp_dbmmonitorchangemonitoring &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorchangemonitoring-transact-sql)  
  
-   [<span data-ttu-id="b5260-335">sp_dbmmonitordropalert &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="b5260-335">sp_dbmmonitordropalert &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitordropalert-transact-sql)  
  
-   [<span data-ttu-id="b5260-336">sp_dbmmonitordropmonitoring &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="b5260-336">sp_dbmmonitordropmonitoring &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitordropmonitoring-transact-sql)  
  
-   [<span data-ttu-id="b5260-337">sp_dbmmonitorhelpalert &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="b5260-337">sp_dbmmonitorhelpalert &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorhelpalert-transact-sql)  
  
-   [<span data-ttu-id="b5260-338">sp_dbmmonitorhelpmonitoring &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="b5260-338">sp_dbmmonitorhelpmonitoring &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorhelpmonitoring-transact-sql)  
  
-   [<span data-ttu-id="b5260-339">sp_dbmmonitorresults &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="b5260-339">sp_dbmmonitorresults &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorresults-transact-sql)  
  
-   [<span data-ttu-id="b5260-340">sp_dbmmonitorupdate &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="b5260-340">sp_dbmmonitorupdate &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorupdate-transact-sql)  
  
## <a name="see-also"></a><span data-ttu-id="b5260-341">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="b5260-341">See Also</span></span>  
 <span data-ttu-id="b5260-342">[Mirroring del database &#40;SQL Server&#41;](database-mirroring-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="b5260-342">[Database Mirroring &#40;SQL Server&#41;](database-mirroring-sql-server.md) </span></span>  
 [<span data-ttu-id="b5260-343">Concetti relativi al provider WMI per eventi del server</span><span class="sxs-lookup"><span data-stu-id="b5260-343">WMI Provider for Server Events Concepts</span></span>](../../relational-databases/wmi-provider-server-events/wmi-provider-for-server-events-concepts.md)  
  
  
