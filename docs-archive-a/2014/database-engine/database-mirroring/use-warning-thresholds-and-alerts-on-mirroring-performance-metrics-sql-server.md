---
title: Usare valori di soglia avvisi e avvisi sulle metriche delle prestazioni di mirroring (SQL Server) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
helpviewer_keywords:
- monitoring database mirroring [SQL Server]
- thresholds [SQL Server]
- database mirroring [SQL Server], managing in SQL Server Management Studio
- alerts [SQL Server], database mirroring
- database mirroring [SQL Server], monitoring
- warnings [database mirroring]
ms.assetid: 8cdd1515-0bd7-4f8c-a7fc-a33b575e20f6
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 908b234143bc7e2140fe1c98d85ba150ea69b28d
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87627379"
---
# <a name="use-warning-thresholds-and-alerts-on-mirroring-performance-metrics-sql-server"></a><span data-ttu-id="eec26-102">Utilizzare valori di soglia avvisi e avvisi sulle metriche delle prestazioni di mirroring (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="eec26-102">Use Warning Thresholds and Alerts on Mirroring Performance Metrics (SQL Server)</span></span>
  <span data-ttu-id="eec26-103">In questo argomento sono incluse informazioni sugli eventi di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] per cui è possibile configurare e gestire valori soglia degli avvisi per il mirroring del database.</span><span class="sxs-lookup"><span data-stu-id="eec26-103">This topic contains information about the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] events for which warning thresholds can be configured and managed for database mirroring.</span></span> <span data-ttu-id="eec26-104">È possibile usare Monitoraggio mirroring del database o le stored procedure **sp_dbmmonitorchangealert**, **sp_dbmmonitorhelpalert**e **sp_dbmmonitordropalert** .</span><span class="sxs-lookup"><span data-stu-id="eec26-104">You can use the  Database Mirroring Monitor or the **sp_dbmmonitorchangealert**, **sp_dbmmonitorhelpalert**, and **sp_dbmmonitordropalert** stored procedures.</span></span> <span data-ttu-id="eec26-105">Nell'argomento sono inoltre incluse informazioni relative alle configurazione degli avvisi per gli eventi di mirroring del database.</span><span class="sxs-lookup"><span data-stu-id="eec26-105">This topic also contains information about configuring alerts on database mirroring events.</span></span>  
  
 <span data-ttu-id="eec26-106">Dopo aver stabilito il monitoraggio per un database con mirroring, un amministratore di sistema può configurare soglie di avviso su alcune metriche chiave delle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="eec26-106">After monitoring is established for a mirrored database, a system administrator can configure warning thresholds on several key performance metrics.</span></span> <span data-ttu-id="eec26-107">Un amministratore può inoltre configurare avvisi su questi e altri eventi di mirroring del database.</span><span class="sxs-lookup"><span data-stu-id="eec26-107">Also, an administrator can configure alerts on these and other database mirroring events.</span></span>  
  
 <span data-ttu-id="eec26-108">**Contenuto dell'argomento:**</span><span class="sxs-lookup"><span data-stu-id="eec26-108">**In This Topic:**</span></span>  
  
-   [<span data-ttu-id="eec26-109">Metriche delle prestazioni e soglie di avviso</span><span class="sxs-lookup"><span data-stu-id="eec26-109">Performance Metrics and Warning Thresholds</span></span>](#PerfMetricsAndWarningThresholds)  
  
-   [<span data-ttu-id="eec26-110">Impostazione e gestione delle soglie di avviso</span><span class="sxs-lookup"><span data-stu-id="eec26-110">Setting Up and Managing Warning Thresholds</span></span>](#SetUpManageWarningThresholds)  
  
-   [<span data-ttu-id="eec26-111">Utilizzo di avvisi per un database con mirroring</span><span class="sxs-lookup"><span data-stu-id="eec26-111">Using Alerts for a Mirrored Database</span></span>](#UseAlerts)  
  
-   [<span data-ttu-id="eec26-112">Attività correlate</span><span class="sxs-lookup"><span data-stu-id="eec26-112">Related Tasks</span></span>](#RelatedTasks)  
  
##  <a name="performance-metrics-and-warning-thresholds"></a><a name="PerfMetricsAndWarningThresholds"></a> <span data-ttu-id="eec26-113">Misurazioni delle prestazioni e delle soglie di avviso</span><span class="sxs-lookup"><span data-stu-id="eec26-113">Performance Metrics and Warning Thresholds</span></span>  
 <span data-ttu-id="eec26-114">Nella tabella seguente vengono elencate le misurazioni delle prestazioni per cui è possibile configurare avvisi, vengono descritte le soglie di avviso corrispondenti ed elencate le etichette di Monitoraggio mirroring del database corrispondenti.</span><span class="sxs-lookup"><span data-stu-id="eec26-114">The following table lists the performance metrics for which warnings can be configured, describes the corresponding warning threshold, and lists the corresponding Database Mirroring Monitor label.</span></span>  
  
|<span data-ttu-id="eec26-115">Misurazione delle prestazioni</span><span class="sxs-lookup"><span data-stu-id="eec26-115">Performance metric</span></span>|<span data-ttu-id="eec26-116">Valore soglia avvisi</span><span class="sxs-lookup"><span data-stu-id="eec26-116">Warning threshold</span></span>|<span data-ttu-id="eec26-117">Etichetta di Monitoraggio mirroring del database</span><span class="sxs-lookup"><span data-stu-id="eec26-117">Database Mirroring Monitor label</span></span>|  
|------------------------|-----------------------|--------------------------------------|  
|<span data-ttu-id="eec26-118">Log non inviato</span><span class="sxs-lookup"><span data-stu-id="eec26-118">Unsent log</span></span>|<span data-ttu-id="eec26-119">Specifica la quantità di log non inviati, espressa in kilobyte (KB), che può accumularsi prima che venga generato un avviso nell'istanza del server principale.</span><span class="sxs-lookup"><span data-stu-id="eec26-119">Specifies how many kilobytes (KB) of unsent log generate a warning on the principal server instance.</span></span> <span data-ttu-id="eec26-120">Questo avviso consente di quantificare il rischio potenziale di perdita dei dati in termini di KB ed è particolarmente rilevante per la modalità a prestazioni elevate.</span><span class="sxs-lookup"><span data-stu-id="eec26-120">This warning helps measure the potential for data loss in terms of KB and is especially relevant for high-performance mode.</span></span> <span data-ttu-id="eec26-121">L'avviso risulta tuttavia utile anche per la modalità a sicurezza elevata quando il mirroring viene sospeso in seguito alla disconnessione dei partner.</span><span class="sxs-lookup"><span data-stu-id="eec26-121">However, the warning is also relevant for high-safety mode when mirroring is paused or suspended because the partners become disconnected.</span></span>|<span data-ttu-id="eec26-122">**Avvisa se il log non inviato supera la soglia**</span><span class="sxs-lookup"><span data-stu-id="eec26-122">**Warn if the unsent log exceeds the threshold**</span></span>|  
|<span data-ttu-id="eec26-123">Log non ripristinato</span><span class="sxs-lookup"><span data-stu-id="eec26-123">Unrestored log</span></span>|<span data-ttu-id="eec26-124">Specifica la quantità di log non ripristinati, espressa in kilobyte (KB), che può accumularsi prima che venga generato un avviso nell'istanza del server mirror.</span><span class="sxs-lookup"><span data-stu-id="eec26-124">Specifies how many KB of unrestored log generate a warning on the mirror server instance.</span></span> <span data-ttu-id="eec26-125">Questo avviso consente di misurare il tempo di failover.</span><span class="sxs-lookup"><span data-stu-id="eec26-125">This warning helps measure failover time.</span></span> <span data-ttu-id="eec26-126">Il*tempo di failover* corrisponde essenzialmente al tempo necessario al server mirror precedente per eseguire il rollforward di tutti i log rimanenti nella propria coda di rollforward, più un breve tempo aggiuntivo.</span><span class="sxs-lookup"><span data-stu-id="eec26-126">*Failover time* consists mainly of the time that the former mirror server requires to roll forward any log remaining in its redo queue, plus a short additional time.</span></span><br /><br /> <span data-ttu-id="eec26-127">Nota: Per un failover automatico, il tempo necessario al sistema per rilevare l'errore è indipendente dal tempo di failover.</span><span class="sxs-lookup"><span data-stu-id="eec26-127">Note: For an automatic failover, the time for the system to notice the error is independent of the failover time.</span></span><br /><br /> <span data-ttu-id="eec26-128">Per altre informazioni, vedere [Stimare l'interruzione del servizio durante il cambio di ruolo &#40;mirroring del database&#41;](estimate-the-interruption-of-service-during-role-switching-database-mirroring.md).</span><span class="sxs-lookup"><span data-stu-id="eec26-128">For more information, see [Estimate the Interruption of Service During Role Switching &#40;Database Mirroring&#41;](estimate-the-interruption-of-service-during-role-switching-database-mirroring.md).</span></span>|<span data-ttu-id="eec26-129">**Avvisa se il log non ripristinato supera la soglia**</span><span class="sxs-lookup"><span data-stu-id="eec26-129">**Warn if the unrestored log exceeds the threshold**</span></span>|  
|<span data-ttu-id="eec26-130">Transazione non inviata meno recente</span><span class="sxs-lookup"><span data-stu-id="eec26-130">Oldest unsent transaction</span></span>|<span data-ttu-id="eec26-131">Specifica la quantità di transazioni, espressa in minuti, che può accumularsi nella coda di invio prima che venga generato un avviso nell'istanza del server principale.</span><span class="sxs-lookup"><span data-stu-id="eec26-131">Specifies the number of minutes worth of transactions that can accumulate in the send queue before a warning is generated on the principal server instance.</span></span> <span data-ttu-id="eec26-132">Questo avviso consente di quantificare il rischio potenziale di perdita dei dati in termini di tempo ed è particolarmente rilevante per la modalità a prestazioni elevate.</span><span class="sxs-lookup"><span data-stu-id="eec26-132">This warning helps measure the potential for data loss in terms of time and is especially relevant for high-performance mode.</span></span> <span data-ttu-id="eec26-133">L'avviso risulta tuttavia utile anche per la modalità a sicurezza elevata quando il mirroring viene sospeso in seguito alla disconnessione dei partner.</span><span class="sxs-lookup"><span data-stu-id="eec26-133">However, the warning is also relevant for high-safety mode when mirroring is paused or suspended because the partners become disconnected.</span></span>|<span data-ttu-id="eec26-134">**Avvisa se il tempo di memorizzazione della transazione non inviata meno recente è superiore alla soglia**</span><span class="sxs-lookup"><span data-stu-id="eec26-134">**Warn if the age of the oldest unsent transaction exceeds the threshold**</span></span>|  
|<span data-ttu-id="eec26-135">Overhead commit mirror</span><span class="sxs-lookup"><span data-stu-id="eec26-135">Mirror commit overhead</span></span>|<span data-ttu-id="eec26-136">Specifica il ritardo medio per transazione, espresso in millisecondi, che è consentito prima che venga generato un avviso nell'istanza del server principale.</span><span class="sxs-lookup"><span data-stu-id="eec26-136">Specifies the number of milliseconds of average delay per transaction that are tolerated before a warning is generated on the principal server.</span></span> <span data-ttu-id="eec26-137">Questo ritardo rappresenta la quantità di overhead generato mentre l'istanza del server principale è in attesa che l'istanza del server mirror scriva il record di log della transazione nella coda di rollforward.</span><span class="sxs-lookup"><span data-stu-id="eec26-137">This delay is the amount of overhead incurred while the principal server instance waits for the mirror server instance to write the transaction's log record into the redo queue.</span></span> <span data-ttu-id="eec26-138">Questo valore è rilevante solo nella modalità a sicurezza elevata.</span><span class="sxs-lookup"><span data-stu-id="eec26-138">This value is relevant only in high-safety mode.</span></span>|<span data-ttu-id="eec26-139">**Avvisa se l'overhead di commit del mirror supera la soglia**</span><span class="sxs-lookup"><span data-stu-id="eec26-139">**Warn if the mirror commit overhead exceeds the threshold**</span></span>|  
  
 <span data-ttu-id="eec26-140">Per qualsiasi di queste misurazioni delle prestazioni, un amministratore di sistema può specificare una soglia su un database con mirroring.</span><span class="sxs-lookup"><span data-stu-id="eec26-140">For any one of these performance metrics, a system administrator can specify a threshold on a mirrored database.</span></span> <span data-ttu-id="eec26-141">Per ulteriori informazioni, vedere [Impostazione e gestione delle soglie di avviso](#SetUpManageWarningThresholds), più avanti in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="eec26-141">For more information, see [Setting Up and Managing Warning Thresholds](#SetUpManageWarningThresholds), later in this topic.</span></span>  
  
##  <a name="setting-up-and-managing-warning-thresholds"></a><a name="SetUpManageWarningThresholds"></a> <span data-ttu-id="eec26-142">Impostazione e gestione delle soglie di avviso</span><span class="sxs-lookup"><span data-stu-id="eec26-142">Setting Up and Managing Warning Thresholds</span></span>  
 <span data-ttu-id="eec26-143">Un amministratore di sistema può configurare uno o più soglie di avviso per le misurazioni chiave delle prestazioni di mirroring.</span><span class="sxs-lookup"><span data-stu-id="eec26-143">A system administrator can configure one or more warning thresholds for the key mirroring performance metrics.</span></span> <span data-ttu-id="eec26-144">È consigliabile impostare una soglia per un determinato avviso su entrambi i partner per assicurare che l'avviso persista in caso di failover del database.</span><span class="sxs-lookup"><span data-stu-id="eec26-144">We recommend setting a threshold for a given warning on both partners to make sure that the warning persists if the database fails over.</span></span> <span data-ttu-id="eec26-145">La soglia appropriata per ogni partner dipende dalle capacità in termini di prestazioni del sistema di tale partner.</span><span class="sxs-lookup"><span data-stu-id="eec26-145">The appropriate threshold on each partner depends on the performance capabilities of that partner's system.</span></span>  
  
 <span data-ttu-id="eec26-146">È possibile configurare e gestire le soglie di avviso utilizzando uno degli elementi seguenti:</span><span class="sxs-lookup"><span data-stu-id="eec26-146">Warning thresholds can be configured and managed by using either of the following:</span></span>  
  
-   <span data-ttu-id="eec26-147">Monitoraggio mirroring del database</span><span class="sxs-lookup"><span data-stu-id="eec26-147">Database Mirroring Monitor</span></span>  
  
     <span data-ttu-id="eec26-148">In Monitoraggio mirroring del database l'amministratore può visualizzare contemporaneamente la configurazione corrente degli avvisi per un database selezionato nelle istanze del server mirror e del server principale selezionando la pagina a schede **Avvisi** .</span><span class="sxs-lookup"><span data-stu-id="eec26-148">In Database Mirroring Monitor, the administrator can view the current configuration of warnings for a selected database at both the principal and mirror server instances at the same time by selecting the **Warnings** tabbed page.</span></span> <span data-ttu-id="eec26-149">Da questa pagina, l'amministratore può aprire la finestra di dialogo **Imposta soglie di avviso** per abilitare e configurare uno o soglie di avviso.</span><span class="sxs-lookup"><span data-stu-id="eec26-149">From there, the administrator can open the **Set Warning Thresholds** dialog box to enable and configure one or more warning thresholds.</span></span>  
  
     <span data-ttu-id="eec26-150">Per un'introduzione all'interfaccia di Monitoraggio mirroring del database, vedere [Database Mirroring Monitor Overview](database-mirroring-monitor-overview.md).</span><span class="sxs-lookup"><span data-stu-id="eec26-150">For an introduction to the Database Mirroring Monitor interface, see [Database Mirroring Monitor Overview](database-mirroring-monitor-overview.md).</span></span> <span data-ttu-id="eec26-151">Per informazioni sull'avvio del Monitoraggio mirroring del database, vedere [Avviare Monitoraggio mirroring del database &#40;SQL Server Management Studio&#41;](../database-mirroring/start-database-mirroring-monitor-sql-server-management-studio.md).</span><span class="sxs-lookup"><span data-stu-id="eec26-151">For information about launching Database Mirroring Monitor, see [Start Database Mirroring Monitor &#40;SQL Server Management Studio&#41;](../database-mirroring/start-database-mirroring-monitor-sql-server-management-studio.md).</span></span>  
  
-   <span data-ttu-id="eec26-152">Stored procedure di sistema</span><span class="sxs-lookup"><span data-stu-id="eec26-152">System stored procedures</span></span>  
  
     <span data-ttu-id="eec26-153">Il set seguente di stored procedure di sistema consente a un amministratore di impostare e gestire le soglie di avviso su database con mirroring di un partner alla volta.</span><span class="sxs-lookup"><span data-stu-id="eec26-153">The following set of system stored procedures enable an administrator to set up and manage warning thresholds on mirrored databases of one partner at a time.</span></span>  
  
    |<span data-ttu-id="eec26-154">Procedura</span><span class="sxs-lookup"><span data-stu-id="eec26-154">Procedure</span></span>|<span data-ttu-id="eec26-155">Descrizione</span><span class="sxs-lookup"><span data-stu-id="eec26-155">Description</span></span>|  
    |---------------|-----------------|  
    |[<span data-ttu-id="eec26-156">sp_dbmmonitorchangealert &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="eec26-156">sp_dbmmonitorchangealert &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorchangealert-transact-sql)|<span data-ttu-id="eec26-157">Aggiunge o modifica la soglia di avviso per una misurazione delle prestazioni di mirroring specificata.</span><span class="sxs-lookup"><span data-stu-id="eec26-157">Adds or changes warning threshold for a specified mirroring performance metric.</span></span>|  
    |[<span data-ttu-id="eec26-158">sp_dbmmonitorhelpalert &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="eec26-158">sp_dbmmonitorhelpalert &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorhelpalert-transact-sql)|<span data-ttu-id="eec26-159">Restituisce informazioni sulle soglie di avviso su una o tutte le misurazioni delle prestazioni di monitoraggio del mirroring del database.</span><span class="sxs-lookup"><span data-stu-id="eec26-159">Returns information about warning thresholds on one or all of several key database mirroring monitor performance metrics.</span></span>|  
    |[<span data-ttu-id="eec26-160">sp_dbmmonitordropalert &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="eec26-160">sp_dbmmonitordropalert &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitordropalert-transact-sql)|<span data-ttu-id="eec26-161">Elimina l'avviso per una misurazione delle prestazioni specificata.</span><span class="sxs-lookup"><span data-stu-id="eec26-161">Drops the warning for a specified performance metric.</span></span>|  
  
## <a name="performance-threshold-events-sent-to-the-windows-event-log"></a><span data-ttu-id="eec26-162">Eventi di soglia delle prestazioni inviati al registro eventi di Windows</span><span class="sxs-lookup"><span data-stu-id="eec26-162">Performance-Threshold Events Sent to the Windows Event Log</span></span>  
 <span data-ttu-id="eec26-163">Se viene definito un valore soglia avviso per una misurazione delle prestazioni, quando viene aggiornata la tabella di stato viene valutato il valore più recente rispetto al valore soglia.</span><span class="sxs-lookup"><span data-stu-id="eec26-163">If warning thresholdis defined for a performance metric, when the status table is updated, the latest value is evaluated against the threshold.</span></span> <span data-ttu-id="eec26-164">Se è stata raggiunta la soglia, la procedura di aggiornamento, **sp_dbmmonitorupdate**, genera un evento informativo, un evento di *soglia delle prestazioni*, per la metrica e scrive l'evento nel [!INCLUDE[msCoName](../../includes/msconame-md.md)] registro eventi di Windows.</span><span class="sxs-lookup"><span data-stu-id="eec26-164">If the threshold has been reached, the update procedure, **sp_dbmmonitorupdate**, generates an informational event-a *performance-threshold event*- for the metric and writes the event to the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows event log.</span></span> <span data-ttu-id="eec26-165">Nella tabella seguente sono elencati gli ID degli eventi di soglia delle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="eec26-165">The following table lists the event IDs of the performance-threshold events.</span></span>  
  
|<span data-ttu-id="eec26-166">Misurazione delle prestazioni</span><span class="sxs-lookup"><span data-stu-id="eec26-166">Performance metric</span></span>|<span data-ttu-id="eec26-167">ID evento</span><span class="sxs-lookup"><span data-stu-id="eec26-167">Event ID</span></span>|  
|------------------------|--------------|  
|<span data-ttu-id="eec26-168">Log non inviato</span><span class="sxs-lookup"><span data-stu-id="eec26-168">Unsent log</span></span>|<span data-ttu-id="eec26-169">32042</span><span class="sxs-lookup"><span data-stu-id="eec26-169">32042</span></span>|  
|<span data-ttu-id="eec26-170">Log non ripristinato</span><span class="sxs-lookup"><span data-stu-id="eec26-170">Unrestored log</span></span>|<span data-ttu-id="eec26-171">32043</span><span class="sxs-lookup"><span data-stu-id="eec26-171">32043</span></span>|  
|<span data-ttu-id="eec26-172">Transazione non inviata meno recente</span><span class="sxs-lookup"><span data-stu-id="eec26-172">Oldest unsent transaction</span></span>|<span data-ttu-id="eec26-173">32040</span><span class="sxs-lookup"><span data-stu-id="eec26-173">32040</span></span>|  
|<span data-ttu-id="eec26-174">Overhead commit mirror</span><span class="sxs-lookup"><span data-stu-id="eec26-174">Mirror commit overhead</span></span>|<span data-ttu-id="eec26-175">32044</span><span class="sxs-lookup"><span data-stu-id="eec26-175">32044</span></span>|  
  
> [!NOTE]  
>  <span data-ttu-id="eec26-176">Un amministratore può definire avvisi su uno o più di questi eventi.</span><span class="sxs-lookup"><span data-stu-id="eec26-176">An administrator can define alerts on any one or more of these events.</span></span> <span data-ttu-id="eec26-177">Per ulteriori informazioni, vedere [Utilizzo di avvisi per un database con mirroring](#UseAlerts), più avanti in questo</span><span class="sxs-lookup"><span data-stu-id="eec26-177">For more information, see [Using Alerts for a Mirrored Database](#UseAlerts), later in this</span></span>  
>   
>  <span data-ttu-id="eec26-178">argomento.</span><span class="sxs-lookup"><span data-stu-id="eec26-178">topic.</span></span>  
  
##  <a name="using-alerts-for-a-mirrored-database"></a><a name="UseAlerts"></a><span data-ttu-id="eec26-179">Utilizzo degli avvisi per un database con mirroring</span><span class="sxs-lookup"><span data-stu-id="eec26-179">Using Alerts for a Mirrored Database</span></span>  
 <span data-ttu-id="eec26-180">Una parte importante del monitoraggio di un database con mirroring consiste nella configurazione di avvisi sugli eventi significativi di mirroring del database.</span><span class="sxs-lookup"><span data-stu-id="eec26-180">An important part of monitoring a mirrored database is configuring alerts on significant database mirro events.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="eec26-181">genera i tipi seguenti di eventi del mirroring del database:</span><span class="sxs-lookup"><span data-stu-id="eec26-181">generates the following types of database mirroring events:</span></span>  
  
-   <span data-ttu-id="eec26-182">Eventi di soglia delle prestazioni</span><span class="sxs-lookup"><span data-stu-id="eec26-182">Performance threshold events</span></span>  
  
     <span data-ttu-id="eec26-183">Per ulteriori informazioni, vedere "Eventi di soglia delle prestazioni inviati al registro eventi di Windows" più indietro in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="eec26-183">For more information, see "Performance-Threshold Events Sent to the Windows Event Log" earlier in this topic.</span></span>  
  
-   <span data-ttu-id="eec26-184">Eventi di modifica dello stato</span><span class="sxs-lookup"><span data-stu-id="eec26-184">State-change events</span></span>  
  
     <span data-ttu-id="eec26-185">Si tratta di eventi WMI che vengono generati quando si verificano modifiche nello stato interno di una sessione di mirroring del database.</span><span class="sxs-lookup"><span data-stu-id="eec26-185">These are Windows Management Instrumentation (WMI) events that are generated when changes occur in the internal state of a database mirroring session.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="eec26-186">Per altre informazioni, vedere [Concetti relativi al provider WMI per eventi del server](../../relational-databases/wmi-provider-server-events/wmi-provider-for-server-events-concepts.md).</span><span class="sxs-lookup"><span data-stu-id="eec26-186">For more information, see [WMI Provider for Server Events Concepts](../../relational-databases/wmi-provider-server-events/wmi-provider-for-server-events-concepts.md).</span></span>  
  
 <span data-ttu-id="eec26-187">Un amministratore di sistema può configurare avvisi su questi eventi utilizzando [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent o altre applicazioni quali [!INCLUDE[msCoName](../../includes/msconame-md.md)] Operations Manager.</span><span class="sxs-lookup"><span data-stu-id="eec26-187">A system administrator can configure alerts on these by using [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent or other applications, such as [!INCLUDE[msCoName](../../includes/msconame-md.md)] Operations Manager.</span></span>  
  
 <span data-ttu-id="eec26-188">Quando si definiscono avvisi su eventi di mirroring del database, è consigliabile definire valori soglia avvisi su entrambe le istanze dei server partner.</span><span class="sxs-lookup"><span data-stu-id="eec26-188">When you define alerts on database mirroring events, we recommend that you define warning thresholds and alerts at both partner server instances.</span></span> <span data-ttu-id="eec26-189">Nel server principale o nel server mirror vengono generati singoli eventi, ma ognuno dei partner può eseguire in qualsiasi momento uno o l'altro dei due ruoli.</span><span class="sxs-lookup"><span data-stu-id="eec26-189">Individual events are generated at either the principal server or the mirror server, but each partner can perform either role at any time.</span></span> <span data-ttu-id="eec26-190">Per assicurarsi che un avviso continui a funzionare dopo un failover, l'avviso deve essere definito su entrambi i partner.</span><span class="sxs-lookup"><span data-stu-id="eec26-190">To make sure that an alert continues to operate after a failover, the alert must be defined at both partners.</span></span>  
  
 <span data-ttu-id="eec26-191">Per ulteriori informazioni, vedere il white paper relativo agli avvisi sugli eventi di mirroring del database nel [sito Web SQL Server](../../database-engine/database-mirroring/use-warning-thresholds-and-alerts-on-mirroring-performance-metrics-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="eec26-191">For more information, see the white paper about alerting on database mirroring events at this [SQL Server Web site](../../database-engine/database-mirroring/use-warning-thresholds-and-alerts-on-mirroring-performance-metrics-sql-server.md).</span></span> <span data-ttu-id="eec26-192">In questo white paper sono contenute informazioni su come configurare avvisi utilizzando [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent, eventi WMI di mirroring del database e script di esempio.</span><span class="sxs-lookup"><span data-stu-id="eec26-192">This white paper contains information about how to configure alerts using [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent, the database mirroring WMI events, and sample scripts.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="eec26-193">Per tutte le sessioni di mirroring, è consigliabile configurare il database per l'invio di un avviso per qualsiasi evento di modifica di stato.</span><span class="sxs-lookup"><span data-stu-id="eec26-193">For all mirroring sessions, we strongly recommend that you configure the database to send an alert on any state-change events.</span></span> <span data-ttu-id="eec26-194">A meno che non sia prevista una modifica dello stato in seguito a una modifica manuale della configurazione, si è verificato un evento che potrebbe compromettere i dati.</span><span class="sxs-lookup"><span data-stu-id="eec26-194">Unless a state change is expected as the result of a manual configuration change, something has occurred that could compromise your data.</span></span> <span data-ttu-id="eec26-195">Per proteggere i dati, identificare e correggere la causa della modifica imprevista dello stato.</span><span class="sxs-lookup"><span data-stu-id="eec26-195">To help protect your data, identify and fix the cause of an unexpected state change.</span></span>  
  
##  <a name="related-tasks"></a><a name="RelatedTasks"></a> <span data-ttu-id="eec26-196">Attività correlate</span><span class="sxs-lookup"><span data-stu-id="eec26-196">Related Tasks</span></span>  
 <span data-ttu-id="eec26-197">**Per creare un avviso utilizzando SQL Server Management Studio**</span><span class="sxs-lookup"><span data-stu-id="eec26-197">**To create an alert using SQL Server Management Studio**</span></span>  
  
-   [<span data-ttu-id="eec26-198">Creazione di un avviso utilizzando un numero di errore</span><span class="sxs-lookup"><span data-stu-id="eec26-198">Create an Alert Using an Error Number</span></span>](../../ssms/agent/create-an-alert-using-an-error-number.md)  
  
-   [<span data-ttu-id="eec26-199">Creare un avviso per evento WMI</span><span class="sxs-lookup"><span data-stu-id="eec26-199">Create a WMI Event Alert</span></span>](../../ssms/agent/create-a-wmi-event-alert.md)  
  
 <span data-ttu-id="eec26-200">**Per monitorare il mirroring del database**</span><span class="sxs-lookup"><span data-stu-id="eec26-200">**To monitor database mirroring**</span></span>  
  
-   [<span data-ttu-id="eec26-201">Avviare il monitoraggio mirroring del database &#40;SQL Server Management Studio&#41;</span><span class="sxs-lookup"><span data-stu-id="eec26-201">Start Database Mirroring Monitor &#40;SQL Server Management Studio&#41;</span></span>](../database-mirroring/start-database-mirroring-monitor-sql-server-management-studio.md)  
  
-   [<span data-ttu-id="eec26-202">sp_dbmmonitoraddmonitoring &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="eec26-202">sp_dbmmonitoraddmonitoring &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitoraddmonitoring-transact-sql)  
  
-   [<span data-ttu-id="eec26-203">sp_dbmmonitorchangealert &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="eec26-203">sp_dbmmonitorchangealert &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorchangealert-transact-sql)  
  
-   [<span data-ttu-id="eec26-204">sp_dbmmonitorchangemonitoring &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="eec26-204">sp_dbmmonitorchangemonitoring &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorchangemonitoring-transact-sql)  
  
-   [<span data-ttu-id="eec26-205">sp_dbmmonitordropalert &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="eec26-205">sp_dbmmonitordropalert &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitordropalert-transact-sql)  
  
-   [<span data-ttu-id="eec26-206">sp_dbmmonitordropmonitoring &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="eec26-206">sp_dbmmonitordropmonitoring &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitordropmonitoring-transact-sql)  
  
-   [<span data-ttu-id="eec26-207">sp_dbmmonitorhelpalert &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="eec26-207">sp_dbmmonitorhelpalert &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorhelpalert-transact-sql)  
  
-   [<span data-ttu-id="eec26-208">sp_dbmmonitorhelpmonitoring &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="eec26-208">sp_dbmmonitorhelpmonitoring &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorhelpmonitoring-transact-sql)  
  
-   [<span data-ttu-id="eec26-209">sp_dbmmonitorresults &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="eec26-209">sp_dbmmonitorresults &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorresults-transact-sql)  
  
-   [<span data-ttu-id="eec26-210">sp_dbmmonitorupdate &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="eec26-210">sp_dbmmonitorupdate &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorupdate-transact-sql)  
  
## <a name="see-also"></a><span data-ttu-id="eec26-211">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="eec26-211">See Also</span></span>  
 <span data-ttu-id="eec26-212">[Mirroring del database &#40;SQL Server&#41;](database-mirroring-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="eec26-212">[Database Mirroring &#40;SQL Server&#41;](database-mirroring-sql-server.md) </span></span>  
 [<span data-ttu-id="eec26-213">Monitoraggio del mirroring del database &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="eec26-213">Monitoring Database Mirroring &#40;SQL Server&#41;</span></span>](monitoring-database-mirroring-sql-server.md)  
  
  
