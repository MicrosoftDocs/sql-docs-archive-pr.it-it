---
title: Monitoraggio mirroring del database (pagina Avvisi) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
f1_keywords:
- sql12.swb.dbmmonitor.warningsandalerts.f1
ms.assetid: 01936122-961d-436b-ba3c-5f79fefe5469
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: e7afc4ff0e6b69c70535ef39677f3d834edbee15
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87726259"
---
# <a name="database-mirroring-monitor-warnings-page"></a><span data-ttu-id="93da0-102">Monitoraggio mirroring del database (pagina Avvisi)</span><span class="sxs-lookup"><span data-stu-id="93da0-102">Database Mirroring Monitor (Warnings Page)</span></span>
  <span data-ttu-id="93da0-103">Consente di visualizzare un elenco di sola lettura degli avvisi supportati negli eventi di mirroring del database e i valori soglia degli avvisi specificati, se disponibili.</span><span class="sxs-lookup"><span data-stu-id="93da0-103">Displays a read-only list of warnings supported on database mirroring events and the specified warning threshold values, if available.</span></span>  
  
 <span data-ttu-id="93da0-104">**Per utilizzare SQL Server Management Studio per il monitoraggio del mirroring del database**</span><span class="sxs-lookup"><span data-stu-id="93da0-104">**To use SQL Server Management Studio to monitor database mirroring**</span></span>  
  
-   [<span data-ttu-id="93da0-105">Avviare il monitoraggio mirroring del database &#40;SQL Server Management Studio&#41;</span><span class="sxs-lookup"><span data-stu-id="93da0-105">Start Database Mirroring Monitor &#40;SQL Server Management Studio&#41;</span></span>](../database-mirroring/start-database-mirroring-monitor-sql-server-management-studio.md)  
  
## <a name="columns"></a><span data-ttu-id="93da0-106">Colonne</span><span class="sxs-lookup"><span data-stu-id="93da0-106">Columns</span></span>  
 <span data-ttu-id="93da0-107">**Warning**</span><span class="sxs-lookup"><span data-stu-id="93da0-107">**Warning**</span></span>  
 <span data-ttu-id="93da0-108">Gli avvisi per i quali è possibile definire una soglia includono:</span><span class="sxs-lookup"><span data-stu-id="93da0-108">The warnings for which you can define a threshold include:</span></span>  
  
|<span data-ttu-id="93da0-109">Avviso</span><span class="sxs-lookup"><span data-stu-id="93da0-109">Warning</span></span>|<span data-ttu-id="93da0-110">Soglia</span><span class="sxs-lookup"><span data-stu-id="93da0-110">Threshold</span></span>|  
|-------------|---------------|  
|<span data-ttu-id="93da0-111">**Avvisa se il log non inviato supera la soglia**</span><span class="sxs-lookup"><span data-stu-id="93da0-111">**Warn if the unsent log exceeds the threshold**</span></span>|<span data-ttu-id="93da0-112">Specifica la quantità di log non inviati, espressa in kilobyte (KB), che può accumularsi prima che venga generato un avviso nell'istanza del server principale.</span><span class="sxs-lookup"><span data-stu-id="93da0-112">Specifies how many kilobytes (KB) of unsent log will generate a warning on the principal server instance.</span></span> <span data-ttu-id="93da0-113">Questo avviso consente di quantificare il rischio potenziale di perdita dei dati in termini di KB ed è particolarmente rilevante per la modalità a prestazioni elevate.</span><span class="sxs-lookup"><span data-stu-id="93da0-113">This warning helps measure the potential for data loss in terms of KB, and is particularly relevant for high-performance mode.</span></span> <span data-ttu-id="93da0-114">L'avviso risulta tuttavia utile anche per la modalità a sicurezza elevata quando il mirroring viene sospeso in seguito alla disconnessione dei partner.</span><span class="sxs-lookup"><span data-stu-id="93da0-114">However, the warning is also relevant for high-safety mode when mirroring is paused or suspended because the partners become disconnected.</span></span>|  
|<span data-ttu-id="93da0-115">**Avvisa se il log non ripristinato supera la soglia**</span><span class="sxs-lookup"><span data-stu-id="93da0-115">**Warn if the unrestored log exceeds the threshold**</span></span>|<span data-ttu-id="93da0-116">Specifica la quantità di log non ripristinati, espressa in kilobyte (KB), che può accumularsi prima che venga generato un avviso nell'istanza del server mirror.</span><span class="sxs-lookup"><span data-stu-id="93da0-116">Specifies how many KB of unrestored log will generate a warning on the mirror server instance.</span></span> <span data-ttu-id="93da0-117">Questo avviso è utile per una misurazione del tempo di failover in termini di kilobyte.</span><span class="sxs-lookup"><span data-stu-id="93da0-117">This warning is useful for measuring failover time in terms of kilobytes.</span></span> <span data-ttu-id="93da0-118">Il*tempo di failover* corrisponde essenzialmente al tempo necessario al server mirror precedente per eseguire il rollforward di tutti i log rimanenti nella propria coda di rollforward, più un breve tempo aggiuntivo.</span><span class="sxs-lookup"><span data-stu-id="93da0-118">*Failover time* consists mainly of the time that the former mirror server requires to roll forward any log remaining in its redo queue, plus a short additional time.</span></span><br /><br /> <span data-ttu-id="93da0-119">Nota: Per un failover automatico, il tempo necessario al sistema per rilevare l'errore è indipendente dal tempo di failover.</span><span class="sxs-lookup"><span data-stu-id="93da0-119">Note: For an automatic failover, the time for the system to notice the error is independent of the failover time.</span></span><br /><br /> <span data-ttu-id="93da0-120">Per altre informazioni, vedere [Stimare l'interruzione del servizio durante il cambio di ruolo &#40;mirroring del database&#41;](estimate-the-interruption-of-service-during-role-switching-database-mirroring.md).</span><span class="sxs-lookup"><span data-stu-id="93da0-120">For more information, see [Estimate the Interruption of Service During Role Switching &#40;Database Mirroring&#41;](estimate-the-interruption-of-service-during-role-switching-database-mirroring.md).</span></span>|  
|<span data-ttu-id="93da0-121">**Avvisa se il tempo di memorizzazione della transazione non inviata meno recente è superiore alla soglia**</span><span class="sxs-lookup"><span data-stu-id="93da0-121">**Warn if the age of the oldest unsent transaction exceeds the threshold**</span></span>|<span data-ttu-id="93da0-122">Specifica la quantità di transazioni, espressa in minuti, che può accumularsi nella coda di invio prima che venga generato un avviso nell'istanza del server principale.</span><span class="sxs-lookup"><span data-stu-id="93da0-122">Specifies the number of minutes worth of transactions that can accumulate in the send queue before a warning is generated on the principal server instance.</span></span> <span data-ttu-id="93da0-123">Questo avviso consente di quantificare il rischio potenziale di perdita dei dati in termini di tempo ed è particolarmente rilevante per la modalità a prestazioni elevate.</span><span class="sxs-lookup"><span data-stu-id="93da0-123">This warning helps measure the potential for data loss in terms of time, and is particularly relevant for high-performance mode.</span></span> <span data-ttu-id="93da0-124">L'avviso risulta tuttavia utile anche per la modalità a sicurezza elevata quando il mirroring viene sospeso in seguito alla disconnessione dei partner.</span><span class="sxs-lookup"><span data-stu-id="93da0-124">However, the warning is also relevant for high-safety mode when mirroring is paused or suspended because the partners become disconnected.</span></span>|  
|<span data-ttu-id="93da0-125">**Avvisa se l'overhead di commit del mirror supera la soglia**</span><span class="sxs-lookup"><span data-stu-id="93da0-125">**Warn if the mirror commit overhead exceeds the threshold**</span></span>|<span data-ttu-id="93da0-126">Specifica il ritardo medio per transazione, espresso in millisecondi, che è consentito prima che venga generato un avviso nell'istanza del server principale.</span><span class="sxs-lookup"><span data-stu-id="93da0-126">Specifies the number of milliseconds of average delay per transaction tolerated before a warning is generated on the principal server.</span></span> <span data-ttu-id="93da0-127">Questo ritardo rappresenta la quantità di overhead generato mentre l'istanza del server principale è in attesa che l'istanza del server mirror scriva il record di log della transazione nella coda di rollforward.</span><span class="sxs-lookup"><span data-stu-id="93da0-127">This delay is the amount of overhead incurred while the principal server instance waits for the mirror server instance to write the transaction's log record into the redo queue.</span></span> <span data-ttu-id="93da0-128">Questo valore è rilevante solo nella modalità a sicurezza elevata.</span><span class="sxs-lookup"><span data-stu-id="93da0-128">This value is relevant only in high-safety mode.</span></span>|  
  
 <span data-ttu-id="93da0-129">**Valore soglia su '** _<server_instance>_ **'**</span><span class="sxs-lookup"><span data-stu-id="93da0-129">**Threshold at '** _<server_instance>_ **'**</span></span>  
 <span data-ttu-id="93da0-130">Per ogni avviso, visualizza l'eventuale soglia corrente specificata dall'utente, per una delle istanze del server.</span><span class="sxs-lookup"><span data-stu-id="93da0-130">For each of the warnings, displays the current user-specified threshold, if any, for one of the server instances.</span></span> <span data-ttu-id="93da0-131">Il nome completo dell'istanza del server è indicato nell'intestazione di colonna corrispondente.</span><span class="sxs-lookup"><span data-stu-id="93da0-131">The full instance name of the server instance is indicated in the corresponding column heading.</span></span>  
  
 <span data-ttu-id="93da0-132">Per ulteriori informazioni, vedere la sezione "Note" più avanti in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="93da0-132">For more information, see "Remarks," later in this topic.</span></span>  
  
 <span data-ttu-id="93da0-133">**Imposta valori soglia**</span><span class="sxs-lookup"><span data-stu-id="93da0-133">**Set Thresholds**</span></span>  
 <span data-ttu-id="93da0-134">Fare clic sul pulsante per impostare una soglia per un avviso su ogni partner di failover.</span><span class="sxs-lookup"><span data-stu-id="93da0-134">Click this button to set a threshold for one warning on each of the failover partners.</span></span>  
  
 <span data-ttu-id="93da0-135">Per ulteriori informazioni, vedere la sezione "Note" più avanti in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="93da0-135">For more information, see "Remarks," later in this topic.</span></span>  
  
## <a name="remarks"></a><span data-ttu-id="93da0-136">Osservazioni</span><span class="sxs-lookup"><span data-stu-id="93da0-136">Remarks</span></span>  
 <span data-ttu-id="93da0-137">Se attualmente le informazioni per un'istanza del server non sono disponibili, le celle della colonna **Valore soglia su** sono visualizzate con uno sfondo grigio e un testo filigrana.</span><span class="sxs-lookup"><span data-stu-id="93da0-137">If information is currently unavailable for a server instance, the cells of the corresponding **Threshold at** column display a gray background and watermark text.</span></span> <span data-ttu-id="93da0-138">Se il monitoraggio non è connesso all'istanza del server, in ogni cella della griglia viene visualizzato **Non connesso a** _<NOME_SISTEMA>_ o **Non connesso a** _<NOME_SISTEMA>_ **\\** _<nome_istanza>_ , a seconda che l'istanza sia quella predefinita o una denominata.</span><span class="sxs-lookup"><span data-stu-id="93da0-138">If the monitor is not connected to the server instance, in every cell the grid displays either **Not connected to** _<SYSTEM_NAME>_ or **Not connected to** _<SYSTEM_NAME>_**\\**_<instance_name>_, depending on whether the instance is the default instance or a named instance.</span></span> <span data-ttu-id="93da0-139">Se il monitoraggio è in attesa della restituzione di una query, in ogni cella della griglia viene visualizzato **In attesa di dati**.</span><span class="sxs-lookup"><span data-stu-id="93da0-139">If the monitor is waiting for a query to return, the grid displays **Waiting for data...** in every cell.</span></span>  
  
 <span data-ttu-id="93da0-140">Quando le informazioni sono disponibili, nella cella per ogni avviso viene visualizzato un valore soglia specificato (insieme all'unità di misura) o **Non abilitato**.</span><span class="sxs-lookup"><span data-stu-id="93da0-140">When information is available, the cell for each warning displays either a specified threshold value (and unit of measurement), or **Not enabled**.</span></span>  
  
 <span data-ttu-id="93da0-141">Se una soglia viene superata al momento dell'aggiornamento della tabella dello stato, nel registro eventi di Windows viene registrato un evento quando la riga di stato viene registrata.</span><span class="sxs-lookup"><span data-stu-id="93da0-141">If a threshold is exceeded at the time the status table is refreshed, an event is logged to the Windows event log when the status row is recorded.</span></span> <span data-ttu-id="93da0-142">Per impostazione predefinita, la riga di stato viene registrato una volta al minuto quando il monitoraggio non è in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="93da0-142">By default, the status row is recorded once a minute if the monitor is not running.</span></span> <span data-ttu-id="93da0-143">È possibile configurare un avviso su ogni tipo di evento registrato utilizzando SQL Server Agent o un altro programma, ad esempio Microsoft Management Operations Manager (MOM).</span><span class="sxs-lookup"><span data-stu-id="93da0-143">You can configure an alert on each type of logged event by using the SQL Server Agent or another program, such as Microsoft Management Operations Manager (MOM).</span></span>  
  
 <span data-ttu-id="93da0-144">Su un determinato partner, gli eventi registrati dipendono dal ruolo corrente del partner, principale o mirror.</span><span class="sxs-lookup"><span data-stu-id="93da0-144">On a given partner, the events logged depend on its current role, principal or mirror.</span></span> <span data-ttu-id="93da0-145">Tuttavia, è consigliabile impostare una soglia di avviso per un determinato evento su entrambi i partner per assicurare che l'avviso venga mantenuto in caso di failover del database.</span><span class="sxs-lookup"><span data-stu-id="93da0-145">However, we recommend that you set a warning threshold for a given event on both partners to ensure that the warning persists if the database fails over.</span></span> <span data-ttu-id="93da0-146">La soglia appropriata per ogni partner dipende dalle capacità in termini di prestazioni del sistema di tale partner.</span><span class="sxs-lookup"><span data-stu-id="93da0-146">The appropriate threshold for each partner depends on the performance capabilities of that partner's system.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="93da0-147">È anche possibile usare la stored procedure di sistema **sp_dbmmonitorchangealert** per configurare le soglie per gli eventi equivalenti: log non inviato, log non recuperato, transazione non inviata meno recente e overhead di commit del mirror.</span><span class="sxs-lookup"><span data-stu-id="93da0-147">You can also use the **sp_dbmmonitorchangealert** system stored procedure to configure thresholds for the equivalent events-unsent log, unrecovered log, oldest unsent transaction, and mirror commit overhead.</span></span> <span data-ttu-id="93da0-148">Per altre informazioni, vedere [sp_dbmmonitorchangealert &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorchangealert-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="93da0-148">For more information, see [sp_dbmmonitorchangealert &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorchangealert-transact-sql).</span></span>  
  
 <span data-ttu-id="93da0-149">Nella tabella seguente è illustrato l'ID evento associato a ogni avviso.</span><span class="sxs-lookup"><span data-stu-id="93da0-149">The following table shows the event ID associated with each warning.</span></span>  
  
|<span data-ttu-id="93da0-150">Avviso di Monitoraggio mirroring del database</span><span class="sxs-lookup"><span data-stu-id="93da0-150">Database Mirroring Monitor warning</span></span>|<span data-ttu-id="93da0-151">Nome evento</span><span class="sxs-lookup"><span data-stu-id="93da0-151">Event name</span></span>|<span data-ttu-id="93da0-152">ID evento</span><span class="sxs-lookup"><span data-stu-id="93da0-152">Event ID</span></span>|  
|----------------------------------------|----------------|--------------|  
|<span data-ttu-id="93da0-153">**Avvisa se il log non inviato supera la soglia**</span><span class="sxs-lookup"><span data-stu-id="93da0-153">**Warn if the unsent log exceeds the threshold**</span></span>|<span data-ttu-id="93da0-154">Log non inviato</span><span class="sxs-lookup"><span data-stu-id="93da0-154">Unsent log</span></span>|<span data-ttu-id="93da0-155">32042</span><span class="sxs-lookup"><span data-stu-id="93da0-155">32042</span></span>|  
|<span data-ttu-id="93da0-156">**Avvisa se il log non ripristinato supera la soglia**</span><span class="sxs-lookup"><span data-stu-id="93da0-156">**Warn if the unrestored log exceeds the threshold**</span></span>|<span data-ttu-id="93da0-157">Log non ripristinato</span><span class="sxs-lookup"><span data-stu-id="93da0-157">Unrestored log</span></span>|<span data-ttu-id="93da0-158">32043</span><span class="sxs-lookup"><span data-stu-id="93da0-158">32043</span></span>|  
|<span data-ttu-id="93da0-159">**Avvisa se il tempo di memorizzazione della transazione non inviata meno recente è superiore alla soglia**</span><span class="sxs-lookup"><span data-stu-id="93da0-159">**Warn if the age of the oldest unsent transaction exceeds the threshold**</span></span>|<span data-ttu-id="93da0-160">Transazione non inviata meno recente</span><span class="sxs-lookup"><span data-stu-id="93da0-160">Oldest unsent transaction</span></span>|<span data-ttu-id="93da0-161">32044</span><span class="sxs-lookup"><span data-stu-id="93da0-161">32044</span></span>|  
|<span data-ttu-id="93da0-162">**Avvisa se l'overhead di commit del mirror supera la soglia**</span><span class="sxs-lookup"><span data-stu-id="93da0-162">**Warn if the mirror commit overhead exceeds the threshold**</span></span>|<span data-ttu-id="93da0-163">Overhead commit mirror</span><span class="sxs-lookup"><span data-stu-id="93da0-163">Mirror commit overhead</span></span>|<span data-ttu-id="93da0-164">32045</span><span class="sxs-lookup"><span data-stu-id="93da0-164">32045</span></span>|  
  
## <a name="permissions"></a><span data-ttu-id="93da0-165">Autorizzazioni</span><span class="sxs-lookup"><span data-stu-id="93da0-165">Permissions</span></span>  
 <span data-ttu-id="93da0-166">Per l'accesso completo è richiesta l'appartenenza al ruolo predefinito del server **sysadmin** .</span><span class="sxs-lookup"><span data-stu-id="93da0-166">For full access, requires membership in the **sysadmin** fixed server role.</span></span> <span data-ttu-id="93da0-167">Solo i membri di **sysadmin** possono configurare e visualizzare i valori soglia degli avvisi per le metriche delle prestazioni chiave.</span><span class="sxs-lookup"><span data-stu-id="93da0-167">Only members of **sysadmin** can configure and view warning thresholds for key performance metrics.</span></span>  
  
 <span data-ttu-id="93da0-168">L'appartenenza al ruolo **dbm_monitor** consente di visualizzare nella pagina **Avvisi** solo la riga di stato più recente.</span><span class="sxs-lookup"><span data-stu-id="93da0-168">Membership in the **dbm_monitor** role enables you to view only the most recent status row on the **Warnings** Page.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="93da0-169">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="93da0-169">See Also</span></span>  
 <span data-ttu-id="93da0-170">[Avviare il monitoraggio mirroring del database &#40;SQL Server Management Studio&#41;](../database-mirroring/start-database-mirroring-monitor-sql-server-management-studio.md) </span><span class="sxs-lookup"><span data-stu-id="93da0-170">[Start Database Mirroring Monitor &#40;SQL Server Management Studio&#41;](../database-mirroring/start-database-mirroring-monitor-sql-server-management-studio.md) </span></span>  
 <span data-ttu-id="93da0-171">[Monitoraggio del mirroring del database &#40;SQL Server&#41;](database-mirroring-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="93da0-171">[Monitoring Database Mirroring &#40;SQL Server&#41;](database-mirroring-sql-server.md) </span></span>  
 [<span data-ttu-id="93da0-172">Avvio della Configurazione guidata sicurezza mirroring del database &#40;SQL Server Management Studio&#41;</span><span class="sxs-lookup"><span data-stu-id="93da0-172">Start the Configuring Database Mirroring Security Wizard &#40;SQL Server Management Studio&#41;</span></span>](start-the-configuring-database-mirroring-security-wizard.md)  
  
  
