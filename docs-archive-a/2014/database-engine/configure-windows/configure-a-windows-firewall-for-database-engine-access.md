---
title: Configurazione di Windows Firewall per l'accesso al Motore di database | Microsoft Docs
ms.custom: ''
ms.date: 06/22/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: configuration
ms.topic: conceptual
helpviewer_keywords:
- connections [SQL Server], firewall systems
- firewall systems, [Database Engine]
- security [SQL Server], firewalls
ms.assetid: 0093b43c-c6b5-4574-9b30-3a0e91e1a1f9
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: f76eecb4dd48f3e7f54cad79953773f8432f416e
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87638111"
---
# <a name="configure-a-windows-firewall-for-database-engine-access"></a><span data-ttu-id="95b47-102">Configurazione di Windows Firewall per l'accesso al Motore di database</span><span class="sxs-lookup"><span data-stu-id="95b47-102">Configure a Windows Firewall for Database Engine Access</span></span>
  <span data-ttu-id="95b47-103">In questo argomento viene descritto come configurare Windows Firewall per l'accesso al Motore di database in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] tramite Gestione configurazione SQL Server.</span><span class="sxs-lookup"><span data-stu-id="95b47-103">This topic describes how to configure a Windows firewall for Database Engine access in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] by using SQL Server Configuration Manager.</span></span> <span data-ttu-id="95b47-104">I sistemi firewall contribuiscono a impedire l'accesso non autorizzato alle risorse del computer.</span><span class="sxs-lookup"><span data-stu-id="95b47-104">Firewall systems help prevent unauthorized access to computer resources.</span></span> <span data-ttu-id="95b47-105">Per accedere a un'istanza del [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] attraverso un firewall, è necessario configurare il firewall nel computer in cui viene eseguito [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] in modo che consenta l'accesso.</span><span class="sxs-lookup"><span data-stu-id="95b47-105">To access an instance of the [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] through a firewall, you must configure the firewall on the computer running [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to allow access.</span></span>  
  
 <span data-ttu-id="95b47-106">Per altre informazioni sulle impostazioni predefinite di Windows Firewall e per una descrizione delle porte TCP che interessano il [!INCLUDE[ssDE](../../includes/ssde-md.md)], Analysis Services, Reporting Services e Integration Services, vedere [Configurare Windows Firewall per consentire l'accesso a SQL Server](../../sql-server/install/configure-the-windows-firewall-to-allow-sql-server-access.md).</span><span class="sxs-lookup"><span data-stu-id="95b47-106">For more information about the default Windows firewall settings, and a description of the TCP ports that affect the [!INCLUDE[ssDE](../../includes/ssde-md.md)], Analysis Services, Reporting Services, and Integration Services, see [Configure the Windows Firewall to Allow SQL Server Access](../../sql-server/install/configure-the-windows-firewall-to-allow-sql-server-access.md).</span></span> <span data-ttu-id="95b47-107">Sono disponibili numerosi sistemi firewall.</span><span class="sxs-lookup"><span data-stu-id="95b47-107">There are many firewall systems available.</span></span> <span data-ttu-id="95b47-108">Per informazioni specifiche per il sistema in uso, vedere la documentazione del firewall.</span><span class="sxs-lookup"><span data-stu-id="95b47-108">For information specific to your system, see the firewall documentation.</span></span>  
  
 <span data-ttu-id="95b47-109">Di seguito sono elencati i passaggi principali necessari per consentire l'accesso:</span><span class="sxs-lookup"><span data-stu-id="95b47-109">The principal steps to allow access are:</span></span>  
  
1.  <span data-ttu-id="95b47-110">Configurare il [!INCLUDE[ssDE](../../includes/ssde-md.md)] per l'utilizzo di una porta TCP/IP specifica.</span><span class="sxs-lookup"><span data-stu-id="95b47-110">Configure the [!INCLUDE[ssDE](../../includes/ssde-md.md)] to use a specific TCP/IP port.</span></span> <span data-ttu-id="95b47-111">Nell'istanza predefinita del [!INCLUDE[ssDE](../../includes/ssde-md.md)] viene utilizzata la porta 1433, ma questa impostazione può essere modificata.</span><span class="sxs-lookup"><span data-stu-id="95b47-111">The default instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] uses port 1433, but that can be changed.</span></span> <span data-ttu-id="95b47-112">La porta utilizzata dal [!INCLUDE[ssDE](../../includes/ssde-md.md)] è elencata nel log degli errori di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="95b47-112">The port used by the [!INCLUDE[ssDE](../../includes/ssde-md.md)] is listed in the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] error log.</span></span> <span data-ttu-id="95b47-113">Nelle istanze di [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)], [!INCLUDE[ssEW](../../includes/ssew-md.md)] e nelle istanze denominate del [!INCLUDE[ssDE](../../includes/ssde-md.md)] vengono utilizzate porte dinamiche.</span><span class="sxs-lookup"><span data-stu-id="95b47-113">Instances of [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)], [!INCLUDE[ssEW](../../includes/ssew-md.md)], and named instances of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] use dynamic ports.</span></span> <span data-ttu-id="95b47-114">Per configurare queste istanze in modo che usino una porta specifica, vedere [Configurazione di un server per l'attesa su una porta TCP specifica &#40;Gestione configurazione SQL Server&#41;](configure-a-server-to-listen-on-a-specific-tcp-port.md).</span><span class="sxs-lookup"><span data-stu-id="95b47-114">To configure these instances to use a specific port, see [Configure a Server to Listen on a Specific TCP Port &#40;SQL Server Configuration Manager&#41;](configure-a-server-to-listen-on-a-specific-tcp-port.md).</span></span>  
  
2.  <span data-ttu-id="95b47-115">Configurare il firewall in modo che consenta l'accesso a tale porta per utenti o computer autorizzati.</span><span class="sxs-lookup"><span data-stu-id="95b47-115">Configure the firewall to allow access to that port for authorized users or computers.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="95b47-116">Il servizio [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser consente agli utenti di connettersi a istanze di [!INCLUDE[ssDE](../../includes/ssde-md.md)] che non sono in attesa sulla porta 1433, senza conoscere il numero di porta.</span><span class="sxs-lookup"><span data-stu-id="95b47-116">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser service lets users connect to instances of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] that are not listening on port 1433, without knowing the port number.</span></span> <span data-ttu-id="95b47-117">Per utilizzare [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser, è necessario aprire la porta UDP 1434.</span><span class="sxs-lookup"><span data-stu-id="95b47-117">To use [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser, you must open UDP port 1434.</span></span> <span data-ttu-id="95b47-118">Per promuovere la massima sicurezza per l'ambiente, non avviare il servizio [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser e configurare i client per la connessione tramite il numero di porta.</span><span class="sxs-lookup"><span data-stu-id="95b47-118">To promote the most secure environment, leave the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser service stopped, and configure clients to connect using the port number.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="95b47-119">Per impostazione predefinita, in [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows è abilitato Windows Firewall, che chiude la porta 1433 per impedire la connessione dei computer Internet a un'istanza predefinita di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] nel computer in uso.</span><span class="sxs-lookup"><span data-stu-id="95b47-119">By default, [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows enables the Windows Firewall, which closes port 1433 to prevent Internet computers from connecting to a default instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] on your computer.</span></span> <span data-ttu-id="95b47-120">Le connessioni all'istanza predefinita tramite TCP/IP non sono possibili se la porta 1433 non viene riaperta.</span><span class="sxs-lookup"><span data-stu-id="95b47-120">Connections to the default instance using TCP/IP are not possible unless you reopen port 1433.</span></span> <span data-ttu-id="95b47-121">Nelle procedure seguenti vengono illustrati i passaggi di base che consentono di configurare Windows Firewall.</span><span class="sxs-lookup"><span data-stu-id="95b47-121">The basic steps to configure the Windows firewall are provided in the following procedures.</span></span> <span data-ttu-id="95b47-122">Per ulteriori informazioni, vedere la documentazione di Windows.</span><span class="sxs-lookup"><span data-stu-id="95b47-122">For more information, see the Windows documentation.</span></span>  
  
 <span data-ttu-id="95b47-123">In alternativa alla configurazione di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] per attivare l'attesa su una porta fissa e aprire la porta, è possibile elencare l'eseguibile di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] (Sqlservr.exe) come un'eccezione ai programmi bloccati.</span><span class="sxs-lookup"><span data-stu-id="95b47-123">As an alternative to configuring [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to listen on a fixed port and opening the port, you can list the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] executable (Sqlservr.exe) as an exception to the blocked programs.</span></span> <span data-ttu-id="95b47-124">Utilizzare questo metodo quando si desidera continuare a utilizzare le porte dinamiche.</span><span class="sxs-lookup"><span data-stu-id="95b47-124">Use this method when you want to continue to use dynamic ports.</span></span> <span data-ttu-id="95b47-125">In questo modo, è possibile accedere a una sola istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="95b47-125">Only one instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] can be accessed in this way.</span></span>  
  
 <span data-ttu-id="95b47-126">**Contenuto dell'articolo**</span><span class="sxs-lookup"><span data-stu-id="95b47-126">**In This Topic**</span></span>  
  
-   <span data-ttu-id="95b47-127">**Prima di iniziare:**</span><span class="sxs-lookup"><span data-stu-id="95b47-127">**Before you begin:**</span></span>  
  
     [<span data-ttu-id="95b47-128">Sicurezza</span><span class="sxs-lookup"><span data-stu-id="95b47-128">Security</span></span>](#Security)  
  
-   <span data-ttu-id="95b47-129">**Per configurare Windows Firewall per l'accesso al motore di database, usando:**</span><span class="sxs-lookup"><span data-stu-id="95b47-129">**To configure a Windows Firewall for Database Engine access, using:**</span></span>  
  
     [<span data-ttu-id="95b47-130">Gestione configurazione SQL Server</span><span class="sxs-lookup"><span data-stu-id="95b47-130">SQL Server Configuration Manager</span></span>](#SSMSProcedure)  
  
## <a name="before-you-begin"></a><span data-ttu-id="95b47-131">Prima di iniziare</span><span class="sxs-lookup"><span data-stu-id="95b47-131">Before You Begin</span></span>  
  
###  <a name="security"></a><a name="Security"></a> <span data-ttu-id="95b47-132">Sicurezza</span><span class="sxs-lookup"><span data-stu-id="95b47-132">Security</span></span>  
 <span data-ttu-id="95b47-133">L'apertura di porte nel firewall potrebbe esporre il server ad attacchi dannosi.</span><span class="sxs-lookup"><span data-stu-id="95b47-133">Opening ports in your firewall can leave your server exposed to malicious attacks.</span></span> <span data-ttu-id="95b47-134">Prima di aprire una porta, verificare di comprenderne le implicazioni per un sistema firewall.</span><span class="sxs-lookup"><span data-stu-id="95b47-134">Make sure that you understand firewall systems before you open ports.</span></span> <span data-ttu-id="95b47-135">Per altre informazioni, vedere [Security Considerations for a SQL Server Installation](../../sql-server/install/security-considerations-for-a-sql-server-installation.md)</span><span class="sxs-lookup"><span data-stu-id="95b47-135">For more information, see [Security Considerations for a SQL Server Installation](../../sql-server/install/security-considerations-for-a-sql-server-installation.md)</span></span>  
  
##  <a name="using-sql-server-configuration-manager"></a><a name="SSMSProcedure"></a> <span data-ttu-id="95b47-136">Utilizzo di Gestione configurazione SQL Server</span><span class="sxs-lookup"><span data-stu-id="95b47-136">Using SQL Server Configuration Manager</span></span>  
 <span data-ttu-id="95b47-137">Si applica a Windows Vista, Windows 7 e Windows Server 2008</span><span class="sxs-lookup"><span data-stu-id="95b47-137">Applies to Windows Vista, Windows 7, and Windows Server 2008</span></span>  
  
 <span data-ttu-id="95b47-138">Le procedure seguenti consentono di configurare Windows Firewall tramite lo snap-in Windows Firewall con sicurezza avanzata di Microsoft Management Console (MMC).</span><span class="sxs-lookup"><span data-stu-id="95b47-138">The following procedures configure the Windows Firewall by using the Windows Firewall with Advanced Security Microsoft Management Console (MMC) snap-in.</span></span> <span data-ttu-id="95b47-139">Windows Firewall con sicurezza avanzata consente di configurare solo il profilo corrente.</span><span class="sxs-lookup"><span data-stu-id="95b47-139">The Windows Firewall with Advanced Security only configures the current profile.</span></span> <span data-ttu-id="95b47-140">Per altre informazioni su Windows Firewall con protezione avanzata, vedere [Configurare Windows Firewall per consentire l'accesso a SQL Server](../../sql-server/install/configure-the-windows-firewall-to-allow-sql-server-access.md).</span><span class="sxs-lookup"><span data-stu-id="95b47-140">For more information about the Windows Firewall with Advanced Security, see [Configure the Windows Firewall to Allow SQL Server Access](../../sql-server/install/configure-the-windows-firewall-to-allow-sql-server-access.md)</span></span>  
  
#### <a name="to-open-a-port-in-the-windows-firewall-for-tcp-access"></a><span data-ttu-id="95b47-141">Per aprire una porta in Windows Firewall per l'accesso TCP</span><span class="sxs-lookup"><span data-stu-id="95b47-141">To open a port in the Windows firewall for TCP access</span></span>  
  
1.  <span data-ttu-id="95b47-142">Dal menu **Start** scegliere **Esegui**, digitare **WF.msc**, quindi fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="95b47-142">On the **Start** menu, click **Run**, type **WF.msc**, and then click **OK**.</span></span>  
  
2.  <span data-ttu-id="95b47-143">Nel riquadro sinistro di **Windows Firewall con sicurezza avanzata**fare clic con il pulsante destro del mouse su **Regole in entrata**, quindi scegliere **Nuova regola** nel riquadro azioni.</span><span class="sxs-lookup"><span data-stu-id="95b47-143">In the **Windows Firewall with Advanced Security**, in the left pane, right-click **Inbound Rules**, and then click **New Rule** in the action pane.</span></span>  
  
3.  <span data-ttu-id="95b47-144">Nella finestra di dialogo **Tipo di regola** selezionare **Porta**, quindi fare clic su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="95b47-144">In the **Rule Type** dialog box, select **Port**, and then click **Next**.</span></span>  
  
4.  <span data-ttu-id="95b47-145">Nella finestra di dialogo **Protocollo e porte** selezionare **TCP**.</span><span class="sxs-lookup"><span data-stu-id="95b47-145">In the **Protocol and Ports** dialog box, select **TCP**.</span></span> <span data-ttu-id="95b47-146">Selezionare **porte locali specifiche**e quindi digitare il numero di porta dell'istanza del [!INCLUDE[ssDE](../../includes/ssde-md.md)] , ad esempio `1433` per l'istanza predefinita.</span><span class="sxs-lookup"><span data-stu-id="95b47-146">Select **Specific local ports**, and then type the port number of the instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)], such as `1433` for the default instance.</span></span> <span data-ttu-id="95b47-147">Fare clic su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="95b47-147">Click **Next**.</span></span>  
  
5.  <span data-ttu-id="95b47-148">Nella finestra di dialogo **Azione** selezionare **Consenti la connessione**, quindi fare clic su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="95b47-148">In the **Action** dialog box, select **Allow the connection**, and then click **Next**.</span></span>  
  
6.  <span data-ttu-id="95b47-149">Nella finestra di dialogo **Profilo** selezionare tutti i profili che descrivono l'ambiente di connessione del computer quando si desidera eseguire la connessione al [!INCLUDE[ssDE](../../includes/ssde-md.md)], quindi fare clic su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="95b47-149">In the **Profile** dialog box, select any profiles that describe the computer connection environment when you want to connect to the [!INCLUDE[ssDE](../../includes/ssde-md.md)], and then click **Next**.</span></span>  
  
7.  <span data-ttu-id="95b47-150">Nella finestra di dialogo **Nome** digitare un nome e una descrizione per questa regola, quindi fare clic su **Fine**.</span><span class="sxs-lookup"><span data-stu-id="95b47-150">In the **Name** dialog box, type a name and description for this rule, and then click **Finish**.</span></span>  
  
#### <a name="to-open-access-to-sql-server-when-using-dynamic-ports"></a><span data-ttu-id="95b47-151">Per aprire l'accesso a SQL Server quando si utilizzano porte dinamiche</span><span class="sxs-lookup"><span data-stu-id="95b47-151">To open access to SQL Server when using dynamic ports</span></span>  
  
1.  <span data-ttu-id="95b47-152">Dal menu **Start** scegliere **Esegui**, digitare **WF.msc**, quindi fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="95b47-152">On the **Start** menu, click **Run**, type **WF.msc**, and then click **OK**.</span></span>  
  
2.  <span data-ttu-id="95b47-153">Nel riquadro sinistro di **Windows Firewall con sicurezza avanzata**fare clic con il pulsante destro del mouse su **Regole in entrata**, quindi scegliere **Nuova regola** nel riquadro azioni.</span><span class="sxs-lookup"><span data-stu-id="95b47-153">In the **Windows Firewall with Advanced Security**, in the left pane, right-click **Inbound Rules**, and then click **New Rule** in the action pane.</span></span>  
  
3.  <span data-ttu-id="95b47-154">Nella finestra di dialogo **Tipo di regola** selezionare **Programma**, quindi fare clic su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="95b47-154">In the **Rule Type** dialog box, select **Program**, and then click **Next**.</span></span>  
  
4.  <span data-ttu-id="95b47-155">Nella finestra di dialogo **Programma** selezionare **Percorso programma**.</span><span class="sxs-lookup"><span data-stu-id="95b47-155">In the **Program** dialog box, select **This program path**.</span></span> <span data-ttu-id="95b47-156">Fare clic su **Sfoglia**, spostarsi sull'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] a cui si desidera accedere attraverso il firewall, quindi fare clic su **Apri**.</span><span class="sxs-lookup"><span data-stu-id="95b47-156">Click **Browse**, and navigate to the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] that you want to access through the firewall, and then click **Open**.</span></span> <span data-ttu-id="95b47-157">Per impostazione predefinita, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] si trova in **C:\Programmi\Microsoft SQL Server\MSSQL12.MSSQLSERVER\MSSQL\Binn\Sqlservr.exe**.</span><span class="sxs-lookup"><span data-stu-id="95b47-157">By default, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is at **C:\Program Files\Microsoft SQL Server\MSSQL12.MSSQLSERVER\MSSQL\Binn\Sqlservr.exe**.</span></span> <span data-ttu-id="95b47-158">Fare clic su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="95b47-158">Click **Next**.</span></span>  
  
5.  <span data-ttu-id="95b47-159">Nella finestra di dialogo **Azione** selezionare **Consenti la connessione**, quindi fare clic su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="95b47-159">In the **Action** dialog box, select **Allow the connection**, and then click **Next**.</span></span>  
  
6.  <span data-ttu-id="95b47-160">Nella finestra di dialogo **Profilo** selezionare tutti i profili che descrivono l'ambiente di connessione del computer quando si desidera eseguire la connessione al [!INCLUDE[ssDE](../../includes/ssde-md.md)], quindi fare clic su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="95b47-160">In the **Profile** dialog box, select any profiles that describe the computer connection environment when you want to connect to the [!INCLUDE[ssDE](../../includes/ssde-md.md)], and then click **Next**.</span></span>  
  
7.  <span data-ttu-id="95b47-161">Nella finestra di dialogo **Nome** digitare un nome e una descrizione per questa regola, quindi fare clic su **Fine**.</span><span class="sxs-lookup"><span data-stu-id="95b47-161">In the **Name** dialog box, type a name and description for this rule, and then click **Finish**.</span></span>  
  
  
