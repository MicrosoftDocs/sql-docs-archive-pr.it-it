---
title: Pulire i dati mediante le informazioni dei dati di riferimento (esterni) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: data-quality-services
ms.topic: conceptual
ms.assetid: 158009e9-8069-4741-8085-c14a5518d3fc
author: lrtoyou1223
ms.author: lle
ms.openlocfilehash: 107fd3bbf3c6f14e50cb6527400697aab7c7d6a8
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87712420"
---
# <a name="cleanse-data-using-reference-data-external-knowledge"></a><span data-ttu-id="7f4df-102">Pulire i dati mediante le informazioni dei dati di riferimento (esterni)</span><span class="sxs-lookup"><span data-stu-id="7f4df-102">Cleanse Data Using Reference Data (External) Knowledge</span></span>
  <span data-ttu-id="7f4df-103">In questo argomento viene descritto come pulire i dati utilizzando le informazioni dei provider di dati di riferimento.</span><span class="sxs-lookup"><span data-stu-id="7f4df-103">This topic describes how to cleanse data using knowledge from the reference data providers.</span></span> <span data-ttu-id="7f4df-104">Mentre tutti i passaggi per l'esecuzione di un'attività di pulizia rimangono gli stessi per la pulizia dei dati mediante le informazioni dei provider di dati di riferimento, come descritto in [Pulire i dati mediante DQS &#40;informazioni interne&#41;](../../2014/data-quality-services/cleanse-data-using-dqs-internal-knowledge.md), in questo argomento vengono illustrate le informazioni specifiche per la pulizia dei dati mediante il servizio dati di riferimento in [!INCLUDE[ssDQSnoversion](../includes/ssdqsnoversion-md.md)] (DQS).</span><span class="sxs-lookup"><span data-stu-id="7f4df-104">While all the steps of running a cleansing activity remains the same for cleansing your data using knowledge from the reference data providers as explained in the [Cleanse Data Using DQS &#40;Internal&#41; Knowledge](../../2014/data-quality-services/cleanse-data-using-dqs-internal-knowledge.md), this topic provides information specific to data cleansing using reference data service in [!INCLUDE[ssDQSnoversion](../includes/ssdqsnoversion-md.md)] (DQS).</span></span>

 <span data-ttu-id="7f4df-105">Quando in DQS si utilizza la funzionalità del servizio dati di riferimento per pulire i dati, il processo di pulizia di DQS invia i valori di dominio di cui è stato eseguito il mapping al provider del servizio dati di riferimento come richiesta batch.</span><span class="sxs-lookup"><span data-stu-id="7f4df-105">When you use the reference data service feature in DQS to cleanse your data, the DQS cleansing process sends the mapped domain values to the reference data service provider as a batch request.</span></span> <span data-ttu-id="7f4df-106">Il servizio dati di riferimento risponde con le informazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="7f4df-106">The reference data service responds with the following information:</span></span>

-   <span data-ttu-id="7f4df-107">Correzione suggerita</span><span class="sxs-lookup"><span data-stu-id="7f4df-107">Suggested correction</span></span>

-   <span data-ttu-id="7f4df-108">Attendibilità</span><span class="sxs-lookup"><span data-stu-id="7f4df-108">Confidence</span></span>

-   <span data-ttu-id="7f4df-109">Informazioni aggiuntive sul dominio di cui è stato eseguito il mapping.</span><span class="sxs-lookup"><span data-stu-id="7f4df-109">Additional information about the mapped domain.</span></span> <span data-ttu-id="7f4df-110">I dati di riferimento possono inoltre standardizzare, analizzare o migliorare l'origine con dati aggiuntivi.</span><span class="sxs-lookup"><span data-stu-id="7f4df-110">Reference data can also standardize, parse, or enrich the source with additional data.</span></span> <span data-ttu-id="7f4df-111">Tali informazioni vengono fornite nei campi aggiuntivi della risposta.</span><span class="sxs-lookup"><span data-stu-id="7f4df-111">This information is provided in additional fields in the response.</span></span>

 <span data-ttu-id="7f4df-112">Dopo avere ottenuto la risposta dal servizio dati di riferimento, durante l'attività di pulizia in DQS si verifica quanto segue:</span><span class="sxs-lookup"><span data-stu-id="7f4df-112">After getting the response from reference data service, the following happens in DQS during the cleansing activity:</span></span>

-   <span data-ttu-id="7f4df-113">In base ai valori **Soglia di correzione automatica** e **Confidenza min** specificati durante l'esecuzione del mapping dei domini con il servizio dati di riferimento, i valori di dominio vengono suggeriti o corretti automaticamente in base al livello di confidenza.</span><span class="sxs-lookup"><span data-stu-id="7f4df-113">Based on the **Auto Correction Threshold** and **Min Confidence** values specified during mapping of the domains with reference data service, domain values are automatically corrected or suggested based on the confidence level.</span></span>

    > [!NOTE]
    >  <span data-ttu-id="7f4df-114">Durante la pulizia dei dati mediante le informazioni del servizio dati di riferimento vengono applicati i valori soglia specificati al momento dell'esecuzione del mapping di un dominio a un servizio dati di riferimento e non i valori specificati nella scheda **Impostazioni generali** della sezione **Configurazione** .</span><span class="sxs-lookup"><span data-stu-id="7f4df-114">The threshold values that you specify during mapping a domain to a reference data service are applied while cleansing data using the knowledge in reference data service, and not the ones that are specified in the **General Settings** tab in the **Configuration** section.</span></span> <span data-ttu-id="7f4df-115">Per informazioni su come specificare i valori soglia per la pulizia dei dati di riferimento, vedere il passaggio 9 in [aggiungere un dominio o un dominio composito ai dati di riferimento](../../2014/data-quality-services/attach-a-domain-or-composite-domain-to-reference-data.md).</span><span class="sxs-lookup"><span data-stu-id="7f4df-115">For information about specifying threshold values for reference data cleansing, see step 9 in [Attach a Domain or Composite Domain to Reference Data](../../2014/data-quality-services/attach-a-domain-or-composite-domain-to-reference-data.md).</span></span>

-   <span data-ttu-id="7f4df-116">I valori di dominio vengono suddivisi nelle categorie seguenti: **Suggeriti**, **Nuovi**, **Non validi**, **Con correzione**e **Corretti**.</span><span class="sxs-lookup"><span data-stu-id="7f4df-116">Domain values are categorized into the following: **Suggested**, **New**, **Invalid**, **Corrected**, and **Correct**.</span></span>

-   <span data-ttu-id="7f4df-117">I dati aggiuntivi vengono aggiunti all'origine e le informazioni sono disponibili insieme ai dati puliti per l'esportazione.</span><span class="sxs-lookup"><span data-stu-id="7f4df-117">Additional data is appended to the source, and the information is available along with the cleansed data for exporting.</span></span>

## <a name="before-you-begin"></a><span data-ttu-id="7f4df-118">Prima di iniziare</span><span class="sxs-lookup"><span data-stu-id="7f4df-118">Before You Begin</span></span>

###  <a name="prerequisites"></a><a name="Prerequisites"></a> <span data-ttu-id="7f4df-119">Prerequisiti</span><span class="sxs-lookup"><span data-stu-id="7f4df-119">Prerequisites</span></span>
 <span data-ttu-id="7f4df-120">È necessario avere eseguito il mapping dei domini richiesti in una Knowledge Base DQS al servizio dati di riferimento appropriato.</span><span class="sxs-lookup"><span data-stu-id="7f4df-120">You must have mapped required domains in a DQS knowledge base to the appropriate reference data service.</span></span> <span data-ttu-id="7f4df-121">La Knowledge Base deve inoltre contenere informazioni sul tipo di dati da pulire.</span><span class="sxs-lookup"><span data-stu-id="7f4df-121">Additionally, the knowledge base must contain knowledge about the type of data that you want to cleanse.</span></span> <span data-ttu-id="7f4df-122">Se si vogliono pulire dati di origine che contengono indirizzi US, ad esempio, è necessario eseguire il mapping dei domini a un provider del servizio dati di riferimento che fornisce dati di alta qualità per gli indirizzi US.</span><span class="sxs-lookup"><span data-stu-id="7f4df-122">For example, if you want to cleanse your source data that contains US addresses, you must map your domains to a reference data service provider that provides high-quality" data for US addresses.</span></span> <span data-ttu-id="7f4df-123">Per ulteriori informazioni, vedere [la pagina relativa alla connessione di un dominio o un dominio composito ai dati di riferimento](../../2014/data-quality-services/attach-a-domain-or-composite-domain-to-reference-data.md).</span><span class="sxs-lookup"><span data-stu-id="7f4df-123">For more information, see [Attach a Domain or Composite Domain to Reference Data](../../2014/data-quality-services/attach-a-domain-or-composite-domain-to-reference-data.md).</span></span>

###  <a name="security"></a><a name="Security"></a> <span data-ttu-id="7f4df-124">Sicurezza</span><span class="sxs-lookup"><span data-stu-id="7f4df-124">Security</span></span>

####  <a name="permissions"></a><a name="Permissions"></a> <span data-ttu-id="7f4df-125">Autorizzazioni</span><span class="sxs-lookup"><span data-stu-id="7f4df-125">Permissions</span></span>
 <span data-ttu-id="7f4df-126">Per eseguire la pulizia dei dati è necessario disporre del ruolo dqs_kb_editor o dqs_kb_operator nel database DQS_MAIN.</span><span class="sxs-lookup"><span data-stu-id="7f4df-126">You must have the dqs_kb_editor or dqs_kb_operator role on the DQS_MAIN database to perform data cleansing.</span></span>

##  <a name="cleanse-your-data-using-reference-data-knowledge"></a><a name="Cleanse"></a> <span data-ttu-id="7f4df-127">Pulire i dati mediante le informazioni dei dati di riferimento</span><span class="sxs-lookup"><span data-stu-id="7f4df-127">Cleanse Your Data Using Reference Data Knowledge</span></span>
 <span data-ttu-id="7f4df-128">Si continuerà con lo stesso esempio di uso dei domini di cui è stato eseguito il mapping nell'argomento precedente, di [associazione di un dominio o di un dominio composito ai dati di riferimento](../../2014/data-quality-services/attach-a-domain-or-composite-domain-to-reference-data.md), con il servizio Melissa Data in Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="7f4df-128">We will continue with the same example of using the domains that we mapped in the previous topic, [Attach a Domain or Composite Domain to Reference Data](../../2014/data-quality-services/attach-a-domain-or-composite-domain-to-reference-data.md), with the Melissa Data service in Azure Marketplace.</span></span> <span data-ttu-id="7f4df-129">Vengono utilizzati gli stessi domini per pulire alcuni indirizzi US di esempio.</span><span class="sxs-lookup"><span data-stu-id="7f4df-129">Now, we will use the same domains to cleanse some sample US addresses.</span></span> <span data-ttu-id="7f4df-130">I passaggi per pulire i dati sono uguali a quelli descritti in [Pulire i dati mediante DQS &#40;informazioni interne&#41;](../../2014/data-quality-services/cleanse-data-using-dqs-internal-knowledge.md).</span><span class="sxs-lookup"><span data-stu-id="7f4df-130">The steps to cleanse data are the same as described in [Cleanse Data Using DQS &#40;Internal&#41; Knowledge](../../2014/data-quality-services/cleanse-data-using-dqs-internal-knowledge.md).</span></span> <span data-ttu-id="7f4df-131">Eventuali differenze verranno indicate durante il processo, laddove necessario.</span><span class="sxs-lookup"><span data-stu-id="7f4df-131">However, we will draw you attention wherever necessary during the process.</span></span>

1.  <span data-ttu-id="7f4df-132">Creare un progetto Data Quality e selezionare l'attività **Pulizia** .</span><span class="sxs-lookup"><span data-stu-id="7f4df-132">Create a data quality project, and select the **Cleansing** activity.</span></span> <span data-ttu-id="7f4df-133">Vedere [Create a Data Quality Project](../../2014/data-quality-services/create-a-data-quality-project.md).</span><span class="sxs-lookup"><span data-stu-id="7f4df-133">See [Create a Data Quality Project](../../2014/data-quality-services/create-a-data-quality-project.md).</span></span>

2.  <span data-ttu-id="7f4df-134">Nella pagina **Mappa** eseguire il mapping dei 4 domini seguenti con le colonne appropriate nei dati di origine: **Riga indirizzo**, **Città**, **Stato**e **CAP**.</span><span class="sxs-lookup"><span data-stu-id="7f4df-134">On the **Map** page, map the following 4 domains with appropriate columns in your source data: **Address Line**, **City**, **State**, and **Zip**.</span></span> <span data-ttu-id="7f4df-135">Fare clic su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="7f4df-135">Click **Next**.</span></span>

    > [!NOTE]
    >  <span data-ttu-id="7f4df-136">Poiché il mapping di tutti e 4 i domini è stato eseguito all'interno del dominio composito **Verifica indirizzo** , la pulizia dei dati verrà eseguita a livello di dominio composito e non a livello di singolo dominio.</span><span class="sxs-lookup"><span data-stu-id="7f4df-136">As you have mapped all the 4 domains within the **Address Verification** composite domain, the data cleansing will now be done at the composite domain level, and not at the individual domain level.</span></span>

3.  <span data-ttu-id="7f4df-137">Nella pagina **Pulizia** eseguire il processo di pulizia computerizzato facendo clic su **Avvia**.</span><span class="sxs-lookup"><span data-stu-id="7f4df-137">On the **Cleanse** page, run the computer-assisted cleansing process by clicking **Start**.</span></span> <span data-ttu-id="7f4df-138">Al termine del processo di pulizia, fare clic su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="7f4df-138">After the cleansing process is over, click **Next**.</span></span>

    > [!NOTE]
    >  <span data-ttu-id="7f4df-139">Nella pagina **Pulisci** vengono visualizzate le informazioni sui domini associati al servizio dati di riferimento nei due modi seguenti:</span><span class="sxs-lookup"><span data-stu-id="7f4df-139">On the **Cleanse** page, DQS displays information about the domains that are attached to reference data service in the following two ways:</span></span>
    > 
    >  -   <span data-ttu-id="7f4df-140">Sotto il pulsante **Start** viene visualizzato un messaggio: "Domains \<Domain1> , \<Domain2> ,... \<DomainN> vengono puliti utilizzando il provider del servizio dati di riferimento ".</span><span class="sxs-lookup"><span data-stu-id="7f4df-140">A message is displayed below the **Start** button: "Domains \<Domain1>, \<Domain2>,... \<DomainN> are cleansed using reference data service provider."</span></span> <span data-ttu-id="7f4df-141">In questo esempio verrà visualizzato il messaggio seguente: "La verifica dell'indirizzo del dominio viene pulita usando il provider del servizio dati di riferimento".</span><span class="sxs-lookup"><span data-stu-id="7f4df-141">In this example, the following message will be displayed: "Domain Address Verification is cleansed using reference data service provider."</span></span>
    > -   <span data-ttu-id="7f4df-142">Un'icona, ![Domain è collegata a RDS](../../2014/data-quality-services/media/dqs-rdsindicator.JPG "Dominio collegato al servizio dati di riferimento"), viene visualizzata nell'area **Profiler** con i domini associati al provider del servizio dati di riferimento.</span><span class="sxs-lookup"><span data-stu-id="7f4df-142">An icon, ![Domain is attached to RDS](../../2014/data-quality-services/media/dqs-rdsindicator.JPG "Domain is attached to RDS"), is displayed in the **Profiler** area against the domains attached to reference data service provider.</span></span> <span data-ttu-id="7f4df-143">Nell'esempio l'icona verrà visualizzata per il dominio composito **Verifica indirizzo** .</span><span class="sxs-lookup"><span data-stu-id="7f4df-143">In this example, the icon will be displayed against the **Address Verification** composite domain.</span></span>

4.  <span data-ttu-id="7f4df-144">Verificare i valori di dominio nella pagina **Gestisci e visualizza i risultati** .</span><span class="sxs-lookup"><span data-stu-id="7f4df-144">On the **Manage and view results** page, review your domain values.</span></span> <span data-ttu-id="7f4df-145">Il servizio dati di riferimento può visualizzare più suggerimenti, se disponibili, per un valore a seconda del numero massimo di suggerimenti specificato nella casella **Candidati suggeriti** durante l'esecuzione del mapping del dominio al servizio dati di riferimento.</span><span class="sxs-lookup"><span data-stu-id="7f4df-145">The reference data service can display more than one suggestion, if available, for a value depending upon the maximum number of suggestions specified in the **Suggested Candidates** box during the mapping of the domain to the reference data service.</span></span> <span data-ttu-id="7f4df-146">Per l'indirizzo US seguente vengono visualizzati, ad esempio, due suggerimenti:</span><span class="sxs-lookup"><span data-stu-id="7f4df-146">For example, two suggestions are displayed for the following US address:</span></span>

     <span data-ttu-id="7f4df-147">**Valore originale:**</span><span class="sxs-lookup"><span data-stu-id="7f4df-147">**Original value:**</span></span>

    |<span data-ttu-id="7f4df-148">Riga indirizzo</span><span class="sxs-lookup"><span data-stu-id="7f4df-148">Address Line</span></span>|<span data-ttu-id="7f4df-149">Città</span><span class="sxs-lookup"><span data-stu-id="7f4df-149">City</span></span>|<span data-ttu-id="7f4df-150">State</span><span class="sxs-lookup"><span data-stu-id="7f4df-150">State</span></span>|<span data-ttu-id="7f4df-151">Zip</span><span class="sxs-lookup"><span data-stu-id="7f4df-151">Zip</span></span>|
    |------------------|----------|-----------|---------|
    |<span data-ttu-id="7f4df-152">1 msft way</span><span class="sxs-lookup"><span data-stu-id="7f4df-152">1 msft way</span></span>|<span data-ttu-id="7f4df-153">Redmond</span><span class="sxs-lookup"><span data-stu-id="7f4df-153">Redmond</span></span>||<span data-ttu-id="7f4df-154">98052</span><span class="sxs-lookup"><span data-stu-id="7f4df-154">98052</span></span>|

     <span data-ttu-id="7f4df-155">**Valori suggeriti:**</span><span class="sxs-lookup"><span data-stu-id="7f4df-155">**Suggested values:**</span></span>

    |<span data-ttu-id="7f4df-156">Riga indirizzo</span><span class="sxs-lookup"><span data-stu-id="7f4df-156">Address Line</span></span>|<span data-ttu-id="7f4df-157">Città</span><span class="sxs-lookup"><span data-stu-id="7f4df-157">City</span></span>|<span data-ttu-id="7f4df-158">State</span><span class="sxs-lookup"><span data-stu-id="7f4df-158">State</span></span>|<span data-ttu-id="7f4df-159">Zip</span><span class="sxs-lookup"><span data-stu-id="7f4df-159">Zip</span></span>|
    |------------------|----------|-----------|---------|
    |<span data-ttu-id="7f4df-160">1 Microsoft Way</span><span class="sxs-lookup"><span data-stu-id="7f4df-160">1 Microsoft Way</span></span>|<span data-ttu-id="7f4df-161">Redmond</span><span class="sxs-lookup"><span data-stu-id="7f4df-161">Redmond</span></span>|<span data-ttu-id="7f4df-162">WA</span><span class="sxs-lookup"><span data-stu-id="7f4df-162">WA</span></span>|<span data-ttu-id="7f4df-163">98052</span><span class="sxs-lookup"><span data-stu-id="7f4df-163">98052</span></span>|
    |<span data-ttu-id="7f4df-164">PO Box 1</span><span class="sxs-lookup"><span data-stu-id="7f4df-164">PO Box 1</span></span>|<span data-ttu-id="7f4df-165">Redmond</span><span class="sxs-lookup"><span data-stu-id="7f4df-165">Redmond</span></span>|<span data-ttu-id="7f4df-166">WA</span><span class="sxs-lookup"><span data-stu-id="7f4df-166">WA</span></span>|<span data-ttu-id="7f4df-167">98073</span><span class="sxs-lookup"><span data-stu-id="7f4df-167">98073</span></span>|

     <span data-ttu-id="7f4df-168">![Pulizia tramite il servizio dati di riferimento](../../2014/data-quality-services/media/dqs-rdscleansing.JPG "Pulizia tramite il servizio dati di riferimento")</span><span class="sxs-lookup"><span data-stu-id="7f4df-168">![Cleansing using reference data service](../../2014/data-quality-services/media/dqs-rdscleansing.JPG "Cleansing using reference data service")</span></span>

    > [!NOTE]
    >  <span data-ttu-id="7f4df-169">Per i domini compositi vengono evidenziati in un colore diverso anche i singoli domini corretti durante il processo di pulizia computerizzato.</span><span class="sxs-lookup"><span data-stu-id="7f4df-169">For composite domains, DQS also highlights the individual domains in a different color that were corrected during the computer-assisted cleansing process.</span></span> <span data-ttu-id="7f4df-170">In questo caso, ad esempio, sono stati corretti i domini **Riga indirizzo** e **Stato** che pertanto vengono evidenziati in ciano.</span><span class="sxs-lookup"><span data-stu-id="7f4df-170">For example, in this case, the **Address Line** and **State** domains were corrected, and therefore highlighted in cyan.</span></span>

5.  <span data-ttu-id="7f4df-171">Dopo avere verificato tutti i valori di dominio, fare clic su **Avanti** per esportare i dati.</span><span class="sxs-lookup"><span data-stu-id="7f4df-171">After you are done with reviewing all the domain values, click **Next** to export the data.</span></span>

6.  <span data-ttu-id="7f4df-172">Nella pagina **Esporta** si noterà che oltre alle informazioni normali dell'attività di pulizia per ogni dominio (Origine, Motivo, Confidenza e Stato), sono presenti informazioni aggiuntive fornite dal servizio dati di riferimento Melissa Data sui dati di indirizzo, ad esempio latitudine e longitudine dell'indirizzo, nome del comune, tipo di indirizzo (palazzo a molti piani, strada, ecc.) e così via.</span><span class="sxs-lookup"><span data-stu-id="7f4df-172">On the **Export** page, you will notice that apart from the regular information about the cleansing activity for each domain (Source, Reason, Confidence, and Status), there is additional information provided by the Melissa Data reference data service about your address data, such as latitude and longitude of your address, county name, address type (highrise, street, etc.), and so on.</span></span>

7.  <span data-ttu-id="7f4df-173">Esportare i dati nella destinazione richiesta (SQL Server, CSV o Excel) e fare clic su **Fine** per chiudere il progetto.</span><span class="sxs-lookup"><span data-stu-id="7f4df-173">Export your data to the required destination (SQL Server, CSV, or Excel), and click **Finish** to close the project.</span></span>

    > [!IMPORTANT]
    >  <span data-ttu-id="7f4df-174">Se si utilizza la versione a 64 bit di Excel, non è possibile esportare i dati puliti in un file di Excel. È possibile eseguire l'esportazione solo in un database di SQL Server o in un file con estensione csv.</span><span class="sxs-lookup"><span data-stu-id="7f4df-174">If you are using 64-bit version of Excel, you cannot export the cleansed data to an Excel file; you can export only to a SQL Server database or to a .csv file.</span></span>


