---
title: Corrispondenza di dati | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: data-quality-services
ms.topic: conceptual
ms.assetid: fe66d098-bec3-4258-b42a-479ae460feb3
author: lrtoyou1223
ms.author: lle
ms.openlocfilehash: 42fcb346e46229d28c62b256d328d6af4fc6cfec
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87625584"
---
# <a name="data-matching"></a><span data-ttu-id="7be72-102">Corrispondenza di dati</span><span class="sxs-lookup"><span data-stu-id="7be72-102">Data Matching</span></span>
  <span data-ttu-id="7be72-103">Il processo di corrispondenza tra dati [!INCLUDE[ssDQSnoversion](../includes/ssdqsnoversion-md.md)] (DQS) consente di ridurre la duplicazione dei dati e di migliorarne l'accuratezza in un'origine dati.</span><span class="sxs-lookup"><span data-stu-id="7be72-103">The [!INCLUDE[ssDQSnoversion](../includes/ssdqsnoversion-md.md)] (DQS) data matching process enables you to reduce data duplication and improve data accuracy in a data source.</span></span> <span data-ttu-id="7be72-104">Il processo analizza il livello di duplicazione in tutti i record di una singola origine dati, restituendo le probabilità ponderate di una corrispondenza per ciascun set di record confrontato.</span><span class="sxs-lookup"><span data-stu-id="7be72-104">Matching analyzes the degree of duplication in all records of a single data source, returning weighted probabilities of a match between each set of records compared.</span></span> <span data-ttu-id="7be72-105">È possibile quindi decidere quali record corrispondono ed eseguire le azioni appropriate sui dati di origine.</span><span class="sxs-lookup"><span data-stu-id="7be72-105">You can then decide which records are matches and take the appropriate action on the source data.</span></span>

 <span data-ttu-id="7be72-106">Il processo di corrispondenza DQS offre i vantaggi seguenti:</span><span class="sxs-lookup"><span data-stu-id="7be72-106">The DQS matching process has the following benefits:</span></span>

-   <span data-ttu-id="7be72-107">L'individuazione delle corrispondenze consente di eliminare le differenze tra valori di dati che devono essere uguali, determinando il valore corretto e riducendo il numero di errori che può essere causato dalle differenze nei dati.</span><span class="sxs-lookup"><span data-stu-id="7be72-107">Matching enables you to eliminate differences between data values that should be equal, determining the correct value and reducing the errors that data differences can cause.</span></span> <span data-ttu-id="7be72-108">Nomi e indirizzi, ad esempio, sono spesso i dati identificativi per un'origine dati, e più in particolare dati sul cliente, tuttavia tali dati possono subire modifiche e deteriorarsi nel tempo.</span><span class="sxs-lookup"><span data-stu-id="7be72-108">For example, names and addresses are often the identifying data for a data source, particularly customer data, but the data can become dirty and deteriorate over time.</span></span> <span data-ttu-id="7be72-109">L'esecuzione del processo di individuazione delle corrispondenze per identificare e correggere questi errori può semplificare notevolmente l'utilizzo e la manutenzione dei dati.</span><span class="sxs-lookup"><span data-stu-id="7be72-109">Performing matching to identify and correct these errors can make data use and maintenance much easier.</span></span>

-   <span data-ttu-id="7be72-110">L'individuazione delle corrispondenze consente di garantire l'uniformità di valori che risultano equivalenti, ma che sono stati immessi in formati o stili diversi.</span><span class="sxs-lookup"><span data-stu-id="7be72-110">Matching enables you to ensure that values that are equivalent, but were entered in a different format or style, are rendered uniform.</span></span>

-   <span data-ttu-id="7be72-111">L'individuazione delle corrispondenze identifica le corrispondenze esatte e quelle approssimative, consentendo la rimozione dei dati duplicati in base al criterio che si è stabilito.</span><span class="sxs-lookup"><span data-stu-id="7be72-111">Matching identifies exact and approximate matches, enabling you to remove duplicate data as you define it.</span></span> <span data-ttu-id="7be72-112">È possibile definire il punto oltre cui una corrispondenza approssimativa non è più da considerarsi una corrispondenza effettiva.</span><span class="sxs-lookup"><span data-stu-id="7be72-112">You define the point at which an approximate match is in fact a match.</span></span> <span data-ttu-id="7be72-113">Si definiscono quindi i campi da valutare per la corrispondenza e quelli da escludere dalla valutazione.</span><span class="sxs-lookup"><span data-stu-id="7be72-113">You define which fields are assessed for matching, and which are not.</span></span>

-   <span data-ttu-id="7be72-114">DQS consente di creare criteri di corrispondenza utilizzando un processo computerizzato, di modificarlo in modo interattivo in base ai risultati di corrispondenza e di aggiungerlo a una Knowledge Base riutilizzabile.</span><span class="sxs-lookup"><span data-stu-id="7be72-114">DQS enables you to create a matching policy using a computer-assisted process, modify it interactively based upon matching results, and add it to a knowledge base that is reusable.</span></span>

-   <span data-ttu-id="7be72-115">È possibile reindicizzare dati copiati dall'origine alla tabella di staging oppure non reindicizzarli, a seconda dello stato dei criteri di corrispondenza e dei dati di origine.</span><span class="sxs-lookup"><span data-stu-id="7be72-115">You can re-index data copied from the source to the staging table, or not re-index, depending on the state of the matching policy and the source data.</span></span> <span data-ttu-id="7be72-116">Le prestazioni potrebbero risultare migliorate se si evita la reindicizzazione.</span><span class="sxs-lookup"><span data-stu-id="7be72-116">Not re-indexing can improve performance.</span></span>

 <span data-ttu-id="7be72-117">È possibile eseguire il processo di corrispondenza insieme agli altri processi di pulizia dei dati per migliorare la qualità generale dei dati.</span><span class="sxs-lookup"><span data-stu-id="7be72-117">You can perform the matching process in conjunction with other data cleansing processes to improve overall data quality.</span></span> <span data-ttu-id="7be72-118">È inoltre possibile eseguire la deduplicazione dei dati utilizzando la funzionalità DQS incorporata in Master Data Services.</span><span class="sxs-lookup"><span data-stu-id="7be72-118">You can also perform data de-duplication using DQS functionality built into Master Data Services.</span></span> <span data-ttu-id="7be72-119">Per altre informazioni, vedere [Master Data Services Overview](../master-data-services/master-data-services-overview-mds.md).</span><span class="sxs-lookup"><span data-stu-id="7be72-119">For more information, see [Master Data Services Overview](../master-data-services/master-data-services-overview-mds.md).</span></span>

 <span data-ttu-id="7be72-120">Nella figura seguente viene illustrata la modalità di individuazione delle corrispondenze tra dati in DQS:</span><span class="sxs-lookup"><span data-stu-id="7be72-120">The following illustration displays how data matching is done in DQS:</span></span>

 <span data-ttu-id="7be72-121">![Processo di corrispondenza in DQS](../../2014/data-quality-services/media/dqs-matchingprocess.gif "Processo di corrispondenza in DQS")</span><span class="sxs-lookup"><span data-stu-id="7be72-121">![Matching Process in DQS](../../2014/data-quality-services/media/dqs-matchingprocess.gif "Matching Process in DQS")</span></span>

##  <a name="how-to-perform-data-matching"></a><a name="How"></a> <span data-ttu-id="7be72-122">Come eseguire la corrispondenza di dati</span><span class="sxs-lookup"><span data-stu-id="7be72-122">How to Perform Data Matching</span></span>
 <span data-ttu-id="7be72-123">Come per altri processi correlati qualità dei dati in DQS, l'individuazione di corrispondenze tra dati viene eseguita compilando una Knowledge Base ed eseguendo un'attività corrispondente in un progetto di qualità dei dati osservando i passaggi seguenti:</span><span class="sxs-lookup"><span data-stu-id="7be72-123">As with other data quality processes in DQS, you perform matching by building a knowledge base and executing a matching activity in a data quality project in the following steps:</span></span>

1.  <span data-ttu-id="7be72-124">Creare criteri di corrispondenza nella Knowledge Base</span><span class="sxs-lookup"><span data-stu-id="7be72-124">Create a matching policy in the knowledge base</span></span>

2.  <span data-ttu-id="7be72-125">Eseguire un processo di deduplicazione in un'attività corrispondente che è parte di un progetto di qualità dei dati.</span><span class="sxs-lookup"><span data-stu-id="7be72-125">Perform a de-duplication process in a matching activity that is part of a data quality project.</span></span>

###  <a name="building-a-matching-policy"></a><a name="Policy"></a> <span data-ttu-id="7be72-126">Compilazione di criteri di corrispondenza</span><span class="sxs-lookup"><span data-stu-id="7be72-126">Building a Matching Policy</span></span>
 <span data-ttu-id="7be72-127">Preparare la Knowledge Base per l'esecuzione degli abbinamenti creando criteri di corrispondenza nella Knowledge Base stessa, così da definire la modalità con cui DQS assegna le probabilità di corrispondenza.</span><span class="sxs-lookup"><span data-stu-id="7be72-127">You prepare the knowledge base for performing matching by creating a matching policy in the knowledge base to define how DQS assigns matching probability.</span></span> <span data-ttu-id="7be72-128">I criteri di corrispondenza sono costituiti da una o più le regole di corrispondenza che identificano i domini che verranno utilizzati da DQS per la valutazione della corrispondenza tra due record e specificano l'importanza da assegnare a ciascun valore di dominio nella valutazione della corrispondenza stessa.</span><span class="sxs-lookup"><span data-stu-id="7be72-128">A matching policy consists of one or more matching rules that identify which domains will be used when DQS assesses how well one record matches to another, and specify the weight that each domain value carries in the matching assessment.</span></span> <span data-ttu-id="7be72-129">Specificare nelle regole se i valori di dominio devono essere una corrispondenza esatta o se possono essere solo simili e specificare il livello di similitudine.</span><span class="sxs-lookup"><span data-stu-id="7be72-129">You specify in the rule whether domain values have to be an exact match or can just be similar, and to what degree of similarity.</span></span> <span data-ttu-id="7be72-130">Specificare inoltre se una corrispondenza di dominio è un prerequisito.</span><span class="sxs-lookup"><span data-stu-id="7be72-130">You also specify whether a domain match is a prerequisite.</span></span>

 <span data-ttu-id="7be72-131">L'attività dei criteri di corrispondenza nella procedura guidata Gestione Knowledge Base analizza i dati di esempio applicando ogni regola di corrispondenza per confrontare record per volta in tutto l'intervallo di record.</span><span class="sxs-lookup"><span data-stu-id="7be72-131">The matching policy activity in the Knowledge Base Management wizard analyzes sample data by applying each matching rule to compare two records at a time throughout the range of records.</span></span> <span data-ttu-id="7be72-132">I record i cui punteggi di corrispondenza sono maggiori di un minimo specificato vengono raggruppati in cluster nei risultati di corrispondenza.</span><span class="sxs-lookup"><span data-stu-id="7be72-132">Records whose matching scores are greater than a specified minimum are grouped in clusters in the matching results.</span></span> <span data-ttu-id="7be72-133">Questi risultati di corrispondenza non vengono aggiunti alla Knowledge Base, vengono bensì utilizzati al fine di ottimizzare le regole di corrispondenza.</span><span class="sxs-lookup"><span data-stu-id="7be72-133">These matching results are not added to the knowledge base; you use them to tune the matching rules.</span></span> <span data-ttu-id="7be72-134">La creazione di criteri di corrispondenza può essere un processo iterativo nel quale si modificano le regole di corrispondenza in base ai risultati di corrispondenza o a statistiche di profiling.</span><span class="sxs-lookup"><span data-stu-id="7be72-134">Creating a matching policy can be an iterative process in which you modify matching rules based on the matching results or profiling statistics.</span></span>

 <span data-ttu-id="7be72-135">Per un dominio è possibile specificare che le stringhe di dati vengano normalizzate quando si caricano dati nel dominio dall'origine dati.</span><span class="sxs-lookup"><span data-stu-id="7be72-135">You can specify for a domain that data strings will be normalized when you load data from the data source into the domain.</span></span> <span data-ttu-id="7be72-136">Questo processo è costituito dalla sostituzione dei caratteri speciali con valori null o spazi, il che spesso rimuove la differenza tra due stringhe.</span><span class="sxs-lookup"><span data-stu-id="7be72-136">This process consists of replacing special characters with a null or a space, which often removes the difference between two strings.</span></span> <span data-ttu-id="7be72-137">Ciò può aumentare la precisione della corrispondenza e può spesso consentire a un risultato di corrispondenza di superare la soglia di corrispondenza minima, laddove senza normalizzazione tale risultato non raggiungerebbe tale soglia.</span><span class="sxs-lookup"><span data-stu-id="7be72-137">This can increase matching accuracy, and can often enable a matching result to surpass the minimum matching threshold, when without normalization it would not pass.</span></span>

> [!NOTE]
>  <span data-ttu-id="7be72-138">I valori null nei campi corrispondenti di due record verranno considerati come una corrispondenza.</span><span class="sxs-lookup"><span data-stu-id="7be72-138">Null values in the corresponding fields of two records will be considered a match.</span></span>

 <span data-ttu-id="7be72-139">I criteri di corrispondenza vengono eseguiti su domini di cui è stato eseguito il mapping ai dati di esempio.</span><span class="sxs-lookup"><span data-stu-id="7be72-139">The matching policy is run on domains mapped to the sample data.</span></span> <span data-ttu-id="7be72-140">È possibile specificare se i dati vanno o meno copiati dall'origine dati nella tabella di staging e reindicizzati quando si eseguono i criteri di corrispondenza.</span><span class="sxs-lookup"><span data-stu-id="7be72-140">You can specify whether data is copied from the data source into the staging table and re-indexed when you run the matching policy, or not.</span></span> <span data-ttu-id="7be72-141">Ciò è possibile sia quando si compila la Knowledge Base che quando si esegue il progetto corrispondente.</span><span class="sxs-lookup"><span data-stu-id="7be72-141">You can do so both when building the knowledge base and when running the matching project.</span></span> <span data-ttu-id="7be72-142">Le prestazioni possono risultare migliorate se si evita la reindicizzazione.</span><span class="sxs-lookup"><span data-stu-id="7be72-142">Not re-indexing could result in improved performance.</span></span> <span data-ttu-id="7be72-143">La reindicizzazione non è necessaria se le condizioni seguenti sono vere: i criteri di corrispondenza non sono cambiati e non è stata aggiornata l'origine dati, né rieseguito il mapping dei criteri, né selezionata una nuova origine dati, né eseguito il mapping di uno o più nuovi domini.</span><span class="sxs-lookup"><span data-stu-id="7be72-143">Re-indexing is not necessary if the following is true: the matching policy has not changed, and you have not updated the data source, remapped the policy, selected a new data source, or mapped one or more new domains.</span></span>

 <span data-ttu-id="7be72-144">Al momento della creazione, ogni regola di corrispondenza viene salvata nella Knowledge Base.</span><span class="sxs-lookup"><span data-stu-id="7be72-144">Each matching rule is saved in the knowledge base when it is created.</span></span> <span data-ttu-id="7be72-145">Tuttavia, una Knowledge Base può essere disponibile per l'uso in un progetto Data Quality solo quando viene pubblicata.</span><span class="sxs-lookup"><span data-stu-id="7be72-145">However, a knowledge base is available for use in a data quality project only when it is published.</span></span> <span data-ttu-id="7be72-146">Inoltre, fino al momento della pubblicazione della Knowledge Base, le regole di corrispondenza presenti in quest'ultima non possono essere modificate da un utente diverso da quello che l'ha creata.</span><span class="sxs-lookup"><span data-stu-id="7be72-146">In addition, until the knowledge base is published, the matching rules in it cannot be changed by a user other than the person who created it.</span></span>

###  <a name="running-a-matching-project"></a><a name="Project"></a> <span data-ttu-id="7be72-147">Esecuzione di un progetto corrispondente</span><span class="sxs-lookup"><span data-stu-id="7be72-147">Running a Matching Project</span></span>
 <span data-ttu-id="7be72-148">DQS esegue la deduplicazione dei dati confrontando ogni riga nei dati di origine con tutte le altre righe, utilizzando i criteri di corrispondenza definiti nella Knowledge Base e producendo una probabilità che le righe presentino una corrispondenza.</span><span class="sxs-lookup"><span data-stu-id="7be72-148">DQS performs data de-duplication by comparing each row in the source data to every other row, using the matching policy defined in the knowledge base, and producing a probability that the rows are a match.</span></span> <span data-ttu-id="7be72-149">Ciò è possibile in un progetto Data Quality dotato di un tipo di corrispondenza.</span><span class="sxs-lookup"><span data-stu-id="7be72-149">This is done in a data quality project with a type of Matching.</span></span> <span data-ttu-id="7be72-150">L'individuazione delle corrispondenze è uno dei passaggi principali in un progetto Data Quality.</span><span class="sxs-lookup"><span data-stu-id="7be72-150">Matching is one of the major steps in a data quality project.</span></span> <span data-ttu-id="7be72-151">È opportuno eseguirlo dopo la pulizia dei dati, in modo che il confronto possa avere luogo tra dati privi di errori.</span><span class="sxs-lookup"><span data-stu-id="7be72-151">It is best performed after data cleansing, so that the data to be matched is free from error.</span></span> <span data-ttu-id="7be72-152">Prima di eseguire un processo di corrispondenza, è possibile esportare i risultati del progetto di pulizia in una tabella dati o in un file csv, quindi creare un progetto corrispondente nel quale si esegue il mapping dei risultati della pulizia ai domini del progetto corrispondente.</span><span class="sxs-lookup"><span data-stu-id="7be72-152">Before running a matching process, you can export the results of the cleansing project into a data table or .csv file, and then create a matching project in which you map the cleansing results to domains in the matching project.</span></span>

 <span data-ttu-id="7be72-153">Un progetto di corrispondenza dei dati è costituito da un processo computerizzato e da un processo interattivo.</span><span class="sxs-lookup"><span data-stu-id="7be72-153">A data matching project consists of a computer-assisted process and an interactive process.</span></span> <span data-ttu-id="7be72-154">Il progetto corrispondente applica le regole di corrispondenza nei criteri di corrispondenza all'origine dati da valutare.</span><span class="sxs-lookup"><span data-stu-id="7be72-154">The matching project applies the matching rules in the matching policy to the data source to be assessed.</span></span> <span data-ttu-id="7be72-155">Tale processo consente di valutare le probabilità che due righe coincidano tramite un punteggio di corrispondenza.</span><span class="sxs-lookup"><span data-stu-id="7be72-155">This process assesses the likelihood that any two rows are matches in a matching score.</span></span> <span data-ttu-id="7be72-156">Verranno considerati corrispondenti solo i record con probabilità di corrispondenza maggiori di un valore impostato dall'amministratore dei dati nei criteri di corrispondenza.</span><span class="sxs-lookup"><span data-stu-id="7be72-156">Only those records with a probability of a match greater than a value set by the data steward in the matching policy will be considered a match.</span></span>

 <span data-ttu-id="7be72-157">Quando DQS esegue l'analisi di corrispondenza, viene creato un cluster di record che DQS considera corrispondenze.</span><span class="sxs-lookup"><span data-stu-id="7be72-157">When DQS performs the matching analysis, it creates clusters of records that DQS considers matches.</span></span> <span data-ttu-id="7be72-158">DQS identifica casualmente uno dei record in ogni cluster come record pivot o principale.</span><span class="sxs-lookup"><span data-stu-id="7be72-158">DQS randomly identifies one of the records in each cluster as the pivot, or leading, record.</span></span> <span data-ttu-id="7be72-159">L'amministratore dei dati verifica i risultati corrispondenti e rifiuta qualsiasi record che non rappresenti una corrispondenza appropriata per un cluster.</span><span class="sxs-lookup"><span data-stu-id="7be72-159">The data steward verifies the matching results, and rejects any record that is not an appropriate match for a cluster.</span></span> <span data-ttu-id="7be72-160">L'amministratore dei dati seleziona quindi una regola di sopravvivenza che DQS utilizzerà per determinare il record che supererà il processo di corrispondenza e sostituirà i record corrispondenti.</span><span class="sxs-lookup"><span data-stu-id="7be72-160">The data steward then selects a survivorship rule that DQS will use to determine the record that will survive the matching process and replace the matching records.</span></span> <span data-ttu-id="7be72-161">La regola di sopravvivenza può essere "Record pivot" (il valore predefinito), "Il record più completo e più lungo", "Record più completo" o "Record più lungo".</span><span class="sxs-lookup"><span data-stu-id="7be72-161">The survivorship rule can be "Pivot record" (the default), "most complete and longest record", "most complete record", or "longest record".</span></span> <span data-ttu-id="7be72-162">DQS determina il record superstite (principale) in ogni cluster in base al record che più si avvicina a soddisfare il criterio o criteri della regola di sopravvivenza.</span><span class="sxs-lookup"><span data-stu-id="7be72-162">DQS determines the survivor (leading) record in each cluster based upon which record most closely matches the criteria or criterion in the survivorship rule.</span></span> <span data-ttu-id="7be72-163">Se più record in un cluster specifico sono conformi alla regola di sopravvivenza, DQS ne seleziona uno in modo casuale.</span><span class="sxs-lookup"><span data-stu-id="7be72-163">If multiple records in a given cluster comply with the survivorship rule, DQS selects one of those records randomly.</span></span> <span data-ttu-id="7be72-164">DQS consente di visualizzare i cluster che presentano record comuni come un solo cluster selezionando l'opzione "Mostra cluster non sovrapposti".</span><span class="sxs-lookup"><span data-stu-id="7be72-164">DQS gives you the choice of displaying clusters that have records in common as a single cluster by selecting "show non-overlapping clusters".</span></span> <span data-ttu-id="7be72-165">Per visualizzare i risultati in base questa impostazione, il processo di corrispondenza deve essere eseguito.</span><span class="sxs-lookup"><span data-stu-id="7be72-165">You must execute the matching process in order to display the results according to this setting.</span></span>

 <span data-ttu-id="7be72-166">È possibile esportare i risultati del processo di corrispondenza in una tabella di SQL Server o in un file csv.</span><span class="sxs-lookup"><span data-stu-id="7be72-166">You can export the results of the matching process either to a SQL Server table or a .csv file.</span></span> <span data-ttu-id="7be72-167">È possibile esportare risultati della corrispondenza in due modi: record corrispondenti e record non corrispondenti, oppure record superstiti che includono solo il record superstite per un cluster nonché i risultati non corrispondenti.</span><span class="sxs-lookup"><span data-stu-id="7be72-167">You can export matching results in two forms: first, the matched records and the unmatched records, or second, survivorship records that include only the survivor record for a cluster and the unmatched results.</span></span> <span data-ttu-id="7be72-168">Nei record superstiti, se lo stesso record viene identificato come superstite per più cluster, tale record verrà esportato solo una volta.</span><span class="sxs-lookup"><span data-stu-id="7be72-168">In the survivorship records, if the same record is identified as the survivor for multiple clusters, that record will only be exported once.</span></span>

## <a name="in-this-section"></a><span data-ttu-id="7be72-169">Contenuto della sezione</span><span class="sxs-lookup"><span data-stu-id="7be72-169">In This Section</span></span>
 <span data-ttu-id="7be72-170">È possibile eseguire le attività seguenti in relazione all'individuazione di corrispondenze in DQS:</span><span class="sxs-lookup"><span data-stu-id="7be72-170">You can perform the following tasks related to matching in DQS:</span></span>

|||
|-|-|
|<span data-ttu-id="7be72-171">Creare e testare regole di corrispondenza in criteri di corrispondenza</span><span class="sxs-lookup"><span data-stu-id="7be72-171">Create and test matching rules in a matching policy</span></span>|[<span data-ttu-id="7be72-172">Creazione di criteri di corrispondenza</span><span class="sxs-lookup"><span data-stu-id="7be72-172">Create a Matching Policy</span></span>](../../2014/data-quality-services/create-a-matching-policy.md)|
|<span data-ttu-id="7be72-173">Eseguire l'individuazione delle corrispondenze in un progetto Data Quality</span><span class="sxs-lookup"><span data-stu-id="7be72-173">Run matching in a data quality project</span></span>|[<span data-ttu-id="7be72-174">Eseguire un progetto corrispondente</span><span class="sxs-lookup"><span data-stu-id="7be72-174">Run a Matching Project</span></span>](../../2014/data-quality-services/run-a-matching-project.md)|


