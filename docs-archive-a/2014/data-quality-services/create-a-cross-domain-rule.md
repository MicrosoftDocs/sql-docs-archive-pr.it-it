---
title: Creare una regola tra domini | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: data-quality-services
ms.topic: conceptual
f1_keywords:
- sql12.dqs.dm.testcdrule.f1
- sql12.dqs.dm.cdrules.f1
ms.assetid: 0f3f5ba4-cc47-4d66-866e-371a042d1f21
author: lrtoyou1223
ms.author: lle
ms.openlocfilehash: cddcd9bbd2fc8d95fe8645781de5fe4e936050a9
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87712388"
---
# <a name="create-a-cross-domain-rule"></a><span data-ttu-id="d0c50-102">Creare una regola tra domini</span><span class="sxs-lookup"><span data-stu-id="d0c50-102">Create a Cross-Domain Rule</span></span>
  <span data-ttu-id="d0c50-103">In questo argomento viene descritto come creare una regola tra domini per un dominio composito in una Knowledge Base in [!INCLUDE[ssDQSnoversion](../includes/ssdqsnoversion-md.md)] (DQS).</span><span class="sxs-lookup"><span data-stu-id="d0c50-103">This topic describes how to create a cross-domain rule for a composite domain in a knowledge base in [!INCLUDE[ssDQSnoversion](../includes/ssdqsnoversion-md.md)] (DQS).</span></span> <span data-ttu-id="d0c50-104">Una regola tra domini consente di testare la relazione tra i valori nei singoli domini inclusi in un dominio composito.</span><span class="sxs-lookup"><span data-stu-id="d0c50-104">A cross-domain rule tests the relationship between values in single domains that are included in a composite domain.</span></span> <span data-ttu-id="d0c50-105">Una regola tra domini deve rimanere valida in tutto un dominio composito affinché i valori di dominio vengano considerati accurati e conformi ai requisiti aziendali.</span><span class="sxs-lookup"><span data-stu-id="d0c50-105">A cross-domain rule must hold true across a composite domain in order for domain values to be considered accurate and conformant to business requirements.</span></span> <span data-ttu-id="d0c50-106">Una regola tra domini viene utilizzata per convalidare, correggere e standardizzare i valori di dominio.</span><span class="sxs-lookup"><span data-stu-id="d0c50-106">A cross-domain rule is used to validate, correct, and standardize domain values.</span></span>  
  
 <span data-ttu-id="d0c50-107">Le clausole If e Then di una regola tra domini sono definite ognuna per uno dei singoli domini del dominio composito.</span><span class="sxs-lookup"><span data-stu-id="d0c50-107">The If clause and Then clause of a cross-domain rule are each defined for one of the single domains in the composite domain.</span></span> <span data-ttu-id="d0c50-108">Ogni clausola deve essere definita per un singolo dominio diverso.</span><span class="sxs-lookup"><span data-stu-id="d0c50-108">Each clause must be defined for a different single domain.</span></span> <span data-ttu-id="d0c50-109">Una regola tra domini deve essere correlata a più singoli domini. Non è possibile definire una regola di dominio semplice (solo per un singolo dominio) per un dominio composito.</span><span class="sxs-lookup"><span data-stu-id="d0c50-109">A cross-domain rule must relate to multiple single domains; you cannot define a simple domain rule (for only a single domain) for a composite domain.</span></span> <span data-ttu-id="d0c50-110">Questa operazione viene effettuata definendo una regola di dominio per un singolo dominio.</span><span class="sxs-lookup"><span data-stu-id="d0c50-110">You would do so by defining a domain rule for a single domain.</span></span> <span data-ttu-id="d0c50-111">Le clausole If e Then possono contenere ognuna una o più condizioni.</span><span class="sxs-lookup"><span data-stu-id="d0c50-111">The If clause and the Then clause can each contain one or more conditions.</span></span>  
  
 <span data-ttu-id="d0c50-112">Una regola tra domini con condizioni definitive applicherà la logica delle regole ai sinonimi del valore nelle condizioni, oltre ai valori stessi.</span><span class="sxs-lookup"><span data-stu-id="d0c50-112">A cross-domain rule that has definitive conditions will apply the rules logic to synonyms of the value in the conditions, as well the values themselves.</span></span> <span data-ttu-id="d0c50-113">Le condizioni definitive per le clausole If e Then sono: Il valore è uguale a, Il valore è diverso da, Il valore è in o Il valore non è in.</span><span class="sxs-lookup"><span data-stu-id="d0c50-113">The definitive conditions for the If and Then clauses are Value is equal to, Value is not equal to, Value is in, or Value is not in.</span></span> <span data-ttu-id="d0c50-114">Si supponga ad esempio di disporre della regola tra domini seguente per un dominio composito: "Se per 'City' il valore è uguale a 'Los Angeles', per 'State' il valore è uguale a 'CA'".</span><span class="sxs-lookup"><span data-stu-id="d0c50-114">For example, suppose that you have the following cross-domain rule for a composite domain: "For 'City', if Value is equal to 'Los Angeles', then for 'State', Value is equal to 'CA'.</span></span> <span data-ttu-id="d0c50-115">Se 'Los Angeles e 'LA' sono sinonimi, questa regola restituirà un risultato corretto per 'Los Angeles CA' e 'LA CA' ma un risultato in errore per 'Los Angeles WA' e 'LA WA'.</span><span class="sxs-lookup"><span data-stu-id="d0c50-115">"If 'Los Angeles' and 'LA' are synonyms, this rule will return correct for 'Los Angeles CA' and 'LA CA' and in error for 'Los Angeles WA' and 'LA WA'.</span></span>  
  
 <span data-ttu-id="d0c50-116">Oltre a indicare la validità di una regola tra domini, la clausola definitiva *Then* in una regola tra domini, **Il valore è uguale a**, corregge anche i dati durante l'attività di pulizia dei dati.</span><span class="sxs-lookup"><span data-stu-id="d0c50-116">Apart from just letting you know about the validity of a cross-domain rule, the definitive *Then* clause in a cross-domain rule, **Value is equal to**, also corrects the data during the data-cleansing activity.</span></span> <span data-ttu-id="d0c50-117">Per ulteriori informazioni, vedere [Data Correction using Definitive Cross-Domain Rules](../../2014/data-quality-services/cleanse-data-in-a-composite-domain.md#CDCorrection) in [Cleanse Data in a Composite Domain](../../2014/data-quality-services/cleanse-data-in-a-composite-domain.md).</span><span class="sxs-lookup"><span data-stu-id="d0c50-117">For more information, see [Data Correction using Definitive Cross-Domain Rules](../../2014/data-quality-services/cleanse-data-in-a-composite-domain.md#CDCorrection) in [Cleanse Data in a Composite Domain](../../2014/data-quality-services/cleanse-data-in-a-composite-domain.md).</span></span>  
  
 <span data-ttu-id="d0c50-118">Le regole tra domini vengono prese in esame dopo tutte le regole semplici applicate solo a un singolo dominio.</span><span class="sxs-lookup"><span data-stu-id="d0c50-118">Cross-domain rules are taken into consideration after all simple rules that affect only a single domain.</span></span> <span data-ttu-id="d0c50-119">Solo se un valore supera le singole regole di dominio (se esistono) verrà applicata la regola tra domini.</span><span class="sxs-lookup"><span data-stu-id="d0c50-119">Only if a value passes single domain rules (if they exist) is the cross-domain rule applied.</span></span> <span data-ttu-id="d0c50-120">Il dominio composito e i singoli domini su cui viene eseguita una regola devono tutti essere definiti prima dell'esecuzione della regola.</span><span class="sxs-lookup"><span data-stu-id="d0c50-120">The composite domain and the single domains that a rule is run on must all be defined before the rule can be executed.</span></span>  
  
##  <a name="before-you-begin"></a><a name="BeforeYouBegin"></a> <span data-ttu-id="d0c50-121">Prima di iniziare</span><span class="sxs-lookup"><span data-stu-id="d0c50-121">Before You Begin</span></span>  
  
###  <a name="prerequisites"></a><a name="Prerequisites"></a> <span data-ttu-id="d0c50-122">Prerequisiti</span><span class="sxs-lookup"><span data-stu-id="d0c50-122">Prerequisites</span></span>  
 <span data-ttu-id="d0c50-123">Per creare una regola tra domini, è necessario avere creato e aperto un dominio composito.</span><span class="sxs-lookup"><span data-stu-id="d0c50-123">To create a cross-domain rule, you must have created and opened a composite domain.</span></span>  
  
###  <a name="security"></a><a name="Security"></a> <span data-ttu-id="d0c50-124">Sicurezza</span><span class="sxs-lookup"><span data-stu-id="d0c50-124">Security</span></span>  
  
####  <a name="permissions"></a><a name="Permissions"></a> <span data-ttu-id="d0c50-125">Autorizzazioni</span><span class="sxs-lookup"><span data-stu-id="d0c50-125">Permissions</span></span>  
 <span data-ttu-id="d0c50-126">È necessario disporre del ruolo dqs_kb_editor o dqs_administrator nel database DQS_MAIN per creare una regola tra domini.</span><span class="sxs-lookup"><span data-stu-id="d0c50-126">You must have the dqs_kb_editor or the dqs_administrator role on the DQS_MAIN database to create a cross-domain rule.</span></span>  
  
##  <a name="create-cross-domain-rules"></a><a name="Create"></a> <span data-ttu-id="d0c50-127">Creare le regole tra domini</span><span class="sxs-lookup"><span data-stu-id="d0c50-127">Create Cross-Domain Rules</span></span>  
  
1.  [!INCLUDE[ssDQSInitialStep](../includes/ssdqsinitialstep-md.md)]<span data-ttu-id="d0c50-128">[Eseguire l'applicazione Data Quality Client](../../2014/data-quality-services/run-the-data-quality-client-application.md).</span><span class="sxs-lookup"><span data-stu-id="d0c50-128">[Run the Data Quality Client Application](../../2014/data-quality-services/run-the-data-quality-client-application.md).</span></span>  
  
2.  <span data-ttu-id="d0c50-129">Nella schermata iniziale del [!INCLUDE[ssDQSClient](../includes/ssdqsclient-md.md)] aprire o creare una Knowledge Base.</span><span class="sxs-lookup"><span data-stu-id="d0c50-129">In the [!INCLUDE[ssDQSClient](../includes/ssdqsclient-md.md)] home screen, open or create a knowledge base.</span></span> <span data-ttu-id="d0c50-130">Selezionare **Gestione dominio** come attività, quindi fare clic su **Apri** o **Crea**.</span><span class="sxs-lookup"><span data-stu-id="d0c50-130">Select **Domain Management** as the activity, and then click **Open** or **Create**.</span></span> <span data-ttu-id="d0c50-131">Per ulteriori informazioni, vedere [Creare una Knowledge Base](../../2014/data-quality-services/create-a-knowledge-base.md) o [Apertura di una Knowledge Base](../../2014/data-quality-services/open-a-knowledge-base.md).</span><span class="sxs-lookup"><span data-stu-id="d0c50-131">For more information, see [Create a Knowledge Base](../../2014/data-quality-services/create-a-knowledge-base.md) or [Open a Knowledge Base](../../2014/data-quality-services/open-a-knowledge-base.md).</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="d0c50-132">La gestione del dominio viene eseguita in una pagina del client Data Quality Services che contiene cinque schede per le operazioni di gestione del dominio separate.</span><span class="sxs-lookup"><span data-stu-id="d0c50-132">Domain management is performed in a page of the Data Quality Service client that contains five tabs for separate domain management operations.</span></span> <span data-ttu-id="d0c50-133">Non si tratta di un processo basato su procedure guidate. Ciascuna operazione di gestione può essere eseguita separatamente.</span><span class="sxs-lookup"><span data-stu-id="d0c50-133">It is not a wizard-driven process; any management operation can be performed separately.</span></span>  
  
3.  <span data-ttu-id="d0c50-134">**Dall'elenco di domini** nella pagina **Gestione dominio** selezionare il dominio composito per il quale si desidera creare una regola di dominio o creare un nuovo dominio composito.</span><span class="sxs-lookup"><span data-stu-id="d0c50-134">From the **Domain list** on the **Domain Management** page, select the composite domain that you want to create a domain rule for, or create a new composite domain.</span></span> <span data-ttu-id="d0c50-135">Se è necessario creare un nuovo dominio, vedere [Create a Composite Domain](../../2014/data-quality-services/create-a-composite-domain.md).</span><span class="sxs-lookup"><span data-stu-id="d0c50-135">If you have to create a new domain, see [Create a Composite Domain](../../2014/data-quality-services/create-a-composite-domain.md).</span></span>  
  
4.  <span data-ttu-id="d0c50-136">Fare clic sulla scheda **Regole CD** .</span><span class="sxs-lookup"><span data-stu-id="d0c50-136">Click the **CD Rules** tab.</span></span>  
  
5.  <span data-ttu-id="d0c50-137">Fare clic su **Aggiungi una nuova regola di domini**, quindi immettere un nome e una descrizione per la regola.</span><span class="sxs-lookup"><span data-stu-id="d0c50-137">Click **Add a new domain rule**, and then enter a name and description for the rule.</span></span>  
  
6.  <span data-ttu-id="d0c50-138">Selezionare **Attiva** per specificare che la regola verrà eseguita (valore predefinito) o deselezionare per impedire l'esecuzione della regola.</span><span class="sxs-lookup"><span data-stu-id="d0c50-138">Select **Active** to specify that the rule will be run (the default), and deselect to prevent the rule from running.</span></span>  
  
7.  <span data-ttu-id="d0c50-139">Creare la clausola If come segue:</span><span class="sxs-lookup"><span data-stu-id="d0c50-139">Create the If clause as follows:</span></span>  
  
    1.  <span data-ttu-id="d0c50-140">Nell'elenco di domini del riquadro della clausola If selezionare uno dei singoli domini inclusi nel dominio composito da includere come oggetto della clausola If.</span><span class="sxs-lookup"><span data-stu-id="d0c50-140">In the domain list in the If clause pane, select one of the single domains included in the composite domain to be the subject of the If clause.</span></span> <span data-ttu-id="d0c50-141">È possibile selezionare qualsiasi singolo dominio nel dominio composito.</span><span class="sxs-lookup"><span data-stu-id="d0c50-141">You can select any single domain in the composite domain.</span></span>  
  
    2.  <span data-ttu-id="d0c50-142">Selezionare una condizione dall'elenco a discesa per la prima condizione della clausola.</span><span class="sxs-lookup"><span data-stu-id="d0c50-142">Select a condition from the drop-down list for the first condition of the clause.</span></span>  
  
    3.  <span data-ttu-id="d0c50-143">Se la condizione richiede un valore, immettere il valore nella casella di testo associata.</span><span class="sxs-lookup"><span data-stu-id="d0c50-143">If the condition requires a value, enter the value in the text box associated with the condition.</span></span>  
  
    4.  <span data-ttu-id="d0c50-144">Se la clausola If richiede un'altra condizione, fare clic su **Aggiunge una nuova condizione alla clausola selezionata**.</span><span class="sxs-lookup"><span data-stu-id="d0c50-144">If the If clause requires another condition, click **Adds a new condition to the selected clause**.</span></span> <span data-ttu-id="d0c50-145">Selezionare l'operatore, selezionare una condizione e immettere un valore per la condizione, se necessario.</span><span class="sxs-lookup"><span data-stu-id="d0c50-145">Select the operator, select a condition, and enter a value for the condition, if necessary.</span></span>  
  
    5.  <span data-ttu-id="d0c50-146">Per modificare l'ordine delle condizioni, selezionare una condizione facendo clic a sinistra della condizione, quindi fare clic sulla freccia Su o Giù.</span><span class="sxs-lookup"><span data-stu-id="d0c50-146">To change the order of the conditions, select a condition by clicking to its left, and then click the up or down arrow.</span></span>  
  
    6.  <span data-ttu-id="d0c50-147">Per nascondere le condizioni, fare clic sul segno meno a sinistra del nome del dominio.</span><span class="sxs-lookup"><span data-stu-id="d0c50-147">To hide the conditions, click the minus sign to the left of the domain name.</span></span> <span data-ttu-id="d0c50-148">Per visualizzare le condizioni, fare clic sul segno più.</span><span class="sxs-lookup"><span data-stu-id="d0c50-148">Click the plus ign to display the conditions.</span></span>  
  
8.  <span data-ttu-id="d0c50-149">Creare la clausola Then selezionando un singolo dominio, diverso dall'oggetto della clausola If, nell'elenco di domini del riquadro della clausola Then.</span><span class="sxs-lookup"><span data-stu-id="d0c50-149">Create the Then clause by selecting a single domain, other than the subject of the If clause, in the domain list in the Then clause pane.</span></span> <span data-ttu-id="d0c50-150">Compilare quindi la clausola Then utilizzando gli stessi passaggi effettuati per la compilazione della clausola If.</span><span class="sxs-lookup"><span data-stu-id="d0c50-150">Then build the Then clause using the same steps that you did in building the If clause.</span></span>  
  
9. <span data-ttu-id="d0c50-151">Continuare con la procedura relativa al test descritta di seguito.</span><span class="sxs-lookup"><span data-stu-id="d0c50-151">Proceed to the testing procedure below.</span></span>  
  
##  <a name="test-cross-domain-rules"></a><a name="Test"></a> <span data-ttu-id="d0c50-152">Testare le regole tra domini</span><span class="sxs-lookup"><span data-stu-id="d0c50-152">Test Cross-Domain Rules</span></span>  
  
1.  <span data-ttu-id="d0c50-153">Testare la regola tra domini come segue:</span><span class="sxs-lookup"><span data-stu-id="d0c50-153">Test the cross-domain rule as follows:</span></span>  
  
    1.  <span data-ttu-id="d0c50-154">Fare clic sull'icona **Esegui la regola del dominio selezionato sui dati di test** nell'angolo in alto a destra del riquadro del dominio composito.</span><span class="sxs-lookup"><span data-stu-id="d0c50-154">Click the **Run the selected domain rule on test data to** icon in the upper right-hand corner of the composite domain pane.</span></span>  
  
    2.  <span data-ttu-id="d0c50-155">Nella finestra di dialogo **Esegui la regola di dominio** fare clic sull'icona **Aggiunge un nuovo termine di test per la regola di dominio** .</span><span class="sxs-lookup"><span data-stu-id="d0c50-155">In the **Test Domain Rule** dialog box, click the **Adds a New Testing Term for the Domain Rule** icon.</span></span>  
  
    3.  <span data-ttu-id="d0c50-156">Immettere i valori di test per il singolo dominio associato alla clausola If e per il singolo dominio associato alla clausola Then.</span><span class="sxs-lookup"><span data-stu-id="d0c50-156">Enter test values for the single domain associated with the If clause and the single domain associated with the Then clause.</span></span> <span data-ttu-id="d0c50-157">I valori di test immessi nella clausola If devono soddisfare le condizioni per tale clausola, altrimenti verrà immesso un punto interrogativo nella colonna **Validità** a indicare che la regola tra domini non è valida per i dati di test.</span><span class="sxs-lookup"><span data-stu-id="d0c50-157">The test values entered in the If clause must meet the conditions for that clause, or a question mark will be entered in the **Validity** column indicating that the cross-domain rule does not apply to the test data.</span></span>  
  
    4.  <span data-ttu-id="d0c50-158">Fare di nuovo clic sull'icona **Aggiunge un nuovo termine di test per la regola di dominio** per aggiungere un altro set di valori di test.</span><span class="sxs-lookup"><span data-stu-id="d0c50-158">Click the **Adds a new testing term for the domain rule** icon again to add another set of test values.</span></span>  
  
    5.  <span data-ttu-id="d0c50-159">Fare clic sull'icona **testa la regola di dominio su tutti i termini** .</span><span class="sxs-lookup"><span data-stu-id="d0c50-159">Click the **Test the Domain Rule on All the Terms** icon.</span></span> <span data-ttu-id="d0c50-160">Se un set di valori di test è valido, nella colonna **Validità** verrà immesso un segno di spunta per la riga.</span><span class="sxs-lookup"><span data-stu-id="d0c50-160">If a set of test values is valid, DQS will enter a check in the **Validity** column for the row.</span></span> <span data-ttu-id="d0c50-161">Se il set di valori di test non è valido, nella colonna Validità verrà immesso un triangolo con un punto esclamativo per la riga.</span><span class="sxs-lookup"><span data-stu-id="d0c50-161">If the set of test values is not valid, DQS will enter a triangle with an exclamation point in the Validity column for the row.</span></span>  
  
    6.  <span data-ttu-id="d0c50-162">Al termine del test fare clic su **Chiudi** nella finestra di dialogo **Test regola dominio composito** .</span><span class="sxs-lookup"><span data-stu-id="d0c50-162">After your testing is complete, click **Close** in the **Test Composite Domain Rule** dialog box.</span></span>  
  
2.  <span data-ttu-id="d0c50-163">Dopo aver completato le regole tra domini, fare clic su **Fine** per completare l'attività di gestione del dominio, come descritto in [End the Domain Management Activity](../../2014/data-quality-services/end-the-domain-management-activity.md).</span><span class="sxs-lookup"><span data-stu-id="d0c50-163">When you have completed your cross-domain rules, click **Finish** to complete the domain management activity, as described in [End the Domain Management Activity](../../2014/data-quality-services/end-the-domain-management-activity.md).</span></span>  
  
##  <a name="follow-up-after-creating-a-cross-domain-rule"></a><a name="FollowUp"></a> <span data-ttu-id="d0c50-164">Completamento: fasi successive alla creazione di una regola tra domini</span><span class="sxs-lookup"><span data-stu-id="d0c50-164">Follow Up: After Creating a Cross-Domain Rule</span></span>  
 <span data-ttu-id="d0c50-165">Dopo avere creato una regola tra domini, è possibile eseguire ulteriori attività di gestione del dominio, quali l'individuazione delle informazioni per aggiungere informazioni al dominio o l'aggiunta di criteri di corrispondenza al dominio.</span><span class="sxs-lookup"><span data-stu-id="d0c50-165">After you create a cross-down rule, you can perform other domain management tasks on the domain, you can perform knowledge discovery to add knowledge to the domain, or you can add a matching policy to the domain.</span></span> <span data-ttu-id="d0c50-166">Per altre informazioni, vedere [Eseguire l'individuazione delle informazioni](../../2014/data-quality-services/perform-knowledge-discovery.md), [Gestione di un dominio](../../2014/data-quality-services/managing-a-domain.md) o [Creare criteri di corrispondenza](../../2014/data-quality-services/create-a-matching-policy.md).</span><span class="sxs-lookup"><span data-stu-id="d0c50-166">For more information, see [Perform Knowledge Discovery](../../2014/data-quality-services/perform-knowledge-discovery.md), [Managing a Domain](../../2014/data-quality-services/managing-a-domain.md), or [Create a Matching Policy](../../2014/data-quality-services/create-a-matching-policy.md).</span></span>  
  
  
