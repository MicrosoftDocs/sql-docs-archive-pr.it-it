---
title: Implementare una trasformazione Ricerca in modalità Full cache utilizzando la gestione connessione della cache | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
helpviewer_keywords:
- Lookup transformation [Integration Services]
ms.assetid: 58bc7611-5fb5-4113-9742-10959e06b94c
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 8b8c77f7ecfbe79db00acce09f706468ec0a0055
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87636355"
---
# <a name="implement-a-lookup-transformation-in-full-cache-mode-using-the-cache-connection-manager"></a><span data-ttu-id="97b07-102">Implementazione di una trasformazione Ricerca in modalità Full Cache utilizzando la gestione connessione della cache</span><span class="sxs-lookup"><span data-stu-id="97b07-102">Implement a Lookup Transformation in Full Cache Mode Using the Cache Connection Manager</span></span>
  <span data-ttu-id="97b07-103">È possibile configurare la trasformazione Ricerca per utilizzare la modalità Full Cache e una gestione connessione della cache.</span><span class="sxs-lookup"><span data-stu-id="97b07-103">You can configure the Lookup transformation to use full cache mode and a Cache connection manager.</span></span> <span data-ttu-id="97b07-104">Nella modalità Full Cache, il set di dati di riferimento viene caricato nella cache prima dell'esecuzione della trasformazione Ricerca.</span><span class="sxs-lookup"><span data-stu-id="97b07-104">In full cache mode, the reference dataset is loaded into cache before the Lookup transformation runs.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="97b07-105">I tipi di dati BLOB (oggetto binario di grandi dimensioni), ovvero DT_TEXT, DT_NTEXT e DT_IMAGE, non sono supportati nella Gestione connessione cache.</span><span class="sxs-lookup"><span data-stu-id="97b07-105">The Cache connection manager does not support the Binary Large Object (BLOB) data types DT_TEXT, DT_NTEXT, and DT_IMAGE.</span></span> <span data-ttu-id="97b07-106">Se il set di dati di riferimento contiene un tipo di dati BLOB, il componente avrà esito negativo quando viene eseguito il pacchetto.</span><span class="sxs-lookup"><span data-stu-id="97b07-106">If the reference dataset contains a BLOB data type, the component will fail when you run the package.</span></span> <span data-ttu-id="97b07-107">È possibile utilizzare **Editor gestione connessione cache** per modificare i tipi di dati di colonna.</span><span class="sxs-lookup"><span data-stu-id="97b07-107">You can use the **Cache Connection Manager Editor** to modify column data types.</span></span> <span data-ttu-id="97b07-108">Per altre informazioni, vedere [Editor gestione connessione cache](../cache-connection-manager-editor.md).</span><span class="sxs-lookup"><span data-stu-id="97b07-108">For more information, see [Cache Connection Manager Editor](../cache-connection-manager-editor.md).</span></span>  
  
 <span data-ttu-id="97b07-109">La trasformazione Ricerca esegue ricerche creando un join dei dati contenuti nelle colonne di input da un'origine dati connessa con le colonne in un set di dati di riferimento.</span><span class="sxs-lookup"><span data-stu-id="97b07-109">The Lookup transformation performs lookups by joining data in input columns from a connected data source with columns in a reference dataset.</span></span> <span data-ttu-id="97b07-110">Per altre informazioni, vedere [Trasformazione Ricerca](../data-flow/transformations/lookup-transformation.md).</span><span class="sxs-lookup"><span data-stu-id="97b07-110">For more information, see [Lookup Transformation](../data-flow/transformations/lookup-transformation.md).</span></span>  
  
 <span data-ttu-id="97b07-111">Utilizzare uno dei seguenti elementi per generare un set di dati di riferimento:</span><span class="sxs-lookup"><span data-stu-id="97b07-111">You use one of the following to generate a reference dataset:</span></span>  
  
-   <span data-ttu-id="97b07-112">File cache (.caw)</span><span class="sxs-lookup"><span data-stu-id="97b07-112">Cache file (.caw)</span></span>  
  
     <span data-ttu-id="97b07-113">Configurare la Gestione connessione cache per leggere i dati provenienti da un file di cache esistente.</span><span class="sxs-lookup"><span data-stu-id="97b07-113">You configure the Cache connection manager to read data from an existing cache file.</span></span>  
  
-   <span data-ttu-id="97b07-114">Origine dati collegata nel flusso di dati</span><span class="sxs-lookup"><span data-stu-id="97b07-114">Connected data source in the data flow</span></span>  
  
     <span data-ttu-id="97b07-115">Utilizzare una Trasformazione di tipo cache per scrivere i dati da un'origine dati connessa nel flusso di dati a una Gestione connessione cache.</span><span class="sxs-lookup"><span data-stu-id="97b07-115">You use a Cache Transform transformation to write data from a connected data source in the data flow to a Cache connection manager.</span></span> <span data-ttu-id="97b07-116">I dati vengono sempre archiviati in memoria.</span><span class="sxs-lookup"><span data-stu-id="97b07-116">The data is always stored in memory.</span></span>  
  
     <span data-ttu-id="97b07-117">È necessario aggiungere la trasformazione Ricerca a un flusso di dati separato.</span><span class="sxs-lookup"><span data-stu-id="97b07-117">You must add the Lookup transformation to a separate data flow.</span></span> <span data-ttu-id="97b07-118">Questo consente alla Trasformazione cache di popolare la Gestione connessione cache prima dell'esecuzione della trasformazione Ricerca.</span><span class="sxs-lookup"><span data-stu-id="97b07-118">This enables the Cache Transform to populate the Cache connection manager before the Lookup transformation is executed.</span></span> <span data-ttu-id="97b07-119">I flussi di dati possono essere nello stesso pacchetto o in due pacchetti separati.</span><span class="sxs-lookup"><span data-stu-id="97b07-119">The data flows can be in the same package or in two separate packages.</span></span>  
  
     <span data-ttu-id="97b07-120">Se i flussi di dati sono nello stesso pacchetto, utilizzare un vincolo di precedenza per connettere i flussi di dati.</span><span class="sxs-lookup"><span data-stu-id="97b07-120">If the data flows are in the same package, use a precedence constraint to connect the data flows.</span></span> <span data-ttu-id="97b07-121">Questo consente l'esecuzione della Trasformazione cache prima dell'esecuzione della trasformazione Ricerca.</span><span class="sxs-lookup"><span data-stu-id="97b07-121">This enables the Cache Transform to run before the Lookup transformation runs.</span></span>  
  
     <span data-ttu-id="97b07-122">Se i flussi di dati sono in pacchetti separati, è possibile utilizzare l'attività Esegui pacchetto per chiamare il pacchetto figlio dal pacchetto padre.</span><span class="sxs-lookup"><span data-stu-id="97b07-122">If the data flows are in separate packages, you can use the Execute Package task to call the child package from the parent package.</span></span> <span data-ttu-id="97b07-123">È possibile chiamare più pacchetti figlio aggiungendo più attività Esegui pacchetto all'attività Contenitore Sequenza nel pacchetto padre.</span><span class="sxs-lookup"><span data-stu-id="97b07-123">You can call multiple child packages by adding multiple Execute Package tasks to a Sequence Container task in the parent package.</span></span>  
  
 <span data-ttu-id="97b07-124">È possibile condividere il set di dati di riferimento archiviato in cache tra più trasformazioni Ricerca utilizzando uno dei metodi seguenti:</span><span class="sxs-lookup"><span data-stu-id="97b07-124">You can share the reference dataset stored in cache, between multiple Lookup transformations by using one of the following methods:</span></span>  
  
-   <span data-ttu-id="97b07-125">Configurare le trasformazioni Ricerca in un singolo pacchetto per utilizzare la stessa modalità Gestione connessione cache.</span><span class="sxs-lookup"><span data-stu-id="97b07-125">Configure the Lookup transformations in a single package to use the same Cache connection manager.</span></span>  
  
-   <span data-ttu-id="97b07-126">Configurare le gestioni connessione della cache nei diversi pacchetti per l'utilizzo dello stesso file di cache.</span><span class="sxs-lookup"><span data-stu-id="97b07-126">Configure the Cache connection managers in different packages to use the same cache file.</span></span>  
  
 <span data-ttu-id="97b07-127">Per altre informazioni, vedere gli argomenti seguenti:</span><span class="sxs-lookup"><span data-stu-id="97b07-127">For more information, see the following topics:</span></span>  
  
-   [<span data-ttu-id="97b07-128">Trasformazione Cache</span><span class="sxs-lookup"><span data-stu-id="97b07-128">Cache Transform</span></span>](../data-flow/transformations/cache-transform.md)  
  
-   [<span data-ttu-id="97b07-129">Gestione connessione della cache</span><span class="sxs-lookup"><span data-stu-id="97b07-129">Cache Connection Manager</span></span>](cache-connection-manager.md)  
  
-   [<span data-ttu-id="97b07-130">Vincoli di precedenza</span><span class="sxs-lookup"><span data-stu-id="97b07-130">Precedence Constraints</span></span>](../control-flow/precedence-constraints.md)  
  
-   [<span data-ttu-id="97b07-131">Attività Esegui pacchetto</span><span class="sxs-lookup"><span data-stu-id="97b07-131">Execute Package Task</span></span>](../control-flow/execute-package-task.md)  
  
-   [<span data-ttu-id="97b07-132">Contenitore Sequenza</span><span class="sxs-lookup"><span data-stu-id="97b07-132">Sequence Container</span></span>](../control-flow/sequence-container.md)  
  
 <span data-ttu-id="97b07-133">Per visualizzare un video che illustra come implementare una trasformazione Ricerca in modalità Full Cache usando la gestione connessione della cache, vedere [How to: Implement a Lookup Transformation in Full Cache Mode (SQL Server Video)](https://go.microsoft.com/fwlink/?LinkId=131031)(Procedura: Implementare una trasformazione Ricerca nella modalità Full Cache).</span><span class="sxs-lookup"><span data-stu-id="97b07-133">For a video that demonstrates how to implement a Lookup transformation in Full Cache mode using the Cache connection manager, see [How to: Implement a Lookup Transformation in Full Cache Mode (SQL Server Video)](https://go.microsoft.com/fwlink/?LinkId=131031).</span></span>  
  
### <a name="to-implement-a-lookup-transformation-in-full-cache-mode-in-one-package-by-using-cache-connection-manager-and-a-data-source-in-the-data-flow"></a><span data-ttu-id="97b07-134">Per implementare una trasformazione Ricerca nella modalità Full Cache in un pacchetto utilizzando la gestione connessione della cache e un'origine dati nel flusso di dati</span><span class="sxs-lookup"><span data-stu-id="97b07-134">To implement a Lookup transformation in full cache mode in one package by using Cache connection manager and a data source in the data flow</span></span>  
  
1.  <span data-ttu-id="97b07-135">In [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)]aprire un progetto [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] e quindi aprire un pacchetto.</span><span class="sxs-lookup"><span data-stu-id="97b07-135">In [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], open a [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] project, and then open a package.</span></span>  
  
2.  <span data-ttu-id="97b07-136">Nella scheda **Flusso di controllo** aggiungere due attività Flusso di dati e quindi connettere le attività usando un connettore verde:</span><span class="sxs-lookup"><span data-stu-id="97b07-136">On the **Control Flow** tab, add two Data Flow tasks, and then connect the tasks by using a green connector:</span></span>  
  
3.  <span data-ttu-id="97b07-137">Nel primo flusso di dati, aggiungere una trasformazione del tipo cache e quindi connettere la trasformazione a un'origine dati.</span><span class="sxs-lookup"><span data-stu-id="97b07-137">In the first data flow, add a Cache Transform transformation, and then connect the transformation to a data source.</span></span>  
  
     <span data-ttu-id="97b07-138">Configurare l'origine dati in base alle esigenze.</span><span class="sxs-lookup"><span data-stu-id="97b07-138">Configure the data source as needed.</span></span>  
  
4.  <span data-ttu-id="97b07-139">Fare doppio clic sulla Trasformazione cache e quindi in **Editor trasformazione cache**, nella pagina **Gestione connessione** fare clic su **Nuova** per creare una nuova gestione connessione della cache.</span><span class="sxs-lookup"><span data-stu-id="97b07-139">Double-click the Cache Transform, and then in the **Cache Transformation Editor**, on the **Connection Manager** page, click **New** to create a new Cache connection manager.</span></span>  
  
5.  <span data-ttu-id="97b07-140">Fare clic sulla scheda **Colonne** della finestra di dialogo **Editor gestione connessione cache** e quindi specificare le colonne di indice usando l'opzione **Posizione dell'indice** .</span><span class="sxs-lookup"><span data-stu-id="97b07-140">Click the **Columns** tab of the **Cache Connection Manager Editor** dialog box, and then specify which columns are the index columns by using the **Index Position** option.</span></span>  
  
     <span data-ttu-id="97b07-141">Per le colonne non dell'indice, la posizione è 0.</span><span class="sxs-lookup"><span data-stu-id="97b07-141">For non-index columns, the index position is 0.</span></span> <span data-ttu-id="97b07-142">Per le colonne di indice, la posizione di indice è un numero sequenziale e positivo.</span><span class="sxs-lookup"><span data-stu-id="97b07-142">For index columns, the index position is a sequential, positive number.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="97b07-143">Quando la trasformazione Ricerca viene configurata per utilizzare una Gestione connessione cache, è possibile eseguire il mapping solo delle colonne di indice nel set di dati di riferimento alle colonne di input.</span><span class="sxs-lookup"><span data-stu-id="97b07-143">When the Lookup transformation is configured to use a Cache connection manager, only index columns in the reference dataset can be mapped to input columns.</span></span> <span data-ttu-id="97b07-144">Inoltre, è necessario eseguire il mapping di tutte le colonne di indice.</span><span class="sxs-lookup"><span data-stu-id="97b07-144">Also, all index columns must be mapped.</span></span> <span data-ttu-id="97b07-145">Per altre informazioni, vedere [Editor gestione connessione cache](../cache-connection-manager-editor.md).</span><span class="sxs-lookup"><span data-stu-id="97b07-145">For more information, see [Cache Connection Manager Editor](../cache-connection-manager-editor.md).</span></span>  
  
6.  <span data-ttu-id="97b07-146">Per salvare la cache in un file, in **Editor gestione connessione della cache**, nella scheda **Generale** configurare la Gestione connessione cache impostando le opzioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="97b07-146">To save the cache to a file, in the **Cache Connection Manager Editor**, on the **General** tab, configure the Cache connection manager by setting the following options:</span></span>  
  
    -   <span data-ttu-id="97b07-147">Selezionare **Usa cache dei file**.</span><span class="sxs-lookup"><span data-stu-id="97b07-147">Select **Use file cache**.</span></span>  
  
    -   <span data-ttu-id="97b07-148">In **Nome file**digitare il percorso del file o fare clic su **Sfoglia** per selezionare il file.</span><span class="sxs-lookup"><span data-stu-id="97b07-148">For **File name**, either type the file path or click **Browse** to select the file.</span></span>  
  
         <span data-ttu-id="97b07-149">Se viene digitato un percorso di file che non esiste, il sistema crea il file quando viene eseguito il pacchetto.</span><span class="sxs-lookup"><span data-stu-id="97b07-149">If you type a path for a file that does not exist, the system creates the file when you run the package.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="97b07-150">Il livello di protezione del pacchetto non si applica al file di cache.</span><span class="sxs-lookup"><span data-stu-id="97b07-150">The protection level of the package does not apply to the cache file.</span></span> <span data-ttu-id="97b07-151">Se il file di cache contiene informazioni riservate, utilizzare un elenco di controllo di accesso (ACL) per limitare l'accesso al percorso o alla cartella nella quale verrà archiviato il file.</span><span class="sxs-lookup"><span data-stu-id="97b07-151">If the cache file contains sensitive information, use an access control list (ACL) to restrict access to the location or folder in which you store the file.</span></span> <span data-ttu-id="97b07-152">È consigliabile consentire l'accesso solo a determinati account.</span><span class="sxs-lookup"><span data-stu-id="97b07-152">You should enable access only to certain accounts.</span></span> <span data-ttu-id="97b07-153">Per altre informazioni, vedere [Accesso ai file utilizzati dai pacchetti](../access-to-files-used-by-packages.md).</span><span class="sxs-lookup"><span data-stu-id="97b07-153">For more information, see [Access to Files Used by Packages](../access-to-files-used-by-packages.md).</span></span>  
  
7.  <span data-ttu-id="97b07-154">Configurare la Trasformazione Cache in base alle esigenze.</span><span class="sxs-lookup"><span data-stu-id="97b07-154">Configure the Cache Transform as needed.</span></span> <span data-ttu-id="97b07-155">Per altre informazioni, vedere [Editor trasformazione cache &#40;pagina Gestione connessioni&#41;](../cache-transformation-editor-connection-manager-page.md) e [Editor trasformazione cache &#40;pagina Mapping&#41;](../cache-transformation-editor-mappings-page.md).</span><span class="sxs-lookup"><span data-stu-id="97b07-155">For more information, see [Cache Transformation Editor &#40;Connection Manager Page&#41;](../cache-transformation-editor-connection-manager-page.md) and [Cache Transformation Editor &#40;Mappings Page&#41;](../cache-transformation-editor-mappings-page.md).</span></span>  
  
8.  <span data-ttu-id="97b07-156">Nel secondo flusso di dati, aggiungere una trasformazione Ricerca e quindi configurare la trasformazione attenendosi alla seguente procedura:</span><span class="sxs-lookup"><span data-stu-id="97b07-156">In the second data flow, add a Lookup transformation, and then configure the transformation by doing the following tasks:</span></span>  
  
    1.  <span data-ttu-id="97b07-157">Connettere la trasformazione Ricerca al flusso di dati trascinando un connettore da un'origine o una trasformazione precedente alla trasformazione Ricerca.</span><span class="sxs-lookup"><span data-stu-id="97b07-157">Connect the Lookup transformation to the data flow by dragging a connector from a source or a previous transformation to the Lookup transformation.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="97b07-158">Una trasformazione Ricerca può non essere convalidata se si connette a un file flat che contiene un campo di tipo data vuoto.</span><span class="sxs-lookup"><span data-stu-id="97b07-158">A Lookup transformation might not validate if that transformation connects to a flat file that contains an empty date field.</span></span> <span data-ttu-id="97b07-159">La convalida della trasformazione varia a seconda che per la gestione connessione relativa al file flat sia configurato o meno il mantenimento dei valori Null.</span><span class="sxs-lookup"><span data-stu-id="97b07-159">Whether the transformation validates depends on whether the connection manager for the flat file has been configured to retain null values.</span></span> <span data-ttu-id="97b07-160">Per assicurarsi che la Trasformazione Ricerca venga convalidata, in **Editor origine file flat**nella **pagina Gestione connessione**selezionare l'opzione **Mantieni i valori Null dell'origine come valori Null nel flusso di dati** .</span><span class="sxs-lookup"><span data-stu-id="97b07-160">To ensure that the Lookup transformation validates, in the **Flat File Source Editor**, on the **Connection Manager Page**, select the **Retain null values from the source as null values in the data flow** option.</span></span>  
  
    2.  <span data-ttu-id="97b07-161">Fare doppio clic sulla trasformazione di origine o precedente per configurare il componente.</span><span class="sxs-lookup"><span data-stu-id="97b07-161">Double-click the source or previous transformation to configure the component.</span></span>  
  
    3.  <span data-ttu-id="97b07-162">Fare doppio clic su Trasformazione Ricerca, quindi nella pagina **Generale**di **Editor trasformazione Ricerca** selezionare **Full cache**.</span><span class="sxs-lookup"><span data-stu-id="97b07-162">Double-click the Lookup transformation, and then in the **Lookup Transformation Editor**, on the **General** page, select **Full cache**.</span></span>  
  
    4.  <span data-ttu-id="97b07-163">Nell'area **Tipo di connessione** selezionare **Gestione connessione cache**.</span><span class="sxs-lookup"><span data-stu-id="97b07-163">In the **Connection type** area, select **Cache connection manager**.</span></span>  
  
    5.  <span data-ttu-id="97b07-164">Nell'elenco **Specifica come gestire le righe senza voci corrispondenti** selezionare un'opzione di gestione degli errori.</span><span class="sxs-lookup"><span data-stu-id="97b07-164">From the **Specify how to handle rows with no matching entries** list, select an error handling option.</span></span>  
  
    6.  <span data-ttu-id="97b07-165">Nella pagina **Connessione** selezionare una gestione connessione cache nell'elenco **Gestione connessione cache** .</span><span class="sxs-lookup"><span data-stu-id="97b07-165">On the **Connection** page, from the **Cache connection manager** list, select a Cache connection manager.</span></span>  
  
    7.  <span data-ttu-id="97b07-166">Fare clic sulla pagina **Colonne** e trascinare almeno una colonna dall'elenco **Colonne di input disponibili** a una colonna dell'elenco **Colonne di ricerca disponibili** .</span><span class="sxs-lookup"><span data-stu-id="97b07-166">Click the **Columns** page, and then drag at least one column from the **Available Input Columns** list to a column in the **Available Lookup Column** list.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="97b07-167">La trasformazione Ricerca esegue automaticamente il mapping delle colonne con lo stesso nome e lo stesso tipo di dati.</span><span class="sxs-lookup"><span data-stu-id="97b07-167">The Lookup transformation automatically maps columns that have the same name and the same data type.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="97b07-168">È possibile eseguire il mapping solo di colonne con tipi di dati corrispondenti.</span><span class="sxs-lookup"><span data-stu-id="97b07-168">Columns must have matching data types to be mapped.</span></span> <span data-ttu-id="97b07-169">Per altre informazioni, vedere [Tipi di dati di Integration Services](../data-flow/integration-services-data-types.md).</span><span class="sxs-lookup"><span data-stu-id="97b07-169">For more information, see [Integration Services Data Types](../data-flow/integration-services-data-types.md).</span></span>  
  
    8.  <span data-ttu-id="97b07-170">Selezionare le colonne nell'elenco **Colonne di ricerca disponibili** .</span><span class="sxs-lookup"><span data-stu-id="97b07-170">In the **Available Lookup Columns** list, select columns.</span></span> <span data-ttu-id="97b07-171">Nell'elenco **Operazione di ricerca** specificare se i valori dalle colonne di ricerca sostituiscono quelli nella colonna di input o vengono scritti in una nuova colonna.</span><span class="sxs-lookup"><span data-stu-id="97b07-171">Then in the **Lookup Operation** list, specify whether the values from the lookup columns replace values in the input column or are written to a new column.</span></span>  
  
    9. <span data-ttu-id="97b07-172">Per configurare l'output degli errori, fare clic sulla pagina **Output errori** e impostare le opzioni di gestione degli errori.</span><span class="sxs-lookup"><span data-stu-id="97b07-172">To configure the error output, click the **Error Output** page and set the error handling options.</span></span> <span data-ttu-id="97b07-173">Per altre informazioni, vedere [Editor trasformazione Ricerca &#40;pagina Output degli errori&#41;](../lookup-transformation-editor-error-output-page.md).</span><span class="sxs-lookup"><span data-stu-id="97b07-173">For more information, see [Lookup Transformation Editor &#40;Error Output Page&#41;](../lookup-transformation-editor-error-output-page.md).</span></span>  
  
    10. <span data-ttu-id="97b07-174">Fare clic su **OK** per salvare le modifiche nella trasformazione Ricerca.</span><span class="sxs-lookup"><span data-stu-id="97b07-174">Click **OK** to save your changes to the Lookup transformation.</span></span>  
  
9. <span data-ttu-id="97b07-175">Eseguire il pacchetto.</span><span class="sxs-lookup"><span data-stu-id="97b07-175">Run the package.</span></span>  
  
### <a name="to-implement-a-lookup-transformation-in-full-cache-mode-in-two-packages-by-using-cache-connection-manager-and-a-data-source-in-the-data-flow"></a><span data-ttu-id="97b07-176">Per implementare una trasformazione Ricerca in modalità Full Cache in due pacchetti utilizzando Gestione connessione cache e un'origine dati nel flusso di dati</span><span class="sxs-lookup"><span data-stu-id="97b07-176">To implement a Lookup transformation in full cache mode in two packages by using Cache connection manager and a data source in the data flow</span></span>  
  
1.  <span data-ttu-id="97b07-177">In [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], aprire un progetto [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] e quindi aprire i due pacchetti.</span><span class="sxs-lookup"><span data-stu-id="97b07-177">In [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], open a [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] project, and then open two packages.</span></span>  
  
2.  <span data-ttu-id="97b07-178">Nella scheda Flusso di controllo presente in ogni pacchetto, aggiungere un'attività Flusso di dati.</span><span class="sxs-lookup"><span data-stu-id="97b07-178">On the Control Flow tab in each package, add a Data Flow task.</span></span>  
  
3.  <span data-ttu-id="97b07-179">Nel pacchetto padre, aggiungere una trasformazione di tipo cache al flusso di dati e quindi connettere la trasformazione a un'origine dati.</span><span class="sxs-lookup"><span data-stu-id="97b07-179">In the parent package, add a Cache Transform transformation to the data flow, and then connect the transformation to a data source.</span></span>  
  
     <span data-ttu-id="97b07-180">Configurare l'origine dati in base alle esigenze.</span><span class="sxs-lookup"><span data-stu-id="97b07-180">Configure the data source as needed.</span></span>  
  
4.  <span data-ttu-id="97b07-181">Fare doppio clic sulla Trasformazione cache e quindi in **Editor trasformazione cache**, nella pagina **Gestione connessione** fare clic su **Nuova** per creare una nuova gestione connessione della cache.</span><span class="sxs-lookup"><span data-stu-id="97b07-181">Double-click the Cache Transform, and then in the **Cache Transformation Editor**, on the **Connection Manager** page, click **New** to create a new Cache connection manager.</span></span>  
  
5.  <span data-ttu-id="97b07-182">In **Editor gestione connessione della cache**, nella scheda **Generale** configurare la Gestione connessione cache impostando le opzioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="97b07-182">In the **Cache Connection Manager Editor**, on the **General** tab, configure the Cache connection manager by setting the following options:</span></span>  
  
    -   <span data-ttu-id="97b07-183">Selezionare **Usa cache dei file**.</span><span class="sxs-lookup"><span data-stu-id="97b07-183">Select **Use file cache**.</span></span>  
  
    -   <span data-ttu-id="97b07-184">In **Nome file**digitare il percorso del file o fare clic su **Sfoglia** per selezionare il file.</span><span class="sxs-lookup"><span data-stu-id="97b07-184">For **File name**, either type the file path or click **Browse** to select the file.</span></span>  
  
         <span data-ttu-id="97b07-185">Se viene digitato un percorso di file che non esiste, il sistema crea il file quando viene eseguito il pacchetto.</span><span class="sxs-lookup"><span data-stu-id="97b07-185">If you type a path for a file that does not exist, the system creates the file when you run the package.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="97b07-186">Il livello di protezione del pacchetto non si applica al file di cache.</span><span class="sxs-lookup"><span data-stu-id="97b07-186">The protection level of the package does not apply to the cache file.</span></span> <span data-ttu-id="97b07-187">Se il file di cache contiene informazioni riservate, utilizzare un elenco di controllo di accesso (ACL) per limitare l'accesso al percorso o alla cartella nella quale verrà archiviato il file.</span><span class="sxs-lookup"><span data-stu-id="97b07-187">If the cache file contains sensitive information, use an access control list (ACL) to restrict access to the location or folder in which you store the file.</span></span> <span data-ttu-id="97b07-188">È consigliabile consentire l'accesso solo a determinati account.</span><span class="sxs-lookup"><span data-stu-id="97b07-188">You should enable access only to certain accounts.</span></span> <span data-ttu-id="97b07-189">Per altre informazioni, vedere [Accesso ai file utilizzati dai pacchetti](../access-to-files-used-by-packages.md).</span><span class="sxs-lookup"><span data-stu-id="97b07-189">For more information, see [Access to Files Used by Packages](../access-to-files-used-by-packages.md).</span></span>  
  
6.  <span data-ttu-id="97b07-190">Fare clic sulla scheda **Colonne** e quindi specificare quali colonne sono le colonne di indice usando l'opzione **Posizione dell'indice** .</span><span class="sxs-lookup"><span data-stu-id="97b07-190">Click the **Columns** tab, and then specify which columns are the index columns by using the **Index Position** option.</span></span>  
  
     <span data-ttu-id="97b07-191">Per le colonne non dell'indice, la posizione è 0.</span><span class="sxs-lookup"><span data-stu-id="97b07-191">For non-index columns, the index position is 0.</span></span> <span data-ttu-id="97b07-192">Per le colonne di indice, la posizione di indice è un numero sequenziale e positivo.</span><span class="sxs-lookup"><span data-stu-id="97b07-192">For index columns, the index position is a sequential, positive number.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="97b07-193">Quando la trasformazione Ricerca viene configurata per utilizzare una Gestione connessione cache, è possibile eseguire il mapping solo delle colonne di indice nel set di dati di riferimento alle colonne di input.</span><span class="sxs-lookup"><span data-stu-id="97b07-193">When the Lookup transformation is configured to use a Cache connection manager, only index columns in the reference dataset can be mapped to input columns.</span></span> <span data-ttu-id="97b07-194">Inoltre, è necessario eseguire il mapping di tutte le colonne di indice.</span><span class="sxs-lookup"><span data-stu-id="97b07-194">Also, all index columns must be mapped.</span></span> <span data-ttu-id="97b07-195">Per altre informazioni, vedere [Editor gestione connessione cache](../cache-connection-manager-editor.md).</span><span class="sxs-lookup"><span data-stu-id="97b07-195">For more information, see [Cache Connection Manager Editor](../cache-connection-manager-editor.md).</span></span>  
  
7.  <span data-ttu-id="97b07-196">Configurare la Trasformazione Cache in base alle esigenze.</span><span class="sxs-lookup"><span data-stu-id="97b07-196">Configure the Cache Transform as needed.</span></span> <span data-ttu-id="97b07-197">Per altre informazioni, vedere [Editor trasformazione cache &#40;pagina Gestione connessioni&#41;](../cache-transformation-editor-connection-manager-page.md) e [Editor trasformazione cache &#40;pagina Mapping&#41;](../cache-transformation-editor-mappings-page.md).</span><span class="sxs-lookup"><span data-stu-id="97b07-197">For more information, see [Cache Transformation Editor &#40;Connection Manager Page&#41;](../cache-transformation-editor-connection-manager-page.md) and [Cache Transformation Editor &#40;Mappings Page&#41;](../cache-transformation-editor-mappings-page.md).</span></span>  
  
8.  <span data-ttu-id="97b07-198">Eseguire una delle seguenti operazioni per popolare la Gestione connessione cache utilizzata nel secondo pacchetto:</span><span class="sxs-lookup"><span data-stu-id="97b07-198">Do one of the following to populate the Cache connection manager that is used in the second package:</span></span>  
  
    -   <span data-ttu-id="97b07-199">Eseguire il pacchetto padre.</span><span class="sxs-lookup"><span data-stu-id="97b07-199">Run the parent package.</span></span>  
  
    -   <span data-ttu-id="97b07-200">Fare doppio clic sulla Gestione connessione cache creata nel passaggio 4, fare clic su **Colonne**, selezionare le righe e quindi premere CTRL+C per copiare i metadati della colonna.</span><span class="sxs-lookup"><span data-stu-id="97b07-200">Double-click the Cache connection manager you created in step 4, click **Columns**, select the rows, and then press CTRL+C to copy the column metadata.</span></span>  
  
9. <span data-ttu-id="97b07-201">Nel pacchetto figlio creare una Gestione connessione cache: fare clic con il pulsante destro del mouse nell'area **Gestioni connessioni** e scegliere **Nuova connessione**, selezionare **CACHE** nella finestra di dialogo **Aggiungi gestione connessione SSIS** e quindi fare clic su **Aggiungi**.</span><span class="sxs-lookup"><span data-stu-id="97b07-201">In the child package, create a Cache connection manager by right-clicking in the **Connection Managers** area, clicking **New Connection**, selecting **CACHE** in the **Add SSIS Connection Manager** dialog box, and then clicking **Add**.</span></span>  
  
     <span data-ttu-id="97b07-202">L'area **Gestioni connessioni** viene visualizzata nella parte inferiore delle schede **Flusso di controllo**, **Flusso di dati**e **Gestori eventi** di Progettazione [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="97b07-202">The **Connection Managers** area appears on the bottom of the **Control Flow**, **Data Flow**, and **Event Handlers** tabs of [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] Designer.</span></span>  
  
10. <span data-ttu-id="97b07-203">In **Editor gestione connessione della cache**, nella scheda **Generale** configurare la Gestione connessione cache per leggere i dati dal file di cache selezionato impostando le seguenti opzioni:</span><span class="sxs-lookup"><span data-stu-id="97b07-203">In the **Cache Connection Manager Editor**, on the **General** tab, configure the Cache connection manager to read the data from the cache file that you selected by setting the following options:</span></span>  
  
    -   <span data-ttu-id="97b07-204">Selezionare **Usa cache dei file**.</span><span class="sxs-lookup"><span data-stu-id="97b07-204">Select **Use file cache**.</span></span>  
  
    -   <span data-ttu-id="97b07-205">In **Nome file**digitare il percorso del file o fare clic su **Sfoglia** per selezionare il file.</span><span class="sxs-lookup"><span data-stu-id="97b07-205">For **File name**, either type the file path or click **Browse** to select the file.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="97b07-206">Il livello di protezione del pacchetto non si applica al file di cache.</span><span class="sxs-lookup"><span data-stu-id="97b07-206">The protection level of the package does not apply to the cache file.</span></span> <span data-ttu-id="97b07-207">Se il file di cache contiene informazioni riservate, utilizzare un elenco di controllo di accesso (ACL) per limitare l'accesso al percorso o alla cartella nella quale verrà archiviato il file.</span><span class="sxs-lookup"><span data-stu-id="97b07-207">If the cache file contains sensitive information, use an access control list (ACL) to restrict access to the location or folder in which you store the file.</span></span> <span data-ttu-id="97b07-208">È consigliabile consentire l'accesso solo a determinati account.</span><span class="sxs-lookup"><span data-stu-id="97b07-208">You should enable access only to certain accounts.</span></span> <span data-ttu-id="97b07-209">Per altre informazioni, vedere [Accesso ai file utilizzati dai pacchetti](../access-to-files-used-by-packages.md).</span><span class="sxs-lookup"><span data-stu-id="97b07-209">For more information, see [Access to Files Used by Packages](../access-to-files-used-by-packages.md).</span></span>  
  
11. <span data-ttu-id="97b07-210">Se i metadati della colonna sono stati copiati nel passaggio 8, fare clic su **Colonne**, selezionare la riga vuota e quindi premere CTRL+V per incollare i metadati della colonna.</span><span class="sxs-lookup"><span data-stu-id="97b07-210">If you copied the column metadata in step 8, click **Columns**, select the empty row, and then press CTRL+V to paste the column metadata.</span></span>  
  
12. <span data-ttu-id="97b07-211">Aggiungere una trasformazione Ricerca e quindi configurare la trasformazione attenendosi alla seguente procedura:</span><span class="sxs-lookup"><span data-stu-id="97b07-211">Add a Lookup transformation, and then configure the transformation by doing the following:</span></span>  
  
    1.  <span data-ttu-id="97b07-212">Connettere la trasformazione Ricerca al flusso di dati trascinando un connettore da un'origine o una trasformazione precedente alla trasformazione Ricerca.</span><span class="sxs-lookup"><span data-stu-id="97b07-212">Connect the Lookup transformation to the data flow by dragging a connector from a source or a previous transformation to the Lookup transformation.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="97b07-213">Una trasformazione Ricerca può non essere convalidata se si connette a un file flat che contiene un campo di tipo data vuoto.</span><span class="sxs-lookup"><span data-stu-id="97b07-213">A Lookup transformation might not validate if that transformation connects to a flat file that contains an empty date field.</span></span> <span data-ttu-id="97b07-214">La convalida della trasformazione varia a seconda che per la gestione connessione relativa al file flat sia configurato o meno il mantenimento dei valori Null.</span><span class="sxs-lookup"><span data-stu-id="97b07-214">Whether the transformation validates depends on whether the connection manager for the flat file has been configured to retain null values.</span></span> <span data-ttu-id="97b07-215">Per assicurarsi che la Trasformazione Ricerca venga convalidata, in **Editor origine file flat**nella **pagina Gestione connessione**selezionare l'opzione **Mantieni i valori Null dell'origine come valori Null nel flusso di dati** .</span><span class="sxs-lookup"><span data-stu-id="97b07-215">To ensure that the Lookup transformation validates, in the **Flat File Source Editor**, on the **Connection Manager Page**, select the **Retain null values from the source as null values in the data flow** option.</span></span>  
  
    2.  <span data-ttu-id="97b07-216">Fare doppio clic sulla trasformazione di origine o precedente per configurare il componente.</span><span class="sxs-lookup"><span data-stu-id="97b07-216">Double-click the source or previous transformation to configure the component.</span></span>  
  
    3.  <span data-ttu-id="97b07-217">Fare doppio clic sulla trasformazione Ricerca e quindi selezionare **Full Cache** nella scheda **Generale** di **Editor trasformazione ricerca**.</span><span class="sxs-lookup"><span data-stu-id="97b07-217">Double-click the Lookup transformation, and then select **Full cache** on the **General** page of the **Lookup Transformation Editor**.</span></span>  
  
    4.  <span data-ttu-id="97b07-218">Selezionare **Gestione connessione cache** nell'area **Tipo di connessione** .</span><span class="sxs-lookup"><span data-stu-id="97b07-218">Select **Cache connection manager** in the **Connection type** area.</span></span>  
  
    5.  <span data-ttu-id="97b07-219">Selezionare un'opzione di gestione degli errori per le righe senza voci corrispondenti nell'elenco **Specificare come gestire le righe senza voci corrispondenti** .</span><span class="sxs-lookup"><span data-stu-id="97b07-219">Select an error handling option for rows without matching entries from the **Specify how to handle rows with no matching entries** list.</span></span>  
  
    6.  <span data-ttu-id="97b07-220">Nella pagina **Connessione** selezionare la gestione connessione cache aggiunta nell'elenco **Gestione connessione cache** .</span><span class="sxs-lookup"><span data-stu-id="97b07-220">On the **Connection** page, from the **Cache connection manager** list, select the Cache connection manager that you added.</span></span>  
  
    7.  <span data-ttu-id="97b07-221">Fare clic sulla pagina **Colonne** e trascinare almeno una colonna dall'elenco **Colonne di input disponibili** a una colonna dell'elenco **Colonne di ricerca disponibili** .</span><span class="sxs-lookup"><span data-stu-id="97b07-221">Click the **Columns** page, and then drag at least one column from the **Available Input Columns** list to a column in the **Available Lookup Column** list.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="97b07-222">La trasformazione Ricerca esegue automaticamente il mapping delle colonne con lo stesso nome e lo stesso tipo di dati.</span><span class="sxs-lookup"><span data-stu-id="97b07-222">The Lookup transformation automatically maps columns that have the same name and the same data type.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="97b07-223">È possibile eseguire il mapping solo di colonne con tipi di dati corrispondenti.</span><span class="sxs-lookup"><span data-stu-id="97b07-223">Columns must have matching data types to be mapped.</span></span> <span data-ttu-id="97b07-224">Per altre informazioni, vedere [Tipi di dati di Integration Services](../data-flow/integration-services-data-types.md).</span><span class="sxs-lookup"><span data-stu-id="97b07-224">For more information, see [Integration Services Data Types](../data-flow/integration-services-data-types.md).</span></span>  
  
    8.  <span data-ttu-id="97b07-225">Selezionare le colonne nell'elenco **Colonne di ricerca disponibili** .</span><span class="sxs-lookup"><span data-stu-id="97b07-225">In the **Available Lookup Columns** list, select columns.</span></span> <span data-ttu-id="97b07-226">Nell'elenco **Operazione di ricerca** specificare se i valori dalle colonne di ricerca sostituiscono quelli nella colonna di input o vengono scritti in una nuova colonna.</span><span class="sxs-lookup"><span data-stu-id="97b07-226">Then in the **Lookup Operation** list, specify whether the values from the lookup columns replace values in the input column or are written to a new column.</span></span>  
  
    9. <span data-ttu-id="97b07-227">Per configurare l'output degli errori, fare clic sulla pagina **Output errori** e impostare le opzioni di gestione degli errori.</span><span class="sxs-lookup"><span data-stu-id="97b07-227">To configure the error output, click the **Error Output** page and set the error handling options.</span></span> <span data-ttu-id="97b07-228">Per altre informazioni, vedere [Editor trasformazione Ricerca &#40;pagina Output degli errori&#41;](../lookup-transformation-editor-error-output-page.md).</span><span class="sxs-lookup"><span data-stu-id="97b07-228">For more information, see [Lookup Transformation Editor &#40;Error Output Page&#41;](../lookup-transformation-editor-error-output-page.md).</span></span>  
  
    10. <span data-ttu-id="97b07-229">Fare clic su **OK** per salvare le modifiche nella trasformazione Ricerca.</span><span class="sxs-lookup"><span data-stu-id="97b07-229">Click **OK** to save your changes to the Lookup transformation.</span></span>  
  
13. <span data-ttu-id="97b07-230">Aprire il pacchetto padre, aggiungere un'attività Esegui pacchetto al flusso di controllo e quindi configurare l'attività per chiamare il pacchetto figlio.</span><span class="sxs-lookup"><span data-stu-id="97b07-230">Open the parent package, add an Execute Package task to the control flow, and then configure the task to call the child package.</span></span> <span data-ttu-id="97b07-231">Per altre informazioni, vedere [Attività Esegui pacchetto](../control-flow/execute-package-task.md).</span><span class="sxs-lookup"><span data-stu-id="97b07-231">For more information, see [Execute Package Task](../control-flow/execute-package-task.md).</span></span>  
  
14. <span data-ttu-id="97b07-232">Eseguire i pacchetti.</span><span class="sxs-lookup"><span data-stu-id="97b07-232">Run the packages.</span></span>  
  
### <a name="to-implement-a-lookup-transformation-in-full-cache-mode-by-using-cache-connection-manager-and-an-existing-cache-file"></a><span data-ttu-id="97b07-233">Per implementare una trasformazione Ricerca nella modalità Full Cache utilizzando la Gestione connessione cache e un file di cache esistente</span><span class="sxs-lookup"><span data-stu-id="97b07-233">To implement a Lookup transformation in full cache mode by using Cache connection manager and an existing cache file</span></span>  
  
1.  <span data-ttu-id="97b07-234">In [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)]aprire un progetto [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] e quindi aprire un pacchetto.</span><span class="sxs-lookup"><span data-stu-id="97b07-234">In [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], open a [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] project, and then open a package.</span></span>  
  
2.  <span data-ttu-id="97b07-235">Fare clic con il pulsante destro del mouse in un punto qualsiasi dell'area **Gestioni connessioni** e quindi fare clic su **Nuova connessione**.</span><span class="sxs-lookup"><span data-stu-id="97b07-235">Right-click in the **Connection Managers** area, and then click **New Connection**.</span></span>  
  
     <span data-ttu-id="97b07-236">L'area **Gestioni connessioni** viene visualizzata nella parte inferiore delle schede **Flusso di controllo**, **Flusso di dati**e **Gestori eventi** di Progettazione [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="97b07-236">The **Connection Managers** area appears on the bottom of the **Control Flow**, **Data Flow**, and **Event Handlers** tabs of [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] Designer.</span></span>  
  
3.  <span data-ttu-id="97b07-237">Nella finestra di dialogo **Aggiungi gestione connessione SSIS** selezionare **CACHE**e quindi fare clic su **Aggiungi** per aggiungere una Gestione connessione cache.</span><span class="sxs-lookup"><span data-stu-id="97b07-237">In the **Add SSIS Connection Manager** dialog box, select **CACHE**, and then click **Add** to add a Cache connection manager.</span></span>  
  
4.  <span data-ttu-id="97b07-238">Fare doppio clic su Gestione connessione cache per aprire **Editor gestione connessione cache**.</span><span class="sxs-lookup"><span data-stu-id="97b07-238">Double-click the Cache connection manager to open the **Cache Connection Manager Editor**.</span></span>  
  
5.  <span data-ttu-id="97b07-239">In **Editor gestione connessione della cache**, nella scheda **Generale** configurare la Gestione connessione cache impostando le opzioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="97b07-239">In the **Cache Connection Manager Editor**, on the **General** tab, configure the Cache connection manager by setting the following options:</span></span>  
  
    -   <span data-ttu-id="97b07-240">Selezionare **Usa cache dei file**.</span><span class="sxs-lookup"><span data-stu-id="97b07-240">Select **Use file cache**.</span></span>  
  
    -   <span data-ttu-id="97b07-241">In **Nome file**digitare il percorso del file o fare clic su **Sfoglia** per selezionare il file.</span><span class="sxs-lookup"><span data-stu-id="97b07-241">For **File name**, either type the file path or click **Browse** to select the file.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="97b07-242">Il livello di protezione del pacchetto non si applica al file di cache.</span><span class="sxs-lookup"><span data-stu-id="97b07-242">The protection level of the package does not apply to the cache file.</span></span> <span data-ttu-id="97b07-243">Se il file di cache contiene informazioni riservate, utilizzare un elenco di controllo di accesso (ACL) per limitare l'accesso al percorso o alla cartella nella quale verrà archiviato il file.</span><span class="sxs-lookup"><span data-stu-id="97b07-243">If the cache file contains sensitive information, use an access control list (ACL) to restrict access to the location or folder in which you store the file.</span></span> <span data-ttu-id="97b07-244">È consigliabile consentire l'accesso solo a determinati account.</span><span class="sxs-lookup"><span data-stu-id="97b07-244">You should enable access only to certain accounts.</span></span> <span data-ttu-id="97b07-245">Per altre informazioni, vedere [Accesso ai file utilizzati dai pacchetti](../access-to-files-used-by-packages.md).</span><span class="sxs-lookup"><span data-stu-id="97b07-245">For more information, see [Access to Files Used by Packages](../access-to-files-used-by-packages.md).</span></span>  
  
6.  <span data-ttu-id="97b07-246">Fare clic sulla scheda **Colonne** e quindi specificare quali colonne sono le colonne di indice usando l'opzione **Posizione dell'indice** .</span><span class="sxs-lookup"><span data-stu-id="97b07-246">Click the **Columns** tab, and then specify which columns are the index columns by using the **Index Position** option.</span></span>  
  
     <span data-ttu-id="97b07-247">Per le colonne non dell'indice, la posizione è 0.</span><span class="sxs-lookup"><span data-stu-id="97b07-247">For non-index columns, the index position is 0.</span></span> <span data-ttu-id="97b07-248">Per le colonne di indice, la posizione di indice è un numero sequenziale e positivo.</span><span class="sxs-lookup"><span data-stu-id="97b07-248">For index columns, the index position is a sequential, positive number.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="97b07-249">Quando la trasformazione Ricerca viene configurata per utilizzare una Gestione connessione cache, è possibile eseguire il mapping solo delle colonne di indice nel set di dati di riferimento alle colonne di input.</span><span class="sxs-lookup"><span data-stu-id="97b07-249">When the Lookup transformation is configured to use a Cache connection manager, only index columns in the reference dataset can be mapped to input columns.</span></span> <span data-ttu-id="97b07-250">Inoltre, è necessario eseguire il mapping di tutte le colonne di indice.</span><span class="sxs-lookup"><span data-stu-id="97b07-250">Also, all index columns must be mapped.</span></span> <span data-ttu-id="97b07-251">Per altre informazioni, vedere [Editor gestione connessione cache](../cache-connection-manager-editor.md).</span><span class="sxs-lookup"><span data-stu-id="97b07-251">For more information, see [Cache Connection Manager Editor](../cache-connection-manager-editor.md).</span></span>  
  
7.  <span data-ttu-id="97b07-252">Nella scheda **Flusso di controllo** aggiungere un'attività Flusso di dati al pacchetto e quindi aggiungere una trasformazione Ricerca al flusso di dati.</span><span class="sxs-lookup"><span data-stu-id="97b07-252">On the **Control Flow** tab, add a Data Flow task to the package, and then add a Lookup transformation to the data flow.</span></span>  
  
8.  <span data-ttu-id="97b07-253">Configurare la trasformazione Ricerca attenendosi alla seguente procedura:</span><span class="sxs-lookup"><span data-stu-id="97b07-253">Configure the Lookup transformation by doing the following:</span></span>  
  
    1.  <span data-ttu-id="97b07-254">Connettere la trasformazione Ricerca al flusso di dati trascinando un connettore da un'origine o una trasformazione precedente alla trasformazione Ricerca.</span><span class="sxs-lookup"><span data-stu-id="97b07-254">Connect the Lookup transformation to the data flow by dragging a connector from a source or a previous transformation to the Lookup transformation.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="97b07-255">Una trasformazione Ricerca può non essere convalidata se si connette a un file flat che contiene un campo di tipo data vuoto.</span><span class="sxs-lookup"><span data-stu-id="97b07-255">A Lookup transformation might not validate if that transformation connects to a flat file that contains an empty date field.</span></span> <span data-ttu-id="97b07-256">La convalida della trasformazione varia a seconda che per la gestione connessione relativa al file flat sia configurato o meno il mantenimento dei valori Null.</span><span class="sxs-lookup"><span data-stu-id="97b07-256">Whether the transformation validates depends on whether the connection manager for the flat file has been configured to retain null values.</span></span> <span data-ttu-id="97b07-257">Per assicurarsi che la Trasformazione Ricerca venga convalidata, in **Editor origine file flat**nella **pagina Gestione connessione**selezionare l'opzione **Mantieni i valori Null dell'origine come valori Null nel flusso di dati** .</span><span class="sxs-lookup"><span data-stu-id="97b07-257">To ensure that the Lookup transformation validates, in the **Flat File Source Editor**, on the **Connection Manager Page**, select the **Retain null values from the source as null values in the data flow** option.</span></span>  
  
    2.  <span data-ttu-id="97b07-258">Fare doppio clic sulla trasformazione di origine o precedente per configurare il componente.</span><span class="sxs-lookup"><span data-stu-id="97b07-258">Double-click the source or previous transformation to configure the component.</span></span>  
  
    3.  <span data-ttu-id="97b07-259">Fare doppio clic su Trasformazione Ricerca, quindi nella pagina **Generale**di **Editor trasformazione Ricerca** selezionare **Full cache**.</span><span class="sxs-lookup"><span data-stu-id="97b07-259">Double-click the Lookup transformation, and then in the **Lookup Transformation Editor**, on the **General** page, select **Full cache**.</span></span>  
  
    4.  <span data-ttu-id="97b07-260">Selezionare **Gestione connessione cache** nell'area **Tipo di connessione** .</span><span class="sxs-lookup"><span data-stu-id="97b07-260">Select **Cache connection manager** in the **Connection type** area.</span></span>  
  
    5.  <span data-ttu-id="97b07-261">Selezionare un'opzione di gestione degli errori per le righe senza voci corrispondenti nell'elenco **Specificare come gestire le righe senza voci corrispondenti** .</span><span class="sxs-lookup"><span data-stu-id="97b07-261">Select an error handling option for rows without matching entries from the **Specify how to handle rows with no matching entries** list.</span></span>  
  
    6.  <span data-ttu-id="97b07-262">Nella pagina **Connessione** selezionare la gestione connessione cache aggiunta nell'elenco **Gestione connessione cache** .</span><span class="sxs-lookup"><span data-stu-id="97b07-262">On the **Connection** page, from the **Cache connection manager** list, select the Cache connection manager that you added.</span></span>  
  
    7.  <span data-ttu-id="97b07-263">Fare clic sulla pagina **Colonne** e trascinare almeno una colonna dall'elenco **Colonne di input disponibili** a una colonna dell'elenco **Colonne di ricerca disponibili** .</span><span class="sxs-lookup"><span data-stu-id="97b07-263">Click the **Columns** page, and then drag at least one column from the **Available Input Columns** list to a column in the **Available Lookup Column** list.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="97b07-264">La trasformazione Ricerca esegue automaticamente il mapping delle colonne con lo stesso nome e lo stesso tipo di dati.</span><span class="sxs-lookup"><span data-stu-id="97b07-264">The Lookup transformation automatically maps columns that have the same name and the same data type.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="97b07-265">È possibile eseguire il mapping solo di colonne con tipi di dati corrispondenti.</span><span class="sxs-lookup"><span data-stu-id="97b07-265">Columns must have matching data types to be mapped.</span></span> <span data-ttu-id="97b07-266">Per altre informazioni, vedere [Tipi di dati di Integration Services](../data-flow/integration-services-data-types.md).</span><span class="sxs-lookup"><span data-stu-id="97b07-266">For more information, see [Integration Services Data Types](../data-flow/integration-services-data-types.md).</span></span>  
  
    8.  <span data-ttu-id="97b07-267">Selezionare le colonne nell'elenco **Colonne di ricerca disponibili** .</span><span class="sxs-lookup"><span data-stu-id="97b07-267">In the **Available Lookup Columns** list, select columns.</span></span> <span data-ttu-id="97b07-268">Nell'elenco **Operazione di ricerca** specificare se i valori dalle colonne di ricerca sostituiscono quelli nella colonna di input o vengono scritti in una nuova colonna.</span><span class="sxs-lookup"><span data-stu-id="97b07-268">Then in the **Lookup Operation** list, specify whether the values from the lookup columns replace values in the input column or are written to a new column.</span></span>  
  
    9. <span data-ttu-id="97b07-269">Per configurare l'output degli errori, fare clic sulla pagina **Output errori** e impostare le opzioni di gestione degli errori.</span><span class="sxs-lookup"><span data-stu-id="97b07-269">To configure the error output, click the **Error Output** page and set the error handling options.</span></span> <span data-ttu-id="97b07-270">Per altre informazioni, vedere [Editor trasformazione Ricerca &#40;pagina Output degli errori&#41;](../lookup-transformation-editor-error-output-page.md).</span><span class="sxs-lookup"><span data-stu-id="97b07-270">For more information, see [Lookup Transformation Editor &#40;Error Output Page&#41;](../lookup-transformation-editor-error-output-page.md).</span></span>  
  
    10. <span data-ttu-id="97b07-271">Fare clic su **OK** per salvare le modifiche nella trasformazione Ricerca.</span><span class="sxs-lookup"><span data-stu-id="97b07-271">Click **OK** to save your changes to the Lookup transformation.</span></span>  
  
9. <span data-ttu-id="97b07-272">Eseguire il pacchetto.</span><span class="sxs-lookup"><span data-stu-id="97b07-272">Run the package.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="97b07-273">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="97b07-273">See Also</span></span>  
 <span data-ttu-id="97b07-274">[Implementare una trasformazione Ricerca in modalità Full Cache tramite la gestione connessione OLE DB](lookup-transformation-full-cache-mode-ole-db-connection-manager.md) </span><span class="sxs-lookup"><span data-stu-id="97b07-274">[Implement a Lookup Transformation in Full Cache Mode Using the OLE DB Connection Manager](lookup-transformation-full-cache-mode-ole-db-connection-manager.md) </span></span>  
 <span data-ttu-id="97b07-275">[Implementare una ricerca in modalità No Cache o Partial Cache](../data-flow/transformations/implement-a-lookup-in-no-cache-or-partial-cache-mode.md) </span><span class="sxs-lookup"><span data-stu-id="97b07-275">[Implement a Lookup in No Cache or Partial Cache Mode](../data-flow/transformations/implement-a-lookup-in-no-cache-or-partial-cache-mode.md) </span></span>  
 [<span data-ttu-id="97b07-276">Trasformazioni di Integration Services</span><span class="sxs-lookup"><span data-stu-id="97b07-276">Integration Services Transformations</span></span>](../data-flow/transformations/integration-services-transformations.md)  
  
  
