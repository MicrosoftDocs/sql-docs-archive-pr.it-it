---
title: Istanza di Oracle CDC | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
ms.assetid: ed71e8c4-e013-4bf2-8b6c-1e833ff2a41d
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 2228872b5a190fd416dccaa8062dd79dbc1f7a79
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87628937"
---
# <a name="the-oracle-cdc-instance"></a><span data-ttu-id="cf5c5-102">Istanza di Oracle CDC</span><span class="sxs-lookup"><span data-stu-id="cf5c5-102">The Oracle CDC Instance</span></span>
  <span data-ttu-id="cf5c5-103">L'istanza di Oracle CDC è un processo creato dal servizio Oracle CDC per elaborare le modifiche acquisite da un solo database di origine Oracle.</span><span class="sxs-lookup"><span data-stu-id="cf5c5-103">The Oracle CDC Instance is a process created by the Oracle CDC Service to process changes captured from a single Oracle source database.</span></span> <span data-ttu-id="cf5c5-104">Tramite l'istanza di Oracle CDC viene recuperata la configurazione dalla tabella **cdc.xdbcdc_config** e viene gestito lo stato nella tabella **cdc.xdbcdc_state** .</span><span class="sxs-lookup"><span data-stu-id="cf5c5-104">The Oracle CDC Instance retrieves its configuration from the **cdc.xdbcdc_config** table and maintains its state in the **cdc.xdbcdc_state** table.</span></span> <span data-ttu-id="cf5c5-105">Queste tabelle fanno parte del database CDC che definisce l'istanza di Oracle CDC.</span><span class="sxs-lookup"><span data-stu-id="cf5c5-105">These tables are part of the CDC database, which defines the Oracle CDC Instance.</span></span> <span data-ttu-id="cf5c5-106">Per ulteriori informazioni sul database e le tabelle xdbcdc, vedere [The CDC Databases](the-oracle-cdc-service.md).</span><span class="sxs-lookup"><span data-stu-id="cf5c5-106">For more information about the xdbcdc database and tables see [The CDC Databases](the-oracle-cdc-service.md).</span></span>  
  
 <span data-ttu-id="cf5c5-107">Di seguito vengono descritte le attività eseguite dall'istanza di Oracle CDC:</span><span class="sxs-lookup"><span data-stu-id="cf5c5-107">The following describes the tasks carried out by the Oracle CDC instance:</span></span>  
  
-   <span data-ttu-id="cf5c5-108">**Gestione della verifica dell'avvio del servizio**: all'avvio, tramite l'istanza di CDC viene caricata la configurazione dalla tabella **xdbcdc_config** e viene eseguita una serie di verifiche dello stato per controllare che lo stato persistente dell'istanza di CDC sia coerente e che sia possibile avviare l'elaborazione delle modifiche.</span><span class="sxs-lookup"><span data-stu-id="cf5c5-108">**Handling service startup verification**: When started, the CDC instance loads its configuration from the **xdbcdc_config** table and performs a series of status verifications that ensure that the CDC instance persisted state is consistent and that it can start processing changes.</span></span>  
  
-   <span data-ttu-id="cf5c5-109">**Preparazione per l'acquisizione delle modifiche**: al completamento della verifica, tramite l'istanza di Oracle CDC vengono analizzate tutte le istanze di acquisizione attualmente definite e vengono preparate le query Oracle LogMiner e altre strutture di supporto necessarie per l'acquisizione delle modifiche.</span><span class="sxs-lookup"><span data-stu-id="cf5c5-109">**Preparing for change capture**: When the verification passes successfully, the Oracle CDC Instance scans all of the capture instances currently defined and prepares the Oracle LogMiner queries and other support structures required for change capture.</span></span> <span data-ttu-id="cf5c5-110">Inoltre, viene ricaricato lo stato di acquisizione interno salvato all'ultima esecuzione dell'istanza di Oracle CDC.</span><span class="sxs-lookup"><span data-stu-id="cf5c5-110">In addition, the Oracle instance re-loads the internal capture state that was saved the last time the Oracle CDC Instance run.</span></span>  
  
-   <span data-ttu-id="cf5c5-111">**Acquisizione delle modifiche da Oracle**: tramite l'istanza di Oracle CDC le modifiche da Oracle vengono riunite in pool mediante la struttura Oracle LogMiner e ordinate in base al commit della transazione, viene modificata l'ora di una transazione, quindi le modifiche vengono scritte nelle tabelle delle modifiche di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] nel database CDC.</span><span class="sxs-lookup"><span data-stu-id="cf5c5-111">**Capturing changes from Oracle**: The Oracle CDC Instance pools changes from Oracle by means of the Oracle LogMiner facility, orders them in according to transaction commit, and then changes the time in a transaction and writes them to the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] change tables in the CDC database.</span></span>  
  
-   <span data-ttu-id="cf5c5-112">**Gestione dell'arresto del servizio**: il ciclo di vita dell'istanza di Oracle CDC viene gestito dal servizio Oracle CDC.</span><span class="sxs-lookup"><span data-stu-id="cf5c5-112">**Handling service shutdown**: The life cycle of the Oracle CDC Instance is managed by the Oracle CDC Service.</span></span> <span data-ttu-id="cf5c5-113">Quando è richiesto l'arresto dell'istanza di Oracle CDC, vengono effettuate le attività seguenti:</span><span class="sxs-lookup"><span data-stu-id="cf5c5-113">When the Oracle CDC Instance is requested to shut down, it performs the following tasks:</span></span>  
  
    -   <span data-ttu-id="cf5c5-114">Viene arrestata la lettura del log delle transazioni Oracle.</span><span class="sxs-lookup"><span data-stu-id="cf5c5-114">Stops reading from the Oracle transaction log.</span></span>  
  
    -   <span data-ttu-id="cf5c5-115">Viene arrestata la scrittura delle transazioni Oracle completate nel database CDC.</span><span class="sxs-lookup"><span data-stu-id="cf5c5-115">Stops writing completed Oracle transactions to the CDC database.</span></span>  
  
    -   <span data-ttu-id="cf5c5-116">Viene attesa la fine della scrittura della transazione corrente nel database CDC per un massimo di 30 secondi, se necessario.</span><span class="sxs-lookup"><span data-stu-id="cf5c5-116">Waits for up to 30 seconds (if necessary) until the current transaction finishes writing to the CDC database.</span></span> <span data-ttu-id="cf5c5-117">Se trascorrono più di 30 secondi, la scrittura viene annullata e viene eseguito il rollback della transazione (da tentare nuovamente al riavvio dell'istanza di CDC).</span><span class="sxs-lookup"><span data-stu-id="cf5c5-117">If more than 30 seconds pass, the writing is cancelled and transaction is rolled back (to be retried when the CDC instance is restarted).</span></span>  
  
    -   <span data-ttu-id="cf5c5-118">In un thread separato, viene scritto il numero più alto possibile di record memorizzati nella cache nella tabella delle transazioni gestite temporaneamente per un massimo di 30 secondi (dalla transazione meno recente alla più recente), quindi viene aggiornata la tabella **xdbcdc_state** e viene eseguito il commit di tutte le modifiche.</span><span class="sxs-lookup"><span data-stu-id="cf5c5-118">In a separate thread, writes as many memory-cached records as possible to the staged transactions table for up to 30 seconds (from the oldest transaction to the newest), then updates the **xdbcdc_state** table and commits all the changes.</span></span>  
  
-   <span data-ttu-id="cf5c5-119">**Gestione delle modifiche della configurazione**: viene inviata una notifica all'istanza di Oracle CDC relativamente alle modifiche della configurazione dal servizio CDC o mediante il rilevamento di una nuova versione nella tabella **cdc.xdbcdc_config** .</span><span class="sxs-lookup"><span data-stu-id="cf5c5-119">**Handling configuration changes**: The Oracle CDC Instance is notified about configuration changes either from the CDC Service or by detecting a new version in the **cdc.xdbcdc_config** table.</span></span> <span data-ttu-id="cf5c5-120">La maggior parte delle modifiche non richiede il riavvio dell'istanza di Oracle CDC (ad esempio l'aggiunta o la rimozione delle istanze di acquisizione).</span><span class="sxs-lookup"><span data-stu-id="cf5c5-120">Most changes do not require the restart of the Oracle CDC Instance (for example, adding or removing capture instances).</span></span> <span data-ttu-id="cf5c5-121">Alcune modifiche, tuttavia, ad esempio la modifica della stringa di connessione Oracle o delle credenziali di accesso richiedono il riavvio dell'istanza di CDC.</span><span class="sxs-lookup"><span data-stu-id="cf5c5-121">However, some changes, such as changing the Oracle connection string or access credentials do require the restart of the CDC Instance.</span></span>  
  
-   <span data-ttu-id="cf5c5-122">**Gestione del recupero**: all'avvio di un'istanza di Oracle CDC, il relativo stato interno viene ripristinato dalle tabelle **xdbcdc_state** e **xdbcdc_staged_transactions** .</span><span class="sxs-lookup"><span data-stu-id="cf5c5-122">**Handling recovery**: When an Oracle CDC Instance starts its internal state is restored from the **xdbcdc_state** and the **xdbcdc_staged_transactions** tables.</span></span> <span data-ttu-id="cf5c5-123">Una volta ripristinato lo stato, il processo dell'istanza di CDC prosegue nel modo consueto.</span><span class="sxs-lookup"><span data-stu-id="cf5c5-123">Once the state is restored, the CDC instance proceeds as usual.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="cf5c5-124">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="cf5c5-124">See Also</span></span>  
 [<span data-ttu-id="cf5c5-125">Gestione degli errori</span><span class="sxs-lookup"><span data-stu-id="cf5c5-125">Error Handling</span></span>](error-handling.md)  
  
  
