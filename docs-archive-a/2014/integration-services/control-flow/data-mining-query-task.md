---
title: Attività Query di data mining | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
f1_keywords:
- sql12.dts.designer.dataminingquerytask.f1
helpviewer_keywords:
- prediction queries [Integration Services]
- Data Mining Query task [Integration Services]
ms.assetid: f489348c-2008-4f66-8c2c-c07c3029439a
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 6bb3cea630401f92395e2ca4416c03bcd870c881
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87629561"
---
# <a name="data-mining-query-task"></a><span data-ttu-id="6fb66-102">Attività Query di data mining</span><span class="sxs-lookup"><span data-stu-id="6fb66-102">Data Mining Query Task</span></span>
  <span data-ttu-id="6fb66-103">L'attività Query di data mining consente di eseguire query di stima basate sui modelli di data mining compilati in [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="6fb66-103">The Data Mining Query task runs prediction queries based on data mining models built in [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span> <span data-ttu-id="6fb66-104">Una query di stima genera una stima per nuovi dati utilizzando modelli di data mining.</span><span class="sxs-lookup"><span data-stu-id="6fb66-104">The prediction query creates a prediction for new data by using mining models.</span></span> <span data-ttu-id="6fb66-105">È ad esempio possibile utilizzare una query di stima per stimare il numero di barche a vela che si prevede di vendere durante i mesi estivi o per generare un elenco dei potenziali clienti che probabilmente acquisteranno una barca a vela.</span><span class="sxs-lookup"><span data-stu-id="6fb66-105">For example, a prediction query can predict how many sailboats are likely to sell during the summer months or generate a list of prospective customers who are likely to buy a sailboat.</span></span>  
  
 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] <span data-ttu-id="6fb66-106">fornisce attività che consentono di eseguire altre operazioni di Business Intelligence, quali l'esecuzione di istruzioni DDL (Data Definition Language) e l'elaborazione di oggetti di analisi.</span><span class="sxs-lookup"><span data-stu-id="6fb66-106">provides tasks that perform other business intelligence operations, such as running Data Definition Language (DDL) statements and processing analytic objects.</span></span>  
  
 <span data-ttu-id="6fb66-107">Per ulteriori informazioni su altre attività di Business Intelligence, fare clic su uno degli argomenti seguenti:</span><span class="sxs-lookup"><span data-stu-id="6fb66-107">For more information about other business intelligence tasks, click one of the following topics:</span></span>  
  
-   [<span data-ttu-id="6fb66-108">Attività Esegui DDL Analysis Services</span><span class="sxs-lookup"><span data-stu-id="6fb66-108">Analysis Services Execute DDL Task</span></span>](analysis-services-execute-ddl-task.md)  
  
-   [<span data-ttu-id="6fb66-109">Attività Elaborazione Analysis Services</span><span class="sxs-lookup"><span data-stu-id="6fb66-109">Analysis Services Processing Task</span></span>](analysis-services-processing-task.md)  
  
## <a name="prediction-queries"></a><span data-ttu-id="6fb66-110">Query di stima</span><span class="sxs-lookup"><span data-stu-id="6fb66-110">Prediction Queries</span></span>  
 <span data-ttu-id="6fb66-111">La query è un'istruzione DMX (Data Mining Extensions).</span><span class="sxs-lookup"><span data-stu-id="6fb66-111">The query is a Data Mining Extensions (DMX) statement.</span></span> <span data-ttu-id="6fb66-112">Il linguaggio DMX è un'estensione del linguaggio SQL che consente di supportare l'utilizzo dei modelli di data mining.</span><span class="sxs-lookup"><span data-stu-id="6fb66-112">The DMX language is an extension of the SQL language that provides support for working with mining models.</span></span> <span data-ttu-id="6fb66-113">Per altre informazioni su come usare il linguaggio DMX, vedere [Guida di riferimento a DMX &#40;Data Mining Extensions&#41;](/sql/dmx/data-mining-extensions-dmx-reference).</span><span class="sxs-lookup"><span data-stu-id="6fb66-113">For more information about how to use the DMX language, see [Data Mining Extensions &#40;DMX&#41; Reference](/sql/dmx/data-mining-extensions-dmx-reference).</span></span>  
  
 <span data-ttu-id="6fb66-114">L'attività consente di eseguire query su più modelli di data mining compilati in base alla stessa struttura di data mining.</span><span class="sxs-lookup"><span data-stu-id="6fb66-114">The task can query multiple mining models that are built on the same mining structure.</span></span> <span data-ttu-id="6fb66-115">Per compilare un modello di data mining è necessario usare uno degli algoritmi di data mining disponibili in [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="6fb66-115">A mining model is built using one of the data mining algorithms that [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] provides.</span></span> <span data-ttu-id="6fb66-116">La struttura di data mining a cui fa riferimento l'attività Query di data mining può includere più modelli di data mining, compilati utilizzando algoritmi diversi.</span><span class="sxs-lookup"><span data-stu-id="6fb66-116">The mining structure that the Data Mining Query task references can include multiple mining models, built using different algorithms.</span></span> <span data-ttu-id="6fb66-117">Per altre informazioni, vedere [Strutture di data mining &#40;Analysis Services – Data mining&#41;](https://docs.microsoft.com/analysis-services/data-mining/mining-structures-analysis-services-data-mining) e [Algoritmi di data mining &#40;Analysis Services - Data mining&#41;](https://docs.microsoft.com/analysis-services/data-mining/data-mining-algorithms-analysis-services-data-mining).</span><span class="sxs-lookup"><span data-stu-id="6fb66-117">For more information, see [Mining Structures &#40;Analysis Services - Data Mining&#41;](https://docs.microsoft.com/analysis-services/data-mining/mining-structures-analysis-services-data-mining) and [Data Mining Algorithms &#40;Analysis Services - Data Mining&#41;](https://docs.microsoft.com/analysis-services/data-mining/data-mining-algorithms-analysis-services-data-mining).</span></span>  
  
 <span data-ttu-id="6fb66-118">La query di stima eseguita dall'attività Query di data mining restituisce un risultato costituito da una singola riga o da un set di dati.</span><span class="sxs-lookup"><span data-stu-id="6fb66-118">The prediction query that the Data Mining Query task runs returns a result that is a single row or a data set.</span></span> <span data-ttu-id="6fb66-119">Una query che restituisce una singola riga è detta query singleton. La query per la stima del numero di barche a vela che si prevede di vendere nei mesi estivi, ad esempio, restituisce un numero.</span><span class="sxs-lookup"><span data-stu-id="6fb66-119">A query that returns a single row is called a singleton query: for example, the query that predicts how many sailboats will be sold during the summer months returns a number.</span></span> <span data-ttu-id="6fb66-120">Per ulteriori informazioni sulle query di stima che restituiscono una singola riga, vedere [interfacce di query di data mining](https://docs.microsoft.com/analysis-services/data-mining/data-mining-query-tools).</span><span class="sxs-lookup"><span data-stu-id="6fb66-120">For more information about prediction queries that return a single row, see [Data Mining Query Interfaces](https://docs.microsoft.com/analysis-services/data-mining/data-mining-query-tools).</span></span>  
  
 <span data-ttu-id="6fb66-121">I risultati delle query vengono salvati in tabelle.</span><span class="sxs-lookup"><span data-stu-id="6fb66-121">The query results are saved to tables.</span></span> <span data-ttu-id="6fb66-122">Se esiste già una tabella con il nome specificato dall'attività Query di data mining, l'attività può creare una nuova tabella con lo stesso nome, a cui viene aggiunto un numero, oppure sovrascrivere il contenuto della tabella.</span><span class="sxs-lookup"><span data-stu-id="6fb66-122">If a table with the name that the Data Mining Query task specifies already exists, the task can create a new table, using the same name with a number appended, or it can overwrite the table content.</span></span>  
  
 <span data-ttu-id="6fb66-123">Se il set di risultati è nidificato, verrà convertito in formato flat prima del salvataggio.</span><span class="sxs-lookup"><span data-stu-id="6fb66-123">If the results include nesting, the result is flattened before it is saved.</span></span> <span data-ttu-id="6fb66-124">La conversione in formato flat trasforma un set di risultati nidificato in una tabella.</span><span class="sxs-lookup"><span data-stu-id="6fb66-124">Flattening a result changes a nested result set to a table.</span></span> <span data-ttu-id="6fb66-125">Se ad esempio si converte in formato flat un set di risultati annidato che include una colonna di nome **Customer** e una colonna annidata di nome **Product** , alla colonna **Customer** verranno aggiunte le righe necessarie per ottenere una tabella che include dati sui prodotti per ogni cliente.</span><span class="sxs-lookup"><span data-stu-id="6fb66-125">For example, flattening a nested result with a **Customer** column and a nested **Product** column adds rows to the **Customer** column to make a table that includes product data for each customer.</span></span> <span data-ttu-id="6fb66-126">Per un cliente con tre prodotti diversi, ad esempio, si ottiene una tabella con tre righe, ognuna delle quali contiene il nome del cliente ripetuto e un nome di prodotto diverso.</span><span class="sxs-lookup"><span data-stu-id="6fb66-126">For example, a customer with three different products becomes a table with three rows, repeating the customer in each row and including a different product in each row.</span></span> <span data-ttu-id="6fb66-127">Se la parola chiave FLATTENED viene omessa, la tabella conterrà solo la colonna **Customer** e una sola riga per cliente.</span><span class="sxs-lookup"><span data-stu-id="6fb66-127">If the FLATTENED keyword is omitted, the table contains only the **Customer** column and only one row per customer.</span></span> <span data-ttu-id="6fb66-128">Per altre informazioni, vedere [SELECT &#40;DMX&#41;](/sql/dmx/select-dmx).</span><span class="sxs-lookup"><span data-stu-id="6fb66-128">For more information, see [SELECT &#40;DMX&#41;](/sql/dmx/select-dmx).</span></span>  
  
## <a name="configuration-of-the-data-mining-query-task"></a><span data-ttu-id="6fb66-129">Configurazione dell'attività Query di data mining</span><span class="sxs-lookup"><span data-stu-id="6fb66-129">Configuration of the Data Mining Query Task</span></span>  
 <span data-ttu-id="6fb66-130">Per l'attività Query di data mining sono necessarie due connessioni.</span><span class="sxs-lookup"><span data-stu-id="6fb66-130">The Data Mining Query task requires two connections.</span></span> <span data-ttu-id="6fb66-131">La prima è una gestione connessione [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] che stabilisce la connessione a un'istanza di [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] o a un progetto di [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] contenente la struttura e il modello di data mining.</span><span class="sxs-lookup"><span data-stu-id="6fb66-131">The first connection is an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] connection manager that connects either to an instance of [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] or to an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] project that contains the mining structure and the mining model.</span></span> <span data-ttu-id="6fb66-132">La seconda è una gestione connessione OLE DB che stabilisce la connessione al database di [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] contenente la tabella in cui l'attività scrive i dati.</span><span class="sxs-lookup"><span data-stu-id="6fb66-132">The second connection is an OLE DB connection manager that connects to the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] database that contains the table to which the task writes.</span></span> <span data-ttu-id="6fb66-133">Per altre informazioni, vedere [Gestione connessione Analysis Services](../connection-manager/analysis-services-connection-manager.md) e [Gestione connessione OLE DB](../connection-manager/ole-db-connection-manager.md).</span><span class="sxs-lookup"><span data-stu-id="6fb66-133">For more information, see [Analysis Services Connection Manager](../connection-manager/analysis-services-connection-manager.md) and [OLE DB Connection Manager](../connection-manager/ole-db-connection-manager.md).</span></span>  
  
 <span data-ttu-id="6fb66-134">È possibile impostare le proprietà tramite Progettazione [!INCLUDE[ssIS](../../../includes/ssis-md.md)] o a livello di codice.</span><span class="sxs-lookup"><span data-stu-id="6fb66-134">You can set properties through [!INCLUDE[ssIS](../../../includes/ssis-md.md)] Designer or programmatically.</span></span>  
  
 <span data-ttu-id="6fb66-135">Per ulteriori informazioni sulle proprietà che è possibile impostare in Progettazione [!INCLUDE[ssIS](../../../includes/ssis-md.md)] , fare clic su uno degli argomenti seguenti:</span><span class="sxs-lookup"><span data-stu-id="6fb66-135">For more information about the properties that you can set in [!INCLUDE[ssIS](../../../includes/ssis-md.md)] Designer, click one of the following topics:</span></span>  
  
-   [<span data-ttu-id="6fb66-136">Editor attività Query di data mining &#40;scheda Modello di data mining&#41;</span><span class="sxs-lookup"><span data-stu-id="6fb66-136">Data Mining Query Task Editor &#40;Mining Model Tab&#41;</span></span>](../data-mining-query-task-editor-mining-model-tab.md)  
  
-   [<span data-ttu-id="6fb66-137">Editor attività Query di data mining &#40;scheda Query&#41;</span><span class="sxs-lookup"><span data-stu-id="6fb66-137">Data Mining Query Task Editor &#40;Query Tab&#41;</span></span>](../data-mining-query-task-editor-query-tab.md)  
  
-   [<span data-ttu-id="6fb66-138">Editor attività Query di data mining &#40;scheda Output&#41;</span><span class="sxs-lookup"><span data-stu-id="6fb66-138">Data Mining Query Task Editor &#40;Output Tab&#41;</span></span>](../data-mining-query-task-editor-output-tab.md)  
  
> [!NOTE]  
>  <span data-ttu-id="6fb66-139">L'Editor attività Query di data mining non include la pagina Espressioni.</span><span class="sxs-lookup"><span data-stu-id="6fb66-139">The Data Mining Query Editor has no Expressions page.</span></span> <span data-ttu-id="6fb66-140">È tuttavia possibile usare la finestra **Proprietà** per accedere agli strumenti per la creazione e la gestione di espressioni di proprietà per le proprietà dell'attività Query di data mining.</span><span class="sxs-lookup"><span data-stu-id="6fb66-140">Instead, use the **Properties** window to access the tools for creating and managing property expressions for properties of the Data Mining Query task.</span></span>  
  
 <span data-ttu-id="6fb66-141">Per altre informazioni sull'impostazione di queste proprietà in Progettazione [!INCLUDE[ssIS](../../../includes/ssis-md.md)] , fare clic sull'argomento seguente:</span><span class="sxs-lookup"><span data-stu-id="6fb66-141">For more information about how to set these properties in [!INCLUDE[ssIS](../../../includes/ssis-md.md)] Designer, click the following topic:</span></span>  
  
-   [<span data-ttu-id="6fb66-142">Impostazione delle proprietà di un'attività o di un contenitore</span><span class="sxs-lookup"><span data-stu-id="6fb66-142">Set the Properties of a Task or Container</span></span>](../set-the-properties-of-a-task-or-container.md)  
  
## <a name="programmatic-configuration-of-data-mining-query-task"></a><span data-ttu-id="6fb66-143">Configurazione a livello di codice dell'attività Query di data mining</span><span class="sxs-lookup"><span data-stu-id="6fb66-143">Programmatic Configuration of Data Mining Query Task</span></span>  
 <span data-ttu-id="6fb66-144">Per ulteriori informazioni sull'impostazione di queste proprietà a livello di codice, fare clic su uno degli argomenti seguenti:</span><span class="sxs-lookup"><span data-stu-id="6fb66-144">For more information about programmatically setting these properties, click one of the following topics:</span></span>  
  
-   <xref:Microsoft.SqlServer.Dts.Tasks.DMQueryTask.DMQueryTask>  
  
  
