---
title: Attività Servizio Web | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
f1_keywords:
- sql12.dts.designer.webservicetask.f1
helpviewer_keywords:
- Web Service task [Integration Services]
ms.assetid: 5c7206f1-7d6a-4923-8dff-3c4912da4157
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 1a2f719a6fb0076a3bb286865199a9cf6a008d32
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87625504"
---
# <a name="web-service-task"></a><span data-ttu-id="8024b-102">Attività Servizio Web</span><span class="sxs-lookup"><span data-stu-id="8024b-102">Web Service Task</span></span>
  <span data-ttu-id="8024b-103">L'attività Servizio Web esegue un metodo di servizio Web.</span><span class="sxs-lookup"><span data-stu-id="8024b-103">The Web Service task executes a Web service method.</span></span> <span data-ttu-id="8024b-104">È possibile utilizzare l'attività Servizio Web per gli scopi seguenti:</span><span class="sxs-lookup"><span data-stu-id="8024b-104">You can use the Web Service task for the following purposes:</span></span>  
  
-   <span data-ttu-id="8024b-105">Scrivere in una variabile i valori restituiti da un metodo di servizio Web.</span><span class="sxs-lookup"><span data-stu-id="8024b-105">Writing to a variable the values that a Web service method returns.</span></span> <span data-ttu-id="8024b-106">È ad esempio possibile ottenere la temperatura massima del giorno da un metodo di servizio Web e quindi utilizzare tale valore per aggiornare una variabile utilizzata in un'espressione che imposta il valore di una colonna.</span><span class="sxs-lookup"><span data-stu-id="8024b-106">For example, you could obtain the highest temperature of the day from a Web service method, and then use that value to update a variable that is used in an expression that sets a column value.</span></span>  
  
-   <span data-ttu-id="8024b-107">Scrivere in un file i valori restituiti da un metodo di servizio Web.</span><span class="sxs-lookup"><span data-stu-id="8024b-107">Writing to a file the values that a Web service method returns.</span></span> <span data-ttu-id="8024b-108">È ad esempio possibile scrivere in un file un elenco di potenziali clienti e utilizzare tale file come origine dei dati in un pacchetto che pulisce i dati prima che vengano scritti in un database.</span><span class="sxs-lookup"><span data-stu-id="8024b-108">For example, a list of potential customers can be written to a file and the file then used as a data source in a package that cleans the data before it is written to a database.</span></span>  
  
## <a name="wsdl-file"></a><span data-ttu-id="8024b-109">File WSDL</span><span class="sxs-lookup"><span data-stu-id="8024b-109">WSDL File</span></span>  
 <span data-ttu-id="8024b-110">Per connettersi al servizio Web l'attività Servizio Web utilizza una gestione connessione HTTP,</span><span class="sxs-lookup"><span data-stu-id="8024b-110">The Web Service task uses an HTTP connection manager to connect to the Web service.</span></span> <span data-ttu-id="8024b-111">configurata separatamente, a cui viene fatto riferimento dall'attività Servizio Web.</span><span class="sxs-lookup"><span data-stu-id="8024b-111">The HTTP connection manager is configured separately from the Web Service task, and is referenced in the task.</span></span> <span data-ttu-id="8024b-112">La gestione connessione HTTP specifica le impostazioni proxy del server, quali l'URL del server, le credenziali per l'accesso al server dei servizi Web e la durata del timeout.</span><span class="sxs-lookup"><span data-stu-id="8024b-112">The HTTP connection manager specifies the server proxy settings such as the server URL, credentials for accessing the Web services server, and time-out length.</span></span> <span data-ttu-id="8024b-113">Per altre informazioni, vedere [Gestione connessione HTTP](../connection-manager/http-connection-manager.md).</span><span class="sxs-lookup"><span data-stu-id="8024b-113">For more information, see [HTTP Connection Manager](../connection-manager/http-connection-manager.md).</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="8024b-114">La gestione connessione HTTP supporta solo l'autenticazione anonima e l'autenticazione di base.</span><span class="sxs-lookup"><span data-stu-id="8024b-114">The HTTP connection manager supports only anonymous authentication and basic authentication.</span></span> <span data-ttu-id="8024b-115">Non supporta l'autenticazione di Windows.</span><span class="sxs-lookup"><span data-stu-id="8024b-115">It does not support Windows Authentication.</span></span>  
  
 <span data-ttu-id="8024b-116">La gestione connessione HTTP può puntare a un sito Web o a un file WSDL (Web Service Description Language).</span><span class="sxs-lookup"><span data-stu-id="8024b-116">The HTTP connection manager can point to a Web site or to a Web Service Description Language (WSDL) file.</span></span> <span data-ttu-id="8024b-117">L'URL di una gestione connessione HTTP che punta a un file WSDL include il parametro `?WSDL` , ad esempio `http://MyServer/MyWebService/MyPage.asmx?WSDL`.</span><span class="sxs-lookup"><span data-stu-id="8024b-117">The URL of the HTTP connection manager that points to a WSDL file includes the `?WSDL` parameter: for example, `http://MyServer/MyWebService/MyPage.asmx?WSDL`.</span></span>  
  
 <span data-ttu-id="8024b-118">Affinché sia possibile configurare l'attività Servizio Web tramite la finestra di dialogo **Editor attività Servizio Web** di Progettazione [!INCLUDE[ssIS](../../includes/ssis-md.md)] , il file WSDL deve essere disponibile localmente.</span><span class="sxs-lookup"><span data-stu-id="8024b-118">The WSDL file must be available locally to configure the Web Service task using the **Web Service Task Editor** dialog box that [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer provides.</span></span>  
  
-   <span data-ttu-id="8024b-119">Se la gestione connessione HTTP punta a un sito Web, il file WSDL dovrà essere copiato manualmente in un computer locale.</span><span class="sxs-lookup"><span data-stu-id="8024b-119">If the HTTP connection manager points to a Web site, the WSDL file must be copied manually to a local computer.</span></span>  
  
-   <span data-ttu-id="8024b-120">Se la gestione connessione HTTP punta a un file WSDL, l'attività Servizio Web potrà scaricare il file dal sito Web a un file locale.</span><span class="sxs-lookup"><span data-stu-id="8024b-120">If the HTTP connection manager points to a WSDL file, the file can be downloaded from the Web site to a local file by the Web Service task.</span></span>  
  
 <span data-ttu-id="8024b-121">Nel file WSDL sono elencati i metodi offerti dal servizio Web, i parametri di input richiesti dai metodi, le risposte restituite dai metodi e la modalità con cui comunicare con il servizio Web.</span><span class="sxs-lookup"><span data-stu-id="8024b-121">The WSDL file lists the methods that the Web service offers, the input parameters that the methods require, the responses that the methods return, and how to communicate with the Web service.</span></span>  
  
 <span data-ttu-id="8024b-122">Se il metodo utilizza parametri di input, l'attività Servizio Web richiederà i valori dei parametri.</span><span class="sxs-lookup"><span data-stu-id="8024b-122">If the method uses input parameters, the Web Service task requires parameter values.</span></span> <span data-ttu-id="8024b-123">Un metodo che determina la lunghezza consigliata degli sci da acquistare in base alla statura del cliente, ad esempio, richiede l'immissione della statura in un parametro di input.</span><span class="sxs-lookup"><span data-stu-id="8024b-123">For example, a Web service method that recommends the length of skis you should purchase based on your height requires that your height be submitted in an input parameter.</span></span> <span data-ttu-id="8024b-124">I valori dei parametri possono essere specificati mediante stringhe definite all'interno dell'attività oppure tramite variabili definite nell'ambito dell'attività o di un contenitore padre.</span><span class="sxs-lookup"><span data-stu-id="8024b-124">The parameter values can be provided either by strings that are defined in the task, or by variables defined in the scope of the task or a parent container.</span></span> <span data-ttu-id="8024b-125">Il vantaggio dell'utilizzo di variabili consiste nella possibilità di aggiornare dinamicamente i valori dei parametri mediante script o configurazioni di pacchetto.</span><span class="sxs-lookup"><span data-stu-id="8024b-125">The advantage of using variables is that they let you dynamically update the parameter values by using package configurations or scripts.</span></span> <span data-ttu-id="8024b-126">Per altre informazioni, vedere [Variabili di Integration Services &#40;SSIS&#41;](../integration-services-ssis-variables.md) e [Configurazioni di pacchetto](../package-configurations.md).</span><span class="sxs-lookup"><span data-stu-id="8024b-126">For more information, see [Integration Services &#40;SSIS&#41; Variables](../integration-services-ssis-variables.md) and [Package Configurations](../package-configurations.md).</span></span>  
  
 <span data-ttu-id="8024b-127">Molti metodi di servizi Web non utilizzano parametri di input.</span><span class="sxs-lookup"><span data-stu-id="8024b-127">Many Web service methods do not use input parameters.</span></span> <span data-ttu-id="8024b-128">Un metodo di servizio Web che ottiene i nomi dei presidenti nati nel mese corrente, ad esempio, non richiede parametri di input, perché è in grado di determinare il mese corrente localmente.</span><span class="sxs-lookup"><span data-stu-id="8024b-128">For example, a Web service method that gets the names of presidents who were born in the current month would not require an input parameter because the Web service can determine the current month locally.</span></span>  
  
 <span data-ttu-id="8024b-129">I risultati del metodo di servizio Web possono essere scritti in una variabile o in un file.</span><span class="sxs-lookup"><span data-stu-id="8024b-129">The results of the Web service method can be written to a variable or to a file.</span></span> <span data-ttu-id="8024b-130">Per specificare il file o il nome della variabile in cui scrivere i risultati, è necessario utilizzare una gestione connessione file.</span><span class="sxs-lookup"><span data-stu-id="8024b-130">You use the File connection manager either to specify the file or to provide the name of the variable to write the results to.</span></span> <span data-ttu-id="8024b-131">Per altre informazioni, vedere [Gestione connessione File](../connection-manager/file-connection-manager.md) e [Variabili di Integration Services &#40;SSIS&#41;](../integration-services-ssis-variables.md).</span><span class="sxs-lookup"><span data-stu-id="8024b-131">For more information, see [File Connection Manager](../connection-manager/file-connection-manager.md) and [Integration Services &#40;SSIS&#41; Variables](../integration-services-ssis-variables.md).</span></span>  
  
## <a name="custom-logging-messages-available-on-the-web-service-task"></a><span data-ttu-id="8024b-132">Messaggi di registrazione personalizzati disponibili nell'attività Servizio Web</span><span class="sxs-lookup"><span data-stu-id="8024b-132">Custom Logging Messages Available on the Web Service Task</span></span>  
 <span data-ttu-id="8024b-133">Nella tabella seguente sono elencate le voci di log personalizzate che è possibile attivare per l'attività Servizio Web.</span><span class="sxs-lookup"><span data-stu-id="8024b-133">The following table lists the custom log entries that you can enable for the Web Service task.</span></span> <span data-ttu-id="8024b-134">Per altre informazioni, vedere [Registrazione di Integration Services &#40;SSIS&#41;](../performance/integration-services-ssis-logging.md) e [Messaggi personalizzati per la registrazione](../custom-messages-for-logging.md).</span><span class="sxs-lookup"><span data-stu-id="8024b-134">For more information, see [Integration Services &#40;SSIS&#41; Logging](../performance/integration-services-ssis-logging.md) and [Custom Messages for Logging](../custom-messages-for-logging.md).</span></span>  
  
|<span data-ttu-id="8024b-135">Voce di log</span><span class="sxs-lookup"><span data-stu-id="8024b-135">Log entry</span></span>|<span data-ttu-id="8024b-136">Descrizione</span><span class="sxs-lookup"><span data-stu-id="8024b-136">Description</span></span>|  
|---------------|-----------------|  
|`WSTaskBegin`|<span data-ttu-id="8024b-137">Indica che l'attività ha iniziato ad accedere a un servizio Web.</span><span class="sxs-lookup"><span data-stu-id="8024b-137">The task began to access a Web service.</span></span>|  
|`WSTaskEnd`|<span data-ttu-id="8024b-138">Indica che l'attività ha completato un metodo per il servizio Web.</span><span class="sxs-lookup"><span data-stu-id="8024b-138">The task completed a Web service method.</span></span>|  
|`WSTaskInfo`|<span data-ttu-id="8024b-139">Offre informazioni descrittive sull'attività.</span><span class="sxs-lookup"><span data-stu-id="8024b-139">Descriptive information about the task.</span></span>|  
  
## <a name="configuration-of-the-web-service-task"></a><span data-ttu-id="8024b-140">Configurazione dell'attività Servizio Web</span><span class="sxs-lookup"><span data-stu-id="8024b-140">Configuration of the Web Service Task</span></span>  
 <span data-ttu-id="8024b-141">È possibile impostare le proprietà tramite Progettazione [!INCLUDE[ssIS](../../includes/ssis-md.md)] o a livello di codice.</span><span class="sxs-lookup"><span data-stu-id="8024b-141">You can set properties through [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer or programmatically.</span></span>  
  
 <span data-ttu-id="8024b-142">Per ulteriori informazioni sulle proprietà che è possibile impostare in Progettazione [!INCLUDE[ssIS](../../includes/ssis-md.md)] , fare clic su uno degli argomenti seguenti:</span><span class="sxs-lookup"><span data-stu-id="8024b-142">For more information about the properties that you can set in [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer, click one of the following topics:</span></span>  
  
-   [<span data-ttu-id="8024b-143">Editor attività Servizio Web &#40;pagina Generale&#41;</span><span class="sxs-lookup"><span data-stu-id="8024b-143">Web Service Task Editor &#40;General Page&#41;</span></span>](../general-page-of-integration-services-designers-options.md)  
  
-   [<span data-ttu-id="8024b-144">Editor attività Servizio Web &#40;pagina Input&#41;</span><span class="sxs-lookup"><span data-stu-id="8024b-144">Web Service Task Editor &#40;Input Page&#41;</span></span>](../web-service-task-editor-input-page.md)  
  
-   [<span data-ttu-id="8024b-145">Editor attività Servizio Web &#40;pagina Output&#41;</span><span class="sxs-lookup"><span data-stu-id="8024b-145">Web Service Task Editor &#40;Output Page&#41;</span></span>](../web-service-task-editor-output-page.md)  
  
-   [<span data-ttu-id="8024b-146">Pagina Espressioni</span><span class="sxs-lookup"><span data-stu-id="8024b-146">Expressions Page</span></span>](../expressions/expressions-page.md)  
  
 <span data-ttu-id="8024b-147">Per altre informazioni sull'impostazione di queste proprietà in Progettazione [!INCLUDE[ssIS](../../includes/ssis-md.md)] , fare clic sull'argomento seguente:</span><span class="sxs-lookup"><span data-stu-id="8024b-147">For more information about how to set these properties in [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer, click the following topic:</span></span>  
  
-   [<span data-ttu-id="8024b-148">Impostazione delle proprietà di un'attività o di un contenitore</span><span class="sxs-lookup"><span data-stu-id="8024b-148">Set the Properties of a Task or Container</span></span>](../set-the-properties-of-a-task-or-container.md)  
  
## <a name="programmatic-configuration-of-the-web-service-task"></a><span data-ttu-id="8024b-149">Configurazione dell'attività Servizio Web a livello di codice</span><span class="sxs-lookup"><span data-stu-id="8024b-149">Programmatic Configuration of the Web Service Task</span></span>  
 <span data-ttu-id="8024b-150">Per ulteriori informazioni sull'impostazione di queste proprietà a livello di codice, fare clic su uno degli argomenti seguenti:</span><span class="sxs-lookup"><span data-stu-id="8024b-150">For more information about programmatically setting these properties, click one of the following topics:</span></span>  
  
-   <xref:Microsoft.SqlServer.Dts.Tasks.WebServiceTask.WebServiceTask>  
  
## <a name="related-content"></a><span data-ttu-id="8024b-151">Contenuto correlato</span><span class="sxs-lookup"><span data-stu-id="8024b-151">Related Content</span></span>  
 <span data-ttu-id="8024b-152">Video [Procedura: Chiamata a un servizio Web tramite l'attività Servizio Web (video di SQL Server)](https://go.microsoft.com/fwlink/?LinkId=259642) nel sito technet.microsoft.com.</span><span class="sxs-lookup"><span data-stu-id="8024b-152">Video, [How to: Call a Web Service by Using the Web Service Task (SQL Server Video)](https://go.microsoft.com/fwlink/?LinkId=259642), on technet.microsoft.com.</span></span>  
  
 <span data-ttu-id="8024b-153">[Come utilizzare il servizio Web tramite il pacchetto SSIS](https://www.c-sharpcorner.com/article/how-to-consume-web-service-through-ssis-package/).</span><span class="sxs-lookup"><span data-stu-id="8024b-153">[How To Consume Web Service Through SSIS Package](https://www.c-sharpcorner.com/article/how-to-consume-web-service-through-ssis-package/).</span></span>  
  
  
