---
title: Origine XML | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
f1_keywords:
- sql12.dts.designer.xmlsource.f1
helpviewer_keywords:
- sources [Integration Services], XML
- XML source [Integration Services]
- XML Source Editor
ms.assetid: 68c27ea5-e93d-4e26-bfb2-d967ca0a5282
author: chugugrace
ms.author: chugu
ms.openlocfilehash: d13a1bf01729932eaa6b232ac7839d2e3001f5fe
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87636281"
---
# <a name="xml-source"></a><span data-ttu-id="a2493-102">Origine XML</span><span class="sxs-lookup"><span data-stu-id="a2493-102">XML Source</span></span>
  <span data-ttu-id="a2493-103">L'origine XML legge un file di dati XML e popola con tali dati le colonne nell'output dell'origine.</span><span class="sxs-lookup"><span data-stu-id="a2493-103">The XML source reads an XML data file and populates the columns in the source output with the data.</span></span>  
  
 <span data-ttu-id="a2493-104">Nei file XML i dati includono spesso relazioni gerarchiche.</span><span class="sxs-lookup"><span data-stu-id="a2493-104">The data in XML files frequently includes hierarchical relationships.</span></span> <span data-ttu-id="a2493-105">Un file di dati XML può ad esempio rappresentare cataloghi e articoli di catalogo.</span><span class="sxs-lookup"><span data-stu-id="a2493-105">For example, an XML data file can represent catalogs and items in catalogs.</span></span> <span data-ttu-id="a2493-106">Prima di immettere i dati nel flusso di dati è necessario determinare le relazioni tra gli elementi del file di dati XML e generare un output per ogni elemento del file.</span><span class="sxs-lookup"><span data-stu-id="a2493-106">Before the data can enter the data flow, the relationship of the elements in XML data file must be determined, and an output must be generated for each element in the file.</span></span>  
  
## <a name="schemas"></a><span data-ttu-id="a2493-107">Schemi</span><span class="sxs-lookup"><span data-stu-id="a2493-107">Schemas</span></span>  
 <span data-ttu-id="a2493-108">Per interpretare i dati XML, l'origine XML utilizza uno schema.</span><span class="sxs-lookup"><span data-stu-id="a2493-108">The XML source uses a schema to interpret the XML data.</span></span> <span data-ttu-id="a2493-109">L'origine XML supporta l'utilizzo di un file XSD (XML Schema Definition) o di schemi inline per la conversione dei dati in formato tabulare.</span><span class="sxs-lookup"><span data-stu-id="a2493-109">The XML source supports use of a XML Schema Definition (XSD) file or inline schemas to translate the XML data into a tabular format.</span></span> <span data-ttu-id="a2493-110">Se si configura l'origine XML tramite la finestra di dialogo **Editor origine XML** , l'interfaccia utente può generare un file XSD dal file di dati XML specificato.</span><span class="sxs-lookup"><span data-stu-id="a2493-110">If you configure the XML source by using the **XML Source Editor** dialog box, the user interface can generate an XSD from the specified XML data file.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="a2493-111">I DTD non sono supportati.</span><span class="sxs-lookup"><span data-stu-id="a2493-111">DTDs are not supported.</span></span>  
  
 <span data-ttu-id="a2493-112">Gli schemi possono supportare un solo spazio dei nomi. Le raccolte di schemi non sono supportate.</span><span class="sxs-lookup"><span data-stu-id="a2493-112">The schemas can support a single namespace only; they do not support schema collections.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="a2493-113">L'origine XML non convalida i dati nel file XML rispetto al file XSD.</span><span class="sxs-lookup"><span data-stu-id="a2493-113">The XML source does not validate the data in the XML file against the XSD.</span></span>  
  
## <a name="xml-source-editor"></a><span data-ttu-id="a2493-114">Editor origine XML</span><span class="sxs-lookup"><span data-stu-id="a2493-114">XML Source Editor</span></span>  
 <span data-ttu-id="a2493-115">Nei file XML i dati includono spesso relazioni gerarchiche.</span><span class="sxs-lookup"><span data-stu-id="a2493-115">The data in the XML files frequently includes hierarchical relationships.</span></span> <span data-ttu-id="a2493-116">La finestra di dialogo **Editor origine XML** usa lo schema specificato per generare gli output dell'origine XML.</span><span class="sxs-lookup"><span data-stu-id="a2493-116">The **XML Source Editor** dialog box uses the specified schema to generate the XML source outputs.</span></span> <span data-ttu-id="a2493-117">È possibile specificare un file XSD, utilizzare uno schema inline oppure generare un file XSD dal file di dati XML specificato.</span><span class="sxs-lookup"><span data-stu-id="a2493-117">You can specify an XSD file, use an inline schema, or generate an XSD from the specified XML data file.</span></span> <span data-ttu-id="a2493-118">Lo schema deve essere disponibile in fase di progettazione.</span><span class="sxs-lookup"><span data-stu-id="a2493-118">The schema must be available at design time.</span></span>  
  
 <span data-ttu-id="a2493-119">L'origine XML genera strutture tabulari dai dati XML creando un output per ogni elemento del file XML che contiene altri elementi.</span><span class="sxs-lookup"><span data-stu-id="a2493-119">The XML source generates tabular structures from the XML data by creating an output for every element that contains other elements in the XML files.</span></span> <span data-ttu-id="a2493-120">Se ad esempio i dati XML rappresentano cataloghi e articoli di catalogo, l'origine XML creerà un output per i cataloghi e uno per ogni tipo di articolo contenuto nei cataloghi.</span><span class="sxs-lookup"><span data-stu-id="a2493-120">For example, if the XML data represents catalogs and items in catalogs, the XML source creates an output for catalogs and an output for each type of item that the catalogs contain.</span></span> <span data-ttu-id="a2493-121">L'output di ogni articolo conterrà colonne di output per gli attributi dell'articolo.</span><span class="sxs-lookup"><span data-stu-id="a2493-121">The output of each item will contain output columns for the attributes of that item.</span></span>  
  
 <span data-ttu-id="a2493-122">Per fornire informazioni sulle relazioni gerarchiche dei dati negli output, l'origine XML aggiunge agli output una colonna che identifica l'elemento padre di ogni elemento figlio.</span><span class="sxs-lookup"><span data-stu-id="a2493-122">To provide information about the hierarchical relationship of the data in the outputs, the XML source adds a column in the outputs that identifies the parent element for each child element.</span></span> <span data-ttu-id="a2493-123">Se nell'esempio dei cataloghi sono presenti diversi tipi di articoli, a ogni articolo corrisponderà un valore di colonna che identifica il catalogo a cui appartiene.</span><span class="sxs-lookup"><span data-stu-id="a2493-123">Using the example of catalogs with different types of items, each item would have a column value that identifies the catalog to which it belongs.</span></span>  
  
 <span data-ttu-id="a2493-124">L'origine XML crea un output per ogni elemento, ma non è necessario utilizzare tutti gli output.</span><span class="sxs-lookup"><span data-stu-id="a2493-124">The XML source creates an output for every element, but it is not required that you use all the outputs.</span></span> <span data-ttu-id="a2493-125">È possibile eliminare qualsiasi output che non si desidera utilizzare o semplicemente evitare di connetterlo a un componente a valle.</span><span class="sxs-lookup"><span data-stu-id="a2493-125">You can delete any output that you do not want to use, or just not connect it to a downstream component.</span></span>  
  
 <span data-ttu-id="a2493-126">L'origine XML genera inoltre i nomi degli output, per garantire l'utilizzo di nomi univoci.</span><span class="sxs-lookup"><span data-stu-id="a2493-126">The XML source also generates the output names, to ensure that the names are unambiguous.</span></span> <span data-ttu-id="a2493-127">Tali nomi possono essere tuttavia troppo lunghi e non identificare gli output in modo utile all'utente.</span><span class="sxs-lookup"><span data-stu-id="a2493-127">These names may be long and may not identify the outputs in a way that is useful to you.</span></span> <span data-ttu-id="a2493-128">È possibile rinominare gli output, purché i nomi rimangano univoci.</span><span class="sxs-lookup"><span data-stu-id="a2493-128">You can rename the outputs, as long as their names remain unique.</span></span> <span data-ttu-id="a2493-129">È inoltre possibile modificare il tipo di dati e la lunghezza delle colonne di output.</span><span class="sxs-lookup"><span data-stu-id="a2493-129">You can also modify the data type and the length of output columns.</span></span>  
  
 <span data-ttu-id="a2493-130">L'origine XML aggiunge un output degli errori per ogni output.</span><span class="sxs-lookup"><span data-stu-id="a2493-130">For every output, the XML source adds an error output.</span></span> <span data-ttu-id="a2493-131">Per impostazione predefinita le colonne negli output degli errori hanno tipo di dati stringa Unicode (DT_WSTR) e lunghezza 255, ma è possibile configurarle modificandone il tipo di dati e la lunghezza.</span><span class="sxs-lookup"><span data-stu-id="a2493-131">By default the columns in error outputs have Unicode string data type (DT_WSTR) with a length of 255, but you can configure the columns in the error outputs by modifying their data type and length.</span></span>  
  
 <span data-ttu-id="a2493-132">Se il file di dati XML contiene elementi non presenti nel file XSD, tali elementi verranno ignorati e non verrà generato alcun output corrispondente.</span><span class="sxs-lookup"><span data-stu-id="a2493-132">If the XML data file contains elements that are not in the XSD, these elements are ignored and no output is generated for them.</span></span> <span data-ttu-id="a2493-133">Se viceversa nel file di dati XML mancano elementi che sono rappresentati nel file XSD, l'output conterrà colonne con valori Null.</span><span class="sxs-lookup"><span data-stu-id="a2493-133">On the other hand, if the XML data file is missing elements that are represented in the XSD, the output will contain columns with null values.</span></span>  
  
 <span data-ttu-id="a2493-134">I dati estratti dal file di dati XML vengono convertiti in un tipo di dati [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="a2493-134">When the data is extracted from the XML data file, it is converted to an [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] data type.</span></span> <span data-ttu-id="a2493-135">Tuttavia, l'origine XML non è in grado di convertire i dati XML nei tipi di dati DT_TIME2 o DT_DBTIMESTAMP2, in quanto l'origine non supporta tali tipi di dati.</span><span class="sxs-lookup"><span data-stu-id="a2493-135">However, the XML source cannot convert the XML data to the DT_TIME2 or DT_DBTIMESTAMP2 data types because the source does not support these data types.</span></span> <span data-ttu-id="a2493-136">Per altre informazioni, vedere [Tipi di dati di Integration Services](integration-services-data-types.md).</span><span class="sxs-lookup"><span data-stu-id="a2493-136">For more information, see [Integration Services Data Types](integration-services-data-types.md).</span></span>  
  
 <span data-ttu-id="a2493-137">Lo schema inline o XSD può specificare il tipo di dati per gli elementi ma, in caso contrario, la finestra di dialogo **Editor origine XML** assegna il tipo di dati stringa Unicode (DT_WSTR) alla colonna dell'output che contiene l'elemento e imposta la lunghezza della colonna su 255 caratteri.</span><span class="sxs-lookup"><span data-stu-id="a2493-137">The XSD or inline schema may specify the data type for elements, but if it does not, the **XML Source Editor** dialog box assigns the Unicode string data type (DT_WSTR) to the column in the output that contains the element, and sets the column length to 255 characters.</span></span>  
  
 <span data-ttu-id="a2493-138">L'eventuale valore specificato nello schema relativo alla lunghezza massima di un elemento viene applicato alla lunghezza della colonna di output.</span><span class="sxs-lookup"><span data-stu-id="a2493-138">If the schema specifies the maximum length of an element, the length of output column is set to this value.</span></span> <span data-ttu-id="a2493-139">Se la lunghezza massima è maggiore di quella supportata dal tipo di dati di [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] in cui l'elemento viene convertito, i dati vengono troncati al raggiungimento della lunghezza massima del tipo di dati.</span><span class="sxs-lookup"><span data-stu-id="a2493-139">If the maximum length is greater than the length supported by the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] data type to which the element is converted, then the data is truncated to the maximum length of the data type.</span></span> <span data-ttu-id="a2493-140">Se ad esempio la lunghezza di una stringa è 5000, la stringa verrà troncata a 4000 caratteri poiché tale è la lunghezza massima del tipo di dati DT_WSTR. Analogamente, i dati byte vengono troncati a 8000 caratteri, ovvero la lunghezza massima del tipo di dati DT_BYTES.</span><span class="sxs-lookup"><span data-stu-id="a2493-140">For example, if a string has a length of 5000, it is truncated to 4000 characters because the maximum length of the DT_WSTR data type is 4000 characters; likewise, byte data is truncated to 8000 characters, the maximum length of the DT_BYTES data type.</span></span> <span data-ttu-id="a2493-141">Se nello schema non è specificata una lunghezza massima, la lunghezza predefinita delle colonne con qualsiasi tipo di dati è impostata su 255.</span><span class="sxs-lookup"><span data-stu-id="a2493-141">If the schema specifies no maximum length, the default length of columns with either data type is set to 255.</span></span> <span data-ttu-id="a2493-142">Il troncamento dei dati nell'origine XML viene gestito con la stessa modalità di troncamento utilizzata in altri componenti del flusso di dati.</span><span class="sxs-lookup"><span data-stu-id="a2493-142">Data truncation in the XML source is handled the same way as truncation in other data flow components.</span></span> <span data-ttu-id="a2493-143">Per altre informazioni, vedere [Gestione degli errori nei dati](error-handling-in-data.md).</span><span class="sxs-lookup"><span data-stu-id="a2493-143">For more information, see [Error Handling in Data](error-handling-in-data.md).</span></span>  
  
 <span data-ttu-id="a2493-144">È possibile modificare sia il tipo di dati sia la lunghezza della colonna.</span><span class="sxs-lookup"><span data-stu-id="a2493-144">You can modify the data type and the column length.</span></span> <span data-ttu-id="a2493-145">Per altre informazioni, vedere [Tipi di dati di Integration Services](integration-services-data-types.md).</span><span class="sxs-lookup"><span data-stu-id="a2493-145">For more information, see [Integration Services Data Types](integration-services-data-types.md).</span></span>  
  
## <a name="configuration-of-the-xml-source"></a><span data-ttu-id="a2493-146">Configurazione dell'origine XML</span><span class="sxs-lookup"><span data-stu-id="a2493-146">Configuration of the XML Source</span></span>  
 <span data-ttu-id="a2493-147">L'origine XML supporta tre diverse modalità di accesso ai dati.</span><span class="sxs-lookup"><span data-stu-id="a2493-147">The XML source supports three different data access modes.</span></span> <span data-ttu-id="a2493-148">è possibile specificare il percorso del file di dati XML, la variabile che contiene il percorso del file oppure la variabile che contiene i dati XML.</span><span class="sxs-lookup"><span data-stu-id="a2493-148">You can specify the file location of the XML data file, the variable that contains the file location, or the variable that contains the XML data.</span></span>  
  
 <span data-ttu-id="a2493-149">L'origine XML include le proprietà personalizzate `XMLData` e `XMLSchemaDefinition`, che possono essere aggiornate da espressioni di proprietà al caricamento del pacchetto.</span><span class="sxs-lookup"><span data-stu-id="a2493-149">The XML source includes the `XMLData` and `XMLSchemaDefinition` custom properties that can be updated by property expressions when the package is loaded.</span></span> <span data-ttu-id="a2493-150">Per altre informazioni, vedere [Espressioni di Integration Services &#40;SSIS&#41;](../expressions/integration-services-ssis-expressions.md), [Utilizzo delle espressioni di proprietà nei pacchetti](../expressions/use-property-expressions-in-packages.md) e [Proprietà personalizzate dell'origine XML](xml-source-custom-properties.md).</span><span class="sxs-lookup"><span data-stu-id="a2493-150">For more information, see [Integration Services &#40;SSIS&#41; Expressions](../expressions/integration-services-ssis-expressions.md), [Use Property Expressions in Packages](../expressions/use-property-expressions-in-packages.md), and [XML Source Custom Properties](xml-source-custom-properties.md).</span></span>  
  
 <span data-ttu-id="a2493-151">L'origine XML supporta più output regolari e più output degli errori.</span><span class="sxs-lookup"><span data-stu-id="a2493-151">The XML source supports multiple regular outputs and multiple error outputs.</span></span>  
  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="a2493-152">[!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] include la finestra di dialogo **Editor origine XML**per la configurazione dell'origine XML.</span><span class="sxs-lookup"><span data-stu-id="a2493-152">[!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] includes the **XML Source Edito**r dialog box for configuring the XML source.</span></span> <span data-ttu-id="a2493-153">Questa finestra di dialogo è disponibile in Progettazione [!INCLUDE[ssIS](../../includes/ssis-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="a2493-153">This dialog box is available in [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer.</span></span>  
  
 <span data-ttu-id="a2493-154">È possibile impostare le proprietà tramite Progettazione [!INCLUDE[ssIS](../../includes/ssis-md.md)] o a livello di codice.</span><span class="sxs-lookup"><span data-stu-id="a2493-154">You can set properties through [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer or programmatically.</span></span>  
  
 <span data-ttu-id="a2493-155">Per altre informazioni sulle proprietà che è possibile impostare nella finestra di dialogo **Editor origine XML** , fare clic su uno degli argomenti seguenti:</span><span class="sxs-lookup"><span data-stu-id="a2493-155">For more information about the properties that you can set in the **XML Source Editor** dialog box, click one of the following topics:</span></span>  
  
-   [<span data-ttu-id="a2493-156">Editor origine XML &#40;pagina Gestione connessione&#41;</span><span class="sxs-lookup"><span data-stu-id="a2493-156">XML Source Editor &#40;Connection Manager Page&#41;</span></span>](../xml-source-editor-connection-manager-page.md)  
  
-   [<span data-ttu-id="a2493-157">Editor origine XML &#40;pagina Colonne&#41;</span><span class="sxs-lookup"><span data-stu-id="a2493-157">XML Source Editor &#40;Columns Page&#41;</span></span>](../xml-source-editor-columns-page.md)  
  
-   [<span data-ttu-id="a2493-158">Editor origine XML &#40;pagina Output degli errori&#41;</span><span class="sxs-lookup"><span data-stu-id="a2493-158">XML Source Editor &#40;Error Output Page&#41;</span></span>](../xml-source-editor-error-output-page.md)  
  
 <span data-ttu-id="a2493-159">Nella finestra di dialogo **Editor avanzato** sono disponibili le proprietà che è possibile impostare a livello di codice.</span><span class="sxs-lookup"><span data-stu-id="a2493-159">The **Advanced Editor** dialog box reflects the properties that can be set programmatically.</span></span> <span data-ttu-id="a2493-160">Per ulteriori informazioni sulle proprietà che è possibile impostare nella finestra di dialogo **Editor avanzato** o a livello di codice, fare clic su uno degli argomenti seguenti:</span><span class="sxs-lookup"><span data-stu-id="a2493-160">For more information about the properties that you can set in the **Advanced Editor** dialog box or programmatically, click one of the following topics:</span></span>  
  
-   [<span data-ttu-id="a2493-161">Proprietà comuni</span><span class="sxs-lookup"><span data-stu-id="a2493-161">Common Properties</span></span>](../common-properties.md)  
  
-   [<span data-ttu-id="a2493-162">Proprietà personalizzate dell'origine XML</span><span class="sxs-lookup"><span data-stu-id="a2493-162">XML Source Custom Properties</span></span>](xml-source-custom-properties.md)  
  
 <span data-ttu-id="a2493-163">Per ulteriori informazioni sulle procedure per l'impostazione delle proprietà, fare clic su uno degli argomenti seguenti:</span><span class="sxs-lookup"><span data-stu-id="a2493-163">For more information about how to set the properties, click one of the following topics:</span></span>  
  
-   [<span data-ttu-id="a2493-164">Impostazione delle proprietà di un componente del flusso di dati</span><span class="sxs-lookup"><span data-stu-id="a2493-164">Set the Properties of a Data Flow Component</span></span>](set-the-properties-of-a-data-flow-component.md)  
  
## <a name="related-tasks"></a><span data-ttu-id="a2493-165">Attività correlate</span><span class="sxs-lookup"><span data-stu-id="a2493-165">Related Tasks</span></span>  
 [<span data-ttu-id="a2493-166">Estrazione dei dati tramite l'origine XML</span><span class="sxs-lookup"><span data-stu-id="a2493-166">Extract Data by Using the XML Source</span></span>](xml-source.md)  
  
## <a name="related-content"></a><span data-ttu-id="a2493-167">Contenuto correlato</span><span class="sxs-lookup"><span data-stu-id="a2493-167">Related Content</span></span>  
 <span data-ttu-id="a2493-168">Articolo tecnico relativo all' [uso di un file XML per la configurazione di un pacchetto SSIS](https://www.sqlshack.com/using-xml-file-configure-ssis-package/).</span><span class="sxs-lookup"><span data-stu-id="a2493-168">Technical article, [Using an XML file to configure an SSIS package](https://www.sqlshack.com/using-xml-file-configure-ssis-package/).</span></span>  
  
  
