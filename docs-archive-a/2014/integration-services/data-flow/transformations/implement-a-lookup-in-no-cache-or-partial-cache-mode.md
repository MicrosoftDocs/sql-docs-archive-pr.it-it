---
title: Implementare una ricerca in modalità No Cache o Partial Cache | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
helpviewer_keywords:
- Lookup transformation
- match exactly [Integration Services]
- lookups [Integration Services]
- exact matches [Integration Services]
ms.assetid: 01b7fbca-5181-4d47-9f75-7f25af6b40d2
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 5c3958450d6371299972a69f5312a3c631c853aa
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87636314"
---
# <a name="implement-a-lookup-in-no-cache-or-partial-cache-mode"></a><span data-ttu-id="2f6d6-102">Implementazione di una ricerca in modalità No Cache o Partial Cache</span><span class="sxs-lookup"><span data-stu-id="2f6d6-102">Implement a Lookup in No Cache or Partial Cache Mode</span></span>
  <span data-ttu-id="2f6d6-103">È possibile configurare la trasformazione Ricerca per utilizzare la modalità Partial Cache o No Cache:</span><span class="sxs-lookup"><span data-stu-id="2f6d6-103">You can configure the Lookup transformation to use the partial cache or no cache mode:</span></span>  
  
-   <span data-ttu-id="2f6d6-104">Partial Cache</span><span class="sxs-lookup"><span data-stu-id="2f6d6-104">Partial cache</span></span>  
  
     <span data-ttu-id="2f6d6-105">Le righe con le voci corrispondenti nel set di dati di riferimento e, facoltativamente, le righe senza voci corrispondenti nel set di dati sono archiviate nella cache.</span><span class="sxs-lookup"><span data-stu-id="2f6d6-105">The rows with matching entries in the reference dataset and, optionally, the rows without matching entries in the dataset are stored in cache.</span></span> <span data-ttu-id="2f6d6-106">Quando viene superata la dimensione massima consentita per la memoria della cache, la trasformazione Ricerca rimuove automaticamente dalla cache le righe utilizzate meno frequentemente.</span><span class="sxs-lookup"><span data-stu-id="2f6d6-106">When the memory size of the cache is exceeded, the Lookup transformation automatically removes the least frequently used rows from the cache.</span></span>  
  
-   <span data-ttu-id="2f6d6-107">No Cache</span><span class="sxs-lookup"><span data-stu-id="2f6d6-107">No cache</span></span>  
  
     <span data-ttu-id="2f6d6-108">Non sono stati caricati dati in cache.</span><span class="sxs-lookup"><span data-stu-id="2f6d6-108">No data is loaded into cache.</span></span>  
  
 <span data-ttu-id="2f6d6-109">Se viene selezionata la modalità Partial Cache o No Cache, utilizzare una Gestione connessione OLE DB per collegarsi al set di dati di riferimento.</span><span class="sxs-lookup"><span data-stu-id="2f6d6-109">Whether you select partial cache or no cache, you use an OLE DB connection manager to connect to the reference dataset.</span></span> <span data-ttu-id="2f6d6-110">Il set di dati di riferimento viene generato utilizzando una tabella, una visualizzazione o una query SQL durante l'esecuzione della trasformazione Ricerca</span><span class="sxs-lookup"><span data-stu-id="2f6d6-110">The reference dataset is generated by using a table, view, or SQL query during the execution of the Lookup transformation</span></span>  
  
### <a name="to-implement-a-lookup-transformation-in-no-cache-or-partial-cache-mode"></a><span data-ttu-id="2f6d6-111">Per implementare una trasformazione Ricerca in modalità No Cache o Partial Cache</span><span class="sxs-lookup"><span data-stu-id="2f6d6-111">To implement a Lookup transformation in no cache or partial cache mode</span></span>  
  
1.  <span data-ttu-id="2f6d6-112">In [!INCLUDE[ssBIDevStudioFull](../../../includes/ssbidevstudiofull-md.md)]aprire il progetto di [!INCLUDE[ssISnoversion](../../../includes/ssisnoversion-md.md)] contenente il pacchetto che si desidera utilizzare.</span><span class="sxs-lookup"><span data-stu-id="2f6d6-112">In [!INCLUDE[ssBIDevStudioFull](../../../includes/ssbidevstudiofull-md.md)], open the [!INCLUDE[ssISnoversion](../../../includes/ssisnoversion-md.md)] project that contains the package you want, and then open the package.</span></span>  
  
2.  <span data-ttu-id="2f6d6-113">Nella scheda **Flusso di dati** aggiungere una trasformazione Ricerca.</span><span class="sxs-lookup"><span data-stu-id="2f6d6-113">On the **Data Flow** tab, add a Lookup transformation.</span></span>  
  
3.  <span data-ttu-id="2f6d6-114">Connettere la trasformazione Ricerca al flusso di dati trascinando un connettore da un'origine o una trasformazione precedente alla trasformazione Ricerca.</span><span class="sxs-lookup"><span data-stu-id="2f6d6-114">Connect the Lookup transformation to the data flow by dragging a connector from a source or a previous transformation to the Lookup transformation.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="2f6d6-115">Una trasformazione Ricerca configurata per l'utilizzo in modalità No cache può non essere convalidata se si connette a un file flat che contiene un campo di tipo data vuoto.</span><span class="sxs-lookup"><span data-stu-id="2f6d6-115">A Lookup transformation that is configured to use the no cache mode might not validate if that transformation connects to a flat file that contains an empty date field.</span></span> <span data-ttu-id="2f6d6-116">La convalida della trasformazione varia a seconda che per la gestione connessione relativa al file flat sia configurato o meno il mantenimento dei valori Null.</span><span class="sxs-lookup"><span data-stu-id="2f6d6-116">Whether the transformation validates depends on whether the connection manager for the flat file has been configured to retain null values.</span></span> <span data-ttu-id="2f6d6-117">Per assicurarsi che la Trasformazione Ricerca venga convalidata, in **Editor origine file flat**nella **pagina Gestione connessione**selezionare l'opzione **Mantieni i valori Null dell'origine come valori Null nel flusso di dati** .</span><span class="sxs-lookup"><span data-stu-id="2f6d6-117">To ensure that the Lookup transformation validates, in the **Flat File Source Editor**, on the **Connection Manager Page**, select the **Retain null values from the source as null values in the data flow** option.</span></span>  
  
4.  <span data-ttu-id="2f6d6-118">Fare doppio clic sulla trasformazione di origine o precedente per configurare il componente.</span><span class="sxs-lookup"><span data-stu-id="2f6d6-118">Double-click the source or previous transformation to configure the component.</span></span>  
  
5.  <span data-ttu-id="2f6d6-119">Fare doppio clic sulla trasformazione Ricerca e quindi, in **Editor trasformazione Ricerca**, nella pagina **Generale** , selezionare **Partial cache** o **No cache**.</span><span class="sxs-lookup"><span data-stu-id="2f6d6-119">Double-click the Lookup transformation, and then in the **Lookup Transformation Editor**, on the **General** page, select **Partialcache** or **No cache**.</span></span>  
  
6.  <span data-ttu-id="2f6d6-120">Dall'elenco **Specificare come gestire le righe senza voci corrispondenti** selezionare un'opzione di gestione degli errori.</span><span class="sxs-lookup"><span data-stu-id="2f6d6-120">For **Specify how to handle rows with no matching entries** list, select an error handling option from the list.</span></span>  
  
7.  <span data-ttu-id="2f6d6-121">Nella pagina **Connessione** selezionare una gestione connessione dall'elenco **Gestione connessione OLE DB** o fare clic su **Nuova** per creare una nuova gestione connessione.</span><span class="sxs-lookup"><span data-stu-id="2f6d6-121">On the **Connection** page, select a connection manager from the **OLE DB connection manager** list or click **New** to create a new connection manager.</span></span> <span data-ttu-id="2f6d6-122">Per altre informazioni, vedere [Gestione connessione OLE DB](../../connection-manager/ole-db-connection-manager.md).</span><span class="sxs-lookup"><span data-stu-id="2f6d6-122">For more information, see [OLE DB Connection Manager](../../connection-manager/ole-db-connection-manager.md).</span></span>  
  
8.  <span data-ttu-id="2f6d6-123">Eseguire uno dei passaggi seguenti:</span><span class="sxs-lookup"><span data-stu-id="2f6d6-123">Do one of the following steps:</span></span>  
  
    -   <span data-ttu-id="2f6d6-124">Fare clic su **Usa una tabella o una vista**, quindi selezionare una tabella o una vista oppure fare clic su **Nuova** per creare una tabella o una vista.</span><span class="sxs-lookup"><span data-stu-id="2f6d6-124">Click **Use a table or a view**, and then either select a table or view, or click **New** to create a table or view.</span></span>  
  
    -   <span data-ttu-id="2f6d6-125">Fare clic su **Usa i risultati di una query SQL**e quindi compilare una query nella finestra **Comando SQL** .</span><span class="sxs-lookup"><span data-stu-id="2f6d6-125">Click **Use results of an SQL query**, and then build a query in the **SQL Command** window.</span></span>  
  
         <span data-ttu-id="2f6d6-126">-oppure-</span><span class="sxs-lookup"><span data-stu-id="2f6d6-126">-or-</span></span>  
  
         <span data-ttu-id="2f6d6-127">Fare clic su **Compila query** per compilare una query usando gli strumenti grafici forniti da **Generatore query** .</span><span class="sxs-lookup"><span data-stu-id="2f6d6-127">Click **Build Query** to build a query by using the graphical tools that the **Query Builder** provides.</span></span>  
  
         <span data-ttu-id="2f6d6-128">-oppure-</span><span class="sxs-lookup"><span data-stu-id="2f6d6-128">-or-</span></span>  
  
         <span data-ttu-id="2f6d6-129">Fare clic su **Sfoglia** per importare un'istruzione SQL da un file.</span><span class="sxs-lookup"><span data-stu-id="2f6d6-129">Click **Browse** to import an SQL statement from a file.</span></span>  
  
     <span data-ttu-id="2f6d6-130">Per convalidare la query SQL, fare clic su **Analizza query**.</span><span class="sxs-lookup"><span data-stu-id="2f6d6-130">To validate the SQL query, click **Parse Query**.</span></span>  
  
     <span data-ttu-id="2f6d6-131">Per visualizzare un campione di dati, fare clic su **Anteprima**.</span><span class="sxs-lookup"><span data-stu-id="2f6d6-131">To view a sample of the data, click **Preview**.</span></span>  
  
9. <span data-ttu-id="2f6d6-132">Fare clic sulla pagina **Colonne** e trascinare almeno una colonna dall'elenco **Colonne di input disponibili** a una colonna dell'elenco **Colonne di ricerca disponibili** .</span><span class="sxs-lookup"><span data-stu-id="2f6d6-132">Click the **Columns** page, and then drag at least one column from the **Available Input Columns** list to a column in the **Available Lookup Column** list.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="2f6d6-133">La trasformazione Ricerca esegue automaticamente il mapping delle colonne con lo stesso nome e lo stesso tipo di dati.</span><span class="sxs-lookup"><span data-stu-id="2f6d6-133">The Lookup transformation automatically maps columns that have the same name and the same data type.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="2f6d6-134">È possibile eseguire il mapping solo di colonne con tipi di dati corrispondenti.</span><span class="sxs-lookup"><span data-stu-id="2f6d6-134">Columns must have matching data types to be mapped.</span></span> <span data-ttu-id="2f6d6-135">Per altre informazioni, vedere [Tipi di dati di Integration Services](../integration-services-data-types.md).</span><span class="sxs-lookup"><span data-stu-id="2f6d6-135">For more information, see [Integration Services Data Types](../integration-services-data-types.md).</span></span>  
  
10. <span data-ttu-id="2f6d6-136">Includere colonne di ricerca nell'output eseguendo le operazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="2f6d6-136">Include lookup columns in the output by doing the following steps:</span></span>  
  
    1.  <span data-ttu-id="2f6d6-137">Selezionare le colonne desiderate dall'elenco **Colonne di ricerca disponibili** .</span><span class="sxs-lookup"><span data-stu-id="2f6d6-137">From the **Available Lookup Columns** list, select columns.</span></span>  
  
    2.  <span data-ttu-id="2f6d6-138">Nell'elenco **Operazione di ricerca** specificare se i valori dalle colonne di ricerca sostituiscono quelli nella colonna di input o vengono scritti in una nuova colonna.</span><span class="sxs-lookup"><span data-stu-id="2f6d6-138">In **Lookup Operation** list, specify whether the values from the lookup columns replace values in the input column or are written to a new column.</span></span>  
  
11. <span data-ttu-id="2f6d6-139">Se al passaggio 5 è stato selezionato **Partial cache** , nella pagina **Avanzate** impostare le opzioni della cache seguenti:</span><span class="sxs-lookup"><span data-stu-id="2f6d6-139">If you selected **Partial cache** in step 5, on the **Advanced** page, set the following cache options:</span></span>  
  
    -   <span data-ttu-id="2f6d6-140">Dall'elenco **Dimensioni cache (32 bit)** selezionare le dimensioni cache per gli ambienti a 32 bit.</span><span class="sxs-lookup"><span data-stu-id="2f6d6-140">From the **Cache size (32-bit)** list, select the cache size for 32-bit environments.</span></span>  
  
    -   <span data-ttu-id="2f6d6-141">Dall'elenco **Dimensioni cache (64 bit)** selezionare le dimensioni cache per gli ambienti a 64 bit.</span><span class="sxs-lookup"><span data-stu-id="2f6d6-141">From the **Cache size (64-bit)** list, select the cache size for 64-bit environments.</span></span>  
  
    -   <span data-ttu-id="2f6d6-142">Per memorizzare nella cache le righe senza voci corrispondenti nel riferimento, selezionare **Attiva cache per righe senza voci corrispondenti**.</span><span class="sxs-lookup"><span data-stu-id="2f6d6-142">To cache the rows without matching entries in the reference, select **Enable cache for rows with no matching entries**.</span></span>  
  
    -   <span data-ttu-id="2f6d6-143">Dall'elenco **Allocazione dalla cache** selezionare la percentuale della cache da usare per archiviare le righe senza voci corrispondenti.</span><span class="sxs-lookup"><span data-stu-id="2f6d6-143">From the **Allocation from cache** list, select the percentage of the cache to use to store the rows without matching entries.</span></span>  
  
12. <span data-ttu-id="2f6d6-144">Per modificare l'istruzione SQL che genera il set di dati di riferimento, selezionare **Modifica istruzione SQL**e modificare l'istruzione SQL visualizzata nella casella di testo.</span><span class="sxs-lookup"><span data-stu-id="2f6d6-144">To modify the SQL statement that generates the reference dataset, select **Modify the SQL statement**, and change the SQL statement displayed in the text box.</span></span>  
  
     <span data-ttu-id="2f6d6-145">Se l'istruzione include parametri, fare clic su **Parametri** per eseguire il mapping dei parametri alle colonne di input.</span><span class="sxs-lookup"><span data-stu-id="2f6d6-145">If the statement includes parameters, click **Parameters** to map the parameters to input columns.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="2f6d6-146">L'istruzione SQL facoltativa specificata in questa pagina sostituisce il nome tabella specificato nella pagina **Connessione** di **Editor trasformazione Ricerca**.</span><span class="sxs-lookup"><span data-stu-id="2f6d6-146">The optional SQL statement that you specify on this page overrides and replaces the table name that you specified on the **Connection** page of the **Lookup Transformation Editor**.</span></span>  
  
13. <span data-ttu-id="2f6d6-147">Per configurare l'output degli errori, fare clic sulla pagina **Output errori** e impostare le opzioni di gestione degli errori.</span><span class="sxs-lookup"><span data-stu-id="2f6d6-147">To configure the error output, click the **Error Output** page and set the error handling options.</span></span> <span data-ttu-id="2f6d6-148">Per altre informazioni, vedere [Editor trasformazione Ricerca &#40;pagina Output degli errori&#41;](../../lookup-transformation-editor-error-output-page.md).</span><span class="sxs-lookup"><span data-stu-id="2f6d6-148">For more information, see [Lookup Transformation Editor &#40;Error Output Page&#41;](../../lookup-transformation-editor-error-output-page.md).</span></span>  
  
14. <span data-ttu-id="2f6d6-149">Fare clic su **OK** per salvare le modifiche alla trasformazione Ricerca, quindi eseguire il pacchetto.</span><span class="sxs-lookup"><span data-stu-id="2f6d6-149">Click **OK** to save your changes to the Lookup transformation, and then run the package.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="2f6d6-150">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="2f6d6-150">See Also</span></span>  
 [<span data-ttu-id="2f6d6-151">Trasformazioni di Integration Services</span><span class="sxs-lookup"><span data-stu-id="2f6d6-151">Integration Services Transformations</span></span>](integration-services-transformations.md)  
  
  
