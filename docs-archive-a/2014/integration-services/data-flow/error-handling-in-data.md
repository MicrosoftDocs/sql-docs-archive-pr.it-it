---
title: Gestione degli errori nei dati | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
helpviewer_keywords:
- truncating data
- data conversion errors [Integration Services]
- errors [Integration Services], data flow components
- lookups [Integration Services]
- errors [Integration Services]
- errors [Integration Services], data flow outputs
- error outputs [Integration Services]
- data flow [Integration Services], errors
- expressions [Integration Services], errors
ms.assetid: c61667b4-25cb-4d45-a52f-a733e32863f4
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 442ecc68fc352d50955af9302fbcedf77ba36338
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87726136"
---
# <a name="error-handling-in-data"></a><span data-ttu-id="1449a-102">Gestione degli errori nei dati</span><span class="sxs-lookup"><span data-stu-id="1449a-102">Error Handling in Data</span></span>
  <span data-ttu-id="1449a-103">Quando tramite un componente flusso di dati viene applicata una trasformazione ai dati delle colonne, vengono estratti dati dalle origini o vengono caricati dati nelle destinazioni, possono verificarsi errori.</span><span class="sxs-lookup"><span data-stu-id="1449a-103">When a data flow component applies a transformation to column data, extracts data from sources, or loads data into destinations, errors can occur.</span></span> <span data-ttu-id="1449a-104">Gli errori sono spesso dovuti alla presenza di valori non previsti.</span><span class="sxs-lookup"><span data-stu-id="1449a-104">Errors frequently occur because of unexpected data values.</span></span> <span data-ttu-id="1449a-105">Una conversione di dati può ad esempio avere esito negativo perché una colonna contiene una stringa anziché un numero, un inserimento in una colonna di database può avere esito negativo perché i dati rappresentano una data mentre la colonna ha un tipo di dati numeric oppure la valutazione di un'espressione può avere esito negativo perché il valore di una colonna è zero e dà luogo a un'operazione matematica non valida.</span><span class="sxs-lookup"><span data-stu-id="1449a-105">For example, a data conversion fails because a column contains a string instead of a number, an insertion into a database column fails because the data is a date and the column has a numeric data type, or an expression fails to evaluate because a column value is zero, resulting in a mathematical operation that is not valid.</span></span>  
  
 <span data-ttu-id="1449a-106">Gli errori rientrano in genere nelle categorie seguenti:</span><span class="sxs-lookup"><span data-stu-id="1449a-106">Errors typically fall into one the following categories:</span></span>  
  
-   <span data-ttu-id="1449a-107">Errori di conversione dei dati, che si verificano se una conversione comporta la perdita di cifre significative o non significative oppure il troncamento di una stringa.</span><span class="sxs-lookup"><span data-stu-id="1449a-107">Data conversion errors, which occur if a conversion results in loss of significant digits, the loss of insignificant digits, and the truncation of strings.</span></span> <span data-ttu-id="1449a-108">Gli errori di conversione dei dati si verificano anche quando la conversione richiesta non è supportata.</span><span class="sxs-lookup"><span data-stu-id="1449a-108">Data conversion errors also occur if the requested conversion is not supported.</span></span>  
  
-   <span data-ttu-id="1449a-109">Errori di valutazione delle espressioni, che si verificano se le espressioni che vengono valutate in fase di esecuzione eseguono operazioni non valide o non risultano sintatticamente corrette a causa di valori mancanti o errati.</span><span class="sxs-lookup"><span data-stu-id="1449a-109">Expression evaluation errors, which occur if expressions that are evaluated at run time perform invalid operations or become syntactically incorrect because of missing or incorrect data values.</span></span>  
  
-   <span data-ttu-id="1449a-110">Errori di ricerca, che si verificano se un'operazione di ricerca non trova una corrispondenza nella tabella di ricerca.</span><span class="sxs-lookup"><span data-stu-id="1449a-110">Lookup errors, which occur if a lookup operation fails to locate a match in the lookup table.</span></span>  
  
 <span data-ttu-id="1449a-111">Molti componenti dei flussi di dati supportano output degli errori che consentono di controllare la modalità di gestione degli errori a livello di riga nei dati in ingresso e in uscita.</span><span class="sxs-lookup"><span data-stu-id="1449a-111">Many data flow components support error outputs, which let you control how the component handles row-level errors in both incoming and outgoing data.</span></span> <span data-ttu-id="1449a-112">È possibile specificare il comportamento che dovrà avere il componente in caso di troncamento o errore impostando opzioni sulle singole colonne di input o di output.</span><span class="sxs-lookup"><span data-stu-id="1449a-112">You specify how the component behaves when truncation or an error occurs by setting options on individual columns in the input or output.</span></span> <span data-ttu-id="1449a-113">È ad esempio possibile specificare che il componente dovrà generare un errore se il nome di un cliente viene troncato, mentre gli errori relativi ad altre colonne contenenti dati meno importanti potranno essere ignorati.</span><span class="sxs-lookup"><span data-stu-id="1449a-113">For example, you can specify that the component should fail if customer name data is truncated, but ignore errors on another column that contains less important data.</span></span>  
  
 <span data-ttu-id="1449a-114">L'output degli errori può essere connesso all'input di un'altra trasformazione o caricato in una destinazione diversa da quella dell'output non degli errori.</span><span class="sxs-lookup"><span data-stu-id="1449a-114">The error output can be connected to the input of another transformation or loaded into a different destination than the non-error output.</span></span> <span data-ttu-id="1449a-115">L'output degli errori può ad esempio essere connesso a una trasformazione Colonna derivata che fornisce una stringa per una colonna vuota.</span><span class="sxs-lookup"><span data-stu-id="1449a-115">For example, the error output can be a connected to a Derived Column transformation that provides a string for a column that is blank.</span></span>  
  
 <span data-ttu-id="1449a-116">Nella figura seguente viene illustrato un semplice flusso di dati che include un output degli errori.</span><span class="sxs-lookup"><span data-stu-id="1449a-116">The following diagram shows a simple data flow including an error output.</span></span>  
  
 <span data-ttu-id="1449a-117">![Flusso di dati con output degli errori](../media/mw-dts-11.gif "Flusso di dati con output degli errori")</span><span class="sxs-lookup"><span data-stu-id="1449a-117">![Data flow with error output](../media/mw-dts-11.gif "Data flow with error output")</span></span>  
  
 <span data-ttu-id="1449a-118">Oltre alle colonne di dati, l'output degli errori include anche le colonne **ErrorCode** ed **ErrorColumn** .</span><span class="sxs-lookup"><span data-stu-id="1449a-118">In addition to the data columns, the error output includes the **ErrorCode** and **ErrorColumn** columns.</span></span> <span data-ttu-id="1449a-119">La colonna **ErrorCode** identifica l'errore, mentre la colonna **ErrorColumn** contiene l'identificatore di derivazione della colonna degli errori.</span><span class="sxs-lookup"><span data-stu-id="1449a-119">The **ErrorCode** column identifies the error and the **ErrorColumn** contains the lineage identifier of the error column.</span></span> <span data-ttu-id="1449a-120">Per visualizzare i metadati di queste colonne, fare clic sul percorso che connette l'output degli errori al componente successivo nel flusso di dati.</span><span class="sxs-lookup"><span data-stu-id="1449a-120">To view the metadata of these columns, click the path that connects the error output to the next component in the data flow.</span></span> <span data-ttu-id="1449a-121">In alcune circostanze il valore della colonna **ErrorColumn** è impostato su zero.</span><span class="sxs-lookup"><span data-stu-id="1449a-121">Under some circumstances, the value of the **ErrorColumn** column is set to zero.</span></span> <span data-ttu-id="1449a-122">Questa situazione si verifica quando la condizione di errore interessa l'intera riga anziché una singola colonna,</span><span class="sxs-lookup"><span data-stu-id="1449a-122">This occurs when the error condition affects the entire row instead of a single column.</span></span> <span data-ttu-id="1449a-123">ad esempio quando nella trasformazione Ricerca una ricerca non riesce.</span><span class="sxs-lookup"><span data-stu-id="1449a-123">An example is when a lookup fails in the Lookup transformation.</span></span>  
  
 <span data-ttu-id="1449a-124">Per altre informazioni, vedere [Flusso di dati](data-flow.md) e [Percorsi in Integration Services](integration-services-paths.md).</span><span class="sxs-lookup"><span data-stu-id="1449a-124">For more information, see [Data Flow](data-flow.md) and [Integration Services Paths](integration-services-paths.md).</span></span>  
  
 <span data-ttu-id="1449a-125">Per un elenco di errori, avvisi e altri messaggi di Integration Services, vedere [Guida di riferimento ai messaggi e agli errori di Integration Services](../integration-services-error-and-message-reference.md).</span><span class="sxs-lookup"><span data-stu-id="1449a-125">For a list of Integration Services errors, warnings, and other messages, see [Integration Services Error and Message Reference](../integration-services-error-and-message-reference.md).</span></span>  
  
## <a name="error-and-truncation-options"></a><span data-ttu-id="1449a-126">Opzioni relative a errori e troncamenti</span><span class="sxs-lookup"><span data-stu-id="1449a-126">Error and Truncation Options</span></span>  
 <span data-ttu-id="1449a-127">Gli errori possono essere suddivisi in due categorie: errori o troncamenti.</span><span class="sxs-lookup"><span data-stu-id="1449a-127">Errors fall into one of two categories: errors or truncations.</span></span> <span data-ttu-id="1449a-128">Un errore indica un problema certo e genera un risultato NULL.</span><span class="sxs-lookup"><span data-stu-id="1449a-128">An error indicates an unequivocal failure, and generates a NULL result.</span></span> <span data-ttu-id="1449a-129">Rientrano in questa categoria ad esempio gli errori di conversione dei dati e gli errori di valutazione delle espressioni.</span><span class="sxs-lookup"><span data-stu-id="1449a-129">Such errors can include data conversion errors or expression evaluation errors.</span></span> <span data-ttu-id="1449a-130">Un errore può essere ad esempio causato dal tentativo di convertire in un numero una stringa che contiene caratteri alfabetici.</span><span class="sxs-lookup"><span data-stu-id="1449a-130">For example, an attempt to convert a string that contains alphabetical characters to a number causes an error.</span></span> <span data-ttu-id="1449a-131">Le conversioni di dati, le valutazioni delle espressioni e le assegnazioni dei risultati delle espressioni a variabili, proprietà e colonne di dati può avere esito negativo a causa di cast non validi o tipi di dati non compatibili.</span><span class="sxs-lookup"><span data-stu-id="1449a-131">Data conversions, expression evaluations, and assignments of expression results to variables, properties, and data columns may fail because of illegal casts and incompatible data types.</span></span> <span data-ttu-id="1449a-132">Per altre informazioni, vedere [Cast &#40;espressione SSIS&#41;](../expressions/cast-ssis-expression.md), [Tipi di dati nelle espressioni di Integration Services](../expressions/integration-services-data-types-in-expressions.md) e [Tipi di dati di Integration Services](integration-services-data-types.md).</span><span class="sxs-lookup"><span data-stu-id="1449a-132">For more information see, [Cast &#40;SSIS Expression&#41;](../expressions/cast-ssis-expression.md), [Integration Services Data Types in Expressions](../expressions/integration-services-data-types-in-expressions.md), and [Integration Services Data Types](integration-services-data-types.md).</span></span>  
  
 <span data-ttu-id="1449a-133">Un troncamento è meno grave di un errore.</span><span class="sxs-lookup"><span data-stu-id="1449a-133">A truncation is less serious than an error.</span></span> <span data-ttu-id="1449a-134">Il troncamento genera risultati che possono essere utilizzabili se non addirittura utili.</span><span class="sxs-lookup"><span data-stu-id="1449a-134">A truncation generates results that might be usable or even desirable.</span></span> <span data-ttu-id="1449a-135">Si può scegliere se considerare i troncamenti come errori o come condizioni accettabili.</span><span class="sxs-lookup"><span data-stu-id="1449a-135">You can elect to treat truncations as errors or as acceptable conditions.</span></span> <span data-ttu-id="1449a-136">Se ad esempio si inserisce una stringa di 15 caratteri in una colonna con larghezza di un carattere, si può scegliere di troncare la stringa.</span><span class="sxs-lookup"><span data-stu-id="1449a-136">For example, if you are inserting a 15-character string into a column that is only one character wide, you can elect to truncate the string.</span></span>  
  
 <span data-ttu-id="1449a-137">È possibile configurare la modalità di gestione di errori e troncamenti utilizzata da origini, trasformazioni e destinazioni.</span><span class="sxs-lookup"><span data-stu-id="1449a-137">You can configure how sources, transformations, and destinations handle errors and truncations.</span></span> <span data-ttu-id="1449a-138">Nella tabella seguente vengono descritte le opzioni disponibili.</span><span class="sxs-lookup"><span data-stu-id="1449a-138">The following table describes the options.</span></span>  
  
|<span data-ttu-id="1449a-139">Opzione</span><span class="sxs-lookup"><span data-stu-id="1449a-139">Option</span></span>|<span data-ttu-id="1449a-140">Descrizione</span><span class="sxs-lookup"><span data-stu-id="1449a-140">Description</span></span>|  
|------------|-----------------|  
|<span data-ttu-id="1449a-141">Interrompi componente</span><span class="sxs-lookup"><span data-stu-id="1449a-141">Fail Component</span></span>|<span data-ttu-id="1449a-142">Quando si verifica un errore o un troncamento l'attività Flusso di dati viene interrotta.</span><span class="sxs-lookup"><span data-stu-id="1449a-142">The Data Flow task fails when an error or a truncation occurs.</span></span> <span data-ttu-id="1449a-143">Questa è l'opzione predefinita per errori e troncamenti.</span><span class="sxs-lookup"><span data-stu-id="1449a-143">Failure is the default option for an error and a truncation.</span></span>|  
|<span data-ttu-id="1449a-144">Ignora errore</span><span class="sxs-lookup"><span data-stu-id="1449a-144">Ignore Failure</span></span>|<span data-ttu-id="1449a-145">L'errore o il troncamento viene ignorato e la riga di dati viene indirizzata all'output della trasformazione o dell'origine.</span><span class="sxs-lookup"><span data-stu-id="1449a-145">The error or the truncation is ignored and the data row is directed to the output of the transformation or source.</span></span>|  
|<span data-ttu-id="1449a-146">Reindirizza riga</span><span class="sxs-lookup"><span data-stu-id="1449a-146">Redirect Row</span></span>|<span data-ttu-id="1449a-147">La riga di dati contenente l'errore o il troncamento viene inviata all'output degli errori dell'origine, della trasformazione o della destinazione.</span><span class="sxs-lookup"><span data-stu-id="1449a-147">The error or the truncation data row is directed to the error output of the source, transformation, or destination.</span></span>|  
  
## <a name="adding-the-error-description"></a><span data-ttu-id="1449a-148">Aggiunta della descrizione dell'errore</span><span class="sxs-lookup"><span data-stu-id="1449a-148">Adding the Error Description</span></span>  
 <span data-ttu-id="1449a-149">Per impostazione predefinita l'output egli errori include il codice numerico dell'errore e contiene in genere l'identificatore della colonna in cui si è verificato l'errore.</span><span class="sxs-lookup"><span data-stu-id="1449a-149">By default an error output provides the numeric error code and usually contains the identifier of the column in which the error occurred.</span></span> <span data-ttu-id="1449a-150">È possibile utilizzare il componente script per includere la descrizione dell'errore in una colonna aggiuntiva, utilizzando una singola riga di script per chiamare il metodo <xref:Microsoft.SqlServer.Dts.Pipeline.Wrapper.IDTSComponentMetaData100.GetErrorDescription%2A> dell'interfaccia <xref:Microsoft.SqlServer.Dts.Pipeline.Wrapper.IDTSComponentMetaData100>.</span><span class="sxs-lookup"><span data-stu-id="1449a-150">You can use the Script component to include the error description in an additional column by using a single line of script to call the <xref:Microsoft.SqlServer.Dts.Pipeline.Wrapper.IDTSComponentMetaData100.GetErrorDescription%2A> method of the <xref:Microsoft.SqlServer.Dts.Pipeline.Wrapper.IDTSComponentMetaData100> interface.</span></span>  
  
 <span data-ttu-id="1449a-151">Il componente script può essere aggiunto al segmento del flusso di dati relativo agli errori, in qualsiasi punto a valle dei componenti del flusso di dati di cui si desidera acquisire gli errori, ma viene in genere collocato immediatamente prima della scrittura delle righe di errore in una destinazione.</span><span class="sxs-lookup"><span data-stu-id="1449a-151">The Script component can be added to the error segment of the data flow anywhere downstream from the data flow components whose errors that you want to capture, but is typically placed immediately before the error rows are written to a destination.</span></span> <span data-ttu-id="1449a-152">In questo modo, lo script cerca solo le descrizioni relative alle righe di errore da scrivere.</span><span class="sxs-lookup"><span data-stu-id="1449a-152">This way, the script looks up only descriptions for error rows that are written.</span></span> <span data-ttu-id="1449a-153">Se ad esempio il segmento del flusso di dati relativo agli errori corregge alcuni errori, le relative righe di errore non verranno scritte in una destinazione degli errori.</span><span class="sxs-lookup"><span data-stu-id="1449a-153">For example, the error segment of the data flow may correct some errors and not write those rows to an error destination.</span></span> <span data-ttu-id="1449a-154">Per ulteriori informazioni, vedere [ottimizzazione di un output degli errori con il componente script](../extending-packages-scripting-data-flow-script-component-examples/enhancing-an-error-output-with-the-script-component.md).</span><span class="sxs-lookup"><span data-stu-id="1449a-154">For more information, see [Enhancing an Error Output with the Script Component](../extending-packages-scripting-data-flow-script-component-examples/enhancing-an-error-output-with-the-script-component.md).</span></span>  
  
### <a name="to-configure-an-error-output"></a><span data-ttu-id="1449a-155">Per configurare un output degli errori</span><span class="sxs-lookup"><span data-stu-id="1449a-155">To configure an error output</span></span>  
  
-   [<span data-ttu-id="1449a-156">Configurazione di un output degli errori in un componente del flusso di dati</span><span class="sxs-lookup"><span data-stu-id="1449a-156">Configure an Error Output in a Data Flow Component</span></span>](../configure-an-error-output-in-a-data-flow-component.md)  
  
## <a name="see-also"></a><span data-ttu-id="1449a-157">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="1449a-157">See Also</span></span>  
 <span data-ttu-id="1449a-158">[Flusso di dati](data-flow.md) </span><span class="sxs-lookup"><span data-stu-id="1449a-158">[Data Flow](data-flow.md) </span></span>  
 <span data-ttu-id="1449a-159">[Trasformazione di dati con le trasformazioni](transformations/transform-data-with-transformations.md) </span><span class="sxs-lookup"><span data-stu-id="1449a-159">[Transform Data with Transformations](transformations/transform-data-with-transformations.md) </span></span>  
 <span data-ttu-id="1449a-160">[Connessione di componenti con i percorsi](../connect-components-with-paths.md) </span><span class="sxs-lookup"><span data-stu-id="1449a-160">[Connect Components with Paths](../connect-components-with-paths.md) </span></span>  
 <span data-ttu-id="1449a-161">[Attività Flusso di dati](../control-flow/data-flow-task.md) </span><span class="sxs-lookup"><span data-stu-id="1449a-161">[Data Flow Task](../control-flow/data-flow-task.md) </span></span>  
 [<span data-ttu-id="1449a-162">Flusso di dati</span><span class="sxs-lookup"><span data-stu-id="1449a-162">Data Flow</span></span>](data-flow.md)  
  
  
