---
title: Attività di caricamento di Azure SQL DW | Microsoft Docs
ms.custom: ''
ms.date: 12/29/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
f1_keywords:
- SQL12.DTS.DESIGNER.AFPDWUPTASK.F1
- SQL11.DTS.DESIGNER.AFPDWUPTASK.F1
ms.assetid: 112cf764-f85a-4c1a-b732-d299d717c0d4
author: yualan
ms.author: chugu
ms.openlocfilehash: d90cc36b5e8beb35313b76ecef2ed95f065dcb89
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87625526"
---
# <a name="azure-sql-dw-upload-task"></a><span data-ttu-id="51ce7-102">Attività di caricamento di Azure SQL DW</span><span class="sxs-lookup"><span data-stu-id="51ce7-102">Azure SQL DW Upload Task</span></span>
<span data-ttu-id="51ce7-103">L' **attività di caricamento di Azure SQL DW** consente a un pacchetto SSIS di caricare i dati locali in una tabella in Azure SQL Data Warehouse (DW).</span><span class="sxs-lookup"><span data-stu-id="51ce7-103">The **Azure SQL DW Upload Task** enables an SSIS package to upload local data to a table in Azure SQL Data Warehouse (DW).</span></span> <span data-ttu-id="51ce7-104">Il formato di file dei dati di origine attualmente supportato è testo delimitato in codifica UTF8.</span><span class="sxs-lookup"><span data-stu-id="51ce7-104">The currently supported source data file format is delimited text in UTF8 encoding.</span></span> <span data-ttu-id="51ce7-105">Il processo di caricamento segue l'approccio di polibase efficiente.</span><span class="sxs-lookup"><span data-stu-id="51ce7-105">The uploading process follows the efficient PolyBase approach.</span></span> <span data-ttu-id="51ce7-106">In particolare, i dati vengono prima caricati in Archiviazione BLOB di Azure e poi in Azure SQL DW.</span><span class="sxs-lookup"><span data-stu-id="51ce7-106">Specifically, data will first be uploaded to Azure Blob Storage, and then to Azure SQL DW.</span></span> <span data-ttu-id="51ce7-107">Per usare questa attività, è quindi necessario un account di Archiviazione BLOB di Azure.</span><span class="sxs-lookup"><span data-stu-id="51ce7-107">Therefore, an Azure Blob Storage account is needed to use this task.</span></span>

<span data-ttu-id="51ce7-108">Per aggiungere un' **attività di caricamento di Azure SQL DW**, trascinare l'attività da Casella degli strumenti SSIS nei canvas di progettazione, fare doppio clic o fare clic con il pulsante destro del mouse e selezionare **Modifica** per visualizzare la finestra di dialogo dell'editor dell'attività.</span><span class="sxs-lookup"><span data-stu-id="51ce7-108">To add an **Azure SQL DW Upload Task**, drag-drop it from SSIS Toolbox to the designer canvas, and double-click or right-click and click **Edit** to see the task editor dialog box.</span></span>

<span data-ttu-id="51ce7-109">Nella pagina **Generale** configurare le proprietà seguenti.</span><span class="sxs-lookup"><span data-stu-id="51ce7-109">On the **General** page, configure the following properties.</span></span>

<span data-ttu-id="51ce7-110">Campo</span><span class="sxs-lookup"><span data-stu-id="51ce7-110">Field</span></span>|<span data-ttu-id="51ce7-111">Descrizione</span><span class="sxs-lookup"><span data-stu-id="51ce7-111">Description</span></span>
-----|-----------
<span data-ttu-id="51ce7-112">LocalDirectory</span><span class="sxs-lookup"><span data-stu-id="51ce7-112">LocalDirectory</span></span>|<span data-ttu-id="51ce7-113">Specifica la directory locale che contiene i file di dati da caricare.</span><span class="sxs-lookup"><span data-stu-id="51ce7-113">Specifies the local directory that contains the data files to be uploaded.</span></span>
<span data-ttu-id="51ce7-114">Recursively (Ricorsivo)</span><span class="sxs-lookup"><span data-stu-id="51ce7-114">Recursively</span></span>|<span data-ttu-id="51ce7-115">Specifica se eseguire una ricerca ricorsiva delle sottodirectory.</span><span class="sxs-lookup"><span data-stu-id="51ce7-115">Specifies whether to recursively search sub-directories.</span></span>
<span data-ttu-id="51ce7-116">FileName</span><span class="sxs-lookup"><span data-stu-id="51ce7-116">FileName</span></span>|<span data-ttu-id="51ce7-117">Specifica un filtro per nome per selezionare i file con un determinato modello di nome.</span><span class="sxs-lookup"><span data-stu-id="51ce7-117">Specifies a name filter to select files with certain name pattern.</span></span> <span data-ttu-id="51ce7-118">ad esempio</span><span class="sxs-lookup"><span data-stu-id="51ce7-118">E.g.</span></span> <span data-ttu-id="51ce7-119">Foglio\*.xsl\* includerà file come Foglio001.xls e FoglioABC.xlsx.</span><span class="sxs-lookup"><span data-stu-id="51ce7-119">MySheet\*.xsl\* will include files such as MySheet001.xsl and MySheetABC.xslx.</span></span>
<span data-ttu-id="51ce7-120">RowDelimiter</span><span class="sxs-lookup"><span data-stu-id="51ce7-120">RowDelimiter</span></span>|<span data-ttu-id="51ce7-121">Specifica il carattere che contrassegna la fine di ogni riga.</span><span class="sxs-lookup"><span data-stu-id="51ce7-121">Specifies the character(s) that marks the end of each row.</span></span>
<span data-ttu-id="51ce7-122">ColumnDelimiter</span><span class="sxs-lookup"><span data-stu-id="51ce7-122">ColumnDelimiter</span></span>|<span data-ttu-id="51ce7-123">Specifica uno o più caratteri che contrassegnano la fine di ogni colonna.</span><span class="sxs-lookup"><span data-stu-id="51ce7-123">Specifies one or more characters that mark the end of each column.</span></span> <span data-ttu-id="51ce7-124">ad esempio</span><span class="sxs-lookup"><span data-stu-id="51ce7-124">E.g.</span></span> <span data-ttu-id="51ce7-125">&#124; (barra verticale), \t (TAB), ' (virgoletta singola), " (virgoletta doppia) e 0x5c (barra rovesciata).</span><span class="sxs-lookup"><span data-stu-id="51ce7-125">&#124; (pipe), \t (tab), ' (single quote), " (double quote), and 0x5c (backslash).</span></span>
<span data-ttu-id="51ce7-126">IsFirstRowHeader</span><span class="sxs-lookup"><span data-stu-id="51ce7-126">IsFirstRowHeader</span></span>|<span data-ttu-id="51ce7-127">Specifica se la prima riga in ogni file di dati contiene nomi di colonna anziché dati effettivi.</span><span class="sxs-lookup"><span data-stu-id="51ce7-127">Specifies whether the first row in each data file contains column names instead of actual data.</span></span>
<span data-ttu-id="51ce7-128">AzureStorageConnection</span><span class="sxs-lookup"><span data-stu-id="51ce7-128">AzureStorageConnection</span></span>|<span data-ttu-id="51ce7-129">Specifica una gestione connessione di Archiviazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="51ce7-129">Specifies an Azure Storage connection manager.</span></span>
<span data-ttu-id="51ce7-130">BlobContainer</span><span class="sxs-lookup"><span data-stu-id="51ce7-130">BlobContainer</span></span>|<span data-ttu-id="51ce7-131">Specifica il nome di un contenitore BLOB in cui i dati locali verranno caricati e inoltrati ad Azure DW tramite PolyBase.</span><span class="sxs-lookup"><span data-stu-id="51ce7-131">Specifies the name of blob container to which local data will be uploaded and relayed to Azure DW via PolyBase.</span></span> <span data-ttu-id="51ce7-132">Se il contenitore non esiste, ne verrà creato uno nuovo.</span><span class="sxs-lookup"><span data-stu-id="51ce7-132">A new container will be created if it does not exist.</span></span>
<span data-ttu-id="51ce7-133">BlobDirectory</span><span class="sxs-lookup"><span data-stu-id="51ce7-133">BlobDirectory</span></span>|<span data-ttu-id="51ce7-134">Specifica la directory BLOB, vale a dire una struttura gerarchica virtuale, in cui i dati locali verranno caricati e inoltrati ad Azure DW tramite PolyBase.</span><span class="sxs-lookup"><span data-stu-id="51ce7-134">Specifies the blob directory (virtual hierarchical structure) to which local data will be uploaded and relayed to Azure DW via PolyBase.</span></span>
<span data-ttu-id="51ce7-135">RetainFiles</span><span class="sxs-lookup"><span data-stu-id="51ce7-135">RetainFiles</span></span>|<span data-ttu-id="51ce7-136">Specifica se mantenere i file caricati in Archiviazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="51ce7-136">Specifies whether to retain the files uploaded to Azure Storage.</span></span>
<span data-ttu-id="51ce7-137">CompressionType</span><span class="sxs-lookup"><span data-stu-id="51ce7-137">CompressionType</span></span>|<span data-ttu-id="51ce7-138">Specifica il formato di compressione da usare durante il caricamento dei file in Archiviazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="51ce7-138">Specifies the compression format to use upon uploading files to Azure Storage.</span></span> <span data-ttu-id="51ce7-139">L'origine locale non è interessata.</span><span class="sxs-lookup"><span data-stu-id="51ce7-139">Local source is not affected.</span></span>
<span data-ttu-id="51ce7-140">CompressionLevel</span><span class="sxs-lookup"><span data-stu-id="51ce7-140">CompressionLevel</span></span>|<span data-ttu-id="51ce7-141">Specifica il livello di compressione da usare per il formato di compressione.</span><span class="sxs-lookup"><span data-stu-id="51ce7-141">Specifies the compression level to use for the compression format.</span></span>
<span data-ttu-id="51ce7-142">AzureDwConnection</span><span class="sxs-lookup"><span data-stu-id="51ce7-142">AzureDwConnection</span></span>|<span data-ttu-id="51ce7-143">Specifica una gestione connessione ADO.NET per Azure SQL DW.</span><span class="sxs-lookup"><span data-stu-id="51ce7-143">Specifies an ADO.NET connection manager for Azure SQL DW.</span></span>
<span data-ttu-id="51ce7-144">TableName</span><span class="sxs-lookup"><span data-stu-id="51ce7-144">TableName</span></span>|<span data-ttu-id="51ce7-145">Specifica il nome della tabella di destinazione.</span><span class="sxs-lookup"><span data-stu-id="51ce7-145">Specifies name of the destination table.</span></span> <span data-ttu-id="51ce7-146">Scegliere un nome di tabella esistente o crearne uno nuovo scegliendo **\<New Table ...>** .</span><span class="sxs-lookup"><span data-stu-id="51ce7-146">Either choose an existing table name, or create a new one by choosing **\<New Table ...>**.</span></span>
<span data-ttu-id="51ce7-147">TableDistribution</span><span class="sxs-lookup"><span data-stu-id="51ce7-147">TableDistribution</span></span>|<span data-ttu-id="51ce7-148">Specifica il metodo di distribuzione per la nuova tabella.</span><span class="sxs-lookup"><span data-stu-id="51ce7-148">Specifies the distribution method for new table.</span></span> <span data-ttu-id="51ce7-149">Si applica se per **TableName**viene specificato un nuovo nome tabella.</span><span class="sxs-lookup"><span data-stu-id="51ce7-149">Applies if a new table name is specified for **TableName**.</span></span>
<span data-ttu-id="51ce7-150">HashColumnName</span><span class="sxs-lookup"><span data-stu-id="51ce7-150">HashColumnName</span></span>|<span data-ttu-id="51ce7-151">Specifica la colonna usata per la distribuzione di tabelle hash.</span><span class="sxs-lookup"><span data-stu-id="51ce7-151">Specifies the column used for hash table distribution.</span></span> <span data-ttu-id="51ce7-152">Si applica se **HASH** è specificato per **TableDistribution**.</span><span class="sxs-lookup"><span data-stu-id="51ce7-152">Applies if **HASH** is specified for **TableDistribution**.</span></span>

<span data-ttu-id="51ce7-153">Verrà visualizzata una pagina **Mapping** diversa a seconda che i dati siano caricati in una tabella nuova o in una esistente.</span><span class="sxs-lookup"><span data-stu-id="51ce7-153">You will see a different **Mappings** page depending on whether you are uploading to a new table or to an existing one.</span></span> <span data-ttu-id="51ce7-154">Nel primo caso, configurare le colonne di origine da mappare e i relativi nomi nella tabella di destinazione da creare.</span><span class="sxs-lookup"><span data-stu-id="51ce7-154">In the former case, configure which source columns are to be mapped and their corresponding names in the to-be-created destination table.</span></span> <span data-ttu-id="51ce7-155">Nel secondo caso, configurare le relazioni di mapping tra colonne di origine e di destinazione.</span><span class="sxs-lookup"><span data-stu-id="51ce7-155">In the latter case, configure the mapping relationships between source and destination columns.</span></span>

<span data-ttu-id="51ce7-156">Nella pagina **Colonne** configurare le proprietà del tipo di dati per ogni colonna di origine.</span><span class="sxs-lookup"><span data-stu-id="51ce7-156">On the **Columns** page, configure the data type properties for each source column.</span></span>

<span data-ttu-id="51ce7-157">La pagina **T-SQL** visualizza il linguaggio T-SQL usato per caricare i dati da Archiviazione BLOB di Azure in Azure SQL DW.</span><span class="sxs-lookup"><span data-stu-id="51ce7-157">The **T-SQL** page shows the T-SQL used to load data from Azure Blob Storage to Azure SQL DW.</span></span> <span data-ttu-id="51ce7-158">T-SQL viene generato automaticamente dalle configurazioni in altre pagine e verrà eseguito come parte dell'esecuzione dell'attività.</span><span class="sxs-lookup"><span data-stu-id="51ce7-158">The T-SQL is automatically generated from configurations on the other pages, and will be executed as part of the task execution.</span></span> <span data-ttu-id="51ce7-159">È possibile scegliere di modificare manualmente il linguaggio T-SQL generato per soddisfare esigenze specifiche. Fare quindi clic sul pulsante **Modifica** .</span><span class="sxs-lookup"><span data-stu-id="51ce7-159">You may choose to manually edit the generated T-SQL to meet your particular needs by clicking the **Edit** button.</span></span> <span data-ttu-id="51ce7-160">È possibile ripristinare quello generato automaticamente selezionando poi il pulsante **Reimposta** .</span><span class="sxs-lookup"><span data-stu-id="51ce7-160">You can revert to the automatically generated one later on by clicking the **Reset** button.</span></span>
