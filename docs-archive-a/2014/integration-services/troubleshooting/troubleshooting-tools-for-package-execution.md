---
title: Strumenti per la risoluzione dei problemi relativi all'esecuzione dei pacchetti | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
helpviewer_keywords:
- SQL Server Integration Services packages, troubleshooting
- SSIS packages, troubleshooting
- Integration Services, troubleshooting
- errors [Integration Services], troubleshooting
- packages [Integration Services], troubleshooting
ms.assetid: f18d6ff6-e881-444c-a399-730b52130e7c
author: chugugrace
ms.author: chugu
ms.openlocfilehash: cbb19cddd202ac58cbea5622b4965449c15ba325
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/04/2020
ms.locfileid: "87625452"
---
# <a name="troubleshooting-tools-for-package-execution"></a><span data-ttu-id="fe5ba-102">Risoluzione dei problemi relativi agli strumenti per l'esecuzione del pacchetto</span><span class="sxs-lookup"><span data-stu-id="fe5ba-102">Troubleshooting Tools for Package Execution</span></span>
  [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] <span data-ttu-id="fe5ba-103">include funzionalità e strumenti per la risoluzione dei problemi che possono verificarsi quando si eseguono i pacchetti dopo averli completati e distribuiti.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-103">includes features and tools that you can use to troubleshoot packages when you execute them after they have been completed and deployed.</span></span>  
  
 <span data-ttu-id="fe5ba-104">In fase di progettazione, [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] offre punti di interruzione che consentono di sospendere l'esecuzione dei pacchetti, una finestra di stato e visualizzatori dati che consentono di visualizzare il passaggio dei dati nel flusso di dati.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-104">At design time, [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] provides breakpoints to pause package execution, the Progress window, and data viewers to watch your data as it passes through the data flow.</span></span> <span data-ttu-id="fe5ba-105">Queste funzionalità non sono tuttavia disponibili quando si eseguono i pacchetti distribuiti.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-105">However, these features are not available when you are running packages that have been deployed.</span></span> <span data-ttu-id="fe5ba-106">Le tecniche principali per la risoluzione dei problemi relativi ai pacchetti distribuiti sono le seguenti:</span><span class="sxs-lookup"><span data-stu-id="fe5ba-106">The main techniques for troubleshooting deployed packages are as follows:</span></span>  
  
-   <span data-ttu-id="fe5ba-107">Intercettazione e gestione degli errori dei pacchetti tramite gestori di eventi.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-107">Catch and handle package errors by using event handlers.</span></span>  
  
-   <span data-ttu-id="fe5ba-108">Acquisizione dei dati errati tramite output degli errori.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-108">Capture bad data by using error outputs.</span></span>  
  
-   <span data-ttu-id="fe5ba-109">Registrazione dei passaggi dell'esecuzione dei pacchetti.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-109">Track the steps of package execution by using logging.</span></span>  
  
 <span data-ttu-id="fe5ba-110">Per evitare problemi relativi all'esecuzione di pacchetti, è inoltre possibile utilizzare le tecniche e i suggerimenti seguenti.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-110">You can also use the following tips and techniques to avoid problems with running packages</span></span>  
  
-   <span data-ttu-id="fe5ba-111">**Verifica dell'integrità dei dati tramite transazioni**.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-111">**Help to ensure data integrity by using transactions**.</span></span> <span data-ttu-id="fe5ba-112">Per altre informazioni, vedere [Transazioni di Integration Services](../integration-services-transactions.md).</span><span class="sxs-lookup"><span data-stu-id="fe5ba-112">For more information, see [Integration Services Transactions](../integration-services-transactions.md).</span></span>  
  
-   <span data-ttu-id="fe5ba-113">**Riavvio dei pacchetti dal punto di errore tramite checkpoint**.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-113">**Restart packages from the point of failure by using checkpoints**.</span></span> <span data-ttu-id="fe5ba-114">Per ulteriori informazioni, vedere [Restart Packages by Using Checkpoints](../packages/restart-packages-by-using-checkpoints.md).</span><span class="sxs-lookup"><span data-stu-id="fe5ba-114">For more information, see [Restart Packages by Using Checkpoints](../packages/restart-packages-by-using-checkpoints.md).</span></span>  
  
## <a name="catch-and-handle-package-errors-by-using-event-handlers"></a><span data-ttu-id="fe5ba-115">Intercettazione e gestione degli errori dei pacchetti tramite gestori di eventi</span><span class="sxs-lookup"><span data-stu-id="fe5ba-115">Catch and Handle Package Errors by Using Event Handlers</span></span>  
 <span data-ttu-id="fe5ba-116">I gestori degli eventi consentono di rispondere ai molti eventi generati dal pacchetto e dai relativi oggetti.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-116">You can respond to the many events that are raised by the package and the objects in the package by using event handlers.</span></span>  
  
-   <span data-ttu-id="fe5ba-117">**Creazione di un gestore dell'evento per l'evento OnError**.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-117">**Create an event handler for the OnError event**.</span></span> <span data-ttu-id="fe5ba-118">Nel gestore dell'evento è possibile utilizzare un'attività Invia messaggi per inviare a un amministratore una notifica dell'errore, utilizzare un'attività Script e la logica personalizzata per ottenere informazioni di sistema per la risoluzione dei problemi oppure eliminare le risorse temporanee o l'output incompleto.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-118">In the event handler, you can use a Send Mail task to notify an administrator of the failure, use a Script task and custom logic to obtain system information for troubleshooting, or clean up temporary resources or incomplete output.</span></span> <span data-ttu-id="fe5ba-119">Per altre informazioni, vedere [Gestori eventi di Integration Services &#40;SSIS&#41;](../integration-services-ssis-event-handlers.md).</span><span class="sxs-lookup"><span data-stu-id="fe5ba-119">For more information, see [Integration Services &#40;SSIS&#41; Event Handlers](../integration-services-ssis-event-handlers.md).</span></span>  
  
## <a name="troubleshoot-bad-data-by-using-error-outputs"></a><span data-ttu-id="fe5ba-120">Risoluzione dei problemi relativi ai dati errati tramite output degli errori</span><span class="sxs-lookup"><span data-stu-id="fe5ba-120">Troubleshoot Bad Data by Using Error Outputs</span></span>  
 <span data-ttu-id="fe5ba-121">È possibile utilizzare l'output degli errori disponibile in numerosi componenti flusso di dati per indirizzare le righe contenenti errori a una destinazione distinta, per un'analisi successiva.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-121">You can use the error output available on many data flow components to direct rows that contain errors to a separate destination for later analysis.</span></span>  
  
-   <span data-ttu-id="fe5ba-122">**Acquisizione dei dati errati tramite output degli errori**.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-122">**Capture bad data by using error outputs**.</span></span> <span data-ttu-id="fe5ba-123">È possibile inviare le righe contenenti errori a una destinazione distinta, ad esempio una tabella degli errori o un file di testo.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-123">Send rows that contain errors to a separate destination such as an error table or a text file.</span></span> <span data-ttu-id="fe5ba-124">Tramite l'output degli errori vengono aggiunte automaticamente due colonne numeriche contenenti il numero dell'errore a causa del quale la riga è stata rifiutata e l'ID della colonna in cui si è verificato l'errore.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-124">The error output automatically adds two numeric columns that contain the number of the error that caused the row to be rejected, and the ID of the column in which the error occurred.</span></span> <span data-ttu-id="fe5ba-125">Per altre informazioni, vedere [Gestione degli errori nei dati](../data-flow/error-handling-in-data.md).</span><span class="sxs-lookup"><span data-stu-id="fe5ba-125">For more information, see [Error Handling in Data](../data-flow/error-handling-in-data.md).</span></span>  
  
-   <span data-ttu-id="fe5ba-126">**Aggiunta di informazioni descrittive agli output degli errori**.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-126">**Add friendly information to the error outputs**.</span></span> <span data-ttu-id="fe5ba-127">Per semplificare l'analisi dell'output degli errori, oltre ai due identificatori numerici specificati dall'output stesso è possibile aggiungere informazioni descrittive.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-127">You can make it easier to analyze the error output by adding descriptive information in addition to the two numeric identifiers that are supplied by the error output.</span></span>  
  
     <span data-ttu-id="fe5ba-128">**Aggiungere la descrizione dell'errore**.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-128">**Add the description of the error**.</span></span> <span data-ttu-id="fe5ba-129">Utilizzando un componente script, è possibile analizzare in modo semplice la descrizione dell'errore.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-129">It is easy to look up the error description by using a Script component.</span></span> <span data-ttu-id="fe5ba-130">Per ulteriori informazioni, vedere [miglioramento di un output degli errori per il componente script](../extending-packages-scripting-data-flow-script-component-examples/enhancing-an-error-output-with-the-script-component.md).</span><span class="sxs-lookup"><span data-stu-id="fe5ba-130">For more information, see [Enhancing an Error Output for the Script Component](../extending-packages-scripting-data-flow-script-component-examples/enhancing-an-error-output-with-the-script-component.md).</span></span>  
  
     <span data-ttu-id="fe5ba-131">**Aggiungere il nome della colonna Error**.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-131">**Add the name of the error column**.</span></span> <span data-ttu-id="fe5ba-132">Per informazioni sul nome della colonna corrispondente all'ID di colonna salvato dall'output degli errori non è sufficiente il componente script, ma sono necessarie ulteriori operazioni.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-132">Looking up the column name that corresponds to the column ID saved by the error output cannot easily be done in the Script component and requires additional steps.</span></span> <span data-ttu-id="fe5ba-133">Ogni ID di colonna in un flusso di dati è univoco all'interno dell'attività Flusso di dati ed è persistente nel pacchetto in fase di progettazione.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-133">Each column ID in a data flow is unique within that Data Flow task, and is persisted in the package at design time.</span></span> <span data-ttu-id="fe5ba-134">L'approccio seguente consente di aggiungere il nome di colonna all'output degli errori.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-134">The following approach is one suggestion for adding the column name to the error output.</span></span> 
  
    1.  <span data-ttu-id="fe5ba-135">**Creare una tabella di ricerca di nomi di colonna**.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-135">**Create a lookup table of column names**.</span></span> <span data-ttu-id="fe5ba-136">Creare un'applicazione separata in cui viene utilizzata l'API di [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] per eseguire un'iterazione su ogni pacchetto salvato, ogni flusso di dati nel pacchetto, ogni oggetto nel flusso di dati e ogni input e output nell'oggetto del flusso di dati.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-136">Create a separate application that uses the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] API to iterate over each saved package, each data flow in the package, each object in the data flow, and each input and output in the data flow object.</span></span> <span data-ttu-id="fe5ba-137">Nell'applicazione l'ID di colonna e il nome di ogni colonna devono essere persistenti nella tabella di ricerca, insieme all'ID dell'attività Flusso di dati padre e a quello del pacchetto.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-137">The application should persist the column ID and name of each column to a lookup table, along with the ID of the parent Data Flow task and the ID of the package.</span></span>  
  
    2.  <span data-ttu-id="fe5ba-138">**Aggiungere il nome della colonna all'output**.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-138">**Add the column name to the output**.</span></span> <span data-ttu-id="fe5ba-139">Aggiungere all'output degli errori una trasformazione Ricerca che consenta di eseguire una ricerca del nome della colonna nella tabella di ricerca creata al passaggio precedente.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-139">Add a Lookup transformation to the error output that looks up the column name in the lookup table created in the preceding step.</span></span> <span data-ttu-id="fe5ba-140">Per la ricerca è possibile utilizzare l'ID di colonna nell'output degli errori, l'ID di pacchetto, disponibile nella variabile di sistema System::PackageID, e l'ID dell'attività Flusso di dati, disponibile nella variabile di sistema System::TaskID.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-140">The lookup can use the column ID in the error output, the package ID (available in the system variable System::PackageID), and the ID of the Data Flow task (available in the system variable System::TaskID).</span></span>  
  
## <a name="troubleshoot-package-execution-by-using-operations-reports"></a><span data-ttu-id="fe5ba-141">Risoluzione dei problemi relativi all'esecuzione di pacchetti tramite i report delle operazioni</span><span class="sxs-lookup"><span data-stu-id="fe5ba-141">Troubleshoot Package Execution by Using Operations Reports</span></span>  
 <span data-ttu-id="fe5ba-142">In [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] sono disponibili report delle operazioni standard per facilitare il monitoraggio dei pacchetti di [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] che sono stati distribuiti nel catalogo di [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="fe5ba-142">Standard operations reports are available in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] to help you monitor [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] packages that have been deployed to the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] catalog.</span></span> <span data-ttu-id="fe5ba-143">Con i report relativi ai pacchetti è possibile visualizzare lo stato e la cronologia dei pacchetti e, se necessario, identificare la causa di eventuali errori.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-143">These package reports help you to view package status and history, and, if necessary, identify the cause of failures.</span></span>  
  
 <span data-ttu-id="fe5ba-144">Per altre informazioni, vedere [Risoluzione dei problemi relativi ai report per l'esecuzione del pacchetto](troubleshooting-reports-for-package-execution.md).</span><span class="sxs-lookup"><span data-stu-id="fe5ba-144">For more information, see [Troubleshooting Reports for Package Execution](troubleshooting-reports-for-package-execution.md).</span></span>  
  
## <a name="troubleshoot-package-execution-by-using-ssisdb-views"></a><span data-ttu-id="fe5ba-145">Risoluzione dei problemi relativi all'esecuzione di pacchetti tramite viste SSISDB</span><span class="sxs-lookup"><span data-stu-id="fe5ba-145">Troubleshoot Package Execution by Using SSISDB Views</span></span>  
 <span data-ttu-id="fe5ba-146">Sono disponibili diverse viste di database SSISDB su cui è possibile eseguire una query per monitorare l'esecuzione dei pacchetti e altre informazioni sulle operazioni.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-146">A number of SSISDB database views are available that you can query to monitor package execution and other operations information.</span></span> <span data-ttu-id="fe5ba-147">Per ulteriori informazioni, vedere [monitoraggio per le esecuzioni di pacchetti e altre operazioni](../performance/monitor-running-packages-and-other-operations.md).</span><span class="sxs-lookup"><span data-stu-id="fe5ba-147">For more information, see [Monitoring for Package Executions and Other Operations](../performance/monitor-running-packages-and-other-operations.md).</span></span>  
  
## <a name="troubleshoot-package-execution-by-using-logging"></a><span data-ttu-id="fe5ba-148">Risoluzione dei problemi relativi all'esecuzione di pacchetti tramite la registrazione</span><span class="sxs-lookup"><span data-stu-id="fe5ba-148">Troubleshoot Package Execution by Using Logging</span></span>  
 <span data-ttu-id="fe5ba-149">Abilitando la registrazione è possibile tenere traccia di ciò che avviene durante l'esecuzione dei pacchetti.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-149">You can track much of what occurs in your running packages by enabling logging.</span></span> <span data-ttu-id="fe5ba-150">I provider di log consentono di acquisire informazioni sugli eventi specificati da utilizzare per un'analisi successiva e di salvare tali informazioni in una tabella di database, in un file flat, in un file XML o in un altro formato di output supportato.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-150">Log providers capture information about the specified events for later analysis, and save that information in a database table, a flat file, an XML file, or another supported output format.</span></span>  
  
-   <span data-ttu-id="fe5ba-151">**Abilitazione della registrazione**.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-151">**Enable logging**.</span></span> <span data-ttu-id="fe5ba-152">È possibile ottimizzare l'output di registrazione selezionando solo gli eventi e le informazioni che si desidera acquisire.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-152">You can refine the logging output by selecting only the events and only the items of information that you want to capture.</span></span> <span data-ttu-id="fe5ba-153">Per altre informazioni, vedere [Registrazione di Integration Services &#40;SSIS&#41;](../performance/integration-services-ssis-logging.md)[](../performance/integration-services-ssis-logging.md).</span><span class="sxs-lookup"><span data-stu-id="fe5ba-153">For more information, see [Integration Services &#40;SSIS&#41; Logging](../performance/integration-services-ssis-logging.md) and [Integration Services &#40;SSIS&#41; Logging](../performance/integration-services-ssis-logging.md).</span></span>  
  
-   <span data-ttu-id="fe5ba-154">**Selezionare l'evento Diagnostic del pacchetto per risolvere i problemi relativi al provider.**</span><span class="sxs-lookup"><span data-stu-id="fe5ba-154">**Select the package's Diagnostic event to troubleshoot provider issues.**</span></span> <span data-ttu-id="fe5ba-155">Sono presenti messaggi di registrazione per il supporto della risoluzione dei problemi relativi all'interazione di un pacchetto con origini dati esterne.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-155">There are logging messages that help you troubleshoot a package's interaction with external data sources.</span></span> <span data-ttu-id="fe5ba-156">Per altre informazioni, vedere [Risoluzione dei problemi relativi alla connettività dei pacchetti degli strumenti](troubleshooting-tools-for-package-connectivity.md).</span><span class="sxs-lookup"><span data-stu-id="fe5ba-156">For more information, see [Troubleshooting Tools Package Connectivity](troubleshooting-tools-for-package-connectivity.md).</span></span>  
  
-   <span data-ttu-id="fe5ba-157">**Miglioramento dell'output di registrazione predefinito**.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-157">**Enhance the default logging output**.</span></span> <span data-ttu-id="fe5ba-158">La registrazione comporta in genere l'accodamento di righe alla destinazione di registrazione ogni volta che viene eseguito un pacchetto.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-158">Logging typically appends rows to the logging destination each time that a package is run.</span></span> <span data-ttu-id="fe5ba-159">Sebbene ogni riga dell'output di registrazione identifichi il pacchetto in base al nome e all'identificatore univoco e identifichi inoltre l'esecuzione del pacchetto tramite un identificatore ExecutionID univoco, una grande quantità di output di registrazione in un unico elenco può essere difficile da analizzare.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-159">Although each row of logging output identifies the package by its name and unique identifier, and also identifies the execution of the package by a unique ExecutionID, the large quantity of logging output in a single list can become difficult to analyze.</span></span>  
  
     <span data-ttu-id="fe5ba-160">L'approccio seguente consente di migliorare l'output di registrazione predefinito e semplificare la generazione di report:</span><span class="sxs-lookup"><span data-stu-id="fe5ba-160">The following approach is one suggestion for enhancing the default logging output and making it easier to generate reports:</span></span>  
  
    1.  <span data-ttu-id="fe5ba-161">**Creare una tabella padre per la registrazione di ogni esecuzione di un pacchetto**.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-161">**Create a parent table that logs each execution of a package**.</span></span> <span data-ttu-id="fe5ba-162">In questa tabella padre è inclusa una singola riga per ogni esecuzione di un pacchetto e viene utilizzato l'identificatore ExecutionID per il collegamento ai record figlio nella tabella di registrazione di [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="fe5ba-162">This parent table has only a single row for each execution of a package, and uses the ExecutionID to link to the child records in the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] logging table.</span></span> <span data-ttu-id="fe5ba-163">È possibile utilizzare un'attività Esegui SQL all'inizio di ogni pacchetto per creare questa nuova riga e registrare l'ora di inizio.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-163">You can use an Execute SQL task at the beginning of each package to create this new row and to record the start time.</span></span> <span data-ttu-id="fe5ba-164">È quindi possibile utilizzare un'altra attività Esegui SQL alla fine del pacchetto per aggiornare la riga con ora di fine, durata e stato.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-164">Then you can use another Execute SQL task at the end of the package to update the row with the end time, duration, and status.</span></span>  
  
    2.  <span data-ttu-id="fe5ba-165">**Aggiungere informazioni di controllo al flusso di dati**.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-165">**Add auditing information to the data flow**.</span></span> <span data-ttu-id="fe5ba-166">È possibile utilizzare la trasformazione Controllo per aggiungere alle righe del flusso di dati informazioni sull'esecuzione del pacchetto che ha creato o modificato ogni riga.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-166">You can use the Audit transformation to add information to rows in the data flow about the package execution that created or modified each row.</span></span> <span data-ttu-id="fe5ba-167">La trasformazione Controllo rende disponibili nove informazioni, incluse quelle relative a PackageName ed ExecutionInstanceGUID.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-167">The Audit transformation makes nine pieces of information available, including the PackageName and ExecutionInstanceGUID.</span></span> <span data-ttu-id="fe5ba-168">Per altre informazioni, vedere [Trasformazione Controllo](../data-flow/transformations/audit-transformation.md).</span><span class="sxs-lookup"><span data-stu-id="fe5ba-168">For more information, see [Audit Transformation](../data-flow/transformations/audit-transformation.md).</span></span> <span data-ttu-id="fe5ba-169">Se si desidera includere in ogni riga informazioni personalizzate a scopo di controllo, è possibile aggiungere le informazioni desiderate alle righe del flusso di dati utilizzando una trasformazione Colonna derivata.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-169">If you have custom information that you would also like to include in each row for auditing purposes, you can add this information to rows in the data flow by using a Derived Column transformation.</span></span> <span data-ttu-id="fe5ba-170">Per altre informazioni, vedere [Trasformazione Colonna derivata](../data-flow/transformations/derived-column-transformation.md).</span><span class="sxs-lookup"><span data-stu-id="fe5ba-170">For more information, see [Derived Column Transformation](../data-flow/transformations/derived-column-transformation.md).</span></span>  
  
    3.  <span data-ttu-id="fe5ba-171">**Valutare l'opportunità di acquisire i dati sul conteggio delle righe**.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-171">**Consider capturing row count data**.</span></span> <span data-ttu-id="fe5ba-172">Prendere in considerazione la creazione di una tabella separata per le informazioni sul conteggio delle righe, in cui ogni istanza di esecuzione di un pacchetto è identificata tramite il relativo ExecutionID.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-172">Consider creating a separate table for row count information, where each instance of package execution is identified by its ExecutionID.</span></span> <span data-ttu-id="fe5ba-173">Utilizzare la trasformazione Conteggio righe per salvare il conteggio delle righe in una serie di variabili in punti critici del flusso di dati.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-173">Use the Row Count transformation to save the row count into a series of variables at critical points in the data flow.</span></span> <span data-ttu-id="fe5ba-174">Al termine del flusso di dati, utilizzare un'attività Esegui SQL per inserire le serie di valori in una riga della tabella, per operazioni successive di analisi e creazione di report.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-174">After the data flow ends, use an Execute SQL task to insert the series of values into a row in the table for later analysis and reporting.</span></span>  
  
     <span data-ttu-id="fe5ba-175">Per altre informazioni su questo approccio, vedere la sezione relativa a registrazione e controllo ETL nel white paper [!INCLUDE[msCoName](../../includes/msconame-md.md)][Project REAL: Business Intelligence ETL Design Practices](https://www.microsoft.com/download/details.aspx?id=14582) (Project REAL: Indicazioni di progettazione ETL per Business Intelligence).</span><span class="sxs-lookup"><span data-stu-id="fe5ba-175">For more information about this approach, see the section, "ETL Auditing and Logging," in the [!INCLUDE[msCoName](../../includes/msconame-md.md)] white paper, [Project REAL: Business Intelligence ETL Design Practices](https://www.microsoft.com/download/details.aspx?id=14582).</span></span>  
  
## <a name="troubleshoot-package-execution-by-using-debug-dump-files"></a><span data-ttu-id="fe5ba-176">Risoluzione dei problemi relativi all'esecuzione di pacchetti tramite i file di dump del debug</span><span class="sxs-lookup"><span data-stu-id="fe5ba-176">Troubleshoot Package Execution by Using Debug Dump Files</span></span>  
 <span data-ttu-id="fe5ba-177">In [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)]è possibile creare file di dump del debug contenenti informazioni sull'esecuzione di un pacchetto.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-177">In [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)], you can create debug dump files that provide information about the execution of a package.</span></span> <span data-ttu-id="fe5ba-178">Per altre informazioni, vedere [Generazione di file di dump per l'esecuzione del pacchetto](generating-dump-files-for-package-execution.md).</span><span class="sxs-lookup"><span data-stu-id="fe5ba-178">For more information, see [Generating Dump Files for Package Execution](generating-dump-files-for-package-execution.md).</span></span>  
  
## <a name="troubleshoot-run-time-validation-issues"></a><span data-ttu-id="fe5ba-179">Risoluzione dei problemi relativi alla convalida in fase di esecuzione</span><span class="sxs-lookup"><span data-stu-id="fe5ba-179">Troubleshoot Run-time Validation Issues</span></span>  
 <span data-ttu-id="fe5ba-180">A volte potrebbe non essere possibile connettersi alle origini dati o convalidare parte dei pacchetti prima di aver eseguito alcune attività nei pacchetti.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-180">Sometimes you might not be able to connect to your data sources, or portions of your package cannot be validated, until prior tasks in the package have executed.</span></span> [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] <span data-ttu-id="fe5ba-181">include le funzionalità seguenti per permettere di evitare gli errori di convalida che altrimenti si verificherebbero da queste condizioni:</span><span class="sxs-lookup"><span data-stu-id="fe5ba-181">includes the following features to help you avoid the validation errors that would otherwise result from these conditions:</span></span>  
  
-   <span data-ttu-id="fe5ba-182">**Configurazione della proprietà DelayValidation per gli elementi del pacchetto non validi quando il pacchetto viene caricato**.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-182">**Configure the DelayValidation property on package elements that are not valid when the package is loaded**.</span></span> <span data-ttu-id="fe5ba-183">È possibile impostare la proprietà `DelayValidation` su `True` per gli elementi del pacchetto la cui configurazione non è valida, per impedire errori di convalida quando il pacchetto viene caricato.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-183">You can set `DelayValidation` to `True` on package elements whose configuration is not valid, to prevent validation errors when the package is loaded.</span></span> <span data-ttu-id="fe5ba-184">Potrebbe ad esempio essere presente un'attività Flusso di dati in cui viene utilizzata una tabella di destinazione che non esiste fino a quando non viene creata in fase di esecuzione da un'attività Esegui SQL.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-184">For example, you may have a Data Flow task that uses a destination table that does not exist until an Execute SQL task creates the table at run time.</span></span> <span data-ttu-id="fe5ba-185">La proprietà `DelayValidation` può essere abilitata a livello di pacchetto oppure delle singole attività e dei singoli contenitori del pacchetto.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-185">The `DelayValidation` property can be enabled at the package level, or at the level of the individual tasks and containers that the package includes.</span></span>  
  
     <span data-ttu-id="fe5ba-186">La proprietà `DelayValidation` può essere impostata in un'attività Flusso di dati ma non nei singoli componenti flusso di dati.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-186">The `DelayValidation` property can be set on a Data Flow task, but not on individual data flow components.</span></span> <span data-ttu-id="fe5ba-187">È possibile ottenere un risultato simile impostando la proprietà <xref:Microsoft.SqlServer.Dts.Pipeline.Wrapper.IDTSComponentMetaData100.ValidateExternalMetadata%2A> dei singoli componenti flusso di dati su `false`.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-187">You can achieve a similar effect by setting the <xref:Microsoft.SqlServer.Dts.Pipeline.Wrapper.IDTSComponentMetaData100.ValidateExternalMetadata%2A> property of individual data flow components to `false`.</span></span> <span data-ttu-id="fe5ba-188">Quando, tuttavia, il valore di questa proprietà è impostato su `false`, il componente non riconosce le modifiche ai metadati delle origini dei dati esterne.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-188">However, when the value of this property is `false`, the component is not aware of changes to the metadata of external data sources.</span></span> <span data-ttu-id="fe5ba-189">Impostando la proprietà <xref:Microsoft.SqlServer.Dts.Pipeline.Wrapper.IDTSComponentMetaData100.ValidateExternalMetadata%2A> su `true`, è possibile evitare problemi causati da blocchi nel database, in particolare quando nel pacchetto vengono utilizzate transazioni.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-189">When set to `true`, the <xref:Microsoft.SqlServer.Dts.Pipeline.Wrapper.IDTSComponentMetaData100.ValidateExternalMetadata%2A> property can help to avoid blocking issues caused by locking in the database, especially when the package is using transactions.</span></span>  
  
## <a name="troubleshoot-run-time-permissions-issues"></a><span data-ttu-id="fe5ba-190">Risoluzione dei problemi relativi alle autorizzazioni in fase di esecuzione</span><span class="sxs-lookup"><span data-stu-id="fe5ba-190">Troubleshoot Run-time Permissions Issues</span></span>  
 <span data-ttu-id="fe5ba-191">Se si verificano errori quando si cerca di eseguire pacchetti distribuiti tramite [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , è possibile che gli account usati non dispongano delle autorizzazioni necessarie.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-191">If you encounter errors when trying to run deployed packages by using [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent, the accounts used by Agent might not have the required permissions.</span></span> <span data-ttu-id="fe5ba-192">Per informazioni su come risolvere i problemi legati all'esecuzione di pacchetti dai processi di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent, vedere [Un pacchetto SSIS non viene eseguito quando viene chiamato da un passaggio di processo di SQL Server Agent](https://support.microsoft.com/kb/918760).</span><span class="sxs-lookup"><span data-stu-id="fe5ba-192">For information on how to troubleshoot packages that are run from [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent jobs, see [An SSIS package does not run when you call the SSIS package from a SQL Server Agent job step](https://support.microsoft.com/kb/918760).</span></span> <span data-ttu-id="fe5ba-193">Per altre informazioni sull'esecuzione di pacchetti da [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent, vedere [Processi di SQL Server Agent per i pacchetti](../packages/sql-server-agent-jobs-for-packages.md).</span><span class="sxs-lookup"><span data-stu-id="fe5ba-193">For more information on how to run packages from [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent jobs, see [SQL Server Agent Jobs for Packages](../packages/sql-server-agent-jobs-for-packages.md).</span></span>  
  
 <span data-ttu-id="fe5ba-194">Per connettersi a origini dati Excel o Access, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent richiede un account con autorizzazione di lettura, scrittura, creazione ed eliminazione dei file temporanei nella cartella specificata dalle variabili di ambiente TEMP e TMP.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-194">To connect to Excel or Access data sources, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent requires an account that has permission to read, write, create, and delete temporary files in the folder that is specified by the TEMP and TMP environment variables.</span></span>  
  
## <a name="troubleshoot-64-bit-issues"></a><span data-ttu-id="fe5ba-195">Risoluzione dei problemi relativi ai componenti a 64 bit</span><span class="sxs-lookup"><span data-stu-id="fe5ba-195">Troubleshoot 64-bit Issues</span></span>  
  
-   <span data-ttu-id="fe5ba-196">**Alcuni provider di dati non sono disponibili nella piattaforma a 64 bit**.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-196">**Some data providers are not available on the 64-bit platform**.</span></span> <span data-ttu-id="fe5ba-197">In particolare, il provider OLE DB [!INCLUDE[msCoName](../../includes/msconame-md.md)] Jet, necessario per la connessione alle origini dati Excel o Access, non è disponibile in una versione a 64 bit.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-197">In particular, the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Jet OLE DB Provider that is required to connect to Excel or Access data sources is not available in a 64-bit version.</span></span>  
  
## <a name="troubleshoot-errors-without-a-description"></a><span data-ttu-id="fe5ba-198">Risoluzione dei problemi relativi agli errori senza descrizione</span><span class="sxs-lookup"><span data-stu-id="fe5ba-198">Troubleshoot Errors without a Description</span></span>  
 <span data-ttu-id="fe5ba-199">Se viene generato un errore di [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] senza descrizione, è possibile individuare la descrizione in [Guida di riferimento ai messaggi e agli errori di Integration Services](../integration-services-error-and-message-reference.md) cercando l'errore in base al numero corrispondente.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-199">If you encounter an [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] error that does not have an accompanying description, you can locate the description in [Integration Services Error and Message Reference](../integration-services-error-and-message-reference.md) by looking up the error by its number.</span></span> <span data-ttu-id="fe5ba-200">Al momento, nell'elenco non sono incluse informazioni per la risoluzione dei problemi.</span><span class="sxs-lookup"><span data-stu-id="fe5ba-200">The list does not include troubleshooting information at this time.</span></span>  
  
## <a name="related-tasks"></a><span data-ttu-id="fe5ba-201">Attività correlate</span><span class="sxs-lookup"><span data-stu-id="fe5ba-201">Related Tasks</span></span>  
 [<span data-ttu-id="fe5ba-202">Configurazione di un output degli errori in un componente del flusso di dati</span><span class="sxs-lookup"><span data-stu-id="fe5ba-202">Configure an Error Output in a Data Flow Component</span></span>](../configure-an-error-output-in-a-data-flow-component.md)  
  
  
